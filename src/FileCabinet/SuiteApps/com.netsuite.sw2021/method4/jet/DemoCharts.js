/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(n){var A=this||(0,eval)("this"),w=A.document,R=A.navigator,v=A.jQuery,H=A.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(n){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('knockout',["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(A.ko={})})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);
d=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.pc(a):this.gb(a,c):this.qc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.qd,e=d[r];e.ra||(this.Qb&&this.mb[c]?(d.uc(c,a,this.mb[c]),this.mb[c]=null,--this.Qb):e.I[c]||d.uc(c,a,e.J?{da:a}:d.$c(a)),a.Ja&&a.gd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.L=function(a,c,d){a[c]=d};a.version="3.5.1";a.b("version",
a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var l=b[c].match(q)||[];a.a.D(d.match(q),function(b){a.a.Na(l,b,e)});b[c]=l.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},k={};m[R&&/Firefox\/2/i.test(R.userAgent)?
"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)k[b[c]]=a});var l={propertychange:!0},p=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:n}(),q=/\S+/g,t;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
D:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return n},Pa:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},wc:function(b){var c=[];b&&a.a.D(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,
b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)d.push(b.call(c,a[e],e));return d},jb:function(a,b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},Nb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Na:function(b,c,d){var e=a.a.A(a.a.bc(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,Ab:g?d:c,P:b,Ga:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=
b.call(c,a[e],e,a));return d},Tb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Yb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.oa(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.oa(k):k)}return l},va:function(b,c){a.a.Tb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Xc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],
l=e.parentNode,k=0,f=c.length;k<f;k++)l.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Zc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},Db:function(a){return null===a||a===n?"":a.trim?
a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},vd:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Sb:function(b){return a.a.vd(b,b.ownerDocument.documentElement)},kd:function(b){return!!a.a.Lb(b,a.a.Sb)},R:function(a){return a&&
a.tagName&&a.tagName.toLowerCase()},Ac:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Ac(b),c)},Gc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},B:function(b,c,d){var e=a.a.Ac(d);d=l[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,
k);a.a.K.za(b,function(){b.detachEvent(f,k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else t||(t="function"==typeof v(b).on?"on":"bind"),v(b)[t](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.R(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==
typeof b.dispatchEvent)d=w.createEvent(k[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");else v(b).trigger(c)},f:function(b){return a.O(b)?b():b},bc:function(b){return a.O(b)?b.v():b},Eb:function(b,c,d){var l;c&&("object"===typeof b.classList?
(l=b.classList[d?"add":"remove"],a.a.D(c.match(q),function(a){l.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Bb:function(b,c){var d=a.a.f(c);if(null===d||d===n)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.va(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Ad(b)},Yc:function(a,b){a.name=b;if(7>=p)try{var c=a.name.replace(/[&<>'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name='"+
c+"'/>"),!1)}catch(d){}},Ad:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},wd:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Pd:function(b,c){b=a.a.f(b);c=a.a.f(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Zd:6===p,$d:7===p,W:p,Lc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),
e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},Nd:function(b){return"string"==typeof b&&(b=a.a.Db(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},hc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.f(b),c,d)},Od:function(c,d,e){e=e||{};var l=e.params||{},k=e.includeFields||this.Jc,f=c;if("object"==typeof c&&"form"===a.a.R(c))for(var f=c.action,h=k.length-1;0<=h;h--)for(var g=a.a.Lc(c,k[h]),m=g.length-1;0<=m;m--)l[g[m].name]=g[m].value;d=a.a.f(d);var p=w.createElement("form");p.style.display="none";p.action=f;p.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.hc(a.a.f(d[q])),p.appendChild(c);b(l,function(a,b){var c=w.createElement("input");
c.type="hidden";c.name=a;c.value=b;p.appendChild(c)});w.body.appendChild(p);e.submitter?e.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.D);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.jb);a.b("utils.arrayGetDistinctValues",a.a.wc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.Nb);a.b("utils.arrayRemoveItem",a.a.Pa);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",
a.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Jc);a.b("utils.getFormFields",a.a.Lc);a.b("utils.objectMap",a.a.Ga);a.b("utils.peekObservable",a.a.bc);a.b("utils.postJson",a.a.Od);a.b("utils.parseJson",a.a.Nd);a.b("utils.registerEventHandler",a.a.B);a.b("utils.stringifyJson",a.a.hc);a.b("utils.range",a.a.Pd);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.f);a.b("utils.objectForEach",a.a.P);a.b("utils.addOrRemoveItem",
a.a.Na);a.b("utils.setTextContent",a.a.Bb);a.b("unwrap",a.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return n;f=a[c]="ko"+b++;d[f]=
{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==n))&&(a[b]=c)},Ub:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.K=new function(){function b(b,c){var d=a.a.g.get(b,e);
d===n&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);a.a.g.clear(c);a.a.K.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],l,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=l=b[f]),b[f]!==l)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},yb:function(c,
d){var f=b(c,!1);f&&(a.a.Pa(f,d),0==f.length&&a.a.g.set(c,e,n))},oa:function(b){a.u.G(function(){f[b.nodeType]&&(c(b),g[b.nodeType]&&d(b.getElementsByTagName("*")))});return b},removeNode:function(b){a.oa(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.oa=a.a.K.oa;a.removeNode=a.a.K.removeNode;a.b("cleanNode",a.oa);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.K);a.b("utils.domNodeDisposal.addDisposeCallback",
a.a.K.za);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.K.yb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ua=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var l=e[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;
l.parentNode&&l.parentNode.removeChild(l)}}else{(e=d)||(e=w);var l=e.parentWindow||e.defaultView||A,p=a.a.Db(c).toLowerCase(),q=e.createElement("div"),t;t=(p=p.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&f[p[1]]||b;p=t[0];t="ignored<div>"+t[1]+c+t[2]+"</div>";"function"==typeof l.innerShiv?q.appendChild(l.innerShiv(t)):(g&&e.body.appendChild(q),q.innerHTML=t,g&&q.parentNode.removeChild(q));for(;p--;)q=q.lastChild;e=a.a.la(q.lastChild.childNodes)}return e};a.a.Md=function(b,c){var d=a.a.ua(b,
c);return d.length&&d[0].parentElement||a.a.Yb(d)};a.a.fc=function(b,c){a.a.Tb(b);c=a.a.f(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ua(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ua);a.b("utils.setHtml",a.a.fc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Uc(c.nodeValue);null!=f&&e.push({ud:c,Kd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],
e)}var c={};return{Xb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},bd:function(a,b){var f=c[a];if(f===n)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},cd:function(c,e){var f=
[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].ud,k=[m];e&&a.a.Nb(k,e);a.aa.bd(f[g].Kd,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Uc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Xb);a.b("memoization.unmemoize",a.aa.bd);a.b("memoization.parseMemoText",a.aa.Uc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.cd);a.na=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=
++c){h=f;a.a.Gc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=f}try{d()}catch(p){a.a.Gc(p)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;A.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);
b=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,zb:function(b){f||a.na.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Sd:b}}();a.b("tasks",a.na);a.b("tasks.schedule",a.na.zb);a.b("tasks.runEarly",a.na.Sd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},
c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.ub(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(c){var e,f=!1;return function(){if(!f){a.na.cancel(e);e=a.na.zb(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.ic=function(b,c,d){this.da=b;this.lc=c;this.mc=d;this.Ib=!1;this.fb=this.Jb=null;a.L(this,"dispose",this.s);a.L(this,"disposeWhenNodeIsRemoved",this.l)};a.ic.prototype.s=function(){this.Ib||(this.fb&&a.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};a.ic.prototype.l=function(b){this.Jb=b;a.a.K.za(b,this.fb=this.s.bind(this))};
a.T=function(){a.a.Ab(this,D);D.qb(this)};var D={qb:function(a){a.U={change:[]};a.sc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.ic(e,c?b.bind(c):b,function(){a.a.Pa(e.U[d],f);e.hb&&e.hb(d)});e.Qa&&e.Qa(d);e.U[d]||(e.U[d]=[]);e.U[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.ed||this.U[c].slice(0);try{a.u.xc();for(var e=0,f;f=d[e];++e)f.Ib||f.lc(b)}finally{a.u.end()}}},ob:function(){return this.sc},
Dd:function(a){return this.ob()!==a},Gb:function(){++this.sc},ub:function(b){var c=this,d=a.O(c),e,f,g,h,m;c.gb||(c.gb=c.notifySubscribers,c.notifySubscribers=Z);var k=b(function(){c.Ja=!1;d&&h===c&&(h=c.nc?c.nc():c());var a=f||m&&c.sb(g,h);m=f=e=!1;a&&c.gb(g=h)});c.qc=function(a,b){b&&c.Ja||(m=!b);c.ed=c.U.change.slice(0);c.Ja=e=!0;h=a;k()};c.pc=function(a){e||(g=a,c.gb(a,"beforeChange"))};c.rc=function(){m=!0};c.gd=function(){c.sb(g,c.v(!0))&&(f=!0)}},Wa:function(a){return this.U[a]&&this.U[a].length},
Bd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var c=0;a.a.P(this.U,function(a,b){"dirty"!==a&&(c+=b.length)});return c},sb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.P(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.L(D,"init",D.qb);a.L(D,"subscribe",D.subscribe);a.L(D,"extend",D.extend);a.L(D,"getSubscriptionsCount",D.Bd);a.a.Ba&&a.a.setPrototypeOf(D,
Function.prototype);a.T.fn=D;a.Qc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.T);a.b("isSubscribable",a.Qc);a.S=a.u=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{xc:b,end:c,cc:function(b){if(e){if(!a.Qc(b))throw Error("Only subscribable things can act as dependencies");e.od.call(e.pd,b,b.fd||(b.fd=++f))}},G:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},qa:function(){if(e)return e.o.qa()},
Va:function(){if(e)return e.o.Va()},Ya:function(){if(e)return e.Ya},o:function(){if(e)return e.o}}}();a.b("computedContext",a.S);a.b("computedContext.getDependenciesCount",a.S.qa);a.b("computedContext.getDependencies",a.S.Va);a.b("computedContext.isInitial",a.S.Ya);a.b("computedContext.registerDependency",a.S.cc);a.b("ignoreDependencies",a.Yd=a.u.G);var I=a.a.Da("_latestValue");a.ta=function(b){function c(){if(0<arguments.length)return c.sb(c[I],arguments[0])&&(c.ya(),c[I]=arguments[0],c.xa()),this;
a.u.cc(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.T.fn);a.T.fn.qb(c);a.a.Ab(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,v:function(){return this[I]},xa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},ya:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.T.fn);var G=a.ta.Ma="__ko_proto__";F[G]=a.ta;a.O=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");
return!!b};a.Za=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Nc)};a.b("observable",a.ta);a.b("isObservable",a.O);a.b("isWriteableObservable",a.Za);a.b("isWritableObservable",a.Za);a.b("observable.fn",F);a.L(F,"peek",F.v);a.L(F,"valueHasMutated",F.xa);a.L(F,"valueWillMutate",F.ya);a.Ha=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.ta(b);a.a.Ab(b,
a.Ha.fn);return b.extend({trackArrayChanges:!0})};a.Ha.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.O(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.ya();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.xa();return d},removeAll:function(b){if(b===n){var c=this.v(),d=c.slice(0);this.ya();c.splice(0,c.length);this.xa();return d}return b?this.remove(function(c){return 0<=
a.a.A(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.O(b)?function(a){return a===b}:b;this.ya();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.xa()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ya(),this.v()[d]=c,this.xa())},sorted:function(a){var c=this().slice(0);
return a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ha.fn,a.ta.fn);a.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ha.fn[b]=function(){var a=this.v();this.ya();this.zc(a,b,arguments);var d=a[b].apply(a,arguments);this.xa();return d===a?this:d}});a.a.D(["slice"],function(b){a.Ha.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Pc=function(b){return a.O(b)&&"function"==typeof b.remove&&"function"==
typeof b.push};a.b("observableArray",a.Ha);a.b("isObservableArray",a.Pc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(m){var d=[].concat(b.v()||[]),e;if(b.Wa("arrayChange")){if(!f||1<m)f=a.a.Pb(k,d,b.Ob);e=f}k=d;f=null;m=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,h=b.subscribe(function(){++m},null,"spectate"),k=[].concat(b.v()||[]),f=null,g=b.subscribe(c))}b.Ob={};c&&"object"==typeof c&&a.a.extend(b.Ob,c);b.Ob.sparse=!0;if(!b.zc){var e=!1,f=null,g,h,m=0,
k,l=b.Qa,p=b.hb;b.Qa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.hb=function(a){p&&p.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(g&&g.s(),h&&h.s(),h=g=null,e=!1,k=n)};b.zc=function(b,c,d){function l(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(e&&!m){var k=[],p=b.length,g=d.length,h=0;switch(c){case "push":h=p;case "unshift":for(c=0;c<g;c++)l("added",d[c],h+c);break;case "pop":h=p-1;case "shift":p&&l("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?p+d[0]:
d[0]),p);for(var p=1===g?p:Math.min(c+(d[1]||0),p),g=c+g-2,h=Math.max(p,g),U=[],L=[],n=2;c<h;++c,++n)c<p&&L.push(l("deleted",b[c],c)),c<g&&U.push(l("added",d[n],c));a.a.Kc(L,U);break;default:return}f=k}}}};var r=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}g.ra||
a.u.cc(e);(g.ka||g.J&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:d.read,nb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Rb:null,I:{},V:0,Ic:null};e[r]=g;e.Nc="function"===typeof f;a.a.Ba||a.a.extend(e,a.T.fn);a.T.fn.qb(e);a.a.Ab(e,C);d.pure?(g.wb=!0,g.J=!0,a.a.extend(e,da)):
d.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.jc=!0,g.l.nodeType||(g.l=null));g.J||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.K.za(g.l,g.Rb=function(){e.s()});return e};var C={equalityComparer:K,qa:function(){return this[r].V},Va:function(){var b=[];a.a.P(this[r].I,function(a,d){b[d.Ka]=d.da});return b},Vb:function(b){if(!this[r].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Vb&&a.Vb(b)})},uc:function(a,c,d){if(this[r].wb&&
c===this)throw Error("A 'pure' computed must not be called recursively");this[r].I[a]=d;d.Ka=this[r].V++;d.La=c.ob()},Xa:function(){var a,c,d=this[r].I;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ia&&c.da.Ja||c.da.Dd(c.La)))return!0},Jd:function(){this.Ia&&!this[r].rb&&this.Ia(!1)},ja:function(){var a=this[r];return a.ka||0<a.V},Rd:function(){this.Ja?this[r].ka&&(this[r].sa=!0):this.Hc()},$c:function(a){if(a.Hb){var c=a.subscribe(this.Jd,this,"dirty"),d=a.subscribe(this.Rd,
this);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Hc,this)},Hc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[r].Ic),this[r].Ic=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var c=this[r],d=c.Sa,e=!1;if(!c.rb&&!c.ra){if(c.l&&!a.a.Sb(c.l)||d&&d()){if(!c.jc){this.s();return}}else c.jc=!1;c.rb=!0;try{e=this.zd(b)}finally{c.rb=!1}return e}},zd:function(b){var c=this[r],d=!1,e=c.wb?n:!c.V,d={qd:this,mb:c.I,Qb:c.V};a.u.xc({pd:d,
od:ba,o:this,Ya:e});c.I={};c.V=0;var f=this.yd(c,d);c.V?d=this.sb(c.X,f):(this.s(),d=!0);d&&(c.J?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.J&&b&&this.notifySubscribers(c.X),this.rc&&this.rc());e&&this.notifySubscribers(c.X,"awake");return d},yd:function(b,c){try{var d=b.Wc;return b.nb?d.call(b.nb):d()}finally{a.u.end(),c.Qb&&!b.J&&a.a.P(c.mb,aa),b.sa=b.ka=!1}},v:function(a){var c=this[r];(c.ka&&(a||!c.V)||c.J&&this.Xa())&&this.ha();return c.X},
ub:function(b){a.T.fn.ub.call(this,b);this.nc=function(){this[r].J||(this[r].sa?this.ha():this[r].ka=!1);return this[r].X};this.Ia=function(a){this.pc(this[r].X);this[r].ka=!0;a&&(this[r].sa=!0);this.qc(this,!a)}},s:function(){var b=this[r];!b.J&&b.I&&a.a.P(b.I,function(a,b){b.s&&b.s()});b.l&&b.Rb&&a.a.K.yb(b.l,b.Rb);b.I=n;b.V=0;b.ra=!0;b.sa=!1;b.ka=!1;b.J=!1;b.l=n;b.Sa=n;b.Wc=n;this.Nc||(b.nb=n)}},da={Qa:function(b){var c=this,d=c[r];if(!d.ra&&d.J&&"change"==b){d.J=!1;if(d.sa||c.Xa())d.I=null,d.V=
0,c.ha()&&c.Gb();else{var e=[];a.a.P(d.I,function(a,b){e[b.Ka]=a});a.a.D(e,function(a,b){var e=d.I[a],m=c.$c(e.da);m.Ka=b;m.La=e.La;d.I[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.ra||c.notifySubscribers(d.X,"awake")}},hb:function(b){var c=this[r];c.ra||"change"!=b||this.Wa("change")||(a.a.P(c.I,function(a,b){b.s&&(c.I[a]={da:b.da,Ka:b.Ka,La:b.La},b.s())}),c.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var b=this[r];b.J&&(b.sa||this.Xa())&&this.ha();return a.T.fn.ob.call(this)}},ea={Qa:function(a){"change"!=
a&&"beforeChange"!=a||this.v()}};a.a.Ba&&a.a.setPrototypeOf(C,a.T.fn);var N=a.ta.Ma;C[N]=a.o;a.Oc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Fd=function(b){return a.Oc(b)&&b[r]&&b[r].wb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Oc);a.b("isPureComputed",a.Fd);a.b("computed.fn",C);a.L(C,"peek",C.v);a.L(C,"dispose",C.s);a.L(C,"isActive",C.ja);a.L(C,"getDependenciesCount",C.qa);a.L(C,"getDependencies",C.Va);a.xb=function(b,c){if("function"===typeof b)return a.o(b,
c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.xb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==
n?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.ad=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.O(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ad(b);return a.a.hc(b,c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.a.A(this.keys,
b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:n}}})();a.b("toJS",a.ad);a.b("toJSON",a.toJSON);a.Wd=function(b,c,d){function e(c){var e=a.xb(b,d).extend({ma:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.v());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Wd);(function(){a.w={M:function(b){switch(a.a.R(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?
a.a.g.get(b,a.c.options.$b):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex]):n;default:return b.value}},cb:function(b,c,d){switch(a.a.R(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.c.options.$b,n),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.c.options.$b,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===
typeof c?c:"");break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.w.M(b.options[f]),h==c||""===h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.w);a.b("selectExtensions.readValue",a.w.M);a.b("selectExtensions.writeValue",a.w.cb);a.m=function(){function b(b){b=a.a.Db(b);123===b.charCodeAt(0)&&(b=b.slice(1,
-1));b+="\n,";var c=[],d=b.match(e),p,q=[],h=0;if(1<d.length){for(var x=0,B;B=d[x];++x){var u=B.charCodeAt(0);if(44===u){if(0>=h){c.push(p&&q.length?{key:p,value:q.join("")}:{unknown:p||q.join("")});p=h=0;q=[];continue}}else if(58===u){if(!h&&!p&&1===q.length){p=q.pop();continue}}else if(47===u&&1<B.length&&(47===B.charCodeAt(1)||42===B.charCodeAt(1)))continue;else 47===u&&x&&1<B.length?(u=d[x-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),x=-1,B="/"):40===u||123===u||91===u?++h:
41===u||125===u||93===u?--h:p||q.length||34!==u&&39!==u||(B=B.slice(1,-1));q.push(B)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
h={};return{Ra:[],wa:h,ac:b,vb:function(e,f){function l(b,e){var f;if(!x){var k=a.getBindingHandler(b);if(k&&k.preprocess&&!(e=k.preprocess(e,b,l)))return;if(k=h[b])f=e,0<=a.a.A(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&q.push("'"+("string"==typeof h[b]?h[b]:b)+"':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");p.push("'"+b+"':"+e)}f=f||{};var p=[],q=[],g=f.valueAccessors,x=f.bindingParams,B="string"===typeof e?b(e):e;a.a.D(B,function(a){l(a.key||a.unknown,
a.value)});q.length&&l("_ko_property_writers","{"+q.join(",")+" }");return p.join(",")},Id:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},eb:function(b,c,d,e,f){if(b&&a.O(b))!a.Za(b)||f&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.ac);a.b("expressionRewriting.preProcessBindings",a.m.vb);a.b("expressionRewriting._twoWayBindings",
a.m.wa);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.vb);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,h=1,g=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,k,!0),h--,0===h))return g;g.push(f);b(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?
0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0},k="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Tb(c)},va:function(c,d){if(b(c)){a.h.Ea(c);for(var e=
c.nextSibling,f=0,k=d.length;f<k;f++)e.parentNode.insertBefore(d[f],e)}else a.a.va(c,d)},Vc:function(a,c){var d;b(a)?(d=a.nextSibling,a=a.parentNode):d=a.firstChild;d?c!==d&&a.insertBefore(c,d):a.appendChild(c)},Wb:function(c,d,e){e?(e=e.nextSibling,b(c)&&(c=c.parentNode),e?d!==e&&c.insertBefore(d,e):c.appendChild(d)):a.h.Vc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+
a);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,k))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Cd:b,Vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Sc:function(d){if(m[a.a.R(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var k;k=f.firstChild;var h=null;if(k){do if(h)h.push(k);else if(b(k)){var g=e(k,!0);g?k=
g:h=[k]}else c(k)&&(h=[k]);while(k=k.nextSibling)}if(k=h)for(h=f.nextSibling,g=0;g<k.length;g++)h?d.insertBefore(k[g],h):d.appendChild(k[g])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Wb);a.b("virtualElements.prepend",a.h.Vc);a.b("virtualElements.setDomNodeChildren",a.h.va);(function(){a.ga=function(){this.nd={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=
b.getAttribute("data-bind")||a.j.getComponentNameForNode(b);case 8:return a.h.Cd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.j.tc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.j.tc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Vd(b);default:return null}},
parseBindingsString:function(b,c,d,e){try{var f=this.nd,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,k="with($context){with($data||{}){return{"+a.m.vb(b,e)+"}}}";m=new Function("$context","$element",k);h=f[g]=m}return h(c,d)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+l.message,l;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,z))&&b.N;c&&(b.N=null,c.Tc())}function c(c,d,e){this.node=c;this.yc=
d;this.kb=[];this.H=!1;d.N||a.a.K.za(c,b);e&&e.N&&(e.N.kb.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ga(a.u.G(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ga(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,l=f.preprocessNode;if(l){for(;e=d;)d=a.h.nextSibling(e),l.call(f,e);
d=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),k(b,e)}a.i.ma(c,a.i.H)}function k(b,c){var d=b,e=1===c.nodeType;e&&a.h.Sc(c);if(e||a.ga.instance.nodeHasBindings(c))d=p(c,null,b).bindingContextForDescendants;d&&!u[a.a.R(c)]&&m(d,c)}function l(b){var c=[],d={},e=[];a.a.P(b,function ca(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.a.D(k.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
ca(c)}}),e.length--),c.push({key:f,Mc:k}));d[f]=!0}});return c}function p(b,c,d){var f=a.a.g.Ub(b,z,{}),k=f.hd;if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.hd=!0}k||(f.context=d);f.Zb||(f.Zb={});var g;if(c&&"function"!==typeof c)g=c;else{var p=a.ga.instance,q=p.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):q.call(p,b,d)){if(d[t])d[t]();if(d[B])d[B]()}return g},null,{l:b});g&&m.ja()||(m=null)}var x=d,u;if(g){var J=function(){return a.a.Ga(m?m():
g,e)},r=m?function(a){return function(){return e(m()[a])}}:function(a){return g[a]};J.get=function(a){return g[a]&&e(r(a))};J.has=function(a){return a in g};a.i.H in g&&a.i.subscribe(b,a.i.H,function(){var c=(0,g[a.i.H])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Ec(d[0]))}});a.i.pa in g&&(x=a.i.Cb(b,d),a.i.subscribe(b,a.i.pa,function(){var c=(0,g[a.i.pa])();c&&a.h.firstChild(b)&&c(b)}));f=l(g);a.a.D(f,function(c){var d=c.Mc.init,e=c.Mc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding '"+
f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.u.G(function(){var a=d(b,r(f),J,x.$data,x);if(a&&a.controlsDescendantBindings){if(u!==n)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,r(f),J,x.$data,x)},null,{l:b})}catch(k){throw k.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+k.message,
k;}})}f=u===n;return{shouldBindDescendants:f,bindingContextForDescendants:f&&x}}function q(b,c){return b&&b instanceof a.fa?b:new a.fa(b,n,n,c)}var t=a.a.Da("_subscribable"),x=a.a.Da("_ancestorBindingInfo"),B=a.a.Da("_dataDependency");a.c={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.c[b]};var J={};a.fa=function(b,c,d,e,f){function k(){var b=p?h():h,f=a.a.f(b);c?(a.a.extend(l,c),x in c&&(l[x]=c[x])):(l.$parents=[],l.$root=f,l.ko=a);l[t]=q;g?f=l.$data:(l.$rawData=
b,l.$data=f);d&&(l[d]=f);e&&e(l,c,f);if(c&&c[t]&&!a.S.o().Vb(c[t]))c[t]();m&&(l[B]=m);return l.$data}var l=this,g=b===J,h=g?n:b,p="function"==typeof h&&!a.O(h),q,m=f&&f.dataDependency;f&&f.exportDependencies?k():(q=a.xb(k),q.v(),q.ja()?q.equalityComparer=null:l[t]=n)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.O(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,
this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var z=a.a.g.Z();c.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};c.prototype.sd=function(b){a.a.Pa(this.kb,b);!this.kb.length&&this.H&&this.Cc()};c.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=
null,a.a.K.yb(this.node,b),a.i.ma(this.node,a.i.pa),this.Tc())};a.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(b,c,d,e,f){var k=a.a.g.Ub(b,z,{});k.Fa||(k.Fa=new a.T);f&&f.notifyImmediately&&k.Zb[c]&&a.u.G(d,e,[b]);return k.Fa.subscribe(d,e,c)},ma:function(b,c){var d=a.a.g.get(b,z);if(d&&(d.Zb[c]=!0,d.Fa&&d.Fa.notifySubscribers(b,c),c==a.i.H))if(d.N)d.N.Cc();else if(d.N===n&&d.Fa&&d.Fa.Wa(a.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");
},Cb:function(b,d){var e=a.a.g.Ub(b,z,{});e.N||(e.N=new c(b,e,d[x]));return d[x]==e?d:d.extend(function(a){a[x]=e})}};a.Td=function(b){return(b=a.a.g.get(b,z))&&b.context};a.ib=function(b,c,d){1===b.nodeType&&a.h.Sc(b);return p(b,c,q(d))};a.ld=function(b,c,d){d=q(d);return a.ib(b,g(c,d,b),d)};a.Oa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(q(a),b)};a.vc=function(a,b,c){!v&&A.jQuery&&(v=A.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");
}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(a,c),b)};a.Dc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?n:a.Td(b)};a.Ec=function(b){return(b=a.Dc(b))?b.$data:n};a.b("bindingHandlers",a.c);a.b("bindingEvent",a.i);a.b("bindingEvent.subscribe",a.i.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.i.Cb);a.b("applyBindings",a.vc);a.b("applyBindingsToDescendants",a.Oa);
a.b("applyBindingAccessorsToNode",a.ib);a.b("applyBindingsToNode",a.ld);a.b("contextFor",a.Dc);a.b("dataFor",a.Ec)})();(function(b){function c(c,e){var k=Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,l;k?k.subscribe(e):(k=f[c]=new a.T,k.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Gd:e};delete f[c];l||e?k.notifySubscribers(b):a.na.zb(function(){k.notifySubscribers(b)})}),l=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,
c)}):b(null,null)})}function e(c,d,f,l){l||(l=a.j.loaders.slice(0));var g=l.shift();if(g){var q=g[c];if(q){var t=!1;if(q.apply(g,d.concat(function(a){t?f(null):null!==a?f(a):e(c,d,f,l)}))!==b&&(t=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,l)}else f(null)}var f={},g={};a.j={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Gd?a.u.G(function(){e(f.definition)}):
a.na.zb(function(){e(f.definition)}):c(d,e)},Bc:function(a){delete g[a]},oc:e};a.j.loaders=[];a.b("components",a.j);a.b("components.get",a.j.get);a.b("components.clearCachedDefinition",a.j.Bc)})();(function(){function b(b,c,d,e){function g(){0===--B&&e(h)}var h={},B=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.j.oc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.j.oc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});
else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.R(b)){case "script":return a.a.ua(b.text);case "textarea":return a.a.ua(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return A.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?
T||A.require?(T||A.require)([b.require],function(a){a&&"object"===typeof a&&a.Xd&&a["default"]&&(a=a["default"]);c(a)}):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var h={};a.j.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.j.tb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.j.tb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.j.unregister=function(b){delete h[b];
a.j.Bc(b)};a.j.Fc={getConfig:function(b,c){c(a.j.tb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ua(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,A.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+
c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.j.register);a.b("components.isRegistered",a.j.tb);a.b("components.unregister",a.j.unregister);a.b("components.defaultLoader",a.j.Fc);a.j.loaders.push(a.j.Fc);a.j.dd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ga(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ga(f,
function(c){var e=c.v();return c.ja()?a.o({read:function(){return a.a.f(c())},write:a.Za(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.j.getComponentNameForNode=function(b){var c=a.a.R(b);if(a.j.tb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.j.tc=function(c,e,f,g){if(1===e.nodeType){var h=a.j.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.j.register=function(a){return function(b){return a.apply(this,arguments)}}(a.j.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.j.dd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.Ca(c);a.h.va(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,
b,c):b}var d=0;a.c.component={init:function(e,f,g,h,m){function k(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);q&&q.s();p=l=q=null}var l,p,q,t=a.a.la(a.h.childNodes(e));a.h.Ea(e);a.a.K.za(e,k);a.o(function(){var g=a.a.f(f()),h,u;"string"===typeof g?h=g:(h=a.a.f(g.name),u=a.a.f(g.params));if(!h)throw Error("No component name specified");var n=a.i.Cb(e,m),z=p=++d;a.j.get(h,function(d){if(p===z){k();if(!d)throw Error("Unknown component '"+h+"'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:t});
d=n.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=t}});f&&f.koDescendantsComplete&&(q=a.i.subscribe(e,a.i.pa,f.koDescendantsComplete,f));l=f;a.Oa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.c.attr={update:function(b,c){var d=a.a.f(c())||{};a.a.P(d,function(c,d){d=a.a.f(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===
d||d===n;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,d));"name"===c&&a.a.Yc(b,h?"":d)})}};(function(){a.c.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.S.Ya()&&(e||!m&&!a.S.qa())){var k=a.u.G(c);if(l){var q=p?k.v():k,z=t;t=f;z!==f?e&&(a.a.Na(q,f,!0),a.a.Na(q,z,!1)):a.a.Na(q,f,e);p&&a.Za(k)&&k(q)}else h&&(f===n?f=e:e||(f=n)),a.m.eb(k,
d,"checked",f,!0)}}function f(){var d=a.a.f(c()),e=g();l?(b.checked=0<=a.a.A(d,e),t=e):b.checked=h&&e===n?!!d:g()===d}var g=a.xb(function(){if(d.has("checkedValue"))return a.a.f(d.get("checkedValue"));if(q)return d.has("value")?a.a.f(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var k=c(),l=h&&a.a.f(k)instanceof Array,p=!(l&&k.push&&k.splice),q=m||l,t=l?g():n;m&&!b.name&&a.c.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.B(b,"click",e);a.o(f,null,{l:b});
k=n}}};a.m.wa.checked=!0;a.c.checkedValue={update:function(b,c){b.value=a.a.f(c())}}})();a.c["class"]={update:function(b,c){var d=a.a.Db(a.a.f(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,d,!0)}};a.c.css={update:function(b,c){var d=a.a.f(c());null!==d&&"object"==typeof d?a.a.P(d,function(c,d){d=a.a.f(d);a.a.Eb(b,c,d)}):a.c["class"].update(b,c)}};a.c.enable={update:function(b,c){var d=a.a.f(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.c.disable=
{update:function(b,c){a.c.enable.update(b,function(){return!a.a.f(c())})}};a.c.event={init:function(b,c,d,e,f){var g=c()||{};a.a.P(g,function(g){"string"==typeof g&&a.a.B(b,g,function(b){var k,l=c()[g];if(l){try{var p=a.a.la(arguments);e=f.$data;p.unshift(e);k=l.apply(e,p)}finally{!0!==k&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.c.foreach={Rc:function(b){return function(){var c=b(),d=a.a.bc(c);
if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Ma};a.a.f(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Ma}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.Rc(c))},update:function(b,c,d,e,f){return a.c.template.update(b,a.c.foreach.Rc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=
!0;a.c.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.m.eb(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.B(b,"focus",f);a.a.B(b,"focusin",f);a.a.B(b,"blur",g);a.a.B(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.f(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===
d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.u.G(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.wa.hasfocus=!0;a.c.hasFocus=a.c.hasfocus;a.m.wa.hasFocus="hasfocus";a.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.fc(b,c())}};(function(){function b(b,d,e){a.c[b]={init:function(b,c,h,m,k){var l,p,q={},t,x,n;if(d){m=h.get("as");var u=h.get("noChildContext");n=!(m&&u);q={as:m,noChildContext:u,exportDependencies:n}}x=(t=
"render"==h.get("completeOn"))||h.has(a.i.pa);a.o(function(){var h=a.a.f(c()),m=!e!==!h,u=!p,r;if(n||m!==l){x&&(k=a.i.Cb(b,k));if(m){if(!d||n)q.dataDependency=a.S.o();r=d?k.createChildContext("function"==typeof h?h:c,q):a.S.qa()?k.extend(null,q):k}u&&a.S.qa()&&(p=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.va(b,a.a.Ca(p)),a.Oa(r,b)):(a.h.Ea(b),t||a.i.ma(b,a.i.H));l=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.c.let={init:function(b,
c,d,e,f){c=f.extend(c);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.c.options={init:function(b){if("select"!==a.a.R(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.jb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(x&&l)a.i.ma(b,a.i.H);else if(t.length){var e=
0<=a.a.A(t,a.w.M(d[0]));a.a.Zc(d[0],e);x&&!e&&a.u.G(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,k=a.a.f(c()),l=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,t=[];l||(h?t=a.a.Mb(e(),a.w.M):0<=b.selectedIndex&&t.push(a.w.M(b.options[b.selectedIndex])));k&&("undefined"==typeof k.length&&(k=[k]),q=a.a.jb(k,function(b){return p||b===n||null===b||!a.a.f(b._destroy)}),d.has("optionsCaption")&&(k=a.a.f(d.get("optionsCaption")),null!==
k&&k!==n&&q.unshift(Q)));var x=!1;c.beforeRemove=function(a){b.removeChild(a)};k=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(k=function(b,c){g(0,c);a.u.G(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:n])});a.a.ec(b,q,function(c,e,g){g.length&&(t=!l&&g[0].selected?[a.w.M(g[0])]:[],x=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Bb(e,d.get("optionsCaption")),a.w.cb(e,n)):(g=f(c,d.get("optionsValue"),c),a.w.cb(e,a.a.f(g)),c=f(c,d.get("optionsText"),g),
a.a.Bb(e,c));return[e]},c,k);if(!l){var B;h?B=t.length&&e().length<t.length:B=t.length&&0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex;B&&a.u.G(a.a.Fb,null,[b,"change"])}(l||a.S.Ya())&&a.i.ma(b,a.i.H);a.a.wd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.c.options.$b=a.a.g.Z();a.c.selectedOptions={init:function(b,c,d){function e(){var e=c(),f=[];a.a.D(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.w.M(b))});a.m.eb(e,d,"selectedOptions",
f)}function f(){var d=a.a.f(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.D(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.w.M(b));b.selected!=c&&a.a.Zc(b,c)});b.scrollTop=e}if("select"!=a.a.R(b))throw Error("selectedOptions binding applies only to SELECT elements");var g;a.i.subscribe(b,a.i.H,function(){g?e():(a.a.B(b,"change",e),g=a.o(f,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}};a.m.wa.selectedOptions=!0;a.c.style={update:function(b,c){var d=a.a.f(c()||
{});a.a.P(d,function(c,d){d=a.a.f(d);if(null===d||d===n||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=d+"px")}})}};a.c.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.B(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)}})}};a.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Bb(b,c())}};a.h.ea.text=!0;(function(){if(A&&A.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=A.navigator.userAgent,d,e,f,g,h;(d=A.opera&&A.opera.version&&parseInt(A.opera.version()))||(h=b(c.match(/Edge\/([^ ]+)$/)))||b(c.match(/Chrome\/([^ ]+)/))||(e=b(c.match(/Version\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||
(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),k=a.a.g.Z(),l=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,k))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.B(d,"selectionchange",l));a.a.g.set(b,k,c)};a.c.textInput={init:function(b,c,k){function l(c,d){a.a.B(b,c,d)}function m(){var d=a.a.f(c());if(null===d||d===n)d="";L!==n&&d===L?a.a.setTimeout(m,4):b.value!==d&&(y=!0,b.value=d,y=!1,v=b.value)}function r(){w||(L=b.value,w=a.a.setTimeout(z,
4))}function z(){clearTimeout(w);L=w=n;var d=b.value;v!==d&&(v=d,a.m.eb(c(),k,"textInput",d))}var v=b.value,w,L,A=9==a.a.W?r:z,y=!1;g&&l("keypress",z);11>g&&l("propertychange",function(a){y||"value"!==a.propertyName||A(a)});8==g&&(l("keyup",z),l("keydown",z));p&&(p(b,A),l("dragend",r));(!g||9<=g)&&l("input",A);5>e&&"textarea"===a.a.R(b)?(l("keydown",r),l("paste",r),l("cut",r)):11>d?l("keydown",r):4>f?(l("DOMAutoComplete",z),l("dragdrop",z),l("drop",z)):h&&"number"===b.type&&l("keydown",r);l("change",
z);l("blur",z);a.o(m,null,{l:b})}};a.m.wa.textInput=!0;a.c.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.c.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.c.uniqueName.rd;a.a.Yc(b,d)}}};a.c.uniqueName.rd=0;a.c.using={init:function(b,c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.c.value={init:function(b,c,d){var e=a.a.R(b),f="input"==
e;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=[],h=d.get("valueUpdate"),m=!1,k=null;h&&("string"==typeof h?g=[h]:g=a.a.wc(h),a.a.Pa(g,"change"));var l=function(){k=null;m=!1;var e=c(),f=a.w.M(b);a.m.eb(e,d,"value",f)};!a.a.W||!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.B(b,"propertychange",function(){m=!0}),a.a.B(b,"focus",function(){m=!1}),a.a.B(b,"blur",function(){m&&l()}));a.a.D(g,function(c){var d=l;a.a.Ud(c,"after")&&
(d=function(){k=a.w.M(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.B(b,c,d)});var p;p=f&&"file"==b.type?function(){var d=a.a.f(c());null===d||d===n||""===d?b.value="":a.u.G(l)}:function(){var f=a.a.f(c()),g=a.w.M(b);if(null!==k&&f===k)a.a.setTimeout(p,0);else if(f!==g||g===n)"select"===e?(g=d.get("valueAllowUnset"),a.w.cb(b,f,g),g||f===a.w.M(b)||a.u.G(l)):a.w.cb(b,f)};if("select"===e){var q;a.i.subscribe(b,a.i.H,function(){q?d.get("valueAllowUnset")?p():l():(a.a.B(b,"change",l),q=a.o(p,null,{l:b}))},
null,{notifyImmediately:!0})}else a.a.B(b,"change",l),a.o(p,null,{l:b})}else a.ib(b,{checkedValue:c})},update:function(){}};a.m.wa.value=!0;a.c.visible={update:function(b,c){var d=a.a.f(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.c.hidden={update:function(b,c){a.c.visible.update(b,function(){return!a.a.f(c())})}};(function(b){a.c[b]={init:function(c,d,e,f,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");
a.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.C.F(d)}if(1==b.nodeType||8==b.nodeType)return new a.C.ia(b);throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=
function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.kc=function(){function b(b,c,d,h){b=a.m.ac(b);for(var m=a.m.Ra,k=0;k<b.length;k++){var l=b[k].key;if(Object.prototype.hasOwnProperty.call(m,
l)){var p=m[l];if("function"===typeof p){if(l=p(b[k].value))throw Error(l);}else if(!p)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.vb(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kc.Ld(b,c)},d)},Ld:function(a,f){return a.replace(c,function(a,c,d,e,l){return b(l,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},md:function(b,c){return a.aa.Xb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.ib(m,b,h)})}}}();a.b("__tr_ambtns",a.kc.md);(function(){a.C={};a.C.F=function(b){if(this.F=b){var c=
a.a.R(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.C.F.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[b];var c=arguments[0];"innerHTML"===b?a.a.fc(this.F,c):this.F[b]=c};var b=a.a.g.Z()+"_";a.C.F.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.F,b+c);a.a.g.set(this.F,b+c,arguments[1])};var c=a.a.g.Z();a.C.F.prototype.nodes=function(){var b=this.F;
if(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.lb||(3===this.ab?b.content:4===this.ab?b:n);if(!f||e.jd){var g=this.text();g&&g!==e.bb&&(f=a.a.Md(g,b.ownerDocument),a.a.g.set(b,c,{lb:f,bb:g,jd:!0}))}return f}e=arguments[0];this.ab!==n&&this.text("");a.a.g.set(b,c,{lb:e})};a.C.ia=function(a){this.F=a};a.C.ia.prototype=new a.C.F;a.C.ia.prototype.constructor=a.C.ia;a.C.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.F,c)||{};b.bb===n&&b.lb&&(b.bb=b.lb.innerHTML);return b.bb}a.a.g.set(this.F,
c,{bb:arguments[0]})};a.b("templateSources",a.C);a.b("templateSources.domElement",a.C.F);a.b("templateSources.anonymousTemplate",a.C.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):
(c.push(e,f),a.a.Ua(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.vc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.cd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var n=(b&&d(b)||f||{}).ownerDocument,B=m.templateEngine||g;a.kc.xd(f,B,n);f=B.renderTemplate(f,h,m,n);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(e){case "replaceChildren":a.h.va(b,
f);n=!0;break;case "replaceNode":a.a.Xc(b,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}n&&(c(f,h),m.afterRender&&a.u.G(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.i.ma(b,a.i.H));return f}function f(b,c,d){return a.O(b)?b():"function"===typeof b?b(c,d):b}var g;a.gc=function(b){if(b!=n&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.dc=function(b,c,h,m,t){h=h||{};if((h.templateEngine||g)==
n)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(m){var x=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(m,t,n,g,h);"replaceNode"==t&&(m=g,x=d(m))},null,{Sa:function(){return!x||!a.a.Sb(x)},l:x&&"replaceNode"==t?x.parentNode:x})}return a.aa.Xb(function(d){a.dc(b,c,h,d,"replaceNode")})};a.Qd=function(b,d,g,h,m){function x(b,c){a.u.G(a.a.ec,null,[h,b,u,g,r,c]);a.i.ma(h,a.i.H)}
function r(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:z,noChildContext:g.noChildContext,extend:function(a){a.$index=c;z&&(a[z+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,z=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Pc(d))return a.$(function(){var b=a.a.f(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.jb(b,function(b){return b===n||null===b||
!a.a.f(b._destroy)}));x(b)},null,{l:h});x(d.v());var A=d.subscribe(function(a){x(d(),a)},null,"arrayChange");A.l(h);return A};var h=a.a.g.Z(),m=a.a.g.Z();a.c.template={init:function(b,c){var d=a.a.f(c());if("string"==typeof d||"name"in d)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.O(d))throw Error('The "nodes" option must be a plain, non-observable array.');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Yb(d),a.a.g.set(e,m,!0));(new a.C.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=
a.a.Yb(d),(new a.C.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.f(g);d=!0;e=null;"string"==typeof c?c={}:(g="name"in c?c.name:b,"if"in c&&(d=a.a.f(c["if"])),d&&"ifnot"in c&&(d=!a.a.f(c.ifnot)),d&&!g&&(d=!1));"foreach"in c?e=a.Qd(g,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),
e=a.dc(g,d,c,b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?n:f)}};a.m.Ra.template=function(b){b=a.m.ac(b);return 1==b.length&&b[0].unknown||a.m.Id(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.gc);a.b("renderTemplate",a.dc);a.a.Kc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===
m.value){h.moved=m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Pb=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,k=[],l,p=b.length,q,n=d.length,r=n-p||1,v=p+n+1,u,w,z;for(l=0;l<=p;l++)for(w=u,k.push(u=[]),z=h(n,l+r),q=m(0,l-1);q<=z;q++)u[q]=q?l?b[l-1]===d[q-1]?w[q-1]:h(w[q]||v,u[q-1]||v)+1:q+1:l+1;h=[];m=[];r=[];l=p;for(q=n;l||q;)n=k[l][q]-1,q&&n===k[l][q-1]?m.push(h[h.length]={status:e,value:d[--q],index:q}):l&&n===k[l-1][q]?r.push(h[h.length]={status:f,value:b[--l],index:l}):
(--q,--l,g.sparse||h.push({status:"retained",value:d[q]}));a.a.Kc(r,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Pb);(function(){function b(b,c,d,h,m){var k=[],l=a.$(function(){var l=c(d,m,a.a.Ua(k,b))||[];0<k.length&&(a.a.Xc(k,l),h&&a.u.G(h,null,[d,l,m]));k.length=0;a.a.Nb(k,l)},null,{l:b,Sa:function(){return!a.a.kd(k)}});
return{Y:k,$:l.ja()?l:n}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.ec=function(e,f,g,h,m,k){function l(b){y={Aa:b,pb:a.ta(w++)};v.push(y);r||F.push(y)}function p(b){y=t[b];w!==y.pb.v()&&D.push(y);y.pb(w++);a.a.Ua(y.Y,e);v.push(y)}function q(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.D(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var t=a.a.g.get(e,c),r=!t,v=[],u=0,w=0,z=[],A=[],C=[],D=[],F=[],y,I=0;if(r)a.a.D(f,l);else{if(!k||t&&t._countWaitingForRemove){var E=
a.a.Mb(t,function(a){return a.Aa});k=a.a.Pb(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=k[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)p(u++);H===n&&(y=t[u],y.$&&(y.$.s(),y.$=n),a.a.Ua(y.Y,e).length&&(h.beforeRemove&&(v.push(y),I++,y.Aa===d?y=null:C.push(y)),y&&z.push.apply(z,y.Y)));u++;break;case "added":for(;w<K;)p(u++);H!==n?(A.push(v.length),p(H)):l(G.value)}for(;w<f.length;)p(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);q(h.beforeMove,D);a.a.D(z,
h.beforeRemove?a.oa:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(A.length)for(;(E=A.shift())!=n;){y=v[E];for(M=n;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M)}for(E=0;y=v[E];E++){y.Y||a.a.extend(y,b(e,g,y.Aa,m,y.pb));for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M);!y.Ed&&m&&(m(y.Aa,y.Y,y.pb),y.Ed=!0,M=y.Y[y.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();q(h.beforeRemove,C);for(E=0;E<C.length;++E)C[E].Aa=d;q(h.afterMove,D);
q(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.ec);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ua(b,e)};a.ba.Ma=new a.ba;a.gc(a.ba.Ma);a.b("nativeTemplateEngine",a.ba);(function(){a.$a=function(){var a=this.Hd=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();
this.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.$a.prototype=new a.ca;a.$a.prototype.constructor=a.$a;var b=new a.$a;0<b.Hd&&a.gc(b);a.b("jqueryTmplTemplateEngine",a.$a)})()})})();})();

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojlogger',["exports"],function(o){"use strict";const n={LEVEL_NONE:0,LEVEL_ERROR:1,LEVEL_WARN:2,LEVEL_INFO:3,LEVEL_LOG:4,_METHOD_ERROR:"error",_METHOD_WARN:"warn",_METHOD_INFO:"info",_METHOD_LOG:"log"};n._defaultOptions={level:n.LEVEL_ERROR,writer:null},n._options=n._defaultOptions,n.error=function(o,t){n._write(n.LEVEL_ERROR,n._METHOD_ERROR,arguments)},n.info=function(o,t){n._write(n.LEVEL_INFO,n._METHOD_INFO,arguments)},n.warn=function(o,t){n._write(n.LEVEL_WARN,n._METHOD_WARN,arguments)},n.log=function(o,t){n._write(n.LEVEL_LOG,n._METHOD_LOG,arguments)},n.option=function(o,t){var i,E,e={};if(0===arguments.length){for(E=Object.keys(n._options),i=0;i<E.length;i++)e[E[i]]=n._options[E[i]];return e}if("string"==typeof o&&void 0===t)return void 0===n._options[o]?null:n._options[o];if("string"==typeof o)n._options[o]=t;else{var _=o;for(E=Object.keys(_),i=0;i<E.length;i++)n.option(E[i],_[E[i]])}},n._write=function(o,t,i){if(!(n.option("level")<o)){var E=n._getWriter();if(null!=E){if(1===i.length&&i[0]instanceof Function){var e=i[0]();i=[e]}E[t]&&E[t].apply?E[t].apply(E,i):E[t]&&(E[t]=Function.prototype.bind.call(E[t],E),n._write(o,t,i))}}},n._getWriter=function(){var o=null;return n.option("writer")?o=n.option("writer"):"undefined"!=typeof window&&void 0!==window.console&&(o=window.console),o};const t=n.info,i=n.error,E=n.warn,e=n.log,_=n.option,r=n.LEVEL_ERROR,L=n.LEVEL_INFO,O=n.LEVEL_LOG,l=n.LEVEL_NONE,f=n.LEVEL_WARN;o.LEVEL_ERROR=r,o.LEVEL_INFO=L,o.LEVEL_LOG=O,o.LEVEL_NONE=l,o.LEVEL_WARN=f,o.error=i,o.info=t,o.log=e,o.option=_,o.warn=E,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=ojlogger.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojcore-base',["ojs/ojlogger"],function(e){"use strict";let t={};"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self);var n=t.oj;const r={version:"11.0.2",revision:"2021-08-10_15-12-43",noConflict:function(){t.oj=n},_registerLegacyNamespaceProp:function(e,t){this[e]=t}};t.oj=r;const o={};r._registerLegacyNamespaceProp("StringUtils",o),o._TRIM_ALL_RE=/^\s*|\s*$/g,o.isEmpty=function(e){return null===e||0===o.trim(e).length},o.isEmptyOrUndefined=function(e){return!(void 0!==e&&!o.isEmpty(e))},o.isString=function(e){return null!==e&&("string"==typeof e||e instanceof String)},o.trim=function(e){return o.isString(e)?e.replace(o._TRIM_ALL_RE,""):e},o.hashCode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t};const i=function(){};r._registerLegacyNamespaceProp("AgentUtils",i),i.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",EDGE:"edge",EDGE_CHROMIUM:"edge-chromium",UNKNOWN:"unknown"},i.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",BLINK:"blink",EDGE_HTML:"edgehtml",UNKNOWN:"unknown"},i.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",WINDOWSPHONE:"WindowsPhone",LINUX:"Linux"},i.DEVICETYPE={PHONE:"phone",TABLET:"tablet",OTHERS:"others"},i.getAgentInfo=function(e){o.isEmptyOrUndefined(e)&&(e=navigator.userAgent),e=e.toLowerCase();var t=o.hashCode(e),n=i._currAgentInfo;if(n&&n.hashCode===t)return{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode};var r=i.OS.UNKNOWN,s=i.BROWSER.UNKNOWN,a=0,c=i.DEVICETYPE.OTHERS,u=i.ENGINE.UNKNOWN,l=0;return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||"MacIntel"===navigator.platform&&void 0!==navigator.standalone?r=i.OS.IOS:e.indexOf("mac")>-1?r=i.OS.MAC:e.indexOf("sunos")>-1?r=i.OS.SOLARIS:e.indexOf("android")>-1?r=i.OS.ANDROID:e.indexOf("linux")>-1?r=i.OS.LINUX:e.indexOf("windows phone")>-1?r=i.OS.WINDOWSPHONE:e.indexOf("win")>-1&&(r=i.OS.WINDOWS),r===i.OS.ANDROID?c=e.indexOf("mobile")>-1?i.DEVICETYPE.PHONE:i.DEVICETYPE.TABLET:r===i.OS.IOS&&(c=e.indexOf("iphone")>-1?i.DEVICETYPE.PHONE:i.DEVICETYPE.TABLET),e.indexOf("msie")>-1?(s=i.BROWSER.IE,a=i._parseFloatVersion(e,/msie (\d+[.]\d+)/),e.indexOf("trident")&&(u=i.ENGINE.TRIDENT,l=i._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("trident")>-1?(s=i.BROWSER.IE,a=i._parseFloatVersion(e,/rv:(\d+[.]\d+)/),e.indexOf("trident")&&(u=i.ENGINE.TRIDENT,l=i._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("edge")>-1?(s=i.BROWSER.EDGE,a=l=i._parseFloatVersion(e,/edge\/(\d+[.]\d+)/),u=i.ENGINE.EDGE_HTML):e.indexOf("edg")>-1?(s=i.BROWSER.EDGE_CHROMIUM,a=i._parseFloatVersion(e,/edg\/(\d+[.]\d+)/),u=i.ENGINE.BLINK,l=a):e.indexOf("chrome")>-1?(s=i.BROWSER.CHROME,(a=i._parseFloatVersion(e,/chrome\/(\d+[.]\d+)/))>=28?(u=i.ENGINE.BLINK,l=a):(u=i.ENGINE.WEBKIT,l=i._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/))):e.indexOf("safari")>-1?(s=i.BROWSER.SAFARI,a=i._parseFloatVersion(e,/version\/(\d+[.]\d+)/),u=i.ENGINE.WEBKIT,l=i._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/)):e.indexOf("firefox")>-1&&(s=i.BROWSER.FIREFOX,a=i._parseFloatVersion(e,/rv:(\d+[.]\d+)/),u=i.ENGINE.GECKO,l=i._parseFloatVersion(e,/gecko\/(\d+)/)),i._currAgentInfo=n={hashCode:t,os:r,browser:s,browserVersion:a,deviceType:c,engine:u,engineVersion:l},{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode}},i._parseFloatVersion=function(e,t){var n=e.match(t);if(n){var r=n[1];if(r)return parseFloat(r)}return 0};const s={};r._registerLegacyNamespaceProp("Assert",s);var a="DEBUG";const c="' doesn't match prototype ";s.forceDebug=function(){s[a]=!0},s.clearDebug=function(){s[a]=!1},s.isDebug=function(){return!0===s[a]},s.assert=function(e,t){if(s[a]&&!e){var n=t||"";if(arguments.length>2){n+="(";for(var r=2;r<arguments.length;r+=1)n+=arguments[r];n+=")"}s.assertionFailed(n,1)}},s.failedInAbstractFunction=function(){s[a]&&s.assertionFailed("Abstract function called",1)},s.assertPrototype=function(e,t,n){if(s[a]){var r=t.prototype;if(null!=e)s.assertType(t,"function",null,1,!1),Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+c+r,1,n);else s.assertionFailed("null object doesn't match prototype "+r,1,n)}},s.assertPrototypeOrNull=function(e,t,n){if(s[a]&&null!=e){s.assertType(t,"function",null,1,!1);var r=t.prototype;Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+c+r,1,n)}},s.assertPrototypes=function(e,t,n,r){if(s[a]){var o=t.prototype,i=n.prototype,u=Object.prototype.isPrototypeOf;u.call(o,e)||u.call(i,e)||s.assertionFailed("object '"+e+c+o+" or "+i,1,r)}},s.assertDomNodeOrNull=function(e,t){s[a]&&e&&void 0===e.nodeType&&s.assertionFailed(e+" is not a DOM Node",t+1)},s.assertDomNode=function(e,t){s[a]&&(e&&void 0!==e.nodeType||s.assertionFailed(e+" is not a DOM Node",t+1))},s.assertDomElement=function(e,t){s[a]&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertDomElementOrNull=function(e,t){s[a]&&null!=e&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertType=function(e,t,n,r,o){if(s[a]&&!(null==e&&o||typeof e===t)){var i=e+" is not of type "+t;n&&(i=n+i),r||(r=0),s.assertionFailed(i,r+1)}},s.assertObject=function(e,t){s[a]&&s.assertType(e,"object",t,1,!1)},s.assertObjectOrNull=function(e,t){s[a]&&s.assertType(e,"object",t,1,!0)},s.assertNonEmptyString=function(e,t){s[a]&&(s.assertType(e,"string",t,1,!1),s.assert(e.length>0,"empty string"))},s.assertString=function(e,t){s[a]&&s.assertType(e,"string",t,1,!1)},s.assertStringOrNull=function(e,t){s[a]&&s.assertType(e,"string",t,1,!0)},s.assertFunction=function(e,t){s[a]&&s.assertType(e,"function",t,1,!1)},s.assertFunctionOrNull=function(e,t){s[a]&&s.assertType(e,"function",t,1,!0)},s.assertBoolean=function(e,t){s[a]&&s.assertType(e,"boolean",t,1,!1)},s.assertNumber=function(e,t){s[a]&&s.assertType(e,"number",t,1,!1)},s.assertNumberOrNull=function(e,t){s[a]&&s.assertType(e,"number",t,1,!0)},s.assertArray=function(e,t){s[a]&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertArrayOrNull=function(e,t){s[a]&&null!=e&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertNonNumeric=function(e,t){s[a]&&(isNaN(e)||(void 0===t&&(t=e+" is convertible to a number"),s.assertionFailed(t,1)))},s.assertNumeric=function(e,t){s[a]&&isNaN(e)&&(void 0===t&&(t=e+" is not convertible to a number"),s.assertionFailed(t,1))},s.assertInSet=function(e,t,n){if(null==e||void 0===t[e.toString()]){if(void 0===n){for(var r=" is not in set: {",o=Object.keys(t),i=0;i<o.length;i++){r+=o[i],r+=","}n=e+(r+="}")}s.assertionFailed(n,1)}},s.assertionFailed=function(e,t,n){t||(t=0);var r="Assertion";throw n&&(r+=" ("+n+")"),r+=" failed: ",void 0!==e&&(r+=e),new Error(r)};var u=t.__oj_Assert_DEBUG;void 0!==u&&(s[a]=u),i.getAgentInfo().browser===i.BROWSER.IE&&e.error("Internet Explorer is not supported with this version of JET.");const l={};r._registerLegacyNamespaceProp("CollectionUtils",l),l.copyInto=function(e,t,n,r,o){return l._copyIntoImpl(e,t,n,r,o,0)},l.mergeDeep=function(e,...t){if(!t.length)return e;const n=l.isPlainObject,r=l.mergeDeep,o=t.shift();return n(e)&&n(o)&&Object.keys(o).forEach(t=>{n(o[t])?(e[t]||Object.assign(e,{[t]:{}}),r(e[t],o[t])):Object.assign(e,{[t]:o[t]})}),r(e,...t)},l.isPlainObject=function(e){if(null!==e&&"object"==typeof e)try{var t=Object.prototype.hasOwnProperty;if(e.constructor&&t.call(e.constructor.prototype,"isPrototypeOf"))return!0}catch(e){}return!1},l._copyIntoImpl=function(e,t,n,r,o,i){var s;if(null==o&&(o=Number.MAX_VALUE),e&&t&&e!==t)for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];s=n?n(u):u;var f=t[u],d=!1;if(r&&i<o){var p=e[s];l.isPlainObject(f)&&(null==p||l.isPlainObject(p))&&(d=!0,e[s]=p||{},l._copyIntoImpl(e[s],f,n,!0,o,i+1))}d||(e[s]=f)}return e},"undefined"!=typeof window&&window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r}),function(){function e(e){return function(t,n,r){return e.call(this,t,n,function(e){return"boolean"==typeof e?e:!!e&&e.capture}(r))}}if("undefined"!=typeof window&&!function(){let e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,e}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()){let t;window.EventTarget?t=EventTarget.prototype:window.Node&&(t=Node.prototype),t&&(t.addEventListener=e(t.addEventListener),t.removeEventListener=e(t.removeEventListener))}}(),
/**
     * @license
     * Code taken from
     * https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask
     * under "When queueMicrotask() isn't available".
     * @ignore
     */
"undefined"!=typeof window&&"function"!=typeof window.queueMicrotask&&(window.queueMicrotask=function(e){Promise.resolve().then(e).catch(function(e){setTimeout(function(){throw e})})}),function(){if("undefined"!=typeof window){var e;if(!((e=document.createEvent("Event")).initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented)){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}"function"!=typeof window.CustomEvent&&(n.prototype=Object.getPrototypeOf(new n("bogusEvent")),window.CustomEvent=n)}function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){function e(e){var t=document.createEvent("FocusEvent");return t.initEvent(e,!1,!1),t}"undefined"!=typeof window&&"function"!=typeof window.FocusEvent&&(e.prototype=Object.getPrototypeOf(new e("focus")),window.FocusEvent=e)}(),function(){var e,t;"undefined"!=typeof window&&!window.setImmediate&&window.postMessage&&(window.setImmediate=function(){var t=arguments[0],o=Array.prototype.slice,i=o.call(arguments,1);s.assertFunction(t);var a=n();return e||(e=new Map),e.set(a,{callback:t,args:i}),1===e.size&&window.addEventListener("message",r),window.postMessage({id:a,message:"oj-setImmediate"},"*"),a},window.clearImmediate=o);function n(){return isNaN(t)&&(t=0),t+=1}function r(t){var n=t.data;if(n&&"oj-setImmediate"===n.message){var r=n.id,i=e.get(r);if(o(r),i){var s=i.callback,a=i.args;s.apply(window,a)}}}function o(t){e&&(e.delete(t),e.size<1&&(window.removeEventListener("message",r),e=null))}}(),"undefined"!=typeof window&&(window.Symbol?(window.Symbol.asyncIterator||(window.Symbol.asyncIterator="asyncIterator"),window.Symbol.iterator||(window.Symbol.iterator="iterator")):(window.Symbol={},window.Symbol.asyncIterator="asyncIterator",window.Symbol.iterator="iterator")),function(){if("undefined"!=typeof window&&0===new window.Set([0]).size){var e=window.Set;function t(t){var n=new e;return t&&t.forEach(n.add,n),n}t.prototype=e.prototype,t.prototype.constructor=t,window.Set=t}}(),"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.DOMTokenList&&!DOMTokenList.prototype.forEach&&(DOMTokenList.prototype.forEach=Array.prototype.forEach)),"undefined"!=typeof window&&"undefined"!==window.Node&&("isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}}));const f=function(){this.Init()};r._registerLegacyNamespaceProp("Object",f),f.superclass=null,f._typeName="oj.Object",f._GET_FUNCTION_NAME_REGEXP=/function\s+([\w$][\w$\d]*)\s*\(/,(f.prototype={}).constructor=f,f.createSubclass=function(e,t,n){s.assertFunction(e),s.assertFunctionOrNull(t),s.assertStringOrNull(n),void 0===t&&(t=f),s.assert(e!==t,"Class can't extend itself");var r=f._tempSubclassConstructor;r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,n&&(e._typeName=n)},f.copyPropertiesForClass=function(e,t){s.assertFunction(e),s.assert(null!=t,"source object cannot be null");for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e.prototype[o]=t[o]}},f._tempSubclassConstructor=function(){},f.prototype.getClass=function(e){if(void 0===e)e=this;else if(null===e)return null;return e.constructor},f.prototype.clone=function(){var e=new this.constructor;return l.copyInto(e,this),e},f.prototype.toString=function(){return this.toDebugString()},f.prototype.toDebugString=function(){return this.getTypeName()+" Object"},f.getTypeName=function(e){s.assertFunction(e);var t=e._typeName;if(null==t){var n=e.toString(),r=f._GET_FUNCTION_NAME_REGEXP.exec(n);t=r?r[1]:"anonymous",e._typeName=t}return t},f.prototype.getTypeName=function(){return f.getTypeName(this.constructor)},f.prototype.Init=function(){s.isDebug()&&s.assert(this.getTypeName,"Not an oj.Object");var e=this.constructor;e._initialized||f._initClasses(e)},f.ensureClassInitialization=function(e){s.assertFunction(e),e._initialized||f._initClasses(e)},f.prototype.equals=function(e){return this===e},f.createCallback=function(e,t){return s.assertFunction(t),t.bind(e)},f._initClasses=function(e){s.isDebug()&&(s.assertFunction(e),s.assert(!e._initialized)),e._initialized=!0;var t=e.superclass;if(t){var n=t.constructor;n&&!n._initialized&&f._initClasses(n)}var r=e.InitClass;r&&r.call(e)},f.compareValues=function(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if(null===e||null===t)return!1;if(e.constructor===t.constructor){if(Array.isArray(e))return f._compareArrayValues(e,t);if(e.constructor===Object)return f.__innerEquals(e,t);if(e.valueOf&&"function"==typeof e.valueOf)return e.valueOf()===t.valueOf()}return!1},f._compareArrayValues=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!f.compareValues(e[n],t[n]))return!1;return!0},f._compareIdIndexObject=function(e,t){if("number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t)return e===t;if("object"==typeof e&&"object"==typeof t){if(e.id&&t.id)return e.id===t.id&&(!e.index||!t.index||e.index===t.index);if(e.index&&t.index)return e.index===t.index}return!1},f._compareArrayIdIndexObject=function(e,t){if(!e)return!t||0===t.length;if(!t)return!e||0===e.length;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var r=!1,o=0;o<t.length;o++)if(f._compareIdIndexObject(e[n],t[o])){r=!0;break}if(!r)return!1}return!0},f.__innerEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;var n,r,o=Object.prototype.hasOwnProperty,i=Object.keys(e);for(r=0;r<i.length;r++)if(n=i[r],o.call(e,n)){if(!o.call(t,n))return!1;if(e[n]!==t[n]){if("object"!=typeof e[n])return!1;if(!f.compareValues(e[n],t[n]))return!1}}var s=Object.keys(t);for(r=0;r<s.length;r++)if(n=s[r],o.call(t,n)&&!o.call(e,n))return!1;return 0!==i.length||0!==s.length||JSON.stringify(e)===JSON.stringify(t)},f.isEmpty=function(e){var t;if(null==e)return!0;for(t in e)if(e.hasOwnProperty(t))return!1;return!0};const d=function(){this.Init()};f.createSubclass(d,f,"oj.EventSource"),r._registerLegacyNamespaceProp("EventSource",d),d.prototype.Init=function(){this._eventHandlers=[],d.superclass.Init.call(this)},d.prototype.on=function(e,t){for(var n=!1,r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r].eventType===e&&this._eventHandlers[r].eventHandlerFunc===t){n=!0;break}n||this._eventHandlers.push({eventType:e,eventHandlerFunc:t})},d.prototype.off=function(e,t){for(var n=this._eventHandlers.length-1;n>=0;n--)if(this._eventHandlers[n].eventType===e&&this._eventHandlers[n].eventHandlerFunc===t){this._eventHandlers.splice(n,1);break}},d.prototype.handleEvent=function(e,t){for(var n=0;n<this._eventHandlers.length;n++){var r=this._eventHandlers[n];if(r.eventType===e&&!1===r.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)))return!1}return!0};const p={};r._registerLegacyNamespaceProp("KeyUtils",p),p.equals=function(e,t){return f.compareValues(e,t)};var y=t.__ojCheckpointManager;const E={};return r._registerLegacyNamespaceProp("CHECKPOINT_MANAGER",E),E.startCheckpoint=function(e,t){y&&y.startCheckpoint(e,t)},E.endCheckpoint=function(e){y&&y.endCheckpoint(e)},E.getRecord=function(e){return y?y.getRecord(e):void 0},E.matchRecords=function(e){return y?y.matchRecords(e):[]},E.dump=function(t){e.info(function(){for(var e="Checkpoint Records:",n=E.matchRecords(t),r=0;r<n.length;r++){var o=n[r];e=e+"\n"+o.name;var i=o.description;null!=i&&(e=e+" ("+i+")"),e=(e+=":\n")+"start: "+o.start+"\tduration: "+o.duration}return e})},r});
//# sourceMappingURL=ojcore-base.js.map;
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},'function' === typeof vanilla.define && vanilla.define.amd&&vanilla.define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojattributegrouphandler',["exports","ojs/ojcore-base","jquery"],function(t,e,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const r=function(t){this.Init(t)};e.Object.createSubclass(r,e.Object,"AttributeGroupHandler"),r.prototype.Init=function(t){if(this._assignments={},this._valueIndex=0,this._matchRules={},null!=t)for(var e=Object.keys(t),a=0;a<e.length;a++){var r=e[a];this.addMatchRule(r,t[r])}},r.prototype.getValueRamp=function(){return[]},r.prototype.getValue=function(t){return this._matchRules[t]?this._matchRules[t]:(this._assignments[t]||(this._values||(this._values=this.getValueRamp().slice()),this._assignments[t]=this._values[this._valueIndex],this._valueIndex+=1,this._valueIndex===this._values.length&&(this._valueIndex=0)),this._assignments[t])},r.prototype.getCategoryAssignments=function(){for(var t=[],e=Object.keys(this._assignments),a=0;a<e.length;a++){var r=e[a];t.push({category:r,value:this._assignments[r]})}return t},r.prototype.addMatchRule=function(t,e){this._matchRules[t]=e};const s=function(t){if(this._attributeValues=[],a(document.body).hasClass("oj-hicontrast"))this._attributeValues=s._DEFAULT_COLORS.slice();else{if(!s._colors){var e=s.__createAttrDiv();a(document.body).append(e),s._colors=s.__processAttrDiv(e),e.remove()}s._colors.length>0?this._attributeValues=s._colors.slice():this._attributeValues=s._DEFAULT_COLORS.slice()}this.Init(t)};e.Object.createSubclass(s,r,"ColorAttributeGroupHandler"),s._DEFAULT_COLORS=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],s._STYLE_CLASSES=["oj-dvt-category1","oj-dvt-category2","oj-dvt-category3","oj-dvt-category4","oj-dvt-category5","oj-dvt-category6","oj-dvt-category7","oj-dvt-category8","oj-dvt-category9","oj-dvt-category10","oj-dvt-category11","oj-dvt-category12"],s._colors=null,s.prototype.getValueRamp=function(){return this._attributeValues},s.__createAttrDiv=function(){var t=a(document.createElement("div"));t.css("display","none;"),t.attr("id","attrGps");for(var e=0;e<s._STYLE_CLASSES.length;e++){var r=a(document.createElement("div"));r.addClass(s._STYLE_CLASSES[e]),t.append(r)}return t},s.__processAttrDiv=function(t){for(var e=[],r=t.children(),s=0;s<r.length;s++){var o=a(r[s]).css("color");o&&e.push(o)}return e};
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignoreg
   */
var o=function(t){this.Init(t)};e.Object.createSubclass(o,r,"ShapeAttributeGroupHandler"),o._attributeValues=["square","circle","diamond","plus","triangleDown","triangleUp","human"],o.prototype.getValueRamp=function(){return o._attributeValues},t.AttributeGroupHandler=r,t.ColorAttributeGroupHandler=s,t.ShapeAttributeGroupHandler=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojattributegrouphandler.js.map;
/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
/*jslint regexp: true */
/*global require, XMLHttpRequest, ActiveXObject,
  define, window, process, Packages,
  java, location, Components, FileUtils */

vanilla.define('text',['module'], function (module) {
    'use strict';

    var text, fs, Cc, Ci, xpcIsWindows,
        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],
        xmlRegExp = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
        bodyRegExp = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
        hasLocation = typeof location !== 'undefined' && location.href,
        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\:/, ''),
        defaultHostName = hasLocation && location.hostname,
        defaultPort = hasLocation && (location.port || undefined),
        buildMap = {},
        masterConfig = (module.config && module.config()) || {};

    function useDefault(value, defaultValue) {
        return value === undefined || value === '' ? defaultValue : value;
    }

    //Allow for default ports for http and https.
    function isSamePort(protocol1, port1, protocol2, port2) {
        if (port1 === port2) {
            return true;
        } else if (protocol1 === protocol2) {
            if (protocol1 === 'http') {
                return useDefault(port1, '80') === useDefault(port2, '80');
            } else if (protocol1 === 'https') {
                return useDefault(port1, '443') === useDefault(port2, '443');
            }
        }
        return false;
    }

    text = {
        version: '2.0.15',

        strip: function (content) {
            //Strips <?xml ...?> declarations so that external SVG and XML
            //documents can be added to a document without worry. Also, if the string
            //is an HTML document, only the part inside the body tag is returned.
            if (content) {
                content = content.replace(xmlRegExp, "");
                var matches = content.match(bodyRegExp);
                if (matches) {
                    content = matches[1];
                }
            } else {
                content = "";
            }
            return content;
        },

        jsEscape: function (content) {
            return content.replace(/(['\\])/g, '\\$1')
                .replace(/[\f]/g, "\\f")
                .replace(/[\b]/g, "\\b")
                .replace(/[\n]/g, "\\n")
                .replace(/[\t]/g, "\\t")
                .replace(/[\r]/g, "\\r")
                .replace(/[\u2028]/g, "\\u2028")
                .replace(/[\u2029]/g, "\\u2029");
        },

        createXhr: masterConfig.createXhr || function () {
            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.
            var xhr, i, progId;
            if (typeof XMLHttpRequest !== "undefined") {
                return new XMLHttpRequest();
            } else if (typeof ActiveXObject !== "undefined") {
                for (i = 0; i < 3; i += 1) {
                    progId = progIds[i];
                    try {
                        xhr = new ActiveXObject(progId);
                    } catch (e) {}

                    if (xhr) {
                        progIds = [progId];  // so faster next time
                        break;
                    }
                }
            }

            return xhr;
        },

        /**
         * Parses a resource name into its component parts. Resource names
         * look like: module/name.ext!strip, where the !strip part is
         * optional.
         * @param {String} name the resource name
         * @returns {Object} with properties "moduleName", "ext" and "strip"
         * where strip is a boolean.
         */
        parseName: function (name) {
            var modName, ext, temp,
                strip = false,
                index = name.lastIndexOf("."),
                isRelative = name.indexOf('./') === 0 ||
                             name.indexOf('../') === 0;

            if (index !== -1 && (!isRelative || index > 1)) {
                modName = name.substring(0, index);
                ext = name.substring(index + 1);
            } else {
                modName = name;
            }

            temp = ext || modName;
            index = temp.indexOf("!");
            if (index !== -1) {
                //Pull off the strip arg.
                strip = temp.substring(index + 1) === "strip";
                temp = temp.substring(0, index);
                if (ext) {
                    ext = temp;
                } else {
                    modName = temp;
                }
            }

            return {
                moduleName: modName,
                ext: ext,
                strip: strip
            };
        },

        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,

        /**
         * Is an URL on another domain. Only works for browser use, returns
         * false in non-browser environments. Only used to know if an
         * optimized .js version of a text resource should be loaded
         * instead.
         * @param {String} url
         * @returns Boolean
         */
        useXhr: function (url, protocol, hostname, port) {
            var uProtocol, uHostName, uPort,
                match = text.xdRegExp.exec(url);
            if (!match) {
                return true;
            }
            uProtocol = match[2];
            uHostName = match[3];

            uHostName = uHostName.split(':');
            uPort = uHostName[1];
            uHostName = uHostName[0];

            return (!uProtocol || uProtocol === protocol) &&
                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&
                   ((!uPort && !uHostName) || isSamePort(uProtocol, uPort, protocol, port));
        },

        finishLoad: function (name, strip, content, onLoad) {
            content = strip ? text.strip(content) : content;
            if (masterConfig.isBuild) {
                buildMap[name] = content;
            }
            onLoad(content);
        },

        load: function (name, req, onLoad, config) {
            //Name has format: some.module.filext!strip
            //The strip part is optional.
            //if strip is present, then that means only get the string contents
            //inside a body tag in an HTML string. For XML/SVG content it means
            //removing the <?xml ...?> declarations so the content can be inserted
            //into the current doc without problems.

            // Do not bother with the work if a build and text will
            // not be inlined.
            if (config && config.isBuild && !config.inlineText) {
                onLoad();
                return;
            }

            masterConfig.isBuild = config && config.isBuild;

            var parsed = text.parseName(name),
                nonStripName = parsed.moduleName +
                    (parsed.ext ? '.' + parsed.ext : ''),
                url = req.toUrl(nonStripName),
                useXhr = (masterConfig.useXhr) ||
                         text.useXhr;

            // Do not load if it is an empty: url
            if (url.indexOf('empty:') === 0) {
                onLoad();
                return;
            }

            //Load the text. Use XHR if possible and in a browser.
            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {
                text.get(url, function (content) {
                    text.finishLoad(name, parsed.strip, content, onLoad);
                }, function (err) {
                    if (onLoad.error) {
                        onLoad.error(err);
                    }
                });
            } else {
                //Need to fetch the resource across domains. Assume
                //the resource has been optimized into a JS module. Fetch
                //by the module name + extension, but do not include the
                //!strip part to avoid file system issues.
                req([nonStripName], function (content) {
                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,
                                    parsed.strip, content, onLoad);
                });
            }
        },

        write: function (pluginName, moduleName, write, config) {
            if (buildMap.hasOwnProperty(moduleName)) {
                var content = text.jsEscape(buildMap[moduleName]);
                write.asModule(pluginName + "!" + moduleName,
                               "define(function () { return '" +
                                   content +
                               "';});\n");
            }
        },

        writeFile: function (pluginName, moduleName, req, write, config) {
            var parsed = text.parseName(moduleName),
                extPart = parsed.ext ? '.' + parsed.ext : '',
                nonStripName = parsed.moduleName + extPart,
                //Use a '.js' file name so that it indicates it is a
                //script that can be loaded across domains.
                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';

            //Leverage own load() method to load plugin value, but only
            //write out values that do not have the strip argument,
            //to avoid any potential issues with ! in file names.
            text.load(nonStripName, req, function (value) {
                //Use own write() method to construct full module value.
                //But need to create shell that translates writeFile's
                //write() to the right interface.
                var textWrite = function (contents) {
                    return write(fileName, contents);
                };
                textWrite.asModule = function (moduleName, contents) {
                    return write.asModule(moduleName, fileName, contents);
                };

                text.write(pluginName, nonStripName, textWrite, config);
            }, config);
        }
    };

    if (masterConfig.env === 'node' || (!masterConfig.env &&
            typeof process !== "undefined" &&
            process.versions &&
            !!process.versions.node &&
            !process.versions['node-webkit'] &&
            !process.versions['atom-shell'])) {
        //Using special require.nodeRequire, something added by r.js.
        fs = require.nodeRequire('fs');

        text.get = function (url, callback, errback) {
            try {
                var file = fs.readFileSync(url, 'utf8');
                //Remove BOM (Byte Mark Order) from utf8 files if it is there.
                if (file[0] === '\uFEFF') {
                    file = file.substring(1);
                }
                callback(file);
            } catch (e) {
                if (errback) {
                    errback(e);
                }
            }
        };
    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&
            text.createXhr())) {
        text.get = function (url, callback, errback, headers) {
            var xhr = text.createXhr(), header;
            xhr.open('GET', url, true);

            //Allow plugins direct access to xhr headers
            if (headers) {
                for (header in headers) {
                    if (headers.hasOwnProperty(header)) {
                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);
                    }
                }
            }

            //Allow overrides specified in config
            if (masterConfig.onXhr) {
                masterConfig.onXhr(xhr, url);
            }

            xhr.onreadystatechange = function (evt) {
                var status, err;
                //Do not explicitly handle errors, those should be
                //visible via console output in the browser.
                if (xhr.readyState === 4) {
                    status = xhr.status || 0;
                    if (status > 399 && status < 600) {
                        //An http 4xx or 5xx error. Signal an error.
                        err = new Error(url + ' HTTP status: ' + status);
                        err.xhr = xhr;
                        if (errback) {
                            errback(err);
                        }
                    } else {
                        callback(xhr.responseText);
                    }

                    if (masterConfig.onXhrComplete) {
                        masterConfig.onXhrComplete(xhr, url);
                    }
                }
            };
            xhr.send(null);
        };
    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&
            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {
        //Why Java, why is this so awkward?
        text.get = function (url, callback) {
            var stringBuffer, line,
                encoding = "utf-8",
                file = new java.io.File(url),
                lineSeparator = java.lang.System.getProperty("line.separator"),
                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),
                content = '';
            try {
                stringBuffer = new java.lang.StringBuffer();
                line = input.readLine();

                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324
                // http://www.unicode.org/faq/utf_bom.html

                // Note that when we use utf-8, the BOM should appear as "EF BB BF", but it doesn't due to this bug in the JDK:
                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058
                if (line && line.length() && line.charAt(0) === 0xfeff) {
                    // Eat the BOM, since we've already found the encoding on this file,
                    // and we plan to concatenating this buffer with others; the BOM should
                    // only appear at the top of a file.
                    line = line.substring(1);
                }

                if (line !== null) {
                    stringBuffer.append(line);
                }

                while ((line = input.readLine()) !== null) {
                    stringBuffer.append(lineSeparator);
                    stringBuffer.append(line);
                }
                //Make sure we return a JavaScript string and not a Java string.
                content = String(stringBuffer.toString()); //String
            } finally {
                input.close();
            }
            callback(content);
        };
    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&
            typeof Components !== 'undefined' && Components.classes &&
            Components.interfaces)) {
        //Avert your gaze!
        Cc = Components.classes;
        Ci = Components.interfaces;
        Components.utils['import']('resource://gre/modules/FileUtils.jsm');
        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);

        text.get = function (url, callback) {
            var inStream, convertStream, fileObj,
                readData = {};

            if (xpcIsWindows) {
                url = url.replace(/\//g, '\\');
            }

            fileObj = new FileUtils.File(url);

            //XPCOM, you so crazy
            try {
                inStream = Cc['@mozilla.org/network/file-input-stream;1']
                           .createInstance(Ci.nsIFileInputStream);
                inStream.init(fileObj, 1, 0, false);

                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']
                                .createInstance(Ci.nsIConverterInputStream);
                convertStream.init(inStream, "utf-8", inStream.available(),
                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);

                convertStream.readString(inStream.available(), readData);
                convertStream.close();
                inStream.close();
                callback(readData.value);
            } catch (e) {
                throw new Error((fileObj && fileObj.path || '') + ': ' + e);
            }
        };
    }
    return text;
});


vanilla.define('text!data/commonCategoriesSingleGroupData.json',[],function () { return '[\n    {\n        "id": 0,\n        "series": "Initial",\n        "group": "Deals",\n        "value": 42\n    },\n    {\n        "id": 1,\n        "series": "Qualification",\n        "group": "Deals",\n        "value": 55\n    },\n    {\n        "id": 2,\n        "series": "Meeting",\n        "group": "Deals",\n        "value": 36\n    },\n    {\n        "id": 3,\n        "series": "Proposal",\n        "group": "Deals",\n        "value": 10\n    },\n    {\n        "id": 4,\n        "series": "Close",\n        "group": "Deals",\n        "value": 5\n    }\n]\n';});


vanilla.define('text!data/commonCategoriesTimeSeriesData.json',[],function () { return '[\n    {\n        "id": 0,\n        "series": "Initial",\n        "group": "1980",\n        "value": 74\n    },\n    {\n        "id": 1,\n        "series": "Initial",\n        "group": "1990",\n        "value": 62\n    },\n    {\n        "id": 2,\n        "series": "Initial",\n        "group": "2000",\n        "value": 70\n    },\n    {\n        "id": 3,\n        "series": "Initial",\n        "group": "2010",\n        "value": 76\n    },\n    {\n        "id": 4,\n        "series": "Initial",\n        "group": "2020",\n        "value": 66\n    },\n    {\n        "id": 5,\n        "series": "Qualification",\n        "group": "1980",\n        "value": 50\n    },\n    {\n        "id": 6,\n        "series": "Qualification",\n        "group": "1990",\n        "value": 38\n    },\n    {\n        "id": 7,\n        "series": "Qualification",\n        "group": "2000",\n        "value": 46\n    },\n    {\n        "id": 8,\n        "series": "Qualification",\n        "group": "2010",\n        "value": 54\n    },\n    {\n        "id": 9,\n        "series": "Qualification",\n        "group": "2020",\n        "value": 42\n    },\n    {\n        "id": 10,\n        "series": "Meeting",\n        "group": "1980",\n        "value": 34\n    },\n    {\n        "id": 11,\n        "series": "Meeting",\n        "group": "1990",\n        "value": 22\n    },\n    {\n        "id": 12,\n        "series": "Meeting",\n        "group": "2000",\n        "value": 30\n    },\n    {\n        "id": 13,\n        "series": "Meeting",\n        "group": "2010",\n        "value": 32\n    },\n    {\n        "id": 14,\n        "series": "Meeting",\n        "group": "2020",\n        "value": 26\n    },\n    {\n        "id": 15,\n        "series": "Proposal",\n        "group": "1980",\n        "value": 18\n    },\n    {\n        "id": 16,\n        "series": "Proposal",\n        "group": "1990",\n        "value": 6\n    },\n    {\n        "id": 17,\n        "series": "Proposal",\n        "group": "2000",\n        "value": 14\n    },\n    {\n        "id": 18,\n        "series": "Proposal",\n        "group": "2010",\n        "value": 22\n    },\n    {\n        "id": 19,\n        "series": "Proposal",\n        "group": "2020",\n        "value": 19\n    },\n    {\n        "id": 20,\n        "series": "Close",\n        "group": "1980",\n        "value": 3\n    },\n    {\n        "id": 21,\n        "series": "Close",\n        "group": "1990",\n        "value": 2\n    },\n    {\n        "id": 22,\n        "series": "Close",\n        "group": "2000",\n        "value": 3\n    },\n    {\n        "id": 23,\n        "series": "Close",\n        "group": "2010",\n        "value": 3\n    },\n    {\n        "id": 24,\n        "series": "Close",\n        "group": "2020",\n        "value": 2\n    }\n]\n';});


vanilla.define('text!data/commonCategoriesBubbleData.json',[],function () { return '[\n    {\n        "id": 0,\n        "series": "Initial",\n        "group": "1980",\n        "x": 10,\n        "y": 50,\n        "z": 5\n    },\n    {\n        "id": 1,\n        "series": "Initial",\n        "group": "1990",\n        "x": 22,\n        "y": 25,\n        "z": 5\n    },\n    {\n        "id": 2,\n        "series": "Initial",\n        "group": "2000",\n        "x": 35,\n        "y": 7,\n        "z": 12\n    },\n    {\n        "id": 3,\n        "series": "Initial",\n        "group": "2010",\n        "x": 20,\n        "y": 40,\n        "z": 12\n    },\n    {\n        "id": 4,\n        "series": "Initial",\n        "group": "2020",\n        "x": 15,\n        "y": 18,\n        "z": 14\n    },\n    {\n        "id": 5,\n        "series": "Qualification",\n        "group": "1980",\n        "x": 47,\n        "y": 15,\n        "z": 8\n    },\n    {\n        "id": 6,\n        "series": "Qualification",\n        "group": "1990",\n        "x": 43,\n        "y": 61,\n        "z": 10\n    },\n    {\n        "id": 7,\n        "series": "Qualification",\n        "group": "2000",\n        "x": 63,\n        "y": 33,\n        "z": 7\n    },\n    {\n        "id": 8,\n        "series": "Qualification",\n        "group": "2010",\n        "x": 55,\n        "y": 55,\n        "z": 25\n    },\n    {\n        "id": 9,\n        "series": "Qualification",\n        "group": "2020",\n        "x": 55,\n        "y": 30,\n        "z": 13\n    },\n    {\n        "id": 10,\n        "series": "Meeting",\n        "group": "1980",\n        "x": 5,\n        "y": 35,\n        "z": 10\n    },\n    {\n        "id": 11,\n        "series": "Meeting",\n        "group": "1990",\n        "x": 8,\n        "y": 20,\n        "z": 6\n    },\n    {\n        "id": 12,\n        "series": "Meeting",\n        "group": "2000",\n        "x": 40,\n        "y": 20,\n        "z": 11\n    },\n    {\n        "id": 13,\n        "series": "Meeting",\n        "group": "2010",\n        "x": 11,\n        "y": 30,\n        "z": 8\n    },\n    {\n        "id": 14,\n        "series": "Meeting",\n        "group": "2020",\n        "x": 5,\n        "y": 60,\n        "z": 7\n    },\n    {\n        "id": 15,\n        "series": "Proposal",\n        "group": "1980",\n        "x": 5,\n        "y": 15,\n        "z": 3\n    },\n    {\n        "id": 16,\n        "series": "Proposal",\n        "group": "1990",\n        "x": 10,\n        "y": 10,\n        "z": 8\n    },\n    {\n        "id": 17,\n        "series": "Proposal",\n        "group": "2000",\n        "x": 18,\n        "y": 55,\n        "z": 10\n    },\n    {\n        "id": 18,\n        "series": "Proposal",\n        "group": "2010",\n        "x": 25,\n        "y": 48,\n        "z": 15\n    },\n    {\n        "id": 19,\n        "series": "Proposal",\n        "group": "2020",\n        "x": 22,\n        "y": 10,\n        "z": 4\n    },\n    {\n        "id": 20,\n        "series": "Close",\n        "group": "1980",\n        "x": 55,\n        "y": 17,\n        "z": 12\n    },\n    {\n        "id": 21,\n        "series": "Close",\n        "group": "1990",\n        "x": 62,\n        "y": 22,\n        "z": 7\n    },\n    {\n        "id": 22,\n        "series": "Close",\n        "group": "2000",\n        "x": 62,\n        "y": 48,\n        "z": 20\n    },\n    {\n        "id": 23,\n        "series": "Close",\n        "group": "2010",\n        "x": 33,\n        "y": 55,\n        "z": 7\n    },\n    {\n        "id": 24,\n        "series": "Close",\n        "group": "2020",\n        "x": 27,\n        "y": 61,\n        "z": 11\n    }\n]\n';});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojkeysetimpl',["ojs/ojcore-base"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;return function(e){this.NOT_A_KEY={},this.has=function(t){return this.get(t)!==this.NOT_A_KEY},this.get=function(e){var i,s,n=this.NOT_A_KEY,o=this;if(this._keys.has(e))return e;if(e!==Object(e))return this.NOT_A_KEY;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(s=(i=this._keys[Symbol.iterator]()).next();!s.done;){if(t.KeyUtils.equals(s.value,e))return s.value;s=i.next()}else this._keys.forEach(function(i){n===o.NOT_A_KEY&&t.KeyUtils.equals(i,e)&&(n=i)});return n},this.InitializeWithKeys=function(t){this._keys=new Set(t)},this.InitializeWithKeys(e)}});
//# sourceMappingURL=ojkeysetimpl.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojmap',["ojs/ojkeysetimpl"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(t){t?(this._map=t,this._keyset=new e(Array.from(this._map.keys()))):(this._map=new Map,this._keyset=new e)},s=t.prototype;return Object.defineProperty(s,"size",{get:function(){return this._map.size}}),s.clear=function(){this._map.clear(),this._keyset._keys.clear()},s.delete=function(e){var t=this._keyset.get(e);return t!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(t),this._map.delete(t))},s.forEach=function(e){this._map.forEach(e)},s.entries=function(){return this._map.entries()},s.keys=function(){return this._map.keys()},s.values=function(){return this._map.values()},s.get=function(e){var t=this._keyset.get(e);return this._map.get(t)},s.has=function(e){return this._keyset.has(e)},s.set=function(e,t){var s=this._keyset.get(e);return s===this._keyset.NOT_A_KEY?(this._keyset._keys.add(e),this._map.set(e,t)):this._map.set(s,t),this},t});
//# sourceMappingURL=ojmap.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojset',["ojs/ojkeysetimpl"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;class e{constructor(e){this.initialKeys=e;const s=this;this._set=new Set,this._keyset=new t,e&&e.forEach(function(t){s.add(t)}),Object.defineProperty(this,"size",{get(){return this._set.size}}),this[Symbol.iterator]=function(){return this._set[Symbol.iterator]()}}clear(){this._set.clear(),this._keyset._keys.clear()}delete(t){const e=this._keyset.get(t);return e!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(e),this._set.delete(e))}forEach(t,e){this._set.forEach(t,e)}keys(){return this._set.keys()}values(){return this._set.values()}entries(){return this._set.entries()}has(t){return this._keyset.has(t)}add(t){return this._keyset.get(t)===this._keyset.NOT_A_KEY&&(this._keyset._keys.add(t),this._set.add(t)),this}get[Symbol.toStringTag](){return Set[Symbol.toStringTag]()}}return e});
//# sourceMappingURL=ojset.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojeventtarget',["exports","ojs/ojcore-base"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class s{constructor(e,t){this.type=e,this.options=t,null!=t&&(this.detail=t.detail)}}t._registerLegacyNamespaceProp("GenericEvent",s);class r{addEventListener(e,t){this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({type:e.toLowerCase(),listener:t})}removeEventListener(e,t){if(this._eventListeners){let s;for(s=this._eventListeners.length-1;s>=0;s--)this._eventListeners[s].type==e&&this._eventListeners[s].listener==t&&this._eventListeners.splice(s,1)}}dispatchEvent(e){if(this._eventListeners){var t,s=this._eventListeners.slice(0);for(t=0;t<s.length;t++){var r=s[t];if(e&&e.type&&r.type==e.type.toLowerCase()&&!1===r.listener.apply(this,[e]))return!1}}return!0}static applyMixin(e){[r].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(s=>{"constructor"!==s&&(e.prototype[s]=t.prototype[s])})})}}t._registerLegacyNamespaceProp("EventTargetMixin",r),e.EventTargetMixin=r,e.GenericEvent=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojeventtarget.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdataprovider',["exports","ojs/ojcore-base","ojs/ojeventtarget"],function(t,e,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
oj.DataProvider=function(){},function(t){let e;!function(t){t.$co="$co",t.$eq="$eq",t.$ew="$ew",t.$pr="$pr",t.$gt="$gt",t.$ge="$ge",t.$lt="$lt",t.$le="$le",t.$ne="$ne",t.$regex="$regex",t.$sw="$sw"}(e=t.AttributeOperator||(t.AttributeOperator={}))}(t.AttributeFilterOperator||(t.AttributeFilterOperator={})),e._registerLegacyNamespaceProp("AttributeFilterOperator",t.AttributeFilterOperator),function(t){let e;!function(t){t.$and="$and",t.$or="$or"}(e=t.CompoundOperator||(t.CompoundOperator={}))}(t.CompoundFilterOperator||(t.CompoundFilterOperator={})),e._registerLegacyNamespaceProp("CompoundFilterOperator",t.CompoundFilterOperator);class i{constructor(){this._handleMutationAdd=function(t){var r;const s=t[i._BEFOREKEYS],n=t[i._KEYS],o=[];n.forEach(t=>{o.push(t)});const a=t[i._DATA],c=t[i._METADATA],l=t[i._INDEXES];if(o&&o.length>0)if(l)o.forEach((t,e)=>{this._items.splice(l[e],0,new this.Item(c[e],a[e]))});else if(s){const n=Object.assign([],s),l=Object.assign(new Set,t[i._KEYS]),f=Object.assign([],t[i._DATA]),u=Object.assign([],t[i._METADATA]),h=[];let p,_,y;for(const t of s){if(p=t,y=!0,null!=p){for(const t of o)if(e.Object.compareValues(t,p)){y=!1;break}if(y)for(const t of this._items)if(e.Object.compareValues(null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.key,p)){y=!1;break}}else y=!1;y&&h.push(p)}let m=s.length;for(;m>0;){for(const t of s)if(_=t,h.indexOf(_)>=0){h.push(_);break}m--}for(let t=n.length-1;t>=0;t--)h.indexOf(n[t])>=0&&(delete n[t],l.delete(n[t]),delete f[t],delete u[t]);n.forEach((t,r)=>{var i,s;if(null===t)this._items.push(new this.Item(c[r],a[r]));else for(let n=0;n<this._items.length;n++)if(e.Object.compareValues(null===(s=null===(i=this._items[n])||void 0===i?void 0:i.metadata)||void 0===s?void 0:s.key,t)){this._items.splice(n,0,new this.Item(c[r],a[r]));break}})}else if(this._fetchParams&&null!=this._fetchParams.sortCriteria){const t=this._fetchParams.sortCriteria;if(t){const e=this._getSortComparator(t);let r,i,s;const n=[];a.forEach((t,o)=>{for(r=0;r<this._items.length;r++)if(i=this._items[r].data,s=e(t,i),s<0){this._items.splice(r,0,new this.Item(c[o],a[o])),n.push(o);break}}),a.forEach((t,e)=>{n.indexOf(e)<0&&this._items.push(new this.Item(c[e],a[e]))})}}else a.forEach((t,e)=>{this._items.push(new this.Item(c[e],a[e]))})},this._handleMutationRemove=function(t){const r=t[i._KEYS];if(r&&r.size>0){let t;r.forEach(r=>{for(t=this._items.length-1;t>=0;t--)if(e.Object.compareValues(this._items[t].metadata.key,r)){this._items.splice(t,1);break}})}},this._handleMutationUpdate=function(t){const r=t[i._KEYS],s=t[i._DATA],n=t[i._METADATA];if(s&&s.length>0){let t,i=0;r.forEach(r=>{for(t=this._items.length-1;t>=0;t--)if(e.Object.compareValues(this._items[t].metadata.key,r)){this._items.splice(t,1,new this.Item(n[i],s[i]));break}i++})}},this.Item=class{constructor(t,e){this.metadata=t,this.data=e,this[i._METADATA]=t,this[i._DATA]=e}},this.FetchByKeysResults=class{constructor(t,e){this.fetchParameters=t,this.results=e,this[i._FETCHPARAMETERS]=t,this[i._RESULTS]=e}},this.FetchByOffsetResults=class{constructor(t,e,r){this.fetchParameters=t,this.results=e,this.done=r,this[i._FETCHPARAMETERS]=t,this[i._RESULTS]=e,this[i._DONE]=r}},this._items=[]}addListResult(t){const e=[];t.value.data.forEach((r,i)=>{e.push(new this.Item(t.value.metadata[i],r))}),this._items=this._items.concat(e),this._done=t.done}getDataList(t,e){this._fetchParams=t;let r=25;null!=t.size&&(r=-1===t.size?this.getSize():t.size);const i=this._items.slice(e,e+r),s=[],n=[];return i.forEach(t=>{s.push(t.data),n.push(t.metadata)}),{fetchParameters:t,data:s,metadata:n}}getDataByKeys(t){const e=new Map;return t&&t.keys&&t.keys.forEach(t=>{for(const r of this._items)if(r.metadata.key===t){e.set(t,r);break}}),new this.FetchByKeysResults(t,e)}getDataByOffset(t){let e=[];return t&&(e=this._items.slice(t.offset,t.offset+t.size)),new this.FetchByOffsetResults(t,e,!0)}processMutations(t){null!=t.remove&&this._handleMutationRemove(t.remove),null!=t.add&&this._handleMutationAdd(t.add),null!=t.update&&this._handleMutationUpdate(t.update)}reset(){this._items=[],this._done=!1}getSize(){return this._items.length}isDone(){return this._done}_getSortComparator(t){return(e,r)=>{let s,n,o,a;for(const c of t){s=c[i._DIRECTION],n=c[i._ATTRIBUTE],o=this._getVal(e,n),a=this._getVal(r,n);let t=0;const l="string"==typeof o?o:String(o).toString(),f="string"==typeof a?a:String(a).toString();if(t="ascending"===s?l.localeCompare(f,void 0,{numeric:!0,sensitivity:"base"}):f.localeCompare(l,void 0,{numeric:!0,sensitivity:"base"}),0!==t)return t}return 0}}_getVal(t,e){if("string"==typeof e){const r=e.indexOf(".");if(r>0){const i=e.substring(0,r),s=e.substring(r+1),n=t[i];if(n)return this._getVal(n,s)}}return"function"==typeof t[e]?t[e]():t[e]}}i._DATA="data",i._METADATA="metadata",i._ITEMS="items",i._BEFOREKEYS="addBeforeKeys",i._KEYS="keys",i._INDEXES="indexes",i._FROM="from",i._OFFSET="offset",i._REFRESH="refresh",i._MUTATE="mutate",i._SIZE="size",i._FETCHPARAMETERS="fetchParameters",i._SORTCRITERIA="sortCriteria",i._DIRECTION="direction",i._ATTRIBUTE="attribute",i._VALUE="value",i._DONE="done",i._RESULTS="results",i._CONTAINSPARAMETERS="containsParameters",i._DEFAULT_SIZE=25,i._CONTAINSKEYS="containsKeys",i._FETCHBYKEYS="fetchByKeys",i._FETCHBYOFFSET="fetchByOffset",i._FETCHFIRST="fetchFirst",i._FETCHATTRIBUTES="attributes",e._registerLegacyNamespaceProp("DataCache",i);class s extends r.GenericEvent{constructor(t){const e={};e[s._DETAIL]=t,super("mutate",e)}}s._DETAIL="detail",e._registerLegacyNamespaceProp("DataProviderMutationEvent",s);class n extends r.GenericEvent{constructor(t){const e={};e.detail=t,super("refresh",e)}}e._registerLegacyNamespaceProp("DataProviderRefreshEvent",n);class o{fetchByKeys(t){let e=0;const r=this.getIterationLimit?this.getIterationLimit():-1,i={size:25},s=new Map,n=this.fetchFirst(i)[Symbol.asyncIterator]();return function t(i,s,n){return s.next().then(function(o){const a=o.value,c=a.data,l=a.metadata,f=l.map(function(t){return t.key});let u=!0;return i.keys.forEach(function(t){n.has(t)||f.map(function(e,r){e===t&&n.set(e,{metadata:l[r],data:c[r]})}),n.has(t)||(u=!1)}),e+=c.length,u||o.done||-1!=r&&e>=r?n:t(i,s,n)})}(t,n,s).then(function(e){const r=new Map;return e.forEach(function(t,e){const i=[t];r.set(e,i[0])}),{fetchParameters:t,results:r}})}containsKeys(t){return this.fetchByKeys(t).then(function(e){const r=new Set;return t.keys.forEach(function(t){null!=e.results.get(t)&&r.add(t)}),Promise.resolve({containsParameters:t,results:r})})}getCapability(t){if("fetchByKeys"===t)return{implementation:"iteration"};let e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let r=1;for(;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&(e=this["_ojLastGetCapability"+r](t),!e);r--);delete this._ojSkipLastCapability}return e}static applyMixin(t){const e=t.prototype.getCapability;if([o].forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])})}),e){let r=1;for(;t.prototype["_ojLastGetCapability"+r];)++r;t.prototype["_ojLastGetCapability"+r]=e}}}e._registerLegacyNamespaceProp("FetchByKeysMixin",o);class a{fetchByOffset(t){const e=t&&t.size>0?t.size:25,r=t?t.sortCriteria:null,i=t&&t.offset>0?t.offset:0;let s=0;const n=this.getIterationLimit?this.getIterationLimit():-1;let o=!1;const a={};a.size=e,a.sortCriteria=r;const c=new Array,l=this.fetchFirst(a)[Symbol.asyncIterator]();return function t(r,a,c){return a.next().then(function(l){o=l.done;const f=l.value,u=f.data,h=f.metadata,p=u.length;if(i<s+p){for(let t=i<=s?0:i-s;t<p&&c.length!==e;t++)c.push({metadata:h[t],data:u[t]})}return s+=p,c.length<e&&!o?-1!==n&&s>=n?c:t(r,a,c):c})}(t,l,c).then(function(e){return{fetchParameters:t,results:e,done:o}})}getCapability(t){if("fetchByOffset"===t)return{implementation:"iteration"};let e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let r=1;for(;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&(e=this["_ojLastGetCapability"+r](t),!e);r--);delete this._ojSkipLastCapability}return e}static applyMixin(t){const e=t.prototype.getCapability;if([a].forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])})}),e){let r=1;for(;t.prototype["_ojLastGetCapability"+r];)++r;t.prototype["_ojLastGetCapability"+r]=e}}}var c;e._registerLegacyNamespaceProp("FetchByOffsetMixin",a),function(t){function e(t,e){let r=!1;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];if(r||!s(i))throw new Error("parsing error "+e);t.operator=i,t.right=n,r=!0}}function r(t,e,r){if("$lt"===t){const t=o(r,e);return(r=t[0])<(e=t[1])}if("$gt"===t){const t=o(r,e);return(r=t[0])>(e=t[1])}if("$lte"===t){const t=o(r,e);return(r=t[0])<=(e=t[1])}if("$gte"===t){const t=o(r,e);return(r=t[0])>=(e=t[1])}if("$eq"===t)return r===e;if("$ne"===t)return r!==e;if("$regex"===t){if(r){if("string"!=typeof r&&!(r instanceof String))if(r instanceof Object){if("[object Object]"==(r=r.toString()))return!1}else r=new String(r);return null!==r.match(e)}return!1}if("$exists"===t)return e?null!=r:null==r;throw new Error("not a valid operator! "+t)}function i(t){return"$and"===t||"$or"===t}function s(t){return"$lt"===t||"$gt"===t||"$lte"===t||"$gte"===t||"$eq"===t||"$ne"===t||"$regex"===t||"$exists"===t}function n(t){return null!=t&&(t instanceof String||"string"==typeof t)}function o(t,e){return n(t)&&null==e?e="":n(e)&&null==t&&(t=""),[t,e]}function a(t,e){const r=t.split(".");let i=e;for(const t of r)i=i[t];return i}t.satisfy=function(t,n){if(t){return function t(e,n){const o=e.operator;if(i(o)){if(!e.left&&e.array instanceof Array){let r;const i=e.array;for(const e of i){const i=t(e,n);if("$or"===o&&!0===i)return!0;if("$and"===o&&!1===i)return!1;r=i}return r}throw new Error("invalid expression tree!"+e)}if(s(o)){const t=e.right;let i;if("*"!=e.left)return i=a(e.left,n),r(o,t,i);{const e=Object.keys(n);for(const s of e)if(i=a(s,n),r(o,t,i))return!0;return!1}}throw new Error("not a valid expression!"+e)}(function t(r){let n;const o=[];for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];if(0===a.indexOf("$")){if(i(a)){if(!(c instanceof Array))throw new Error("not a valid expression: "+r);n={operator:a,array:[]};for(const e of c){const r=t(e);n.array.push(r)}}else if(s(a))throw new Error("not a valid expression: "+r)}else if("object"!=typeof c)o.push({left:a,right:c,operator:"$eq"});else{const t={left:a};e(t,c),o.push(t)}}o.length>1?n={operator:"$and",array:o}:1===o.length&&(n=o[0]);return n}(t),n)}return!0}}(c||(c={}));class l{constructor(t){t=t||{},this._textFilterAttributes=t.filterOptions?t.filterOptions.textFilterAttributes:null;const e=t.filterDef;e&&(e.op?(this.op=e.op,e.value?(this.value=e.value,e.attribute&&(this.attribute=e.attribute)):e.criteria&&(this.criteria=e.criteria)):e.text&&(this.text=e.text))}filter(t,e,r){return c.satisfy(l._transformFilter(this),t)}static _transformFilter(t){let e;if(t){let r,i=t.op;if(t.text?i="$regex":"$le"===i?i="$lte":"$ge"===i?i="$gte":"$pr"===i&&(i="$exists"),"$and"!==i&&"$or"!==i){r=t.text?new RegExp(t.text.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"i"):t.value,e={};const s=t.attribute;if(s){const t={};"$sw"!==i&&"$ew"!==i&&"$co"!==i||(i="$regex",r=l._fixStringExpr(i,r)),t[i]=r,e[s]=t}else if(t.text){const s={};if(s[i]=r,t._textFilterAttributes&&t._textFilterAttributes.length>0){const r=[];t._textFilterAttributes.forEach(function(t){const e={};e[t]=s,r.push(e)}),e.$or=r}else e["*"]=s}else{const t=[];l._transformObjectExpr(r,i,null,t),e.$and=t}}else{const r=[];t.criteria.forEach(function(e){e&&e.text&&t._textFilterAttributes&&(e._textFilterAttributes=t._textFilterAttributes),r.push(l._transformFilter(e))}),e={},e[i]=r}}return e}static _transformObjectExpr(t,e,r,i){if(Object.keys(t).length>0)Object.keys(t).forEach(function(s){let n=t[s];const o=r?r+"."+s:s;if(n instanceof Object)l._transformObjectExpr(n,e,o,i);else{const t={};"$sw"!==e&&"$ew"!==e&&"$co"!==e||(e="$regex",n=l._fixStringExpr(e,n)),t[e]=n;const r={};r[o]=t,i.push(r)}});else{const s={};s[e]=t;const n={};n[r]=s,i.push(n)}}static _fixStringExpr(t,e){return("string"==typeof e||e instanceof String)&&("$sw"===t?e="^"+e:"$ew"===t&&(e+="$")),e}}class f{static getFilter(t){return new l(t)}}e._registerLegacyNamespaceProp("FilterFactory",f),t.DataCache=i,t.DataProviderMutationEvent=s,t.DataProviderRefreshEvent=n,t.FetchByKeysMixin=o,t.FetchByOffsetMixin=a,t.FilterFactory=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdataprovider.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojarraydataprovider',["ojs/ojcore-base","ojs/ojmap","ojs/ojset","ojs/ojdataprovider","ojs/ojeventtarget","ojs/ojlogger"],function(t,e,s,i,n,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class r{constructor(t,e){this.data=t,this.options=e,this.Item=class{constructor(t,e){this.metadata=t,this.data=e,this[r._METADATA]=t,this[r._DATA]=e}},this.ItemMetadata=class{constructor(t){this.key=t,this[r._KEY]=t}},this.FetchByKeysResults=class{constructor(t,e){this.fetchParameters=t,this.results=e,this[r._FETCHPARAMETERS]=t,this[r._RESULTS]=e}},this.ContainsKeysResults=class{constructor(t,e){this.containsParameters=t,this.results=e,this[r._CONTAINSPARAMETERS]=t,this[r._RESULTS]=e}},this.FetchByOffsetResults=class{constructor(t,e,s){this.fetchParameters=t,this.results=e,this.done=s,this[r._FETCHPARAMETERS]=t,this[r._RESULTS]=e,this[r._DONE]=s}},this.FetchListParameters=class{constructor(t,e,s,i){this.size=t,this.sortCriteria=e,this.filterCriterion=s,this.attributes=i,this[r._SIZE]=t,this[r._SORTCRITERIA]=e,this[r._FILTERCRITERION]=s,this[r._ATTRIBUTES]=i}},this.FetchListResult=class{constructor(t,e,s){this.fetchParameters=t,this.data=e,this.metadata=s,this[r._FETCHPARAMETERS]=t,this[r._DATA]=e,this[r._METADATA]=s}},this.AsyncIterable=class{constructor(t){this._asyncIterator=t,this[Symbol.asyncIterator]=()=>this._asyncIterator}},this.AsyncIterator=class{constructor(t,e,s,i){this._parent=t,this._nextFunc=e,this._params=s,this._offset=i,this._clientId=s&&s.clientId||Symbol(),t._mapClientIdToOffset.set(this._clientId,i),this._cacheObj={},this._cacheObj[r._MUTATIONSEQUENCENUM]=t._mutationSequenceNum}next(){const t=this._parent._mapClientIdToOffset.get(this._clientId),e=this._nextFunc(this._params,t,!1,this._cacheObj);return this._parent._mapClientIdToOffset.set(this._clientId,e.offset),Promise.resolve(e.result)}},this.AsyncIteratorYieldResult=class{constructor(t){this.value=t,this[r._VALUE]=t,this[r._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t){this.value=t,this[r._VALUE]=t,this[r._DONE]=!0}},this.DataProviderMutationEventDetail=class{constructor(t,e,s,i){this._parent=t,this.add=e,this.remove=s,this.update=i,this[r._ADD]=e,this[r._REMOVE]=s,this[r._UPDATE]=i,Object.defineProperty(this,r._PARENT,{value:t,enumerable:!1})}},this.DataProviderOperationEventDetail=class{constructor(t,e,s,i,n){this._parent=t,this.keys=e,this.metadata=s,this.data=i,this.indexes=n,this[r._KEYS]=e,this[r._METADATA]=s,this[r._DATA]=i,this[r._INDEXES]=n,Object.defineProperty(this,r._PARENT,{value:t,enumerable:!1})}},this.DataProviderAddOperationEventDetail=class{constructor(t,e,s,i,n,a,l){this._parent=t,this.keys=e,this.afterKeys=s,this.addBeforeKeys=i,this.metadata=n,this.data=a,this.indexes=l,this[r._KEYS]=e,this[r._AFTERKEYS]=s,this[r._ADDBEFOREKEYS]=i,this[r._METADATA]=n,this[r._DATA]=a,this[r._INDEXES]=l,Object.defineProperty(this,r._PARENT,{value:t,enumerable:!1})}},this._sequenceNum=0,this._mutationSequenceNum=0,this._mapClientIdToOffset=new Map,this._subscribeObservableArray(t),null!=e&&null!=e[r._KEYS]&&(this._keysSpecified=!0,this._keys=e[r._KEYS])}containsKeys(t){return this.fetchByKeys(t).then(e=>{const i=new s;return t[r._KEYS].forEach(t=>{null!=e[r._RESULTS].get(t)&&i.add(t)}),Promise.resolve(new this.ContainsKeysResults(t,i))})}fetchByKeys(s){this._generateKeysIfNeeded();const i=new e,n=this._getKeys(),a=null!=s?s[r._ATTRIBUTES]:null;let l,o=0;if(s){const e=this._getRowData();return s[r._KEYS].forEach(s=>{for(l=null,o=0;o<n.length;o++)if(t.Object.compareValues(n[o],s)){l=o;break}if(null!=l&&l>=0){let t=e[l];if(a&&a.length>0){const e={};this._filterRowAttributes(a,t,e),t=e}i.set(s,new this.Item(new this.ItemMetadata(s),t))}}),Promise.resolve(new this.FetchByKeysResults(s,i))}return Promise.reject("Keys are a required parameter")}fetchByOffset(t){const e=null!=t?t[r._SIZE]:-1,s=null!=t?t[r._SORTCRITERIA]:null,i=null!=t&&t[r._OFFSET]>0?t[r._OFFSET]:0,n=null!=t?t[r._ATTRIBUTES]:null,a=null!=t?t[r._FILTERCRITERION]:null;this._generateKeysIfNeeded();let l=[],o=!0;if(t){const h=new this.FetchListParameters(e,s,a,n),u=this._fetchFrom(h,i,!0).result;h[r._SORTCRITERIA]&&(t[r._SORTCRITERIA]=h[r._SORTCRITERIA]);const _=u[r._VALUE];o=u[r._DONE];const c=_[r._DATA],d=_[r._METADATA].map(t=>t[r._KEY]);return l=c.map((t,e)=>new this.Item(new this.ItemMetadata(d[e]),t)),Promise.resolve(new this.FetchByOffsetResults(t,l,o))}return Promise.reject("Offset is a required parameter")}fetchFirst(t){return new this.AsyncIterable(new this.AsyncIterator(this,this._fetchFrom.bind(this),t,0))}getCapability(t){return r.getCapability(t)}static _getFetchCapability(){const t=new Set;return t.add("exclusion"),{caching:"all",attributeFilter:{expansion:{},ordering:{},defaultShape:{features:t}}}}static getCapability(t){return"sort"===t?{attributes:"multiple"}:"fetchByKeys"===t?Object.assign({implementation:"lookup"},r._getFetchCapability()):"fetchByOffset"===t?Object.assign({implementation:"randomAccess"},r._getFetchCapability()):"fetchFirst"===t?Object.assign({iterationSpeed:"immediate"},r._getFetchCapability()):"fetchCapability"===t?r._getFetchCapability():"filter"===t?{operators:["$co","$eq","$ew","$pr","$gt","$ge","$lt","$le","$ne","$regex","$sw"],attributeExpression:["*"],textFilter:{}}:null}getTotalSize(){return Promise.resolve(this._getRowData().length)}isEmpty(){return this._getRowData().length>0?"no":"yes"}createOptimizedKeySet(t){return new s(t)}createOptimizedKeyMap(t){if(t){const s=new e;return t.forEach((t,e)=>{s.set(e,t)}),s}return new e}_getRowData(){return this[r._DATA]instanceof Array?this[r._DATA]:this[r._DATA]()}_getKeys(){return null==this._keys||this._keys instanceof Array?this._keys:this._keys()}_indexOfKey(e){const s=this._getKeys();let i,n=-1;for(i=0;i<s.length;i++)if(t.Object.compareValues(s[i],e)){n=i;break}return n}_adjustIteratorOffset(t,e){this._mapClientIdToOffset.forEach((s,i)=>{let n=0;t&&t.forEach(t=>{t<s&&++n}),s-=n,e&&e.forEach(t=>{t<s&&++s}),this._mapClientIdToOffset.set(i,s)})}_subscribeObservableArray(e){if(!(e instanceof Array)){if(!this._isObservableArray(e))throw new Error("Invalid data type. ArrayDataProvider only supports Array or observableArray.");e.subscribe(e=>{let i,n,r,l,o,h=[],u=[],_=[],c=[];const d=[];this._mutationSequenceNum++;let f=!0,E=!0;e.forEach(t=>{"deleted"===t.status?(f=!1):"added"===t.status&&(E=!1)});const T=[],A=[];let p=null,m=null,y=null;const R=this._generateKeysIfNeeded();if(!f&&!E){for(i=0;i<e.length;i++){l=e[i].index,o=e[i].status;const s=this._getId(e[i].value);for(n=0;n<e.length;n++)n!==i&&l===e[n].index&&o!==e[n].status&&T.indexOf(i)<0&&A.indexOf(i)<0&&(null==s||t.Object.compareValues(s,this._getId(e[n].value)))&&("deleted"===o?(A.push(i),T.push(n)):(A.push(n),T.push(i)))}for(i=0;i<e.length;i++)if(T.indexOf(i)>=0){const t=this._getKeys()[e[i].index];u.push(t),h.push(e[i].value),_.push(e[i].index)}if(u.length>0){c=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)}),p=new this.DataProviderOperationEventDetail(this,t,c,h,_)}}if(h=[],u=[],_=[],!f){for(i=0;i<e.length;i++)"deleted"===e[i].status&&T.indexOf(i)<0&&A.indexOf(i)<0&&(r=this._getId(e[i].value),null==r&&(r=R?e[i].index:this._getKeys()[e[i].index]),u.push(r),h.push(e[i].value),_.push(e[i].index));if(u.length>0&&u.forEach(t=>{const e=this._indexOfKey(t);e>=0&&this._keys.splice(e,1)}),u.length>0){c=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)}),y=new this.DataProviderOperationEventDetail(this,t,c,h,_)}}if(h=[],u=[],_=[],!E){const t=null==this._getKeys()||!(this._getKeys().length>0);for(i=0;i<e.length;i++)"added"===e[i].status&&T.indexOf(i)<0&&A.indexOf(i)<0&&(r=this._getId(e[i].value),null==r&&(R||this._keysSpecified)&&(r=this._getKeys()[e[i].index]),null==r?(r=this._sequenceNum,this._sequenceNum++,this._keys.splice(e[i].index,0,r)):t||-1===this._indexOfKey(r)?this._keys.splice(e[i].index,0,r):R||this._keysSpecified||(a.warn("added row has duplicate key "+r),this._keys.splice(e[i].index,0,r)),u.push(r),h.push(e[i].value),_.push(e[i].index));for(i=0;i<e.length;i++)if("added"===e[i].status&&T.indexOf(i)<0&&A.indexOf(i)<0){let t=this._getKeys()[e[i].index+1];t=null==t?null:t,d.push(t)}if(u.length>0){c=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)});const e=new s;d.forEach(t=>{e.add(t)}),m=new this.DataProviderAddOperationEventDetail(this,t,e,d,c,h,_)}}this._fireMutationEvent(m,y,p)},null,"arrayChange"),e.subscribe(t=>{var e,s,n,a;if(this._mutationEvent){const t=this._mutationEvent.detail;this._adjustIteratorOffset(null===(e=t.remove)||void 0===e?void 0:e.indexes,null===(s=t.add)||void 0===s?void 0:s.indexes),this.dispatchEvent(this._mutationEvent)}else if(this._mutationRemoveEvent||this._mutationAddEvent||this._mutationUpdateEvent){if(this._mutationRemoveEvent){const t=this._mutationRemoveEvent.detail;this._adjustIteratorOffset(null===(n=t.remove)||void 0===n?void 0:n.indexes,null),this.dispatchEvent(this._mutationRemoveEvent)}if(this._mutationAddEvent){const t=this._mutationAddEvent.detail;this._adjustIteratorOffset(null,null===(a=t.add)||void 0===a?void 0:a.indexes),this.dispatchEvent(this._mutationAddEvent)}this._mutationUpdateEvent&&this.dispatchEvent(this._mutationUpdateEvent)}else this.dispatchEvent(new i.DataProviderRefreshEvent);this._mutationEvent=null,this._mutationRemoveEvent=null,this._mutationAddEvent=null,this._mutationUpdateEvent=null},null,"change")}}_fireMutationEvent(t,e,s){const n=new this.DataProviderMutationEventDetail(this,t,e,s);this._mutationEvent=new i.DataProviderMutationEvent(n)}_hasSamePropValue(e,s,i){const n="_hasSamePropValue is true";try{e&&e[i]&&e[i].forEach(e=>{s&&s[i]&&s[i].forEach(s=>{if(t.Object.compareValues(e,s))throw n})})}catch(t){if(t===n)return!0;throw t}return!1}_isObservableArray(t){return"function"==typeof t&&t.subscribe&&!(void 0===t.destroyAll)}_generateKeysIfNeeded(){if(null==this._keys){const t=null!=this.options?this.options[r._KEYATTRIBUTES]||this.options[r._IDATTRIBUTE]:null;this._keys=[];const e=this._getRowData();let s,i=0;for(i=0;i<e.length;i++)s=this._getId(e[i]),null!=s&&"@index"!==t||(s=this._sequenceNum,this._sequenceNum++),this._keys[i]=s;return!0}return!1}_getId(t){let e,s=null;if(null!=this.options&&(null!=this.options[r._KEYATTRIBUTES]?s=this.options[r._KEYATTRIBUTES]:null!=this.options[r._IDATTRIBUTE]&&(s=this.options[r._IDATTRIBUTE])),null!=s){if(Array.isArray(s)){let i;for(e=[],i=0;i<s.length;i++)e[i]=this._getVal(t,s[i])}else e="@value"===s?this._getAllVals(t):this._getVal(t,s);return e}return null}_getVal(t,e){if("string"==typeof e){const s=e.indexOf(".");if(s>0){const i=e.substring(0,s),n=e.substring(s+1),a=t[i];if(a)return this._getVal(a,n)}}return"function"==typeof t[e]?t[e]():t[e]}_getAllVals(t){return Object.keys(t).map(e=>this._getVal(t,e))}_fetchFrom(t,e,s,n){const a=null!=t?t[r._ATTRIBUTES]:null;this._generateKeysIfNeeded();const l=null!=t?t[r._SORTCRITERIA]:null,o=this._getCachedIndexMap(l,n),h=this._getRowData(),u=o.map(t=>h[t]),_=o.map(t=>this._getKeys()[t]),c=null!=t?t[r._SIZE]>0?t[r._SIZE]:t[r._SIZE]<0?this._getKeys().length:25:25;let d=e+c<u.length;const f=this._mergeSortCriteria(l);null!=f&&((t=t||{})[r._SORTCRITERIA]=f);let E,T=[],A=[],p=0;if(null!=t&&t[r._FILTERCRITERION]){let s=null;s=i.FilterFactory.getFilter({filterDef:t[r._FILTERCRITERION],filterOptions:this.options});let n=0;for(;T.length<c&&n<u.length;)s.filter(u[n])&&(p>=e&&(T.push(u[n]),A.push(_[n])),p++),n++;d=n<u.length}else T=u.slice(e,e+c),A=_.slice(e,e+c);p=e+T.length,E=T.map(t=>{if(a&&a.length>0){const e={};this._filterRowAttributes(a,t,e),t=e}return t});const m=A.map(t=>new this.ItemMetadata(t));let y=new this.FetchListResult(t,E,m);return(s?d:y.data.length>0)?{result:new this.AsyncIteratorYieldResult(y),offset:p}:{result:new this.AsyncIteratorReturnResult(y),offset:p}}_getCachedIndexMap(t,e){if(e&&e.indexMap&&e[r._MUTATIONSEQUENCENUM]===this._mutationSequenceNum)return e.indexMap;const s=this._getRowData().map((t,e)=>e),i=this._sortData(s,t);return e&&(e.indexMap=i,e[r._MUTATIONSEQUENCENUM]=this._mutationSequenceNum),i}_sortData(t,e){const s=this._getRowData(),i=t.map(t=>({index:t,value:s[t]}));return null!=e&&i.sort(this._getSortComparator(e)),i.map(t=>t.index)}_getSortComparator(t){return(e,s)=>{const i=null!=this.options?this.options[r._SORTCOMPARATORS]:null;let n,a,l,o,h,u;for(n=0;n<t.length;n++)if(a=t[n][r._DIRECTION],l=t[n][r._ATTRIBUTE],o=null,null!=i&&(o=i[r._COMPARATORS].get(l)),h=this._getVal(e.value,l),u=this._getVal(s.value,l),null!=o){const t="descending"===a?-1:1,e=o(h,u)*t;if(0!==e)return e}else{let t=0;const e="string"==typeof h?h:h.toString(),s="string"==typeof u?u:u.toString();if(t="ascending"===a?e.localeCompare(s,void 0,{numeric:!0,sensitivity:"base"}):s.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"}),0!==t)return t}return 0}}_mergeSortCriteria(t){const e=null!=this.options?this.options[r._IMPLICITSORT]:null;if(null!=e){if(null==t)return e;const s=t.slice(0);let i,n,a;for(i=0;i<e.length;i++){for(a=!1,n=0;n<s.length;n++)s[n][r._ATTRIBUTE]===e[i][r._ATTRIBUTE]&&(a=!0);a||s.push(e[i])}return s}return t}_filterRowAttributes(t,e,s){if(Array.isArray(t)){let i,n=!1;t.forEach(t=>{t!==r._ATDEFAULT&&t.name!==r._ATDEFAULT||(n=!0)}),Object.keys(e).forEach(a=>{if(n){let n,r=!1,l=a;for(i=0;i<t.length;i++)if(n=t[i]instanceof Object?t[i].name:t[i],n.startsWith("!")){if(n=n.substr(1,n.length-1),n===a){r=!0;break}}else if(n===a){l=t[i];break}r||this._filterRowAttributes(l,e,s)}else t.forEach(t=>{let i;i=t instanceof Object?t.name:t,i.startsWith("!")||i!==a||this._filterRowAttributes(t,e,s)})})}else if(t instanceof Object){const i=t.name,n=t.attributes;if(i&&!i.startsWith("!"))if(e[i]instanceof Object&&!Array.isArray(e[i])&&n){const t={};this._filterRowAttributes(n,e[i],t),s[i]=t}else if(Array.isArray(e[i])&&n){let t;s[i]=[],e[i].forEach((e,a)=>{t={},this._filterRowAttributes(n,e,t),s[i][a]=t})}else this._proxyAttribute(s,e,i)}else this._proxyAttribute(s,e,t)}_proxyAttribute(t,e,s){t&&e&&Object.defineProperty(t,s,{get:()=>e[s],set(t){e[s]=t},enumerable:!0})}}return r._KEY="key",r._KEYS="keys",r._AFTERKEYS="afterKeys",r._ADDBEFOREKEYS="addBeforeKeys",r._DIRECTION="direction",r._ATTRIBUTE="attribute",r._ATTRIBUTES="attributes",r._SORT="sort",r._SORTCRITERIA="sortCriteria",r._FILTERCRITERION="filterCriterion",r._DATA="data",r._METADATA="metadata",r._INDEXES="indexes",r._OFFSET="offset",r._SIZE="size",r._IDATTRIBUTE="idAttribute",r._IMPLICITSORT="implicitSort",r._KEYATTRIBUTES="keyAttributes",r._SORTCOMPARATORS="sortComparators",r._COMPARATORS="comparators",r._COMPARATOR="comparator",r._RESULTS="results",r._CONTAINS="contains",r._FETCHPARAMETERS="fetchParameters",r._CONTAINSPARAMETERS="containsParameters",r._VALUE="value",r._DONE="done",r._ADD="add",r._REMOVE="remove",r._UPDATE="update",r._DETAIL="detail",r._FETCHLISTRESULT="fetchListResult",r._ATDEFAULT="@default",r._MUTATIONSEQUENCENUM="mutationSequenceNum",r._PARENT="_parent",n.EventTargetMixin.applyMixin(r),t._registerLegacyNamespaceProp("ArrayDataProvider",r),r});
//# sourceMappingURL=ojarraydataprovider.js.map;
!function(e){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('jqueryui-amd/version',["jquery"],e):e(jQuery)}((function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}));
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('jqueryui-amd/widget',["jquery","./version"],t):t(jQuery)}((function(t){var e,i=0,s=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(s,(function(e,s){t.isFunction(s)?r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}():r[e]=s})),o.prototype=t.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)})),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each((function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r))!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each((function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(n,o){var a,r;for(r=0;r<n.length;r++)a=s.classesElementLookup[n[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),s.classesElementLookup[n[r]]=a,i.push(n[r]),o&&e.classes[n[r]]&&i.push(e.classes[n[r]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,(function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){var a;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue((function(i){t(this)[e](),o&&o.call(s[0]),i()}))}})),t.widget}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 *
 * This is a fork of the i18n Require.js plugin.
 * It makes minor chnages to the way the default locale is determined and to the way bundles are merged
 *
 * @license RequireJS i18n 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */
!function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^/]*)\/?([^/]*)/;function n(e,n,o,a,r,t,l){if(n[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),n[e]){if(o.push(e),!0===n[e]||1===n[e]){var u=l?l+e:e;a.push(r+u+"/"+t)}return!0}return!1}function o(e){return"object"==typeof e}function a(e,n){for(var r=Object.keys(n),t=0;t<r.length;t++){var l=r[t];null==e[l]?e[l]=n[l]:o(n[l])&&o(e[l])&&a(e[l],n[l])}}vanilla.define('ojL10n',["module"],function(o){var r=o.config?o.config():{};return{version:"2.0.1+",load:function(o,t,l,u){var c;(u=u||{}).locale&&(r.locale=u.locale);var i,f,s,v,g,h,p,d,y,m,L,O=e.exec(o),_=O[1],b=O[5],j=[],H={},k="";O[5]?(c=(_=O[1])+b,i=O[4]):(c=o,b=O[4],i=r.locale,"undefined"!=typeof document?(i||(i=u.isBuild?"root":document.documentElement.lang)||(i=void 0===navigator?"root":navigator.systemLanguage||navigator.language||navigator.userLanguage||"root"),r.locale=i):i="root"),f=function(e){var n,o=e.toLowerCase().split(/-|_/),a=[o[0]],r=1;for(n=1;n<o.length;n++){var t=o[n],l=t.length;if(1===l)break;switch(r){case 1:if(r=2,4===l){a.push(t.charAt(0).toUpperCase()+t.slice(1));break}case 2:r=3,a.push(t.toUpperCase());break;default:a.push(t)}}return function(e){if("zh"!==e[0]||e.length>1&&4===e[1].length)return;var n="Hans",o=e.length>1?e[1]:null;"TW"!==o&&"MO"!==o&&"HK"!==o||(n="Hant");e.splice(1,0,n)}(a),a}(i),v=r.noOverlay,g=r.defaultNoOverlayLocale;var x=r.localePrefix;for((y=r.merge)&&(h=y[_+b])&&(O=e.exec(h),p=O[1],d=O[4]),m=[],s=0;s<f.length;s++)k+=(k?"-":"")+f[s],m.push(k);u.isBuild?(j.push(c),h&&j.push(h),t(j,function(){l()})):("query"===r.includeLocale&&(c=t.toUrl(c+".js"),c+=(-1===c.indexOf("?")?"?":"&")+"loc="+i),L=[c],h&&L.push(h),t(L,function(e,o){var r=[],u=function(e,o,a){for(var t=v||!0===e.__noOverlay,l=g||e.__defaultNoOverlayLocale,u=!1,c=m.length-1;c>=0&&(!u||!t);c--)u=n(m[c],e,r,j,o,a,x);var i=1===m.length&&"root"===m[0];t&&(i||!u)&&l&&n(l,e,r,j,o,a,x),i||n("root",e,r,j,o,a,x)};u(e,_,b);var c=r.length;o&&u(o,p,d),t(j,function(){var n=function(e,n,o,l,u){for(var c=n;c<o&&r[c];c++){var i=r[c],f=x?x+i:i,s=e[i];!0!==s&&1!==s||(s=t(l+f+"/"+u)),a(H,s||{})}};n(o,c,r.length,p,d),n(e,0,c,_,b),H._ojLocale_=f.join("-"),l(H)})}))}}})}();
vanilla.define('ojtranslations/nls/ojtranslations',{
    root: {
        'oj-message': {
            fatal: 'Fatal',
            error: 'Error',
            warning: 'Warning',
            info: 'Info',
            confirmation: 'Confirmation',
            'compact-type-summary': '{0}: {1}'
        },
        'oj-converter': {
            summary: 'Value is not in the expected format.',
            detail: 'Enter a value in the expected format.',
            'plural-separator': ', ',
            hint: {
                summary: 'Example: {exampleValue}',
                detail: "Enter a value in this format: '{exampleValue}'.",
                'detail-plural': "Enter a value in these formats: '{exampleValue}'."
            },
            optionHint: {
                detail: "An accepted value for option '{propertyName}' is '{propertyValueValid}'.",
                'detail-plural':
                    "Accepted values for option '{propertyName}' are '{propertyValueValid}'."
            },
            optionTypesMismatch: {
                summary:
                    "A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."
            },
            optionTypeInvalid: {
                summary:
                    "A value of the expected type was not provided for option '{propertyName}'."
            },
            optionOutOfRange: {
                summary: "Value {propertyValue} is out of range for the option '{propertyName}'."
            },
            optionValueInvalid: {
                summary:
                    "An invalid value '{propertyValue}' was specified for the option '{propertyName}'."
            },
            number: {
                decimalFormatMismatch: {
                    summary: 'The provided value is not in the expected number format.'
                },
                shortLongUnsupportedParse: {
                    summary: "'short' and 'long' are not supported for converter parsing.",
                    detail:
                        "Change component to readonly. readonly fields do not call the converter's parse function."
                },
                currencyFormatMismatch: {
                    summary: 'The provided value is not in the expected currency format.'
                },
                percentFormatMismatch: {
                    summary: 'The provided value is not in the expected percent format.'
                },
                invalidNumberFormat: {
                    summary: 'The provided value is not a valid number.',
                    detail: 'Please provide valid number.'
                }
            },
            color: {
                invalidFormat: {
                    summary: 'Invalid color format.',
                    detail: 'Invalid color format option specification.'
                },
                invalidSyntax: {
                    summary: 'Invalid color specification.',
                    detail: 'Enter a color value that conforms to the CSS3 standard.'
                }
            },
            datetime: {
                datetimeOutOfRange: {
                    summary: "Value '{value}' is out of range for the '{propertyName}'.",
                    detail: "Enter a value between '{minValue}' and '{maxValue}'.",
                    hour: 'hour',
                    minute: 'minute',
                    second: 'second',
                    millisec: 'millisec',
                    month: 'month',
                    day: 'day',
                    year: 'year',
                    'month name': 'month name',
                    weekday: 'weekday'
                },
                dateFormatMismatch: {
                    summary: 'The provided value is not in the expected date format.'
                },
                invalidTimeZoneID: {
                    summary: 'Invalid timezone id {timeZoneID} provided.'
                },
                nonExistingTime: {
                    summary:
                        'The input time does not exist because it falls during the transition to daylight saving time.'
                },
                missingTimeZoneData: {
                    summary:
                        "TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data."
                },
                timeFormatMismatch: {
                    summary: 'The provided value is not in the expected time format.'
                },
                datetimeFormatMismatch: {
                    summary: 'The provided value is not in the expected date and time format.'
                },
                dateToWeekdayMismatch: {
                    summary: "Day '{date}' does not fall on a '{weekday}'.",
                    detail: 'Enter a weekday that corresponds with the date.'
                },
                invalidISOString: {
                    invalidRangeSummary:
                        "The value '{value}' is out of range for the '{propertyName}' field in the ISO 8601 string '{isoStr}'.",
                    summary: "The provided '{isoStr}' is not a valid ISO 8601 string.",
                    detail: 'Please provide valid ISO 8601 string.'
                }
            }
        },
        'oj-validator': {
            length: {
                hint: {
                    min: 'Enter {min} or more characters.',
                    max: 'Enter {max} or fewer characters.',
                    inRange: 'Enter {min} to {max} characters.',
                    exact: 'Enter {length} characters.'
                },
                messageDetail: {
                    tooShort: 'Enter {min} or more characters.',
                    tooLong: 'Enter no more than {max} characters.'
                },
                messageSummary: {
                    tooShort: 'There are too few characters.',
                    tooLong: 'There are too many characters.'
                }
            },
            range: {
                number: {
                    hint: {
                        min: 'Enter a number greater than or equal to {min}.',
                        max: 'Enter a number less than or equal to {max}.',
                        inRange: 'Enter a number between {min} and {max}.',
                        exact: 'Enter the number {num}.'
                    },
                    messageDetail: {
                        rangeUnderflow: 'Enter {min} or a higher number.',
                        rangeOverflow: 'Enter {max} or a lower number.',
                        exact: 'Enter the number {num}.'
                    },
                    messageSummary: {
                        rangeUnderflow: 'The number is too low.',
                        rangeOverflow: 'The number is too high.'
                    }
                },
                datetime: {
                    hint: {
                        min: 'Enter a date and time on or after {min}.',
                        max: 'Enter a date and time on or before {max}.',
                        inRange: 'Enter a date and time between {min} and {max}.'
                    },
                    messageDetail: {
                        rangeUnderflow: 'Enter a date on or after {min}.',
                        rangeOverflow: 'Enter a date on or before {max}.'
                    },
                    messageSummary: {
                        rangeUnderflow: 'Date and time is earlier than the minimum date and time.',
                        rangeOverflow: 'Date and time is later than the maximum date and time.'
                    }
                },
                date: {
                    hint: {
                        min: 'Enter a date on or after {min}.',
                        max: 'Enter a date on or before {max}.',
                        inRange: 'Enter a date between {min} and {max}.'
                    },
                    messageDetail: {
                        rangeUnderflow: 'Enter a date on or after {min}.',
                        rangeOverflow: 'Enter a date on or before {max}.'
                    },
                    messageSummary: {
                        rangeUnderflow: 'Date is earlier than the minimum date.',
                        rangeOverflow: 'Date is later than the maximum date.'
                    }
                },
                time: {
                    hint: {
                        min: 'Enter a time on or after {min}.',
                        max: 'Enter a time on or before {max}.',
                        inRange: 'Enter a time between {min} and {max}.'
                    },
                    messageDetail: {
                        rangeUnderflow: 'Enter a time at or after {min}.',
                        rangeOverflow: 'Enter a time at or before {max}.'
                    },
                    messageSummary: {
                        rangeUnderflow: 'Time is earlier than the minimum time.',
                        rangeOverflow: 'Time is later than the maximum time.'
                    }
                }
            },
            restriction: {
                date: {
                    messageSummary: 'Date {value} is of a disabled entry.',
                    messageDetail: "The date you selected isn't available. Try another date."
                }
            },
            regExp: {
                summary: 'Format is incorrect.',
                detail: "Enter allowable values described in this regular expression: '{pattern}'."
            },
            required: {
                summary: 'Value is required.',
                detail: 'Enter a value.'
            }
        },
        'oj-ojEditableValue': {
            loading: 'Loading',
            requiredText: 'Required',
            helpSourceText: 'Learn more...'
        },
        'oj-ojInputDate': {
            done: 'Done',
            cancel: 'Cancel',
            prevText: 'Previous',
            nextText: 'Next',
            currentText: 'Today',
            weekHeader: 'Wk',
            tooltipCalendar: 'Select Date.',
            tooltipCalendarTime: 'Select Date Time.',
            tooltipCalendarDisabled: 'Select Date Disabled.',
            tooltipCalendarTimeDisabled: 'Select Date Time Disabled.',
            picker: 'Picker',
            weekText: 'Week',
            datePicker: 'Date Picker',
            inputHelp: 'Press Key down or Key up for access to Calendar.',
            inputHelpBoth:
                'Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down.',
            dateTimeRange: {
                hint: {
                    min: '',
                    max: '',
                    inRange: ''
                },
                messageDetail: {
                    rangeUnderflow: '',
                    rangeOverflow: ''
                },
                messageSummary: {
                    rangeUnderflow: '',
                    rangeOverflow: ''
                }
            },
            dateRestriction: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            }
        },
        'oj-ojInputTime': {
            cancelText: 'Cancel',
            okText: 'OK',
            currentTimeText: 'Now',
            hourWheelLabel: 'Hour',
            minuteWheelLabel: 'Minute',
            ampmWheelLabel: 'AMPM',
            tooltipTime: 'Select Time.',
            tooltipTimeDisabled: 'Select Time Disabled.',
            inputHelp: 'Press Key down or Key up for access to time drop down.',
            dateTimeRange: {
                hint: {
                    min: '',
                    max: '',
                    inRange: ''
                },
                messageDetail: {
                    rangeUnderflow: '',
                    rangeOverflow: ''
                },
                messageSummary: {
                    rangeUnderflow: '',
                    rangeOverflow: ''
                }
            }
        },
        'oj-inputBase': {
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            },
            regexp: {
                messageSummary: '',
                messageDetail: ''
            },
            accessibleMaxLengthExceeded: 'Maximum length {len} exceeded.',
            accessibleMaxLengthRemaining: '{chars} characters left.'
        },
        'oj-ojInputPassword': {
            regexp: {
                messageDetail: "Value must match this pattern: '{pattern}'."
            },
            accessibleShowPassword: 'Show password.',
            accessibleHidePassword: 'Hide password.'
        },
        'oj-ojFilmStrip': {
            labelAccFilmStrip: 'Displaying page {pageIndex} of {pageCount}',
            labelAccArrowNextPage: 'Select Next to display next page',
            labelAccArrowPreviousPage: 'Select Previous to display previous page',
            tipArrowNextPage: 'Next',
            tipArrowPreviousPage: 'Previous'
        },
        'oj-ojDataGrid': {
            accessibleSortAscending: '{id} sorted in ascending order',
            accessibleSortDescending: '{id} sorted in descending order',
            accessibleActionableMode: 'Enter actionable mode.',
            accessibleNavigationMode:
                'Enter navigation mode, press F2 to enter edit or actionable mode.',
            accessibleEditableMode:
                'Enter editable mode, press escape to navigate outside the data grid.',
            accessibleSummaryExact: 'This is a data grid with {rownum} rows and {colnum} columns',
            accessibleSummaryEstimate:
                'This is a data grid with unknown number of rows and columns',
            accessibleSummaryExpanded: 'There are currently {num} rows expanded',
            accessibleRowExpanded: 'Row expanded',
            accessibleRowCollapsed: 'Row collapsed',
            accessibleRowSelected: 'Row {row} selected',
            accessibleColumnSelected: 'Column {column} selected',
            accessibleStateSelected: 'selected',
            accessibleMultiCellSelected: '{num} cells selected',
            accessibleColumnSpanContext: '{extent} wide',
            accessibleRowSpanContext: '{extent} high',
            accessibleRowContext: 'Row {index}',
            accessibleColumnContext: 'Column {index}',
            accessibleRowHeaderContext: 'Row Header {index}',
            accessibleColumnHeaderContext: 'Column Header {index}',
            accessibleRowEndHeaderContext: 'Row End Header {index}',
            accessibleColumnEndHeaderContext: 'Column End Header {index}',
            accessibleRowHeaderLabelContext: 'Row Header Label {level}',
            accessibleColumnHeaderLabelContext: 'Column Header Label {level}',
            accessibleRowEndHeaderLabelContext: 'Row End Header Label {level}',
            accessibleColumnEndHeaderLabelContext: 'Column End Header Label {level}',
            accessibleLevelContext: 'Level {level}',
            accessibleRangeSelectModeOn: 'Add selected range of cells mode on.',
            accessibleRangeSelectModeOff: 'Add selected range of cells mode off.',
            accessibleFirstRow: 'You have reached the first row.',
            accessibleLastRow: 'You have reached the last row.',
            accessibleFirstColumn: 'You have reached the first column',
            accessibleLastColumn: 'You have reached the last column.',
            accessibleSelectionAffordanceTop: 'Top selection handle.',
            accessibleSelectionAffordanceBottom: 'Bottom selection handle.',
            msgFetchingData: 'Fetching Data...',
            msgNoData: 'No items to display.',
            labelResize: 'Resize',
            labelResizeWidth: 'Resize Width',
            labelResizeHeight: 'Resize Height',
            labelSortRow: 'Sort Row',
            labelSortRowAsc: 'Sort Row Ascending',
            labelSortRowDsc: 'Sort Row Descending',
            labelSortCol: 'Sort Column',
            labelSortColAsc: 'Sort Column Ascending',
            labelSortColDsc: 'Sort Column Descending',
            labelCut: 'Cut',
            labelPaste: 'Paste',
            labelEnableNonContiguous: 'Enable Non-Contiguous Selection',
            labelDisableNonContiguous: 'Disable Non-Contiguous Selection',
            labelResizeDialogSubmit: 'OK',
            labelResizeDialogCancel: 'Cancel',
            accessibleContainsControls: 'Contains Controls'
        },
        'oj-ojRowExpander': {
            accessibleLevelDescription: 'Level {level}',
            accessibleRowDescription: 'Level {level}, Row {num} of {total}',
            accessibleRowExpanded: 'Row expanded',
            accessibleRowCollapsed: 'Row collapsed',
            accessibleStateExpanded: 'expanded',
            accessibleStateCollapsed: 'collapsed'
        },
        'oj-ojListView': {
            msgFetchingData: 'Fetching Data...',
            msgNoData: 'No items to display.',
            msgItemsAppended: '{count} items appended to the end.',
            indexerCharacters: 'A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z',
            accessibleReorderTouchInstructionText:
                'Double tap and hold.  Wait for the sound then drag to rearrange.',
            accessibleReorderBeforeItem: 'Before {item}',
            accessibleReorderAfterItem: 'After {item}',
            accessibleReorderInsideItem: 'Into {item}',
            accessibleNavigateSkipItems: 'Skipping {numSkip} items',
            labelCut: 'Cut',
            labelCopy: 'Copy',
            labelPaste: 'Paste',
            labelPasteBefore: 'Paste Before',
            labelPasteAfter: 'Paste After'
        },
        'oj-_ojLabel': {
            tooltipHelp: 'Help',
            tooltipRequired: 'Required'
        },
        'oj-ojLabel': {
            tooltipHelp: 'Help',
            tooltipRequired: 'Required'
        },
        'oj-ojInputNumber': {
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            },
            numberRange: {
                hint: {
                    min: '',
                    max: '',
                    inRange: '',
                    exact: ''
                },
                messageDetail: {
                    rangeUnderflow: '',
                    rangeOverflow: '',
                    exact: ''
                },
                messageSummary: {
                    rangeUnderflow: '',
                    rangeOverflow: ''
                }
            },
            tooltipDecrement: 'Decrement',
            tooltipIncrement: 'Increment'
        },
        'oj-ojTable': {
            accessibleColumnContext: 'Column {index}',
            accessibleColumnFooterContext: 'Column Footer {index}',
            accessibleColumnHeaderContext: 'Column Header {index}',
            accessibleRowContext: 'Row {index}',
            accessibleSortable: '{id} sortable',
            accessibleSortAscending: '{id} sorted in ascending order',
            accessibleSortDescending: '{id} sorted in descending order',
            accessibleStateSelected: 'selected',
            labelAccSelectionAffordanceTop: 'Top selection handle',
            labelAccSelectionAffordanceBottom: 'Bottom selection handle',
            labelEnableNonContiguousSelection: 'Enable Non-Contiguous Selection',
            labelDisableNonContiguousSelection: 'Disable Non-Contiguous Selection',
            labelResize: 'Resize',
            labelResizePopupSubmit: 'OK',
            labelResizePopupCancel: 'Cancel',
            labelResizePopupSpinner: 'Resize Column',
            labelSelectRow: 'Select Row',
            labelEditRow: 'Edit Row',
            labelSelectAndEditRow: 'Select And Edit Row',
            labelSelectColumn: 'Select Column',
            labelSort: 'Sort',
            labelSortAsc: 'Sort Ascending',
            labelSortDsc: 'Sort Descending',
            msgFetchingData: 'Fetching Data...',
            msgNoData: 'No data to display.',
            msgInitializing: 'Initializing...',
            msgColumnResizeWidthValidation: 'Width value must be an integer.',
            msgScrollPolicyMaxCountSummary: 'Exceeded maximum rows for table scrolling.',
            msgScrollPolicyMaxCountDetail: 'Please reload with smaller data set.',
            msgStatusSortAscending: '{0} sorted in ascending order.',
            msgStatusSortDescending: '{0} sorted in descending order.'
        },
        'oj-ojTabs': {
            labelCut: 'Cut',
            labelPasteBefore: 'Paste Before',
            labelPasteAfter: 'Paste After',
            labelRemove: 'Remove',
            labelReorder: 'Reorder',
            removeCueText: 'Removable'
        },
        'oj-ojCheckboxset': {
            readonlyNoValue: '',
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            }
        },
        'oj-ojRadioset': {
            readonlyNoValue: '',
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            }
        },
        'oj-ojSelect': {
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            },
            searchField: 'Search field',
            noMatchesFound: 'No matches found',
            noMoreResults: 'No more results',
            oneMatchesFound: 'One match found',
            moreMatchesFound: '{num} matches found',
            filterFurther: 'More results available, please filter further.'
        },
        'oj-ojSwitch': {
            SwitchON: 'On',
            SwitchOFF: 'Off'
        },
        'oj-ojCombobox': {
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            },
            noMatchesFound: 'No matches found',
            noMoreResults: 'No more results',
            oneMatchesFound: 'One match found',
            moreMatchesFound: '{num} matches found',
            filterFurther: 'More results available, please filter further.'
        },
        'oj-ojSelectSingle': {
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            },
            noMatchesFound: 'No matches found',
            oneMatchFound: 'One match found',
            multipleMatchesFound: '{num} matches found',
            nOrMoreMatchesFound: '{num} or more matches found',
            cancel: 'Cancel',
            labelAccOpenDropdown: 'expand',
            labelAccClearValue: 'clear value',
            noResultsLine1: 'No results found',
            noResultsLine2: "We can't find anything matching your search."
        },
        'oj-ojInputSearch2': {
            cancel: 'Cancel'
        },
        'oj-ojInputSearch': {
            required: {
                hint: '',
                messageSummary: '',
                messageDetail: ''
            },
            noMatchesFound: 'No matches found',
            oneMatchesFound: 'One match found',
            moreMatchesFound: '{num} matches found'
        },
        'oj-ojTreeView': {
            treeViewSelectorAria: 'TreeView Selector {rowKey}'
        },
        'oj-ojTree': {
            stateLoading: 'Loading...',
            labelNewNode: 'New Node',
            labelMultiSelection: 'Multiple Selection',
            labelEdit: 'Edit',
            labelCreate: 'Create',
            labelCut: 'Cut',
            labelCopy: 'Copy',
            labelPaste: 'Paste',
            labelPasteAfter: 'Paste After',
            labelPasteBefore: 'Paste Before',
            labelRemove: 'Remove',
            labelRename: 'Rename',
            labelNoData: 'No data'
        },
        'oj-ojPagingControl': {
            labelAccPaging: 'Pagination',
            labelAccPageNumber: 'Page {pageNum} content loaded',
            labelAccNavFirstPage: 'First Page',
            labelAccNavLastPage: 'Last Page',
            labelAccNavNextPage: 'Next Page',
            labelAccNavPreviousPage: 'Previous Page',
            labelAccNavPage: 'Page',
            labelLoadMore: 'Show More...',
            labelLoadMoreMaxRows: 'Reached Maximum Limit of {maxRows} rows',
            labelNavInputPage: 'Page',
            labelNavInputPageMax: 'of {pageMax}',
            fullMsgItemRange: '{pageFrom}-{pageTo} of {pageMax} items',
            fullMsgItemRangeAtLeast: '{pageFrom}-{pageTo} of at least {pageMax} items',
            fullMsgItemRangeApprox: '{pageFrom}-{pageTo} of approx {pageMax} items',
            msgItemRangeNoTotal: '{pageFrom}-{pageTo} items',
            fullMsgItem: '{pageTo} of {pageMax} items',
            fullMsgItemAtLeast: '{pageTo} of at least {pageMax} items',
            fullMsgItemApprox: '{pageTo} of approx {pageMax} items',
            msgItemNoTotal: '{pageTo} items',
            msgItemRangeCurrent: '{pageFrom}-{pageTo}',
            msgItemRangeCurrentSingle: '{pageFrom}',
            msgItemRangeOf: 'of',
            msgItemRangeOfAtLeast: 'of at least',
            msgItemRangeOfApprox: 'of approx.',
            msgItemRangeItems: 'items',
            tipNavInputPage: 'Go To Page',
            tipNavPageLink: 'Go To Page {pageNum}',
            tipNavNextPage: 'Next',
            tipNavPreviousPage: 'Previous',
            tipNavFirstPage: 'First',
            tipNavLastPage: 'Last',
            pageInvalid: {
                summary: 'The page value entered is invalid.',
                detail: 'Please enter a value greater than 0.'
            },
            maxPageLinksInvalid: {
                summary: 'Value for maxPageLinks is invalid.',
                detail: 'Please enter a value greater than 4.'
            }
        },
        'oj-ojMasonryLayout': {
            labelCut: 'Cut',
            labelPasteBefore: 'Paste Before',
            labelPasteAfter: 'Paste After'
        },
        'oj-panel': {
            labelAccButtonExpand: 'Expand',
            labelAccButtonCollapse: 'Collapse',
            labelAccButtonRemove: 'Remove',
            labelAccFlipForward: 'Flip forward',
            labelAccFlipBack: 'Flip back',
            tipDragToReorder: 'Drag to reorder',
            labelAccDragToReorder: 'Drag to reorder, context menu available'
        },
        'oj-ojChart': {
            labelDefaultGroupName: 'Group {0}',
            labelSeries: 'Series',
            labelGroup: 'Group',
            labelDate: 'Date',
            labelValue: 'Value',
            labelTargetValue: 'Target',
            labelX: 'X',
            labelY: 'Y',
            labelZ: 'Z',
            labelPercentage: 'Percentage',
            labelLow: 'Low',
            labelHigh: 'High',
            labelOpen: 'Open',
            labelClose: 'Close',
            labelVolume: 'Volume',
            labelQ1: 'Q1',
            labelQ2: 'Q2',
            labelQ3: 'Q3',
            labelMin: 'Min',
            labelMax: 'Max',
            labelOther: 'Other',
            tooltipPan: 'Pan',
            tooltipSelect: 'Marquee select',
            tooltipZoom: 'Marquee zoom',
            componentName: 'Chart'
        },
        'oj-dvtBaseGauge': {
            componentName: 'Gauge'
        },
        'oj-ojDiagram': {
            promotedLink: '{0} link',
            promotedLinks: '{0} links',
            promotedLinkAriaDesc: 'Indirect',
            componentName: 'Diagram'
        },
        'oj-ojGantt': {
            componentName: 'Gantt',
            accessibleDurationDays: '{0} days',
            accessibleDurationHours: '{0} hours',
            accessibleTaskInfo: 'Start time is {0}, end time is {1}, duration is {2}',
            accessibleMilestoneInfo: 'Time is {0}',
            accessibleRowInfo: 'Row {0}',
            accessibleTaskTypeMilestone: 'Milestone',
            accessibleTaskTypeSummary: 'Summary',
            accessiblePredecessorInfo: '{0} predecessors',
            accessibleSuccessorInfo: '{0} successors',
            accessibleDependencyInfo: 'Dependency type {0}, connects {1} to {2}',
            startStartDependencyAriaDesc: 'start to start',
            startFinishDependencyAriaDesc: 'start to finish',
            finishStartDependencyAriaDesc: 'finish to start',
            finishFinishDependencyAriaDesc: 'finish to finish',
            tooltipZoomIn: 'Zoom In',
            tooltipZoomOut: 'Zoom Out',
            labelLevel: 'Level',
            labelRow: 'Row',
            labelStart: 'Start',
            labelEnd: 'End',
            labelDate: 'Date',
            labelBaselineStart: 'Baseline Start',
            labelBaselineEnd: 'Baseline End',
            labelBaselineDate: 'Baseline Date',
            labelLabel: 'Label',
            labelProgress: 'Progress',
            labelMoveBy: 'Move By',
            labelResizeBy: 'Resize By',
            taskMoveInitiated: 'Task move initiated',
            taskResizeEndInitiated: 'Task resize end initiated',
            taskResizeStartInitiated: 'Task resize start initiated',
            taskMoveSelectionInfo: '{0} others selected',
            taskResizeSelectionInfo: '{0} others selected',
            taskMoveInitiatedInstruction: 'Use the arrow keys to move',
            taskResizeInitiatedInstruction: 'Use the arrow keys to resize',
            taskMoveFinalized: 'Task move finalized',
            taskResizeFinalized: 'Task resize finalized',
            taskMoveCancelled: 'Task move cancelled',
            taskResizeCancelled: 'Task resize cancelled',
            taskResizeStartHandle: 'Task resize start handle',
            taskResizeEndHandle: 'Task resize end handle'
        },
        'oj-ojLegend': {
            componentName: 'Legend',
            tooltipExpand: 'Expand',
            tooltipCollapse: 'Collapse'
        },
        'oj-ojNBox': {
            highlightedCount: '{0}/{1}',
            labelOther: 'Other',
            labelGroup: 'Group',
            labelSize: 'Size',
            labelAdditionalData: 'Additional Data',
            componentName: '{0} Box'
        },
        'oj-ojPictoChart': {
            componentName: 'Picture Chart'
        },
        'oj-ojSparkChart': {
            componentName: 'Chart'
        },
        'oj-ojSunburst': {
            labelColor: 'Color',
            labelSize: 'Size',
            tooltipExpand: 'Expand',
            tooltipCollapse: 'Collapse',
            componentName: 'Sunburst'
        },
        'oj-ojTagCloud': {
            componentName: 'Tag Cloud'
        },
        'oj-ojThematicMap': {
            componentName: 'Thematic Map',
            areasRegion: 'Areas',
            linksRegion: 'Links',
            markersRegion: 'Markers'
        },
        'oj-ojTimeAxis': {
            componentName: 'Time Axis'
        },
        'oj-ojTimeline': {
            componentName: 'Timeline',
            accessibleItemDesc: 'Description is {0}.',
            accessibleItemEnd: 'End time is {0}.',
            accessibleItemStart: 'Start time is {0}.',
            accessibleItemTitle: 'Title is {0}.',
            labelSeries: 'Series',
            tooltipZoomIn: 'Zoom In',
            tooltipZoomOut: 'Zoom Out',
            labelStart: 'Start',
            labelEnd: 'End',
            labelDate: 'Date',
            labelTitle: 'Title',
            labelDescription: 'Description'
        },
        'oj-ojTreemap': {
            labelColor: 'Color',
            labelSize: 'Size',
            tooltipIsolate: 'Isolate',
            tooltipRestore: 'Restore',
            componentName: 'Treemap'
        },
        'oj-dvtBaseComponent': {
            labelScalingSuffixThousand: 'K',
            labelScalingSuffixMillion: 'M',
            labelScalingSuffixBillion: 'B',
            labelScalingSuffixTrillion: 'T',
            labelScalingSuffixQuadrillion: 'Q',
            labelInvalidData: 'Invalid data',
            labelNoData: 'No data to display',
            labelClearSelection: 'Clear Selection',
            labelDataVisualization: 'Data Visualization',
            stateSelected: 'Selected',
            stateUnselected: 'Unselected',
            stateMaximized: 'Maximized',
            stateMinimized: 'Minimized',
            stateExpanded: 'Expanded',
            stateCollapsed: 'Collapsed',
            stateIsolated: 'Isolated',
            stateHidden: 'Hidden',
            stateVisible: 'Visible',
            stateDrillable: 'Drillable',
            labelAndValue: '{0}: {1}',
            labelCountWithTotal: '{0} of {1}'
        },
        'oj-ojNavigationList': {
            defaultRootLabel: 'Navigation List',
            hierMenuBtnLabel: 'Hierarchical Menu button',
            selectedLabel: 'selected',
            previousIcon: 'Previous',
            msgFetchingData: 'Fetching Data...',
            msgNoData: 'No items to display.',
            overflowItemLabel: 'More',
            accessibleReorderTouchInstructionText:
                'Double tap and hold.  Wait for the sound then drag to rearrange.',
            accessibleReorderBeforeItem: 'Before {item}',
            accessibleReorderAfterItem: 'After {item}',
            labelCut: 'Cut',
            labelPasteBefore: 'Paste Before',
            labelPasteAfter: 'Paste After',
            labelRemove: 'Remove',
            removeCueText: 'Removable'
        },
        'oj-ojSlider': {
            noValue: 'ojSlider has no value',
            maxMin: 'Max must not be less than or equal to min',
            startEnd: 'value.start must not be greater than value.end',
            valueRange: 'Value must be within min to max range',
            optionNum: '{option} option is not a number',
            invalidStep: 'Invalid step; step must be > 0',
            lowerValueThumb: 'lower value thumb',
            higherValueThumb: 'higher value thumb'
        },
        'oj-ojDialog': {
            labelCloseIcon: 'Close'
        },
        'oj-ojPopup': {
            ariaLiveRegionInitialFocusFirstFocusable:
                'Entering pop-up. Press F6 to navigate between the pop-up and associated control.',
            ariaLiveRegionInitialFocusNone:
                'Pop-up opened. Press F6 to navigate between the pop-up and associated control.',
            ariaLiveRegionInitialFocusFirstFocusableTouch:
                'Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.',
            ariaLiveRegionInitialFocusNoneTouch:
                'Pop-up opened. Navigate to the next link to establish focus within the pop-up.',
            ariaFocusSkipLink: 'Double tap to navigate to the open pop-up.',
            ariaCloseSkipLink: 'Double tap to close the open pop-up.'
        },
        'oj-ojRefresher': {
            ariaRefreshLink: 'Activate link to refresh content',
            ariaRefreshingLink: 'Refreshing content',
            ariaRefreshCompleteLink: 'Refresh complete'
        },
        'oj-ojSwipeActions': {
            ariaShowStartActionsDescription: 'Show start actions',
            ariaShowEndActionsDescription: 'Show end actions',
            ariaHideActionsDescription: 'Hide actions'
        },
        'oj-ojIndexer': {
            indexerCharacters: 'A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z',
            indexerOthers: '#',
            ariaDisabledLabel: 'No matching group header',
            ariaOthersLabel: 'number',
            ariaInBetweenText: 'Between {first} and {second}',
            ariaKeyboardInstructionText: 'Press enter to select value.',
            ariaTouchInstructionText:
                'Double tap and hold to enter gesture mode, then drag up or down to adjust value.'
        },
        'oj-ojMenu': {
            labelCancel: 'Cancel',
            ariaFocusSkipLink:
                'Focus is within the menu, double tap or swipe to move focus to the first menu item.'
        },
        'oj-ojColorSpectrum': {
            labelHue: 'Hue',
            labelOpacity: 'Opacity',
            labelSatLum: 'Saturation/Luminance',
            labelThumbDesc: 'Color spectrum four way slider.'
        },
        'oj-ojColorPalette': {
            labelNone: 'None'
        },
        'oj-ojColorPicker': {
            labelSwatches: 'Swatches',
            labelCustomColors: 'Custom Colors',
            labelPrevColor: 'Previous Color',
            labelDefColor: 'Default Color',
            labelDelete: 'Delete',
            labelDeleteQ: 'Delete?',
            labelAdd: 'Add',
            labelAddColor: 'Add color',
            labelMenuHex: 'HEX',
            labelMenuRgba: 'RGBa',
            labelMenuHsla: 'HSLa',
            labelSliderHue: 'Hue',
            labelSliderSaturation: 'Saturation',
            labelSliderSat: 'Sat',
            labelSliderLightness: 'Lightness',
            labelSliderLum: 'Luminosity',
            labelSliderAlpha: 'Alpha',
            labelOpacity: 'Opacity',
            labelSliderRed: 'Red',
            labelSliderGreen: 'Green',
            labelSliderBlue: 'Blue'
        },
        'oj-ojFilePicker': {
            dropzoneText: 'Drop files here or click to upload',
            singleFileUploadError: 'Upload one file at a time.',
            singleFileTypeUploadError: "You can't upload files of type {fileType}.",
            multipleFileTypeUploadError: "You can't upload files of type: {fileTypes}.",
            dropzonePrimaryText: 'Drag and Drop',
            secondaryDropzoneText: 'Select a file or drop one here.',
            secondaryDropzoneTextMultiple: 'Select or drop files here.',
            unknownFileType: 'unknown'
        },
        'oj-ojProgressbar': {
            ariaIndeterminateProgressText: 'In Progress'
        },
        'oj-ojMessage': {
            labelCloseIcon: 'Close',
            categories: {
                error: 'Error',
                warning: 'Warning',
                info: 'Information',
                confirmation: 'Confirmation'
            }
        },
        'oj-ojSelector': {
            checkboxAriaLabel: 'Checkbox Select {rowKey}',
            checkboxAriaLabelSelected: ' selected',
            checkboxAriaLabelUnselected: ' unselected'
        },
        'oj-ojMessages': {
            labelLandmark: 'Messages',
            ariaLiveRegion: {
                navigationFromKeyboard:
                    'Entering messages region. Press F6 to navigate back to prior focused element.',
                navigationToTouch:
                    'Messages region has new messages. Use the voice-over rotor to navigate to the messages landmark.',
                navigationToKeyboard:
                    'Messages region has new messages.  Press F6 to navigate to the most recent message region.',
                newMessage: 'Message category {category}. {summary}. {detail}.'
            }
        },
        'oj-ojConveyorBelt': {
            tipArrowNext: 'Next',
            tipArrowPrevious: 'Previous'
        }
    }
});


/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojconfig',["require","exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/ojtranslations"],function(e,n,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i={};let a=o;i.getDeviceRenderMode=function(){return document.body.getAttribute("data-oj-device-render-mode")||i.getDeviceType()},i.getDeviceType=function(){return t.AgentUtils.getAgentInfo().deviceType},i.getLocale=function(){const e=a._ojLocale_;return"root"===e?"en":e},i.setLocale=function(n,o){var i="ojL10n!ojtranslations/nls/",s=i+n+"/ojtranslations";var u=[new Promise(function(n,t){e([s],function(e){n(r(e))},t)}).then(e=>{a=e})];if(t.LocaleData){var l=i+n+"/localeElements";const o=new Promise(function(n,t){e([l],function(e){n(r(e))},t)}).then(e=>{e&&t.LocaleData.__updateBundle(Object.assign({},e.default))});if(u.push(o),t.TimezoneData){var c=t.TimezoneData.__getBundleNames().map(t=>new Promise(function(o,a){e([`${i}${n}${t}`],function(e){o(r(e))},a)}));u.push(Promise.all(c).then(e=>{e.forEach(t.TimezoneData.__mergeIntoLocaleElements)}))}}Promise.all(u).then(()=>{o&&o()})},i.getResourceUrl=function(e){if(null==e||/^\/|:/.test(e))return e;var n=i._resourceBaseUrl;null==n&&(n=i._getOjBaseUrl()||"");var t=n.length;return n+(0===t||"/"===n.charAt(t-1)?"":"/")+e},i.setResourceBaseUrl=function(e){i._resourceBaseUrl=e},i.setAutomationMode=function(e){i._automationMode=e},i.getAutomationMode=function(){return i._automationMode},i.getVersionInfo=function(){var e="Oracle JET Version: "+t.version+"\n";e+="Oracle JET Revision: "+t.revision+"\n";var n="undefined"!=typeof window;return n&&window.navigator&&(e+="Browser: "+window.navigator.userAgent+"\n",e+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(e+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(e+="jQuery UI Version: "+$.ui.version+"\n")),t.ComponentBinding&&(e+="Knockout Version: "+t.ComponentBinding.__getKnockoutVersion()+"\n"),n&&window.require&&(e+="Require Version: "+window.require.version+"\n"),e},i.logVersionInfo=function(){},i._getOjBaseUrl=function(){var n=null;void 0!==e&&e.toUrl&&(n=e.toUrl("ojs/_foo_").replace(/[^/]*$/,"../"));return n},i.__getTemplateEngine=function(){return i._templateEnginePromise||(i._templateEnginePromise=new Promise(function(n,t){e(["ojs/ojtemplateengine"],function(e){n(r(e))},t)}).then(e=>e.default)),i._templateEnginePromise},i.getConfigBundle=function(){return a},i.getExpressionEvaluator=function(){return i._expressionEvaluator},i.setExpressionEvaluator=function(e){if(i._expressionEvaluator)throw new Error("JET Expression evaluator can't be set more than once.");i._expressionEvaluator=e};const s=i.getDeviceRenderMode,u=i.getDeviceType,l=i.getLocale,c=i.setLocale,f=i.getResourceUrl,g=i.setResourceBaseUrl,d=i.setAutomationMode,p=i.getAutomationMode,v=i.getVersionInfo,m=i.logVersionInfo,_=i.setExpressionEvaluator,E=i.getExpressionEvaluator,j=i.getConfigBundle,w=i.__getTemplateEngine;n.__getTemplateEngine=w,n.getAutomationMode=p,n.getConfigBundle=j,n.getDeviceRenderMode=s,n.getDeviceType=u,n.getExpressionEvaluator=E,n.getLocale=l,n.getResourceUrl=f,n.getVersionInfo=v,n.logVersionInfo=m,n.setAutomationMode=d,n.setExpressionEvaluator=_,n.setLocale=c,n.setResourceBaseUrl=g,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=ojconfig.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojkoshared',["ojs/ojcore-base","knockout","ojs/ojconfig","ojs/ojlogger"],function(e,t,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const i=function(){this.Init()};function o(e,r){return function(i,o,s,a){var u=n.getExpressionEvaluator();return u?function(e,n,r,i){var o=i[e];if(!o){var s=t.expressionRewriting.preProcessBindings(e,n);o=r.createEvaluator("{"+s+"}").evaluate,i[e]=o}return o}(i,a,u,r)([o.$data||{},o,{$element:s}]):e(i,o,s,a)}}e.Object.createSubclass(i,e.Object,"ComponentBinding.GlobalChangeQueue"),i.prototype.Init=function(){i.superclass.Init.call(this),this._trackers=[],this._queue=[]},i.prototype.registerComponentChanges=function(t){-1===this._trackers.indexOf(t)&&(this._trackers.push(t),this._delayTimer||(this._delayTimer=setTimeout(e.Object.createCallback(this,this._deliverChangesImpl),1),this._delayPromise=new Promise(function(e){this._delayPromiseResolver=e}.bind(this))))},i.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},i.prototype.getThrottlePromise=function(){return this._delayPromise||Promise.resolve()},i.prototype._deliverChangesImpl=function(){this._delayTimer=null,this._resolveDelayPromise();var e=this._trackers;this._trackers=[];for(var t=0;t<e.length;t++){var n=e[t];this._queue.push({tracker:n,changes:n.flushChanges()})}for(;this._queue.length>0;){var r=this._queue.shift();r.tracker.applyChanges(r.changes)}},i.prototype._resolveDelayPromise=function(){this._delayPromise&&(this._delayPromiseResolver(),this._delayPromiseResolver=null,this._delayPromise=null)};return(new function(){var e=new WeakMap,s={},a={},u={},c=new i;function l(e){var t,r=n.getExpressionEvaluator();if(r){var i=r.createEvaluator(e).evaluate;return function(e,t){return i([e,e.$data||{},{$element:t}])}}try{t=new Function("$context","$element","with($context.$data||{}){with($context){return "+e+"}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return t}function d(t,n,r){if(!r)return t(n,r);var i,o=e,s=r._ojCacheScope||r;(i=o.get(s))||(i={},o.set(s,i));var a=i[n];return a||(a=t(n,r),i[n]=a),a}function p(e,t,n){var r=t.getBindingsString;if(r)return r.call(t,e,n);switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:var i=e.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return i?i[1]:null;default:return null}}this.install=function(){var e=t.bindingProvider,n=e.instance;if(!n.getBindingAccessors)return r.error("JET's Knockout bindings are not compatible with the current binding provider since it does not implement getBindingAccessors()"),this;var i={getWrapped:function(){return n}};e.instance=i;var c,h,f,g=[];return g.push("getBindingAccessors","nodeHasBindings","getBindings"),g.forEach(function(e){i[e]=function(e,n,r){var i="nodeHasBindings"===n;return function(o){if(i){var a=o.nodeType;if(1!==a&&8!==a)return!1}var u=r(n,e[n]),c=u?u.apply(e,arguments):null,l=s[n];if(null!=l){var d=arguments;l.forEach(function(n){var r=Array.prototype.slice.call(d);r.push(c,e),c=t.ignoreDependencies(n,null,r)})}return c}}(n,e,function(e,r){return"getBindingAccessors"!==e?r:function(e,n){return function(r,i){if(i._ojExtended){var o=p(r,n,i),s=o?function(e,n){return d(function(e){return l("{"+t.expressionRewriting.preProcessBindings(e,{valueAccessors:!0})+"}")},e,n)}(o,i)(i,r):null;if(1===r.nodeType&&t.components.isRegistered(r.tagName.toLowerCase())){var a=e.call(n,r,i).component;a&&((s=s||{}).component=a)}return s}return e.call(n,r,i)}}(r,n)})}),i.preprocessNode=function(e){var n=e.preprocessNode;return function(r){var i,o,s=null;return 1===r.nodeType&&(i=a[r.nodeName.toLowerCase()]),i||(i=n,s=e),i&&(o=t.ignoreDependencies(i,s,[r])),Array.isArray(o)&&(o=function(e,n){var r=t.bindingProvider.instance,i=n.slice(0),o=n[0],s=0,a=0;for(;s>=0;){var u=t.virtualElements.nextSibling(o);if(o!==e){var c=r.preprocessNode(o);Array.isArray(c)&&(i.splice.apply(i,[a,1].concat(c)),a+=c.length-1)}a+=1;var l=s+1;s=(o=u)?n.indexOf(o,l):-1,a+=s-l}return i}(r,o)),o}}(n),c=t.nativeTemplateEngine.prototype,f=c[h="renderTemplateSource"],c[h]=function(e,t,n,r){return f.call(this,e,t,n,r||document)},function(){const e=t.templateSources.domElement.prototype,n=e.nodes;e.nodes=function(){const e=n.apply(this,arguments);return e&&11===e.nodeType?document.importNode(e,!0):e}}(),t.components.loaders.unshift({loadTemplate:function(e,n,r){if("string"==typeof n){var i=t.utils.parseHtmlFragment(n,document);t.components.defaultLoader.loadTemplate(e,i,r)}else r(null)}}),function(e){var n,i=t.bindingProvider.instance;for(;i&&!n;){var s=i.parseBindingsString;s?(n=!0,i.parseBindingsString=o(s.bind(i),e)):i=i.getWrapped?i.getWrapped():null}n||r.error("Unable to patch KO expression evaluation implementation. If you have a custom binding provider, make sure it implements the getWrapped() method that returns the default binding provider instance.")}(u),this},this.addPostprocessor=function(e){Object.keys(e).forEach(function(t){s[t]=s[t]||[],s[t].push(e[t])})},this.registerPreprocessor=function(e,t){a[e]=t},this.getBindingsString=function(e,t,n){return p(e,t,n)},this.extendBindingContext=function(e,t,n,r,i){var o={$current:t,$root:void 0,$parent:void 0,$parents:void 0};return n&&(o[n]=t),r&&(o[r]=t),e?o=e.extend(o):o.$data={},Object.defineProperty(o,"_ojCacheScope",{value:i}),Object.defineProperty(o,"_ojExtended",{value:!0}),o},this.createBindingExpressionEvaluator=function(e,t){if(t._ojExtended)return l(e);var r,i=n.getExpressionEvaluator();if(i){var o=i.createEvaluator(e).evaluate;return function(e){return o([e.$data||{},e])}}try{r=new Function("$context","with($context){with($data||{}){return "+e+";}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return r},this.createEvaluator=function(e,t){return d(this.createBindingExpressionEvaluator,e,t)},this.getGlobalChangeQueue=function(){return c}}).install()});
//# sourceMappingURL=ojkoshared.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojcontext',["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const s=function(e){this._description=e,this._addedWaitTs=s._getTs(),this._id=this._addedWaitTs.toString(36)+"_"+Math.random().toString(36)};e._registerLegacyNamespaceProp("BusyState",s),Object.defineProperties(s.prototype,{id:{get:function(){return this._id},enumerable:!0},description:{get:function(){if(this._description)return this._description instanceof Function?this._description():this._description.toString()},enumerable:!0}}),s.prototype.toString=function(){var e="Busy state: [description=",t=this.description;return null!==t&&(e+=t),e+=", elapsed="+(s._getTs()-this._addedWaitTs)+"]"},s._getTs=function(){return window.performance?window.performance.now():(new Date).getTime()};const o=function(e){this.Init(e)};let n;function i(){return n||(n=new Promise(function(e){window.setImmediate(function(){n=null,e(!0)})})),n}e.Object.createSubclass(o,e.Object,"oj.BusyContext"),e._registerLegacyNamespaceProp("BusyContext",o),o._defaultTimeout=Number.NaN,o.setDefaultTimeout=function(e){isNaN(e)||(o._defaultTimeout=e)},o.prototype.Init=function(e){o.superclass.Init.call(this),this._hostNode=e,this._statesMap=new Map,this._mediator={getMasterWhenReadyPromise:function(){return this._masterWhenReadyPromise||(this._masterWhenReadyPromise=new Promise(this._captureWhenReadyPromiseResolver.bind(this))),this._masterWhenReadyPromise},resolveMasterWhenReadyPromise:function(){this._masterWhenReadyPromiseResolver&&this._masterWhenReadyPromiseResolver(!0),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseResolver=null,this._masterWhenReadyPromiseRejecter=null},rejectMasterWhenReadyPromise:function(e){this._masterWhenReadyPromiseRejecter&&this._masterWhenReadyPromiseRejecter(e),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseRejecter=null,this._masterWhenReadyPromiseResolver=null},getSlaveTimeoutPromise:function(e,t,s){var o,n=new Promise(function(e,n){o=window.setTimeout(function(){n(t())},s)});return this._slaveTimeoutPromiseTimers.push(o),Promise.race([e,n]).finally(this._clearAllSlaveTimeouts.bind(this))},_clearAllSlaveTimeouts:function(){var e=this._slaveTimeoutPromiseTimers;this._slaveTimeoutPromiseTimers=[];for(var t=0;t<e.length;t++)window.clearTimeout(e[t]);return!0},_captureWhenReadyPromiseResolver:function(e,t){this._masterWhenReadyPromiseResolver=e,this._masterWhenReadyPromiseRejecter=t},_slaveTimeoutPromiseTimers:[]}},o._log=function(e){if(t.option("level")===t.LEVEL_LOG){t.log(">> Busy states: %d",e.size);var s=o._values(e);s.length>0&&t.log(s.join("\n"))}},o._values=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},o.prototype.addBusyState=function(e){t.log("BusyContext.addBusyState: start scope='%s'",this._getDebugScope());var n=this._statesMap,i=new s(e[o._DESCRIPTION]);return t.log(">> "+i),n.set(i.id,i),this._addBusyStateToParent(),t.log("BusyContext.addBusyState: end scope='%s'",this._getDebugScope()),this._removeBusyState.bind(this,i)},o.prototype.dump=function(e){t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"");var s=this._statesMap;t.info(">> Busy states: %d",s.size);var n=o._values(s);n.length>0&&t.info(n.join("\n")),t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"")},o.prototype.getBusyStates=function(){var e=this._statesMap;return o._values(e)},o.prototype.clear=function(){t.log("BusyContext.clear: start scope='%s'",this._getDebugScope());for(var e=this._statesMap,s=o._values(e),n=0;n<s.length;n++){var i=s[n];try{this._removeBusyState(i)}catch(e){t.log("BusyContext.clear: %o",e)}Object.defineProperty(i,o._OJ_RIP,{value:!0,enumerable:!1})}t.log("BusyContext.clear: end scope='%s'",this._getDebugScope())},o.prototype.whenReady=function(e){var s=this._getDebugScope();t.log("BusyContext.whenReady: start, scope='%s', timeout=%d",s,e);var n=this._statesMap,r=this._mediator,a=i(),u=o._BOOTSTRAP_MEDIATOR.whenReady();const l=r.getMasterWhenReadyPromise();var c=Promise.all([a,u]).then(function(){t.log("BusyContext.whenReady: bootstrap mediator ready scope=%s",s);try{o._deliverThrottledUpdates()}catch(e){throw t.error("Fatal exception delivering binding updates: %o",e),e}return 0!==n.size||this._waitingOnNextTickBusynessEval||(t.log("BusyContext.whenReady: resolved no busy states scope=%s",s),r.resolveMasterWhenReadyPromise()),t.log("BusyContext.whenReady: busy states returning master scope=%s",s),l}.bind(this));if(isNaN(e)&&!isNaN(o._defaultTimeout)&&(e=o._defaultTimeout),!isNaN(e)){c=r.getSlaveTimeoutPromise(c,function(){var i,r="whenReady timeout of "+e+"ms expired ";o._log(n);var a=o._values(n);return(i=o._BOOTSTRAP_MEDIATOR.isReady()?new Error(r+"with the following busy states: "+a.join(", ")):new Error(r+'while the application is loading. Busy state enabled by setting the "window.oj_whenReady = true;" global variable. Application bootstrap busy state is released by calling "oj.Context.getPageContext().getBusyContext().applicationBootstrapComplete();".')).busyStates=a,t.log("BusyContext.whenReady: rejected scope='%s'\n%s",s,i.message),i},e)}return t.log("BusyContext.whenReady: end scope='%s'",this._getDebugScope()),c},o.prototype.isReady=function(){t.log("BusyContext.isReady: start scope='%s'",this._getDebugScope());var e=!1;if(o._BOOTSTRAP_MEDIATOR.isReady()&&!this._waitingOnNextTickBusynessEval){var s=this._statesMap;e=0===s.size,o._log(s)}return t.log("BusyContext.isReady: end scope='%s'",this._getDebugScope()),e},o.prototype._removeBusyState=function(e){var s=this._getDebugScope();t.log("BusyContext._removeBusyState: start scope='%s'",s);var n=this._statesMap;if(e[o._OJ_RIP])t.log("Busy state has been forcefully resolved via clear:\n"+e);else{if(!n.delete(e.id))throw new Error("Busy state has already been resolved:\n"+e);t.log("BusyContext._removeBusyState: resolving busy state:\n"+e),0!==n.size||this._waitingOnNextTickBusynessEval||(this._waitingOnNextTickBusynessEval=!0,i().then(this._evalBusyness.bind(this))),t.log("BusyContext._removeBusyState: end scope='%s'",s)}},o.prototype._evalBusyness=function(){var e=this._getDebugScope();t.log("BusyContext._evalBusyness: begin scope='%s'",e);try{o._deliverThrottledUpdates()}catch(e){return t.error("Fatal exception delivering binding updates: %o",e),this._waitingOnNextTickBusynessEval=!1,void this._rejectWhenReadyPromises(e)}var s=this._statesMap,n=this._mediator;this._waitingOnNextTickBusynessEval=!1,0===s.size?(t.log("BusyContext._evalBusyness: resolving whenReady promises"),n.resolveMasterWhenReadyPromise(),this._resolveBusyStateForParent()):o._log(s),t.log("BusyContext._evalBusyness: end scope='%s'",e)},o.prototype.applicationBootstrapComplete=function(){var e=this._getDebugScope();t.log("BusyContext.applicationBootstrapComplete: begin scope='%s'",e),o._BOOTSTRAP_MEDIATOR.notifyComplete(),t.log("BusyContext.applicationBootstrapComplete: end scope='%s'",e)},o.prototype._getParentBusyContext=function(){if(this._hostNode){var t=e.Context.getContext(e.Context.getParentElement(this._hostNode));if(t)return t.getBusyContext()}return null},o.prototype._addBusyStateToParent=function(){if(!this._parentNotified){this._parentNotified=!0;var e=this._getParentBusyContext();if(e){var t={};t[o._DESCRIPTION]=this.toString.bind(this),this._parentResolveCallback=e.addBusyState(t)}}},o.prototype._resolveBusyStateForParent=function(){this._parentNotified=!1,this._parentResolveCallback&&(this._parentResolveCallback(),this._parentResolveCallback=null)},o.prototype._rejectWhenReadyPromises=function(e){this._mediator.rejectMasterWhenReadyPromise(e);const t=this._getParentBusyContext();t&&(t._rejectWhenReadyPromises(e),this._resolveBusyStateForParent())},o.prototype._getCompoundDescription=function(){return"["+o._values(this._statesMap).join(", ")+"]"},o.prototype._getDebugScope=function(){function e(e){var t="undefined";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName,e.hasAttribute("data-oj-context")&&(t+="[data-oj-context]");var s=e.getAttribute("class");s&&(t+="."+s.split(" ").join("."))}return t}return this._debugScope||(this._hostNode?this._debugScope=e(this._hostNode.parentElement)+" > "+e(this._hostNode):this._debugScope="page"),this._debugScope},o.prototype.toString=function(){var e="Busy Context: [scope=";return e+=this._getDebugScope(),e+=" states="+this._getCompoundDescription()+"]"},o._deliverThrottledUpdates=function(){e.ComponentBinding&&e.ComponentBinding.deliverChanges()},o._DESCRIPTION="description",o._OJ_RIP="__ojRip",o._BOOTSTRAP_MEDIATOR=new function(){var e,t,s;"undefined"!=typeof window&&(e=window.oj_whenReady),this.whenReady=function(){return t||(t=e?new Promise(function(e){s=e}):Promise.resolve(!0))},this.isReady=function(){return!e},this.notifyComplete=function(){s?i().then(function(){e=!1,"function"==typeof s&&s(!0),s=null}):e=!1}};const r=function(e){this.Init(e)};return e.Object.createSubclass(r,e.Object,"oj.Context"),r.prototype.Init=function(e){r.superclass.Init.call(this),this._node=e},r.getContext=function(e){for(;e;){var t=e[r._OJ_CONTEXT_INSTANCE];if(t)return t;if(e.hasAttribute(r._OJ_CONTEXT_ATTRIBUTE))return t=new r(e),Object.defineProperty(e,r._OJ_CONTEXT_INSTANCE,{value:t}),t;e=r.getParentElement(e)}return r.getPageContext()},r.getPageContext=function(){return r._pageContext||(r._pageContext=new r),r._pageContext},r.prototype.getBusyContext=function(){return this._busyContext||(this._busyContext=new o(this._node)),this._busyContext},r.setBusyContextDefaultTimeout=function(e){o.setDefaultTimeout(e)},r._OJ_CONTEXT_ATTRIBUTE="data-oj-context",r._OJ_CONTEXT_INSTANCE="__ojContextInstance",r._OJ_SURROGATE_ATTR="data-oj-surrogate-id",r.getParentElement=function(e){if(e&&e.hasAttribute(r._OJ_SURROGATE_ATTR)){var t=document.getElementById(e.getAttribute(r._OJ_SURROGATE_ATTR));if(t)return t.parentElement}return e._ojReportBusy||e.parentElement},r});
//# sourceMappingURL=ojcontext.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojresponsiveutils',["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,o,t){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const r={};o._registerLegacyNamespaceProp("ResponsiveUtils",r),r.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},r.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},r._RANGE={},r._RANGE[r.SCREEN_RANGE.SM]=0,r._RANGE[r.SCREEN_RANGE.MD]=1,r._RANGE[r.SCREEN_RANGE.LG]=2,r._RANGE[r.SCREEN_RANGE.XL]=3,r._RANGE[r.SCREEN_RANGE.XXL]=4,r._getMediaQueryFromClass=function(e){var o=document.getElementsByClassName(e).item(0);return null===o&&((o=document.createElement("meta")).className=e,document.head.appendChild(o)),window.getComputedStyle(o).getPropertyValue("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},r.getFrameworkQuery=function(e){var o="oj-mq-"+e,s=r._getMediaQueryFromClass(o);return"null"===s?(t.warn("Framework query not found. Please check that the value of the theming variable$includeResponsiveMediaQueryClasses is set to true, if itis set to false the media queries are not sent down to the browser."),null):s},r.compare=function(e,o){var t=r._RANGE[e],s=r._RANGE[o];if(null==t)throw new Error("size1 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");if(null==s)throw new Error("size2 param "+o+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");return t-s};const s=r.compare,l=r.getFrameworkQuery,n=r.SCREEN_RANGE,a=r.FRAMEWORK_QUERY_KEY;e.FRAMEWORK_QUERY_KEY=a,e.SCREEN_RANGE=n,e.compare=s,e.getFrameworkQuery=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojresponsiveutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojthemeutils',["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,t,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={getThemeName:function(){return(r.parseJSONFromFontFamily("oj-theme-json")||{}).name},getThemeTargetPlatform:function(){return(r.parseJSONFromFontFamily("oj-theme-json")||{}).targetPlatform},clearCache:function(){r._cache=null,r._cssVarCache=null},parseJSONFromFontFamily:function(e){null==r._cache&&(r._cache={},r._null_cache_value={},r._headfontstring=window.getComputedStyle(document.head).getPropertyValue("font-family"));var t=r._cache[e];if(t===r._null_cache_value)return null;if(null!=t)return t;if("undefined"==typeof document)return null;var o=document.createElement("meta");o.className=e,document.head.appendChild(o);var n=window.getComputedStyle(o).getPropertyValue("font-family");if(null!=n)if(n===r._headfontstring)a.warn("parseJSONFromFontFamily: When the selector ",e," is applied the font-family read off the dom element is ",n,". The parent dom elment has the same font-family value."," This is interpreted to mean that no value was sent down for selector ",e,". Null will be returned.");else{var l=n.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");if(l)try{t=JSON.parse(l)}catch(r){var s=l.indexOf(","),c=!1;if(s>-1){l=l.substring(s+2);try{t=JSON.parse(l),c=!0}catch(e){}}if(!1===c)throw a.error("Error parsing json for selector "+e+".\nString being parsed is "+l+". Error is:\n",r),document.head.removeChild(o),r}}return document.head.removeChild(o),r._cache[e]=null==t?r._null_cache_value:t,t}};var o=e=>(r._cssVarCache||(r._cssVarCache=new Map),r._cssVarCache.has(e)||r._cssVarCache.set(e,(e=>(r._rootCSSStyles||(r._rootCSSStyles=window.getComputedStyle(document.documentElement)),r._rootCSSStyles.getPropertyValue(e).replace(/^['"\s]+|\s+|\\|(;\s?})+|['"\s]$/g,"")))(e)),r._cssVarCache.get(e));r.getCachedCSSVarValues=e=>e.map(e=>o(e)),r.verifyThemeVersion=()=>{};const n=r.clearCache,l=r.getThemeName,s=r.getThemeTargetPlatform,c=r.parseJSONFromFontFamily,m=r.verifyThemeVersion,i=r.getCachedCSSVarValues;e.clearCache=n,e.getCachedCSSVarValues=i,e.getThemeName=l,e.getThemeTargetPlatform=s,e.parseJSONFromFontFamily=c,e.verifyThemeVersion=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojthemeutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojtimerutils',["exports"],function(e){"use strict";const n={};function t(){}t.prototype.getPromise=function(){},t.prototype.clear=function(){},n.getTimer=function(e){return new n._TimerImpl(e)},n._TimerImpl=function(e){var n,t,i;function o(e){i=null,t(e)}this.getPromise=function(){return n},this.clear=function(){window.clearTimeout(i),i=null,o(!1)},n="undefined"==typeof window?Promise.reject():new Promise(function(n){t=n,i=window.setTimeout(o.bind(null,!0),e)})};const i=n.getTimer;e.getTimer=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtimerutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojtranslation',["exports","ojs/ojcore-base","ojs/ojconfig"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={setBundle:function(e){r._bundle=e},getResource:function(e){return r._getResourceString(e)},applyParameters:function(e,t){return null==e?null:r._format(e,t)},getTranslatedString:function(e,t){var n=r._getResourceString(e);if(null==n)return e;var a={};return arguments.length>2?a=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(a=arguments[1])||a instanceof Array||(a=[a])),r.applyParameters(n,a)},getComponentTranslations:function(e){var t=r._getBundle()[e];if(null==t)return{};for(var n={},a=Object.keys(t),l=0;l<a.length;l++){var o=a[l];n[o]=t[o]}return n},_getResourceString:function(e){var n=e?e.split("."):[],a=r._getBundle();t.Assert.assertObject(a);for(var l=0;l<n.length&&null!=a;l++){a=a[n[l]]}return null!=a?a:null},_format:function(e,t){var n,r,a=e.length,l=[],o=null,u=!1,s=!1,c=!1,i=!1;for(r=0;r<a;r++){var g=e.charAt(r),f=!1;if(u)f=!0,u=!1;else switch(g){case"$":u=!0;break;case"{":i||(s||(n=!1,o=[]),s=!0);break;case"}":if(s&&o.length>0){var p=t[o.join("")];l.push(void 0===p?"null":p)}s=!1;break;case"[":s||(c?i=!0:c=!0);break;case"]":i?i=!1:c=!1;break;default:f=!0}f&&(s?","===g||" "===g?n=!0:n||o.push(g):i||l.push(g))}return l.join("")},_getBundle:function(){var e=r._bundle;return e||n.getConfigBundle()}},a=r.setBundle,l=r.getResource,o=r.applyParameters,u=r.getTranslatedString,s=r.getComponentTranslations;e.applyParameters=o,e.getComponentTranslations=s,e.getResource=l,e.getTranslatedString=u,e.setBundle=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtranslation.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojcore',["ojs/ojcore-base","ojs/ojlogger","ojs/ojcontext","ojs/ojconfig","ojs/ojresponsiveutils","ojs/ojthemeutils","ojs/ojtimerutils","ojs/ojtranslation"],function(e,o,s,r,t,a,i,c){"use strict";return e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,e._registerLegacyNamespaceProp("Logger",o),e._registerLegacyNamespaceProp("Context",s),e._registerLegacyNamespaceProp("Config",r),e._registerLegacyNamespaceProp("ResponsiveUtils",t),e._registerLegacyNamespaceProp("ThemeUtils",a),e._registerLegacyNamespaceProp("TimerUtils",i),e._registerLegacyNamespaceProp("Translations",c),e});
//# sourceMappingURL=ojcore.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdomutils',["exports","ojs/ojthemeutils","ojs/ojcore-base","jquery"],function(e,t,n,o){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i={_HTML_START_TAG:"<html>",_HTML_END_TAG:"</html>",_LEGAL_ELEMENTS:{SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},_LEGAL_ATTRIBUTES:{class:1,style:1}};var r,a,s,l,c,u,f;i.isHTMLContent=function(e){return 0===e.indexOf(i._HTML_START_TAG)&&e.lastIndexOf(i._HTML_END_TAG)===e.length-7},i.cleanHtml=function(e){var t=o(document.createElement("span")).get(0);return t.innerHTML=e,e&&e.indexOf("<")>=0&&i._cleanElementHtml(t),t},i._cleanElementHtml=function(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--){var r=t.item(n);if(r&&1===r.nodeType)if(i._LEGAL_ELEMENTS[r.nodeName]){for(var a=r.attributes,s=a.length-1;s>=0;s--){var l=a[s];void 0!==o(r).attr(l.name)&&(i._LEGAL_ATTRIBUTES[l.name]||r.removeAttribute(l.nodeName))}i._cleanElementHtml(r)}else r&&e.removeChild(r)}},i.isAncestor=function(e,t){for(var n=t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1},i.isAncestorOrSelf=function(e,t){return t===e||i.isAncestor(e,t)},i.addResizeListener=function(e,t,n,o){let r=i._RSZ_TRKR;o&&(r=i._RSZ_TRKR_OBS,i._OBS_BASED.set(t,!0));let a=r.get(e);null==a&&(a=new i._ResizeTracker(e,o),r.set(e,a),a.start()),a.addListener(t,n)},i.removeResizeListener=function(e,t){const n=i._OBS_BASED.get(t)?i._RSZ_TRKR_OBS:i._RSZ_TRKR,o=n.get(e);null!=o&&(o.removeListener(t),o.isEmpty()&&(o.stop(),n.delete(e)))},i.fixResizeListeners=function(e){o(e).find(".oj-helper-detect-expansion").parent().each(function(e,t){var n=i._RSZ_TRKR.get(t);null!=n&&n.init(!0)})},i.isMetaKeyPressed=function(e){var t=n.AgentUtils.getAgentInfo();return n.AgentUtils.OS.MAC===t.os?e.metaKey:e.ctrlKey},i.dispatchEvent=function(e,t){var n="disabled",o=e[n];try{e[n]=!1,e.dispatchEvent(t)}finally{e[n]=o}},i._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,0)}).bind(window),i._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){return window.clearTimeout(e)}).bind(window),i._ResizeTracker=function(e,t){e instanceof o&&(e=e[0]);var n=e.hasAttribute("data-oj-resize-notify"),r=o.Callbacks(),a=[],s=[],l=0,c=null,u=null,f=null,d=null,g=null,h=null,v=null;function m(e){var t=!1;if(null!=d.offsetParent){var n=d.offsetWidth,o=d.offsetHeight;u===n&&f===o||(l=2,S(n,o),t=!0,e&&p(!0))}return t}function L(t){const n=t[0].borderBoxSize;p(!1,[n?(n[0]||n).inlineSize:e.offsetWidth,n?(n[0]||n).blockSize:e.offsetHeight])}function p(t,o){var s=o?o[0]:e.offsetWidth,l=o?o[1]:e.offsetHeight,u=(t,o)=>{r.fire(t,o),n&&e.dispatchEvent(new Event("oj-resize"))};r.has()&&(t?(null!==c&&i._cancelInvokeAfterPaint(c),c=i._invokeAfterPaint(function(){c=null,u(s,l)})):u(s,l));for(var f=0;f<a.length;f++)a[f].getCallback()(s,l)}function E(e){e.stopPropagation(),m(!0)||l>0&&null!=d.offsetParent&&(0===d.scrollLeft||0===d.scrollTop)&&(l-=1,S(u,f))}function S(e,t){u=e,f=t;var n=d.firstChild.style,o=1;do{n.width=e+o+"px",n.height=t+o+"px",d.scrollLeft=o,d.scrollTop=o,o+=1}while((0===d.scrollTop||0===d.scrollLeft)&&o<=5);g.scrollLeft=e,g.scrollTop=t}this.addListener=function(t,o){if(void 0===o||isNaN(o)||0===o)r.add(t);else{var l=()=>{t.apply(null,arguments),e.dispatchEvent(new Event("oj-resize"))};a.push(new i._collapsingListenerManager(n?l:t,o)),s.push(t)}},this.removeListener=function(e){var t=s.indexOf(e);t>=0?(s.splice(t,1),a.splice(t,1)[0].stop()):r.remove(e)},this.isEmpty=function(){return!r.has()&&0===s.length},this.start=function(){if(t&&window.ResizeObserver instanceof Function)(v=new ResizeObserver(L)).observe(e,{box:"border-box"});else{h=E;var n=e.childNodes[0];(d=document.createElement("div")).className="oj-helper-detect-expansion";var o=document.createElement("div");d.appendChild(o),null!=n?e.insertBefore(d,n):e.appendChild(d),d.addEventListener("scroll",h,!1),(g=document.createElement("div")).className="oj-helper-detect-contraction";var i=document.createElement("div");i.style.width="200%",i.style.height="200%",g.appendChild(i),e.insertBefore(g,d),g.addEventListener("scroll",h,!1),this.init(!1)}},this.stop=function(){null!=c&&(i._cancelInvokeAfterPaint(c),c=null),null!=v?(v.disconnect(),v=null):null!=d&&(d.removeEventListener("scroll",h),g.removeEventListener("scroll",h),d.parentNode&&e.removeChild(d),g.parentNode&&e.removeChild(g))},this.init=function(e){if(d){var t=m(e);e&&!t&&null!=d.offsetParent&&S(u,f)}}},i._RSZ_TRKR=new WeakMap,i._RSZ_TRKR_OBS=new WeakMap,i._OBS_BASED=new WeakMap,i.isValidIdentifier=function(e){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(e)},i._collapsingListenerManager=function(e,t){var n=null,o=null,i=function(){e.apply(null,n),o=null},r=function(){n=Array.prototype.slice.call(arguments),null==o&&(o=window.setTimeout(i,t))};this.getCallback=function(){return r},this.stop=function(){null!=o&&(window.clearTimeout(o),o=null)}},i.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},i.setInKoCleanExternal=function(e){i._koCleanNode=e},i.unwrap=function(e,t){var n=i._koCleanNode;n&&e.get(0)===n||(t?t.replaceWith(e):e.unwrap())},i.isChromeEvent=function(e){if(!("clientX"in e)||!("clientY"in e))return!1;var t=n.AgentUtils.getAgentInfo();if(n.AgentUtils.OS.ANDROID===t.os||n.AgentUtils.OS.IOS===t.os)return!1;if(t.engine!==n.AgentUtils.ENGINE.GECKO&&t.engine!==n.AgentUtils.ENGINE.WEBKIT&&t.engine!==n.AgentUtils.ENGINE.BLINK&&t.browser!==n.AgentUtils.BROWSER.IE)return!1;var r="ltr"===i.getReadingDirection(),a=!r&&t.browser===n.AgentUtils.BROWSER.SAFARI,s=e.target,l=o(s),c=s.getBoundingClientRect(),u=i.getScrollBarWidth();return!(!r||"HTML"!==s.nodeName&&"visible"===l.css("overflow-x")||!(e.clientX>c.right-u))||(!r&&!a&&"HTML"===s.nodeName&&e.clientX>c.right-u||(!r&&"visible"!==l.css("overflow-x")&&e.clientX<c.left+u||("HTML"===s.nodeName||"visible"!==l.css("overflow-y"))&&e.clientY>c.bottom-u))},i.getScrollBarWidth=function(){return o.position.scrollbarWidth()},i.getReadingDirection=function(){var e=document.documentElement.getAttribute("dir");return e&&(e=e.toLowerCase()),"rtl"===e?"rtl":"ltr"},i.setScrollLeft=function(e,t){e.scrollLeft=i.calculateScrollLeft(t)},i.calculateScrollLeft=function(e){var t=e;if("rtl"===i.getReadingDirection()){var o=n.AgentUtils.getAgentInfo().browser;o!==n.AgentUtils.BROWSER.IE&&o!==n.AgentUtils.BROWSER.EDGE&&(t=-e)}return t},i.getCSSLengthAsInt=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0&&"auto"!==e){var t=parseInt(e,10);return isNaN(t)&&(t=0),t}return 0},i.getCSSLengthAsFloat=function(e){if(!isNaN(e))return parseFloat(e);if(e&&e.length>0){var t=parseFloat(e);return isNaN(t)&&(t=0),t}return 0},i.getCSSTimeUnitAsMillis=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0){var t=parseFloat(e);if(isNaN(t))t=0;else{var n,o=e+"";o.length>2&&o.endsWith("ms")?n=o.slice(-3,-2):o.length>1&&o.endsWith("s")&&(n=o.slice(-2,-1)),isNaN(n)?t=0:!o.endsWith("ms")&&o.endsWith("s")&&(t*=1e3)}return t}return 0},i._LOGICAL_PARENT_DATA="oj-logical-parent",i.getLogicalParent=function(e){if(e)return e.data(i._LOGICAL_PARENT_DATA)},i.setLogicalParent=function(e,t){e&&(null===t?e.removeData(i._LOGICAL_PARENT_DATA):e.data(i._LOGICAL_PARENT_DATA,t))},i.isLogicalAncestorOrSelf=function(e,t){n.Assert.assertDomElement(e),n.Assert.assertDomElement(t);for(var r=t;r;){if(r===e)return!0;var a=i.getLogicalParent(o(r));r=a?a[0]:r.parentNode}return!1},i.validateURL=function(e,t){var n=t||["http:","https:"],o=document.createElement("a");o.href=e;var i=o.protocol;if(null!=i&&(i=i.toLowerCase()),n.indexOf(i)<0&&""!==i)throw new Error(i+" is not a valid URL protocol")},i._suppressNativeContextMenu=function(){o(document.body).hasClass("oj-hybrid")&&!o(document.body).hasClass("oj-hybrid-show-context-menu")&&document.body.addEventListener("contextmenu",function(e){"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&e.preventDefault()},!0)},i._suppressNativeContextMenu(),i.PRESS_HOLD_THRESHOLD=750,i.recentTouchEnd=function(){var e=0;function t(){e=Date.now()}return document.addEventListener("touchend",t,!0),document.addEventListener("touchcancel",t,!0),function(){return Date.now()-e<500}}(),i.recentTouchStart=(r=0,a=i.PRESS_HOLD_THRESHOLD+50,document.addEventListener("touchstart",function(){r=Date.now()},{passive:!0,capture:!0}),function(){return Date.now()-r<a}),i.recentPointer=(l=0,c=i.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!s||e>l+i.PRESS_HOLD_THRESHOLD)&&(l=e,s=!1)},!0),document.addEventListener("touchstart",function(){l=Date.now(),s=!0},{passive:!0,capture:!0}),document.addEventListener("mouseup",function(){l=Date.now(),s=!1},!0),document.addEventListener("touchend",function(){l=Date.now(),s=!1},!0),function(){return Date.now()-l<(s?c:600)}),i.makeFocusable=(u=0,f=(t.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,function(e){var t=e.element,n="ojFocusable";if(e.remove){t.removeClass("oj-focus oj-focus-highlight");var r=t.data(n);if(null==r)return;var a=".ojFocusable"+(""+r).split(",").join(" .ojFocusable");t.off(a).removeData(n)}else{var s=e.afterToggle||o.noop,l=e.applyHighlight?function(t){t.addClass("oj-focus"),function(e,t){switch(e?e():f){case"all":return!0;case"none":return!1;default:return!(i.recentPointer()||t&&t())}}(e.getFocusHighlightPolicy,e.recentPointer)&&t.addClass("oj-focus-highlight"),s("focusin")}:function(e){e.addClass("oj-focus"),s("focusin")},c=!1;(e.setupHandlers||function(i,r){var a=e.component,s=function(e){i(o(e.currentTarget)),c=!0},l=function(e){c&&(r(o(e.currentTarget)),c=!1)};if(a)a._on(t,{focusin:s,focusout:l});else{var f=u;u+=1;var d=t.data(n);t.data(n,null==d?f:d+","+f);var g={},h=".ojFocusable"+f;g["focusin"+h]=s,g["focusout"+h]=l,t.on(g)}})(l,function(e){e.removeClass("oj-focus oj-focus-highlight"),s("focusout")})}}),i.getNoJQFocusHandlers=function(e,t){return{focusIn:function(t){return e(o(t))},focusOut:function(e){return t(o(e))}}};const d=i.isHTMLContent,g=i.cleanHtml,h=i.isAncestor,v=i.isAncestorOrSelf,m=i.addResizeListener,L=i.removeResizeListener,p=i.fixResizeListeners,E=i.isMetaKeyPressed,S=i.dispatchEvent,A=i.isValidIdentifier,_=i.isTouchSupported,T=i.setInKoCleanExternal,R=i.unwrap,w=i.isChromeEvent,N=i.getScrollBarWidth,O=i.getReadingDirection,C=i.setScrollLeft,H=i.calculateScrollLeft,P=i.getCSSLengthAsInt,b=i.getCSSLengthAsFloat,D=i.getCSSTimeUnitAsMillis,I=i.getLogicalParent,y=i.setLogicalParent,M=i.isLogicalAncestorOrSelf,j=i.validateURL,B=i.PRESS_HOLD_THRESHOLD,F=i.recentTouchEnd,x=i.recentTouchStart,U=i.recentPointer,z=i.getNoJQFocusHandlers,k=i.makeFocusable;e.PRESS_HOLD_THRESHOLD=B,e.addResizeListener=m,e.calculateScrollLeft=H,e.cleanHtml=g,e.dispatchEvent=S,e.fixResizeListeners=p,e.getCSSLengthAsFloat=b,e.getCSSLengthAsInt=P,e.getCSSTimeUnitAsMillis=D,e.getLogicalParent=I,e.getNoJQFocusHandlers=z,e.getReadingDirection=O,e.getScrollBarWidth=N,e.isAncestor=h,e.isAncestorOrSelf=v,e.isChromeEvent=w,e.isHTMLContent=d,e.isLogicalAncestorOrSelf=M,e.isMetaKeyPressed=E,e.isTouchSupported=_,e.isValidIdentifier=A,e.makeFocusable=k,e.recentPointer=U,e.recentTouchEnd=F,e.recentTouchStart=x,e.removeResizeListener=L,e.setInKoCleanExternal=T,e.setLogicalParent=y,e.setScrollLeft=C,e.unwrap=R,e.validateURL=j,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdomutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojcustomelement-utils',["exports","ojs/ojcore-base","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils"],function(e,t,i,r,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const s={};class o{static isValidCustomElementName(e){const t=o._RESERVED_TAGS.has(e),i=o._ELEMENT_NAME_REGEXP.test(e);return!t&&i&&!e.startsWith("oj-bind-",0)}static getSupportedTypes(e){if(!e)return{};let t=s[e];if(!t){t={};const i=e.toLowerCase(),r=i.match(/(?=[^|])(?:[^|]*<[^>]+>)*[^|]*/g);let n=0;r.forEach(e=>{const i=e.trim();"any"===i||"boolean"===i||"number"===i||"string"===i||"array"===i||"object"===i||"null"===i?t[i]=1:0===i.indexOf("array<")?t.array=1:0===i.indexOf("object<")?t.object=1:t.other=1,n++}),t.typeCount=n,s[i]=t}return t}static getUniqueId(e){if(e)return e;const t=o._UNIQUE+o._UNIQUE_INCR;return o._UNIQUE_INCR+=1,t}static comparePropertyValues(e,i,r){return e.writeback?t.Object.compareValues(i,r):i===r}}o._UNIQUE_INCR=0,o._UNIQUE="_oj",o._RESERVED_TAGS=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),o._ELEMENT_NAME_REGEXP=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/;const a={accessKey:"accesskey",autocapitalize:"autocapitalize",autofocus:"autofocus",class:"class",contentEditable:"contenteditable",dir:"dir",draggable:"draggable",enterKeyHint:"enterkeyhint",hidden:"hidden",id:"id",inputMode:"inputmode",lang:"lang",role:"role",slot:"slot",spellcheck:"spellcheck",style:"style",tabIndex:"tabindex",translate:"translate",title:"title"};class l extends Error{constructor(e,t){super(`${e.localName} with id '${e.id||""}': ${t}`),Error.captureStackTrace&&Error.captureStackTrace(this,l),this.name="JetElementError"}}const d=/^\s*\[[^]*\]\s*$/,c=/^\s*\{[^]*\}\s*$/,p=/^(?:\{\{)([^]+)(?:\}\})$/,u=/^(?:\[\[)([^]+)(?:\]\])$/,g={};Object.keys(a).forEach(function(e){const t=a[e];e!==t&&(g[t]=e)});class h{static getExpressionInfo(e){let t,i=!1;if(e){const r=e.trim();let n=p.exec(r);t=null==n?void 0:n[1],t||(i=!0,n=u.exec(r),t=null==n?void 0:n[1])}return{downstreamOnly:i,expr:t}}static attributeToPropertyValue(e,t,i,r){if(null!=i)try{return h.coerceValue(e,t,i,r.type)}catch(i){throw new l(e,`Error while parsing parsing attribute ${t}. ${i.stack||i}`)}}static coerceValue(e,t,i,r){const n=e.tagName.toLowerCase();if(!r)throw new Error(`Unable to parse ${t}='${i}' for ${n} with id '${e.id}'.         This attribute only supports data bound values. Check the API doc for supported types`);const s=o.getSupportedTypes(r),a=d.test(i),l=c.test(i);if(s.array&&a||s.object&&l||s.any&&(a||l))try{return JSON.parse(i)}catch(r){throw new Error(`Unable to parse ${t}='${i}' for ${n} with id '${e.id}'           to a JSON Object. Check the value for correct JSON syntax, e.g. double quoted strings. ${r}`)}else{if(s.string||s.any)return i;if(s.boolean)return h.coerceBooleanValue(e,t,i,r);if(s.number&&!isNaN(i))return Number(i)}throw new Error(`Unable to parse ${t}='${i}' for ${n} with id '${e.id}'       to a ${r}.`)}static coerceBooleanValue(e,t,i,r){if(null==i||"true"===i||""===i||i.toLowerCase()===t)return!0;if("false"===i)return!1;const n=e.tagName.toLowerCase();throw new Error(`Unable to parse ${t}='${i}' for ${n} with id '${e.id}' to a ${r}.`)}static isGlobalOrData(e){return Object.prototype.hasOwnProperty.call(a,e)||e.startsWith("data-")||e.startsWith("aria-")}static getGlobalAttrForProp(e){return a[e]||e}static getGlobalPropForAttr(e){return g[e]||e}}function m(e,t){let i=e.cache;return i||(i=new Map,e.cache=i),i.has(t)||i.set(t,e(t)),i.get(t)}h.attributeToPropertyName=m.bind(null,e=>e.toLowerCase().replace(/-(.)/g,(e,t)=>t.toUpperCase())),h.propertyNameToAttribute=m.bind(null,e=>e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())),h.eventTypeToEventListenerProperty=m.bind(null,e=>"on"+e.substr(0,1).toUpperCase()+e.substr(1)),h.isEventListenerProperty=m.bind(null,e=>/^on[A-Z]/.test(e)),h.isEventListenerAttr=m.bind(null,e=>/^on-[a-z]/.test(e)),h.eventListenerPropertyToEventType=m.bind(null,e=>e.substr(2,1).toLowerCase()+e.substr(3)),h.propertyNameToChangeEventType=m.bind(null,e=>e+"Changed"),h.propertyNameToChangedCallback=m.bind(null,e=>`on${e[0].toUpperCase()}${e.substr(1)}Changed`),h.eventTriggerToEventType=m.bind(null,e=>`oj${e.substr(0,1).toUpperCase()}${e.substr(1)}`),h.eventAttrToPreactPropertyName=m.bind(null,e=>e.toLowerCase().split("-").reduce((e,t,i)=>{return i>1?e+((r=t).charAt(0).toUpperCase()+r.substr(1)):e+t;var r},""));const _=new Set;class E{static registerElement(e,t,i){const r=e.toUpperCase();if(!E._CUSTOM_ELEMENT_REGISTRY[r]){if(!t.descriptor)throw new Error(`Custom element ${e} must be registered with a descriptor.`);E._CUSTOM_ELEMENT_REGISTRY[e]=t,E._CUSTOM_ELEMENT_REGISTRY[r]=t,Object.defineProperty(i,"name",{value:E.tagNameToElementClassName(e)}),customElements.define(e,i)}}static tagNameToElementClassName(e){return e.toLowerCase().match(/-(?<match>.*)/)[0].replace(/-(.)/g,(e,t)=>t.toUpperCase())+"Element"}static isComposite(e){var t,i;return null!==(i=null===(t=E.getElementRegistration(e))||void 0===t?void 0:t.composite)&&void 0!==i&&i}static isVComponent(e){var t,i;return null!==(i=null===(t=E.getElementRegistration(e))||void 0===t?void 0:t.vcomp)&&void 0!==i&&i}static isElementRegistered(e){return null!=E._CUSTOM_ELEMENT_REGISTRY[e]}static getElementRegistration(e){var t;return null!==(t=E._CUSTOM_ELEMENT_REGISTRY[e])&&void 0!==t?t:null}static getElementDescriptor(e){var t;return(null===(t=E.getElementRegistration(e))||void 0===t?void 0:t.descriptor)||{}}static getElementProperties(e){var t,i;const r=E.getElementDescriptor(e.tagName);return(null===(i=null!==(t=r._metadata)&&void 0!==t?t:r.metadata)||void 0===i?void 0:i.properties)||{}}static getElementInfo(e){return e?`${e.tagName.toLowerCase()} with id '${e.id}'`:""}static getElementState(e){let t=e[E._ELEMENT_STATE_KEY];if(!t&&E.isElementRegistered(e.tagName)){t=new(0,E.getElementRegistration(e.tagName).stateClass)(e),Object.defineProperty(e,E._ELEMENT_STATE_KEY,{value:t})}return null!=t?t:null}static getElementBridge(e){let t=e[E._ELEMENT_BRIDGE_KEY];if(void 0===t&&E.isElementRegistered(e.tagName)){t=null;const i=E.getElementRegistration(e.tagName).bridgeProto;if(void 0!==i){t=Object.create(i);const r=E.getElementDescriptor(e.tagName);t.initializeBridge(e,r)}Object.defineProperty(e,E._ELEMENT_BRIDGE_KEY,{value:t})}return null!=t?t:null}static getSlotMap(e){const t={},i=e.childNodes;for(let e=0;e<i.length;e++){const r=i[e];if(E.isSlotable(r)){const e=E.getSlotAssignment(r);t[e]||(t[e]=[]),t[e].push(r)}}return t}static getSlotAssignment(e){const t=null!=e.__oj_slots?e.__oj_slots:e.getAttribute&&e.getAttribute("slot");return t||""}static isSlotable(e){return 1===e.nodeType||3===e.nodeType&&!!e.nodeValue.trim()}static getElementProperty(e,t){if(E.isElementRegistered(e.tagName)){let i=e._vcomp;return i&&!i.isCustomElementFirst()||(i=e[E.VCOMP_INSTANCE])?E.getPropertyValue(i.props,t):e.getProperty(t)}return e[t]}static getPropertyValue(e,t){let i=e;const r=t.split(".");try{r.forEach(e=>i=i[e])}catch(e){return}return i}static allowSlotRelocation(e){E._ALLOW_RELOCATION_COUNT+=e?1:-1}static canRelocateNode(e,t){const i=E.getElementState(e);if(!i.getSlotMap()||E._ALLOW_RELOCATION_COUNT>0)return!0;const r=i.getSlotSet();if(i.isPostCreateCallbackOrComplete()&&r.has(t)){if(e.hasAttribute("data-oj-preact"))throw new l(e,t.localName+" cannot be relocated as a child of this element.");if("preact"===i.getBindingProviderType())return!1}return!0}static getClassSet(e){if(e){const t=e.split(/\s+/).filter(e=>e.length>0);if(t.length>0)return new Set(t)}return _}static convertEmptyStringToUndefined(e,t,i){if(""===i){if("preact"===E.getElementState(e).getBindingProviderType()){if(!o.getSupportedTypes(t.type).string||t.enumValues)return}}return i}}E._CUSTOM_ELEMENT_REGISTRY={},E._ELEMENT_STATE_KEY="_ojElementState",E._ELEMENT_BRIDGE_KEY="_ojBridge",E._ALLOW_RELOCATION_COUNT=0,E.VCOMP_INSTANCE=Symbol("vcompInstance");const C=Symbol("childBindingProvider"),b=Symbol("cachedBindingProvider");class v{constructor(e){this.dirtyProps=new Set,this._componentState=P.WaitingToCreate,this._outerClasses=new Set,this.Element=e}startCreationCycle(){this._isInErrorState()||(null!=this._preCreatedPromise&&this._componentState!==P.WaitingToCreate||this._updateComponentState(P.Creating),this._registerBusyState())}pauseCreationCycle(){this._resolveBusyState()}resetCreationCycle(){this._updateComponentState(P.WaitingToCreate),this._bindingProviderPromise=null,this._preCreatedPromise=null,this._createdPromise=null}isComplete(){return this._componentState===P.Complete}isCreating(){return this._componentState===P.Creating}isPostCreateCallbackOrComplete(){return this._componentState===P.PostCreateCallback||this.isComplete()}canHandleAttributes(){return!this._isInErrorState()&&this._componentState!==P.WaitingToCreate}beginApplyingBindings(){this.isComplete()||(this._bindingProviderType="knockout",this._updateComponentState(P.ApplyingBindings))}allowPropertySets(){return this._componentState===P.Creating||this._componentState===P.ApplyingBindings||this._componentState===P.BindingsApplied||this._componentState===P.PostCreateCallback||this._componentState===P.Complete}allowPropertyChangedEvents(){return this._componentState===P.BindingsApplied||this._componentState===P.PostCreateCallback||this._componentState===P.Complete}getTrackChildrenOption(){var e,t;const i=E.getElementDescriptor(this.Element.tagName).metadata;return null!==(t=null===(e=null==i?void 0:i.extension)||void 0===e?void 0:e._TRACK_CHILDREN)&&void 0!==t?t:"none"}setCreateCallback(e){this._isInErrorState()||(this._updateComponentState(P.WaitingForBindings),this._preCreatedPromise||(this._preCreatedPromise=this.GetPreCreatedPromise()),this._createdPromise=this._preCreatedPromise.then(()=>{if(!this._isInErrorState()){const t=e();return this._updateComponentState(P.PostCreateCallback),t}return Promise.reject()}),this._createdPromise.then(()=>{this._updateComponentState(P.Complete)},e=>{if(this._updateComponentState(P.Incomplete),e)throw e}))}setBindingsDisposedCallback(e){this._disposedCallback=e}resolveBindingProvider(e){this._bpClean=e.__CleanNode,this._resolveBindingProviderCallback&&(this._bindingsApplied(),this._resolveBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null),this._bindingProvider=e}rejectBindingProvider(e){this._rejectBindingProviderCallback&&(this._rejectBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null)}disposeBindingProvider(){var e;this.isComplete()?null===(e=this._disposedCallback)||void 0===e||e.call(this):(this.rejectBindingProvider(),this._updateComponentState(P.BindingsDisposed))}setBindingProviderCallback(e){this._bindingProviderCallback=e}getBindingProviderPromise(){const e=this.getBindingProviderType();if(!this._bindingProviderPromise)if(n.verifyThemeVersion(),"none"===e||"preact"===e)this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(null);else{if("knockout"!==e)throw new l(this.Element,`Unknown binding provider '${e}'.`);this._bindingProvider?(this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(this._bindingProvider)):this._bindingProviderPromise=new Promise((e,t)=>{this._resolveBindingProviderCallback=e,this._rejectBindingProviderCallback=t})}return this._bindingProviderPromise}getBindingProvider(){return this._bindingProvider}getBindingProviderType(){return this._bindingProviderType||(this._bindingProviderType=v._walkBindingProviders(this.Element)),this._bindingProviderType}getBindingProviderCleanNode(){return this._bpClean||v._NOOP}getDescriptiveText(){let e=this.GetDescriptiveValue("aria-label")||this.GetDescriptiveValue("title")||this.GetDescriptiveLabelByValue("labelled-by")||this.GetDescriptiveValue("label-hint")||this.GetDescriptiveLabelByValue("aria-labelledby");return e=e?e.trim().replace(/\s+/g," "):"",e}getSlotMap(e){return!this._slotMap&&e&&(this._slotMap=E.getSlotMap(this.Element)),this._slotMap}getSlotSet(){if(!this._slotSet){const e=Object.keys(this._slotMap);let t=[];e.forEach(e=>t=t.concat(this._slotMap[e])),this._slotSet=new Set(t)}return this._slotSet}setOuterClasses(e){this.PatchClasses(this._outerClasses,e),this._outerClasses=e}PatchClasses(e,t){e.forEach(e=>{t.has(e)||this.Element.classList.remove(e)}),t.forEach(t=>{e.has(t)||this.Element.classList.add(t)})}GetCreatedPromise(){return this._createdPromise}GetPreCreatedPromise(){let e=this.getBindingProviderPromise();return"none"!==this.getTrackChildrenOption()&&(e=e.then(e=>this._getTrackedChildrenPromises(e))),e}IsTransferAttribute(e){return!1}GetDescriptiveValue(e){const t=h.attributeToPropertyName(e),i=E.getElementProperties(this.Element);let r;return r=i&&i[t]?this.Element[t]:this.IsTransferAttribute(e)?this.GetDescriptiveTransferAttributeValue(e):this.Element.getAttribute(e),r}GetDescriptiveTransferAttributeValue(e){return""}GetDescriptiveLabelByValue(e){const t=this.GetDescriptiveValue(e);if(t){const e=document.getElementById(t);if(e)return e.textContent}return null}_updateComponentState(e){if(this._componentState!==P.BindingsDisposed){switch(e){case P.WaitingToCreate:this.Element.classList.remove("oj-complete"),this._createdPromise=null;break;case P.Complete:this.Element.classList.add("oj-complete"),this._resolveBusyState();break;case P.BindingsDisposed:case P.Incomplete:this.Element.classList.add("oj-incomplete"),this._resolveBusyState()}this._componentState=e}}_bindingsApplied(){var e;this._updateComponentState(P.BindingsApplied),null===(e=this._bindingProviderCallback)||void 0===e||e.call(this)}_registerBusyState(){const e=i.getContext(this.Element).getBusyContext();if(this._resolveCreatedBusyState)throw new l(this.Element,"Registering busy state before previous state is resolved.");this._resolveCreatedBusyState=e.addBusyState({description:E.getElementInfo(this.Element)+" is being upgraded."})}_resolveBusyState(){this._resolveCreatedBusyState&&(this._resolveCreatedBusyState(),this._resolveCreatedBusyState=null)}static _walkBindingProviders(e,t=e){var i;let r=e[b];if(r)return r;if(r=e.getAttribute("data-oj-binding-provider"),!r){const n=e.parentElement;if(null==n){if(e!==document.documentElement)throw new l(t,"Cannot determine binding provider for a disconnected subtree.");r="knockout"}else r=null!==(i=n[C])&&void 0!==i?i:v._walkBindingProviders(n,t)}return e[b]=r,r}_getTrackedChildrenPromises(e){const t=this.getTrackChildrenOption(),n=i.getContext(this.Element).getBusyContext(),s=this._getChildrenToTrack(this.Element,t,[]).map(t=>{if(!e){const e=n.addBusyState({description:`Waiting for element ${t.localName} to be defined.`}),i=setInterval(()=>{r.warn(`Waiting for element ${t.localName} to be defined.`)},2e4);return customElements.whenDefined(t.localName).then(()=>(e(),clearInterval(i),E.isElementRegistered(t.tagName)?E.getElementState(t).GetCreatedPromise():null)).catch(r=>{throw e(),clearInterval(i),new Error(`Error defining element ${t.localName} : ${r}`)})}return E.isElementRegistered(t.tagName)?E.getElementState(t).GetCreatedPromise():null});return Promise.all(s)}_getChildrenToTrack(e,t,i){const r=e.childNodes;for(let e=0;e<r.length;e++){const n=r[e];o.isValidCustomElementName(n.localName)?i.push(n):"nearestCustomElement"===t&&this._getChildrenToTrack(n,t,i)}return i}_isInErrorState(){return this._componentState===P.Incomplete||this._componentState===P.BindingsDisposed}}var P;v._NOOP=()=>{},function(e){e[e.WaitingToCreate=0]="WaitingToCreate",e[e.Creating=1]="Creating",e[e.WaitingForBindings=2]="WaitingForBindings",e[e.ApplyingBindings=3]="ApplyingBindings",e[e.BindingsApplied=4]="BindingsApplied",e[e.PostCreateCallback=5]="PostCreateCallback",e[e.Complete=6]="Complete",e[e.Incomplete=7]="Incomplete",e[e.BindingsDisposed=8]="BindingsDisposed"}(P||(P={})),e.AttributeUtils=h,e.CACHED_BINDING_PROVIDER=b,e.CHILD_BINDING_PROVIDER=C,e.CustomElementUtils=E,e.ElementState=v,e.ElementUtils=o,e.JetElementError=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcustomelement-utils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojhtmlutils',["exports"],function(e){"use strict";const t={};t.stringToNodeArray=function(e){var t,r,n,o,a,i=["table","caption","colgroup","col","thead","tfoot","th","tbody","tr","td","template","p"];for(t=0;t<i.length;t++)r=i[t],n=e,o=void 0,a=void 0,o=new RegExp("<"+r+"(?=\\s|>)","gi"),a=new RegExp("</"+r+"(?=\\s|>)","gi"),e=n.replace(o,"<oj-bind-replace-"+r).replace(a,"</oj-bind-replace-"+r);var l=document.createElement("div");l.innerHTML=e,-1!==e.indexOf("<oj-bind-replace-")&&function e(t){for(var r=t.childNodes,n=r.length,o=0;o<n;o++){var a=r[o];e(a);var i,l,d,c=a.nodeName.toLowerCase();const n="oj-bind-replace-";if(c.substr(0,16)===n){var s=c.substr(16);for(d=document.createElement(s),i=0;i<a.attributes.length;i++)l=a.attributes[i],d.setAttribute(l.name,l.value);var p=d.content?d.content:d;for(i=0;a.childNodes.length>0;)p.appendChild(a.childNodes[0]);t.replaceChild(d,a)}else if("script"===c||"style"===c){for(d=document.createElement(c),i=0;i<a.attributes.length;i++)l=a.attributes[i],d.setAttribute(l.name,l.value);var u=a.innerHTML;d.innerHTML=u.replace(new RegExp(n,"g"),""),t.replaceChild(d,a)}else if(8===a.nodeType){var f=a.nodeValue;a.nodeValue=f.replace(new RegExp(n,"g"),"")}}}(l);for(var d=[];l.firstChild;)d.push(l.firstChild),l.removeChild(l.firstChild);return d},t.getTemplateContent=function(e){var t=[];if(1!==e.nodeType||"template"!==e.tagName.toLowerCase())throw new Error("Invalid template node "+e);var r=e.content;return r?t.push(document.importNode(r,!0)):Array.prototype.forEach.call(e.childNodes,function(e){t.push(e.cloneNode(!0))}),t};const r=t.stringToNodeArray,n=t.getTemplateContent;e.getTemplateContent=n,e.stringToNodeArray=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojhtmlutils.js.map;
!function(n,l){"object"==typeof exports&&"undefined"!=typeof module?l(exports):'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('preact',["exports"],l):l(n.preact={})}(this,function(n){var l,u,i,t,o,f,r={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,f=arguments,r={};for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:r[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(f[o]);if(null!=u&&(r.children=u),"function"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===r[o]&&(r[o]=n.defaultProps[o]);return h(n,r,i,t,null)}function h(n,u,i,t,o){var f={type:n,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++l.__v:o};return null!=l.vnode&&l.vnode(f),f}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!b.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||t)(b)}function b(){for(var n;b.__r=i.length;)n=i.sort(function(n,l){return n.__v.__b-l.__v.__b}),i=[],n.some(function(n){var l,u,i,t,o,f;n.__d&&(o=(t=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(f,t,i,l.__n,void 0!==f.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),H(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,f,c,s,a){var v,p,_,k,b,m,x,A=i&&i.__k||e,P=A.length;for(u.__k=[],v=0;v<l.length;v++)if(null!=(k=u.__k[v]=null==(k=l[v])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k||"bigint"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(y,{children:k},null,null,null):k.__b>0?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[v])||_&&k.key==_.key&&k.type===_.type)A[v]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}j(n,k,_=_||r,t,o,f,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(x||(x=[]),_.ref&&x.push(_.ref,null,k),x.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),"function"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=w(n,k,_,A,b,s),a||"option"!==u.type?"function"==typeof u.type&&(u.__d=s):n.value=""):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,v=P;v--;)null!=A[v]&&("function"==typeof u.type&&null!=A[v].__e&&A[v].__e==u.__d&&(u.__d=d(i,v+1)),z(A[v],A[v]));if(x)for(v=0;v<x.length;v++)T(x[v],x[++v],x[++v])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l="function"==typeof t.type?g(t,l,u):w(u,t,t,n.__k,t.__e,l));return l}function w(n,l,u,i,t,o){var f,r,e;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),f=null;else{for(r=o,e=0;(r=r.nextSibling)&&e<i.length;e+=2)if(r==t)break n;n.insertBefore(t,o),f=o}return void 0!==f?f:t.nextSibling}function x(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||P(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||P(n,o,l[o],u[o],i)}function A(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||c.test(l)?u:u+"px"}function P(n,l,u,i,t){var o;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||A(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||A(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?$:C,o):n.removeEventListener(l,o?$:C,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null!=u&&(!1!==u||"a"===l[0]&&"r"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function C(n){this.l[n.type+!1](l.event?l.event(n):n)}function $(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,f,r,e,c){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,f=[e]),(a=l.__b)&&a(u);try{n:if("function"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=L),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&r.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=l.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=n,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(n,Array.isArray(A)?A:[A],u,i,t,o,f,r,e,c),v.base=u.__e,u.__h=null,v.__h.length&&r.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==f&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=I(i.__e,u,i,t,o,f,r,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=f)&&(u.__e=e,u.__h=!!c,f[f.indexOf(e)]=null),l.__e(n,u,i)}}function H(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function I(n,l,u,i,t,o,f,c){var s,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if("svg"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((s=o[k])&&(s===n||(_?s.localName==_:3==s.nodeType))){n=s,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&e.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if(x(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&"foreignObject"!==_,o,f,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&a(o[k]);c||("value"in d&&void 0!==(k=d.value)&&(k!==n.value||"progress"===_&&!k)&&P(n,"value",k,p.value,!1),"checked"in d&&void 0!==(k=d.checked)&&k!==n.checked&&P(n,"checked",k,p.checked,!1))}return n}function T(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function z(n,u,i){var t,o,f;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||T(t,null,u)),i||"function"==typeof n.type||(i=null!=(o=n.__e)),n.__e=n.__d=void 0,null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(f=0;f<t.length;f++)t[f]&&z(t[f],u,i);null!=o&&a(o)}function L(n,l,u){return this.constructor(n,u)}function M(n,u,i){var t,o,f;l.__&&l.__(n,u),o=(t="function"==typeof i)?null:i&&i.__k||u.__k,f=[],j(u,n=(!t&&i||u).__k=v(y,null,[n]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?e.slice.call(u.childNodes):null,f,!t&&i?i:o?o.__e:u.firstChild,t),H(f,n)}l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},u=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,i=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,f=0,n.render=M,n.hydrate=function n(l,u){M(l,u,n)},n.createElement=v,n.h=v,n.Fragment=y,n.createRef=function(){return{current:null}},n.isValidElement=u,n.Component=p,n.cloneElement=function(n,l,u){var i,t,o,f=arguments,r=s({},n.props);for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:r[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(f[o]);return null!=u&&(r.children=u),h(n.type,r,i||n.key,t||n.ref,null)},n.createContext=function(n,l){var u={__c:l="__cC"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u},n.toChildArray=function n(l,u){return u=u||[],null==l||"boolean"==typeof l||(Array.isArray(l)?l.some(function(l){n(l,u)}):u.push(l)),u},n.options=l});
//# sourceMappingURL=preact.umd.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojtemplateengine',["knockout","ojs/ojcore","ojs/ojkoshared","ojs/ojhtmlutils","ojs/ojlogger","ojs/ojcustomelement-utils","preact","ojs/ojcore-base"],function(e,t,r,n,o,s,a,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const c=Symbol("row");class l{static executeVDomTemplate(t,r){const n=e.pureComputed({read:()=>t.render(r.$current)}).extend({rateLimit:0}),o=n();l._extendTemplate(t,l._ROW_CACHE_FACTORY,e=>{t._cachedRows.forEach(t=>{let r=e(t.currentContext);l._renderNodes(r,t)})});const s=document.createElement("div"),a={currentContext:r.$current,template:t,parentStub:s,computedVNode:n,vnode:void 0,nodes:void 0};return l._renderNodes(o,a),t._cachedRows.push(a),n.subscribe(e=>{const r=t._cachedRows.find(e=>e.computedVNode===n);l._renderNodes(e,r)}),a.nodes}static _renderNodes(e,t){const r=t.parentStub;let n;if(t.nodes){const e=t.nodes;n=l._getInsertNodesFunction(e),e.forEach(e=>{r.appendChild(e)})}a.render(e,r);const o=Array.from(r.childNodes);o.forEach(e=>{var r;null===(r=e.classList)||void 0===r||r.add("oj-vdom-template-root"),e[c]=t,e[s.CACHED_BINDING_PROVIDER]="preact"}),t.vnode=e,t.nodes=o,null==n||n(o)}static clean(e){const t=e[c];if(!t.cleaned){t.cleaned=!0;const e=l._getInsertNodesFunction(t.nodes);a.render(null,t.parentStub),e(t.nodes),t.computedVNode.dispose();const r=t.template,n=r._cachedRows.indexOf(t);r._cachedRows.splice(n,1)}}static _getInsertNodesFunction(e){const t=e[e.length-1],r=t.parentNode,n=t.nextSibling;return e=>{e.forEach(e=>r.insertBefore(e,n))}}static resolveVDomTemplateProps(e,t,r,n,o,s,a){const[i,c]=l._extendTemplate(e,l._COMPUTED_PROPS_CACHE_FACTORY,e=>{for(const t of i)t.recalculateValue(e)}),d=new u(e=>l._computeProps(e,r,n,o,a),t,s,c);return i.add(d),d}static _computeProps(e,t,r,n,o){const s=e(n),a=(Array.isArray(s)?s:[s]).find(e=>e.type===t);if(!a)throw new Error("Item template must contain an element named {elementTagName}");const i={},c=a.props;return Object.keys(c).forEach(e=>{r.has(e)&&(i[e]=a.props[e])}),i}static _extendTemplate(e,t,r){if(!e._cachedRows){let n=e.render;Object.defineProperties(e,{_cachedRows:{writable:!0,value:t()},render:{enumerable:!0,get:()=>n,set(e){n=e,e&&r(e)}}})}return e._cachedRows}}l._COMPUTED_PROPS_CACHE_FACTORY=()=>{const e=new Set;return[e,e.delete.bind(e)]},l._ROW_CACHE_FACTORY=()=>[];class u{constructor(e,t,r,n){this._calculate=e,this._defaultProps=r,this._disposeCallback=n,this._value=e(t),this._merged=this._getMergedValue(this._value)}peek(){return this._merged}subscribe(e){if(this._sub)throw new Error("Resolved property observable does not support multiple subscribers");this._sub=e}dispose(){this._disposeCallback(this)}recalculateValue(e){const t=this._calculate(e),r=this._value;this._value=t,this._sub&&!i.Object.compareValues(t,r)&&(this._merged=this._getMergedValue(t),this._sub(this._merged))}_getMergedValue(e){return Object.assign({},this._defaultProps,e)}}return new function(){this.execute=function(t,r,n,o,a){var i=r.getAttribute("data-oj-as"),d=u(t,r,n,o,i);if(r.render)return l.executeVDomTemplate(r,d);var p=c(r,a);let f=p.childNodes;for(let e=0;e<f.length;e++){f[e][s.CACHED_BINDING_PROVIDER]="knockout"}return e.applyBindingsToDescendants(d,p),Array.prototype.slice.call(f,0)},this.clean=function(t){let r=t&&t.getElementsByClassName?Array.from(t.getElementsByClassName("oj-vdom-template-root")):[];return t&&t.matches&&t.matches(".oj-vdom-template-root")&&r.push(t),r.forEach(e=>{l.clean(e)}),0===r.length?e.cleanNode(t):null},this.resolveProperties=function(n,o,d,p,f,h,_,m){const v=o.render;if(v){const e=this._getResolvedDefaultProps(d,p);return l.resolveVDomTemplateProps(o,v,d,p,f,e,_)}var b=o.getAttribute("data-oj-as"),g=u(n,o,f,h,b);return function(r,n,o){return s=e.pureComputed(function(){var s={};r.evalMap.forEach(function(t,r){var a=e.utils.unwrapObservable(t(n));o&&o(r,a),s[r[0]]=function(e,t,r){if(t.length<2)return r;for(var n=e[t[0]]||{},o=n,s=t.length-1,a=1;a<s;a++){var i=t[a],c=o[i]||{};o[i]=c,o=c}return o[t[s]]=r,n}(s,r,a)});var a=t.CollectionUtils.copyInto,i=a({},r.staticMap,null,!0);return i=a(i,s,null,!0)}),a=["peek","subscribe","dispose"],i={},a.forEach(function(e){i[e]=s[e].bind(s)}),i;var s,a,i}(function(e,t,n,o,l){var u=a.get(e);if(!u){u={},a.set(e,u);var d=c(e).querySelector(n);u.evalMap=function(e,t,n){for(var o=new Map,a=e?e.attributes:[],i=0;i<a.length;i++){var c=a[i],l=s.AttributeUtils.attributeToPropertyName(c.name).split(".");if(t.has(l[0])){var u=s.AttributeUtils.getExpressionInfo(c.value).expr;u&&o.set(l,r.createBindingExpressionEvaluator(u,n))}}return o}(d,o,t),u.staticMap=i(d,o,l)}return u}(o,g,d,p,m||n),g,_)},this.defineTrackableProperty=function(t,r,n,o){!function(t,r,n,o){var s=e.observable(n);Object.defineProperty(t,r,{get:function(){return s()},set:function(e){s(e),o&&o(e)},enumerable:!0})}(t,r,n,o)};var a=new WeakMap;function i(e,t,r){var n={};if(e){var o=e.style;o.display="none",o.position="absolute",e.setAttribute("data-oj-binding-provider","none"),r.appendChild(e),t.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),r.removeChild(e)}return n}function c(e,t){var r=document.createElement("div");t&&(r._ojReportBusy=t);for(var o=n.getTemplateContent(e),s=0;s<o.length;s++)r.appendChild(o[s]);return r}function u(t,n,s,a,i){var c=n.__ojBindingContext?n.__ojBindingContext:e.contextFor(n);return c||(o.info("Binding context not found when processing template for element with id: "+t.id+". Using binding context for element instead."),c=e.contextFor(t)),r.extendBindingContext(c,s,a,i,t)}this._getResolvedDefaultProps=function(e,t){let r=this._defaultProps.get(e);if(!r){r=i(document.createElement(e),t,document.body),this._defaultProps.set(e,r)}return r},this._defaultProps=new Map}});
//# sourceMappingURL=ojtemplateengine.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojknockouttemplateutils',["exports","knockout","jquery"],function(e,t,n){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r={getRenderer:function(e,r){var o=function(o){var a=o._parentElement||o.parentElement,l=t.contextFor(o.componentElement);if(l){var c=l.createChildContext(o.data,null,function(e){e.$context=o});t.renderTemplate(e,c,{afterRender:function(e){n(e)._ojDetectCleanData()}},a,r?"replaceNode":"replaceChildren")}return null};return function(t){if(t.componentElement.classList&&t.componentElement.classList.contains("oj-dvtbase")){var r=document.createElement("div");r.style.display="none",r._dvtcontext=t._dvtcontext,t.componentElement.appendChild(r),Object.defineProperty(t,"_parentElement",{value:r,enumerable:!1}),Object.defineProperty(t,"_templateCleanup",{value:function(){n(r).remove()},enumerable:!1}),Object.defineProperty(t,"_templateName",{value:e,enumerable:!1}),o(t);var a=r.children[0];return a?(r.removeChild(a),n(r).remove(),{insert:a}):{preventDefault:!0}}return o(t)}}},o=r.getRenderer;e.getRenderer=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojknockouttemplateutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojresponsiveknockoututils',["exports","ojs/ojcore-base","knockout","jquery","ojs/ojresponsiveutils"],function(e,r,t,a,n){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const l={};r._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",l),l.createMediaQueryObservable=function(e){if(null==e)throw new Error("ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var r=window.matchMedia(e),n=t.observable(r.matches);return r.addListener(function(e){n(e.matches)}),-1!==navigator.userAgent.indexOf("WebKit")&&-1===navigator.userAgent.indexOf("Chrome")&&a(window).resize(function(){var e="oj-webkit-bug-123293";0===a("body").has("."+e).length&&a("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+e+'">'),a("."+e).text((new Date).getMilliseconds().toString())}),n},l.createScreenRangeObservable=function(){var e=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.XXL_UP),r=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.XL_UP),a=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.LG_UP),o=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.MD_UP),u=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.SM_UP),i=null==e?null:l.createMediaQueryObservable(e),s=null==r?null:l.createMediaQueryObservable(r),c=null==a?null:l.createMediaQueryObservable(a),b=null==o?null:l.createMediaQueryObservable(o),d=null==u?null:l.createMediaQueryObservable(u);return t.computed(function(){if(i&&i())return n.SCREEN_RANGE.XXL;if(s&&s())return n.SCREEN_RANGE.XL;if(c&&c())return n.SCREEN_RANGE.LG;if(b&&b())return n.SCREEN_RANGE.MD;if(d&&d())return n.SCREEN_RANGE.SM;throw new Error(" NO MATCH in ResponsiveKnockoutUtils.createScreenRangeObservable")})};const o=l.createScreenRangeObservable,u=l.createMediaQueryObservable;e.createMediaQueryObservable=u,e.createScreenRangeObservable=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojresponsiveknockoututils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojknockout',["jqueryui-amd/widget","ojs/ojkoshared","ojs/ojcore","ojs/ojlogger","knockout","ojs/ojdomutils","jquery","ojs/ojcustomelement-utils","ojs/ojkeysetimpl","ojs/ojcontext","ojs/ojtemplateengine","ojs/ojknockouttemplateutils","ojs/ojresponsiveknockoututils"],function(e,t,n,r,i,o,a,s,u,l,d,c,p){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;const f=function(e,t){this.Init(e,t)};n.Object.createSubclass(f,n.Object,"ComponentBinding.ComponentChangeTracker"),f.prototype.Init=function(e,t){f.superclass.Init.call(this),this._updateCallback=e,this._queue=t,this._changes={},this._suspendCountMap={}},f.prototype.addChange=function(e,t){this._isSuspended(e)||this._disposed||(this._changes[e]=t,this._queue.registerComponentChanges(this))},f.prototype.dispose=function(){this._disposed=!0},f.prototype.resume=function(e){var t=this._suspendCountMap[e]||0;(t-=1)<0?r.error("ComponentChangeTracker suspendCount underflow"):0===t?delete this._suspendCountMap[e]:this._suspendCountMap[e]=t},f.prototype.suspend=function(e){var t=this._suspendCountMap[e]||0;this._suspendCountMap[e]=t+1},f.prototype.applyChanges=function(e){this._disposed||this._updateCallback(e)},f.prototype.flushChanges=function(){var e=this._changes;return this._changes={},e},f.prototype._isSuspended=function(e){return(this._suspendCountMap[e]||0)>=1};const h={};var m;n._registerLegacyNamespaceProp("__ExpressionUtils",h),m=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,h.getPropertyWriterExpression=function(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;var t=(e=e.trim()).match(m);return null===t?null:"{_ko_property_writers: function(v){"+(t[1]?"Object("+t[1]+")"+t[2]:e)+"=v;}}"},h.getWriter=function(e){return e._ko_property_writers};const g=function(e,t){this.Init(e,t)};function v(e,t){var n={};return n.value=t.value,n}function y(e,t,n){var r={},i=n.optionMetadata;if(i&&"shouldWrite"===i.writeback){var o=n.option;r[o]=n.value,i.readOnly&&(e.readOnlyProperties[o]=!0)}return r}var b,_,C;function E(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.key,o=r.value;if(null!=i&&null!=o&&t(i.trim(),o.trim()))break}}function D(e,t){return function(n){var r=e.createChildContext(n.context);return i.renderTemplate(t,r,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.parentElement),null}}function A(e,t){return function(n){var r=e.createChildContext(n.data);return i.renderTemplate(t,r,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.parentElement),null}}function x(e,t,n){return"tooltip"===e&&t.template&&(t._renderer=D(n,t.template)),{tooltip:t}}function j(e,t,n){return"pieCenter"===e&&t.template&&(t._renderer=D(n,t.template)),{pieCenter:t}}function N(e,t,n){return"optionTemplate"===e&&null!==t?{optionRenderer:function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$optionContext=n});return i.renderTemplate(t,o,null,r),null}}(n,String(t))}:null}n.Object.createSubclass(g,n.Object,"oj.ComponentBinding"),n._registerLegacyNamespaceProp("ComponentBinding",g),g.create=function(e,t){if(null==e)throw new Error("Binding name is required!");for(var n=new g(e,t),r=i.bindingHandlers,o=Array.isArray(e)?e:[e],a=0;a<o.length;a++){var s=o[a];g._REGISTERED_NAMES.push(s),r[s]=n}return n},g.getDefaultInstance=function(){return g._INSTANCE},g.prototype.setupManagedAttributes=function(e){var t=e.for;t=null==t?"@global":t;var n=this._managedAttrOptions[t]||[];n.push(e),this._managedAttrOptions[t]=n},g.deliverChanges=function(){t.getGlobalChangeQueue().deliverChanges()},g.prototype.Init=function(e,t){g.superclass.Init.call(this),"string"==typeof t&&(t={componentName:t}),this._bindingOptions=t||{},this._bindingNames=Array.isArray(e)?e:[e],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},g.prototype._getBindingOptions=function(){return this._bindingOptions},g.prototype._init=function(e,t,n,r,o){return i.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},g.prototype._update=function(e,n,o,s,u){var l,d,c=[],p=0,h=a(e);function m(e){c.forEach(function(e){e.dispose()}),c=[],e&&l&&(l("destroy"),l=null),d&&(d.dispose(),d=null),h.off(g._HANDLER_NAMESPACE)}function v(n,i,a){if(null!=n){var s=h[n];if("function"==typeof s){s=s.bind(h);d=new f(function(e){var t=g.__removeDotNotationOptions(e);s("option",e);for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];s("option",i,t[i])}},t.getGlobalChangeQueue());var p=Object.keys(a).filter(function(e){return!(null==e||e===i)}),m={component:s,changeTracker:d,componentName:n,specifiedOptions:p,computeds:c,valueAccessor:function(){return a},allBindingsAccessor:o,bindingContext:u,destroyCallback:function(){l=null},readOnlyProperties:{}};l=this._initComponent(e,m)}else r.error("Component %s is not found",n)}}i.ignoreDependencies(function(){i.computed(function(){var e=i.utils.unwrapObservable(n());"object"!=typeof e&&r.error("ojComponent binding should evaluate to an object");var t,o=this._bindingOptions.componentName,a=!1;if(null==o&&null!=e){for(var s=[g._COMPONENT_OPTION,"role"],u=0;!a&&u<s.length;u++)(t=s[u])in e&&(a=!0,o=e[t]);a||r.error("component attribute is required for the ojComponent binding"),o=i.utils.unwrapObservable(o)}0===p?p=1:i.ignoreDependencies(m,this,[!0]),i.ignoreDependencies(v,this,[o,t,e])},this,{disposeWhenNodeIsRemoved:e})},this),i.utils.domNodeDisposal.addDisposeCallback(e,m.bind(this,!1))},g.prototype._initComponent=function(e,t){var r=!1,o=0,s={},u=a(e),l=t.component,d=t.componentName,c=this,p=function(n){if(n.target&&n.target===e){t.destroyCallback();var i=c._bindingOptions.beforeDestroy;i&&i(e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),g._deliverCreateDestroyEventToManagedProps(!1,s,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),r=!0,t.changeTracker.dispose(),e.removeEventListener("_ojDestroy",p)}};e.addEventListener("_ojDestroy",p);var f=g._resolveManagedAttributes(this._managedAttrOptions,t.specifiedOptions,d),h=g.getDefaultInstance();if(this!==h){var m=h._getManagedAttributes(t.specifiedOptions,d);n.CollectionUtils.copyInto(m,f),f=m}for(var v={},y=function(){var n=this._property,i=g._toJS(t.valueAccessor()[n]);if(0===o){var a=f[n];if(null!=a){s[n]=a;var u=a.init;if(null!=u)for(var d=u(n,i,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},c=Object.keys(d),p=0;p<c.length;p++){var h=c[p];v[h]=g.__cloneIfArray(d[h])}}else v[n]=g.__cloneIfArray(i)}else if(!r)if(null!=f[n]){var m=f[n].update;if(null!=m)for(var y=m(n,i,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},b=Object.keys(y),_=0;_<b.length;_++){var C=b[_];t.changeTracker.addChange(C,g.__cloneIfArray(y[C]))}}else t.readOnlyProperties[n]||t.changeTracker.addChange(n,g.__cloneIfArray(i))},b=0;b<t.specifiedOptions.length;b++)t.computeds.push(i.computed(y,{_property:t.specifiedOptions[b]}));o=1,g._registerWritebacks(u,t);var _=g.__removeDotNotationOptions(v);l(v),Object.keys(_).forEach(function(e){l("option",e,_[e])});var C=this._bindingOptions.afterCreate;return C&&C(e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),g._deliverCreateDestroyEventToManagedProps(!0,s,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),v=null,l},g.prototype._getManagedAttributes=function(e,t){return g._resolveManagedAttributes(this._managedAttrOptions,e,t)},g._resolveManagedAttributes=function(e,t,n){var r={},i=[],o=function(t,n){var r=e[t];if(null!=r)for(var a=r.length-1;a>=0;a--){var s=r[a];if(null!=s.attributes&&i.push(s),n){var u=s.use;if(null!=u){u=Array.isArray(u)?u:[u];for(var l=0;l<u.length;l++)o(u[l],!0)}}}};o(n,!0);var s=a.oj[n];if(null!=s)for(var u=Object.getPrototypeOf(s.prototype);null!=u&&"oj"===u.namespace;)o(u.widgetName,!0),u=Object.getPrototypeOf(u);if(o("@global",!1),i.length>0)for(var l=0;l<t.length;l++)for(var d=t[l],c=0;c<i.length;c++){var p=i[c];if(p.attributes.indexOf(d)>=0){r[d]={init:p.init,update:p.update,afterCreate:p.afterCreate,beforeDestroy:p.beforeDestroy};break}}return r},g._HANDLER_NAMESPACE=".oj_ko",g._registerWritebacks=function(e,t){for(var n={"^slider$":[{event:"slidechange",getter:v}],"^oj*":[{event:"ojoptionchange",getter:y.bind(void 0,t)}]},r={},i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];if(t.componentName.match(a)){for(var s=n[a],u=0;u<s.length;u++){var l=s[u];e.on(l.event+g._HANDLER_NAMESPACE,{getter:l.getter},function(n,i){if(n.target===e[0])for(var o=n.data.getter(n,i),a=t.valueAccessor(),s=Object.keys(o),u=0;u<s.length;u++){var l=s[u];t.changeTracker.suspend(l);try{if(t.specifiedOptions.indexOf(l)>=0){var d=a[g._OPTION_MAP],c=null==d?null:d[l],p=a[l];g._writeValueToProperty(l,p,o[l],c,t.bindingContext,r)}}finally{t.changeTracker.resume(l)}}})}break}}},g._writeValueToProperty=function(e,n,r,o,a,s){if(null!=n&&i.isObservable(n))i.isWriteableObservable(n)&&n(g.__cloneIfArray(r));else{if(!(e in s)){var u=null,l=h.getPropertyWriterExpression(o);null!=l&&(u=t.createEvaluator(l,a)),s[e]=u}var d=s[e];if(d)h.getWriter(d(a))(g.__cloneIfArray(r))}},g._toJS=function(e){var t=i.utils.unwrapObservable(e);return(Array.isArray(t)||n.CollectionUtils.isPlainObject(t))&&t.ojConvertToJS&&(t=i.toJS(t)),t},g.__cloneIfArray=function(e){return Array.isArray(e)&&(e=e.slice()),e},g.__removeDotNotationOptions=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];i.indexOf(".")>=0&&(t[i]=e[i],delete e[i])}return t},g._deliverCreateDestroyEventToManagedProps=function(e,t,n,r,i,o,a){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u],d=t[l],c=e?d.afterCreate:d.beforeDestroy;c&&c(l,n,r,i,o,a)}},g.__getKnockoutVersion=function(){return i.version},g._isNameRegistered=function(e){return g._REGISTERED_NAMES.indexOf(e)>=0},g._REGISTERED_NAMES=[],g._COMPONENT_OPTION="component",g._OPTION_MAP="_ojOptions",b="cleanExternalData",_=i.utils.domNodeDisposal,C=_[b],_[b]=function(e){var t=o?o.setInKoCleanExternal:null;t&&t(e);try{C(e)}finally{t&&t(null)}},g._INSTANCE=g.create(["ojComponent","jqueryUI"]),t.addPostprocessor({getBindingAccessors:function(e,r,o,a){if(null==o)return null;var s=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(g._isNameRegistered(r))return r}return null}(o);null!=s&&(o=function(e,r,o,a,s){var u=function(e,n,r,o){var a=null,s=t.getBindingsString(e,r,o),u=i.jsonExpressionRewriting.parseObjectLiteral(s),l=null;E(u,function(e,t){return e===n&&(l=t,!0)}),null!=l&&0===l.indexOf("{")&&(a=i.jsonExpressionRewriting.parseObjectLiteral(l));return{attrList:a,bindingExpr:l}}(e,r,o,a),l=u.attrList;if(null==l)return s;var d={};return E(l,function(e,t){d[e]=t}),(s=n.CollectionUtils.copyInto({},s))[r]=function(e,n,r){var i=function(){var r={};return Object.keys(n).forEach(function(i){var o=n[i],a=t.createEvaluator(o,e).bind(null,e);Object.defineProperty(r,i,{get:a,enumerable:!0})}),Object.defineProperty(r,g._OPTION_MAP,{value:n}),r};return i.toString=function(){return r},i}(a,d,u.bindingExpr),s}(e,s,a,r,o));return o}}),t.addPostprocessor({nodeHasBindings:function(e,t){return n.BaseCustomElementBridge?t||1===e.nodeType&&s.CustomElementUtils.isElementRegistered(e.nodeName):t},getBindingAccessors:function(e,t,n){if(1===e.nodeType){var r=e.nodeName;s.CustomElementUtils.isElementRegistered(r)&&((n=n||{})._ojCustomElement=function(){const e=s.CustomElementUtils.isComposite(r),t=s.CustomElementUtils.isVComponent(r);return{skipThrottling:e||t}})}return n}}),a.widget("oj._ojDetectCleanData",{options:{cleanParent:!1},_destroy:function(){var e=i.utils.domNodeDisposal,t=e.cleanExternalData;e.cleanExternalData=function(){};try{this.options.cleanParent&&null!=this.element[0].parentNode?i.cleanNode(this.element[0].parentNode):i.cleanNode(this.element[0])}finally{e.cleanExternalData=t}}}),g.getDefaultInstance().setupManagedAttributes({attributes:["tooltip"],init:function(e,t,n,r,i,o,a){return x(e,t,a)},update:function(e,t,n,r,i,o,a){return x(e,t,a)},for:"tooltipOptionRenderer"}),function(){for(var e=["ojChart","ojDiagram","ojNBox","ojPictoChart","ojSunburst","ojTagCloud","ojThematicMap","ojTreemap","ojDialGauge","ojLedGauge","ojRatingGauge","ojSparkChart","ojStatusMeterGauge","ojGantt"],t=0;t<e.length;t++)g.getDefaultInstance().setupManagedAttributes({for:e[t],use:"tooltipOptionRenderer"})}(),g.getDefaultInstance().setupManagedAttributes({attributes:["pieCenter"],init:function(e,t,n,r,i,o,a){return j(e,t,a)},update:function(e,t,n,r,i,o,a){return j(e,t,a)},for:"ojChart"}),g.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(e,t,n,r,i,o,a){var s=N(e,t,a);if(null!==s)return s},update:function(e,t,n,r,i,o,a){return N(e,t,a)},for:"ComboboxOptionRenderer"}),g.getDefaultInstance().setupManagedAttributes({for:"ojCombobox",use:"ComboboxOptionRenderer"}),g.getDefaultInstance().setupManagedAttributes({for:"ojSelect",use:"ComboboxOptionRenderer"}),g.getDefaultInstance().setupManagedAttributes({for:"ojInputSearch",use:"ComboboxOptionRenderer"}),i.bindingHandlers.ojContextMenu={update:function(e,t,r,s,u){var l,d,c=a(e),p=!1,f=!1,h=null;c.off(".ojContextMenu").removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",b,!0),c[0].removeEventListener("touchstart",x,{passive:!1}),clearTimeout(l);var m=c.data("_ojLastContextMenu");m&&D(m.selector,m.id).off(".ojContextMenu");var g=!1,v=i.utils.unwrapObservable(t()),y=a.isPlainObject(v)?e.getAttribute("contextmenu"):null;function b(e){if(p)return e.preventDefault(),e.stopPropagation(),p=!1,!1}function _(e){121===e.keyCode&&e.shiftKey&&E().is(":visible")&&e.preventDefault()}function C(){var e=n.Components.__GetWidgetConstructor(E()[0],"ojMenu"),t=e&&e("instance");if(!t)throw new Error('ojContextMenu binding bound to "'+(y||v)+'", which does not reference a valid JET Menu.');return g||(t.widget().on("ojclose.ojContextMenu",function(){document.removeEventListener("keyup",_)}),g=!0),t}function E(){return D(v,y)}function D(e,t){return t?a(document.getElementById(t)):a(e).first()}function A(e,t,n){p=n;var r=C();if(p&&c.one("touchend.ojContextMenu",function(){r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},50)}),"touchstart"===h&&"contextmenu"===e.type||"contextmenu"===h&&"touchstart"===e.type)return h=null,void clearTimeout(d);if(!e.isDefaultPrevented()){var i={launcher:c,initialFocus:"menu",position:{mouse:{my:"start top",at:"start bottom",of:e},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[t]};r.__openingContextMenu=!0,r.open(e,i),r.__openingContextMenu=!1,r.widget().is(":visible")&&(e.preventDefault(),document.addEventListener("keyup",_),"touchstart"!==e.type&&"contextmenu"!==e.type||(h=e.type,d=setTimeout(function(){h=null},300)))}}function x(e){if("touchstart"===e.type&&(e=a.Event(e)),"mousedown"!==e.type||!C().__contextMenuPressHoldJustEnded())return p=!1,"touchstart"===e.type&&(f=!0,l=setTimeout(A.bind(void 0,e,"touch",!0),750)),!0}c.data("_ojLastContextMenu",{selector:v,id:y}),e.addEventListener("click",b,!0),c[0].addEventListener("touchstart",x,{passive:!1}),c.on("mousedown.ojContextMenu keydown.ojContextMenu ",x).on("touchend.ojContextMenu touchcancel.ojContextMenu",function(){return f=!1,clearTimeout(l),!0}).on("keydown.ojContextMenu contextmenu.ojContextMenu",function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&A(e,f?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}).addClass(o.isTouchSupported()?"oj-menu-context-menu-launcher":"")}};const P=function(e,n,o){var a=function(){if(o)return null;return new f(function(t){for(var n=Object.keys(t),r=0;r<n.length;r++){v(n[r])}try{e.setProperties(t)}finally{for(var i=0;i<n.length;i++){y(n[i])}}},t.getGlobalChangeQueue())}(),u={},l={},d={},c={};function p(e){return e.$current||e.$data}function m(t,n,r){var i=u[n];if(i||(i=function(e){var t,n=p(e),r=function(r){t&&t(r,n,e)};return r.setListener=function(e){t=e},r}(t),u[n]=i,e.addEventListener(n,i)),!(null==r||r instanceof Function)){var o=s.AttributeUtils.eventTypeToEventListenerProperty(n),a=`Invalid type '${typeof r}' found for attribute '${s.AttributeUtils.propertyNameToAttribute(o)}'. Expected value of type 'function'."`;if(s.CustomElementUtils.isElementRegistered(e.tagName)){s.CustomElementUtils.getElementState(e).rejectBindingProvider(a)}throw new s.JetElementError(e,a)}i.setListener(r)}function v(e){var t=c[e]||0;t+=1,c[e]=t}function y(e){var t=c[e];t?(t-=1,c[e]=0===t?null:t):r.error("Property count undefrlow")}this.setupPropertyBinding=function(o,u,f,b,_){if(!f)return;if(!function(e,t){var n=e.split("."),r=t;n.shift();for(var i=0;i<n.length&&(r=r.properties);i++)r=r[n[i]];return r}(u,f))return;var C=l[u];C&&(C.dispose(),l[u]=null);var E=d[u];if(E&&(e.removeEventListener(u+"Changed",E),d[u]=null),f._domListener){var D=s.AttributeUtils.eventListenerPropertyToEventType(u);m(n,D,null)}let A,x,j;if(void 0===o){const e=void 0===_?null:(n.$provided||{})[_];e&&(A=()=>e())}else{const e=s.AttributeUtils.getExpressionInfo(o);x=e.expr,x&&(A=t.createEvaluator(x,n),j=e.downstreamOnly)}if(A){if(!f.readOnly){var N=!0;i.ignoreDependencies(function(){l[u]=i.computed(function(){var t,r,o,l=A(n),d=i.utils.unwrapObservable(l);if(f._domListener){var c=s.AttributeUtils.eventListenerPropertyToEventType(u);m(n,c,d)}else Array.isArray(d)&&(d=d.slice()),f._eventListener&&d&&d instanceof Function&&(r=d,o=p(t=n),d=function(e){r(e,o,t)}),!N&&a?a.addChange(u,d):function(t,n){v(t);try{e.setProperty(t,n)}catch(t){throw s.CustomElementUtils.getElementState(e).rejectBindingProvider(t),t}finally{y(t)}}(u,d),N&&b&&b(d)})}),N=!1}void 0!==x&&f.writeback&&!j&&(d[u]=function(o,a,s){var u=o.split("."),l=u[0],d=function(e){if(!function(e){return c[e]}(l)){var d,p=!1;i.ignoreDependencies(function(){for(var r=e.detail.value,o=1;o<u.length;o++){r=r[u[o]]}var l=s(n);if(i.isObservable(l))i.isWriteableObservable(l)?(l(g.__cloneIfArray(r)),p=!0):d="the observable is not writeable";else{var c=h.getPropertyWriterExpression(a);if(null!=c){var f=t.createEvaluator(c,n);h.getWriter(f(n))(g.__cloneIfArray(r)),p=!0}else d="the expression is not a valid update target"}}),p||d&&r.info("The expression '%s' for property '%s' was not updated because %s.",a,o,d)}};return e.addEventListener(l+"Changed",d),d}(u,x,A))}},this.teardown=function(){var t,n=Object.keys(l);for(t=0;t<n.length;t++){var r=l[n[t]];r&&r.dispose()}for(l={},n=Object.keys(d),t=0;t<n.length;t++){var i=n[t].split(".")[0];e.removeEventListener(i+"Changed",d[i])}for(d={},n=Object.keys(u),t=0;t<n.length;t++){var o=n[t];e.removeEventListener(o,u[o])}u={},a&&a.dispose()}},O=function(){this._resolveWhenChildrenBindingsApplied=function(e,t){var n=this._getChildrenBindingsAppliedPromises(e);if("none"===t||0===n.length)s.CustomElementUtils.getElementState(e).resolveBindingProvider(this);else{for(var r=[];n.length>0;){var i=n.shift();("nearestCustomElement"===t||"immediate"===t&&!0===i.immediate)&&r.push(i.promiseCallback)}Promise.all(r).then(function(){this._resolveWhenChildrenBindingsApplied(e,t)}.bind(this))}},this._getChildrenBindingsAppliedPromises=function(e,t){return!e._whenChildrenBindingsApplied&&t&&Object.defineProperty(e,"_whenChildrenBindingsApplied",{value:[],enumerable:!1}),e._whenChildrenBindingsApplied||[]},this.__RegisterBindingAppliedPromiseForChildren=function(e,t){var n=null;if(e){var r=new Promise(function(e){n=e});this._getChildrenBindingsAppliedPromises(e,!0),e._whenChildrenBindingsApplied.push({immediate:t,promiseCallback:r})}return n},this.__NotifyBindingsApplied=function(e){var t=s.CustomElementUtils.getElementState(e).getTrackChildrenOption();this._resolveWhenChildrenBindingsApplied(e,t)},this.__NotifyBindingsDisposed=function(e){s.CustomElementUtils.getElementState(e).disposeBindingProvider(e)},this.__GetThrottlePromise=function(){return t.getGlobalChangeQueue().getThrottlePromise()},this.__ExtendBindingContext=function(e,n,r,i,o){return t.extendBindingContext(e,n,r,i,o)},this.__ContextFor=function(e){return e.__ojBindingContext?e.__ojBindingContext:i.contextFor(e)},this.__UnwrapObservable=function(e){return i.utils.unwrapObservable(e)},this.__IsObservable=function(e){return i.isObservable(e)},this.__KoComputed=function(e,t,n){return i.computed(e,t,n)},this.__KoIsInitial=function(){return i.computedContext.isInitial()},this.__CleanNode=function(e){i.cleanNode(e)}};function w(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$key=r.key,e.$metadata=r.metadata,e.$headerContext=r});return k(r,t,i,o,n),null}}function T(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$keys=r.keys,e.$metadata=r.metadata,e.$cellContext=r,e.$cell=r.cell});return k(r,t,i,o,n),null}}function k(e,t,n,r,o){var s=function(e,t){var n=t[e];null==n&&(n=i.utils.parseHtmlFragment(document.getElementById(e).innerHTML,document),t[e]=n);return n.map(function(e){return e.cloneNode(!0)})}(function(e,t){if("function"==typeof e)return e(t);return e}(t,e),o);i.virtualElements.setDomNodeChildren(n,s),i.applyBindingsToDescendants(r,n);for(var u=0;u<n.childNodes.length;u++)if(1===n.childNodes[u].nodeType){a(n.childNodes[u])._ojDetectCleanData({cleanParent:!0});break}}function I(e,t,n){return"template"===e?{_templateFunction:A(n,t)}:null}O.getInstance=function(){return O._instance},O._instance=new O,oj._registerLegacyNamespaceProp("_KnockoutBindingProvider",O),function(){i.bindingHandlers._ojCustomElement={after:["attr"],init:function(r,o,a,u,l){var d,c;const p=s.CustomElementUtils.getElementProperties(r),{provide:f,consume:h,cleanup:m}=function(e,r){const o=Object.create(null),a=Object.create(null),u=Object.create(null),l=function(e,r){const i=e.localName;let o=t[i];if(void 0!==o)return o;o=null;return Object.keys(r).forEach(e=>{const t=r[e],i=n(t,["binding","provide"]),a=n(t,["binding","consume"]);if(i||a){if(t.properties)throw new Error("Propagating complex properties is not supported!");o=o||Object.create(null),o[e]=[i,a]}}),t[i]=o,o}(e,r);if(null!==l){Object.keys(l).forEach(t=>{const[n,d]=l[t];if(void 0!==n){const a=s.AttributeUtils.propertyNameToAttribute(t),l=e.hasAttribute(a),d=[],p=[];if(n.forEach(e=>{const t=e.name;if(void 0===t)throw new Error("name attribute for the binding/provide metadata is required!");const n=e.default,r=function(e,t){const n=i.observable(t);if(e)return i.pureComputed({write:t=>n(e.hasOwnProperty(t)?e[t]:t),read:()=>n()});return n}(e.transform,n);d.push(r),p.push({name:t,obs:r})}),p.length>0){const n=function(e){return t=>e.forEach(e=>e(t))}(d);o[t]={set:n,vars:p};const i=(c=n,e=>c(e.detail.value)),f=t+"Changed";if(e.addEventListener(f,i),u[f]=i,l){const i=e.getAttribute(a);s.AttributeUtils.getExpressionInfo(i).expr||n(s.AttributeUtils.attributeToPropertyValue(e,a,i,r[t]))}}}var c;if(void 0!==d){const e=d.name;if(void 0===e)throw new Error("'name' property on the binding/consume metadata is required!");a[t]=e}})}return{provide:o,consume:a,cleanup:function(){Object.keys(u).forEach(t=>e.removeEventListener(t,u[t]))}}}(r,p);function g(){d&&(d.teardown(),d=null),c&&(r.removeEventListener(e,c),c=null),O.getInstance().__NotifyBindingsDisposed(r)}i.computed(function(){var t=o().skipThrottling;const n=i.computedContext.isInitial();n||g(),function(t,n){d=new P(r,l,t);var i={_domListener:!0};s.CustomElementUtils.getElementState(r).beginApplyingBindings();for(var o=r.attributes,a=0;a<o.length;a++){var u=o[a],m=s.AttributeUtils.attributeToPropertyName(u.nodeName);let e,t;const r=s.AttributeUtils.isEventListenerProperty(m)&&!p[m];if(!r){t=m.split(".")[0];const r=f[t];e=n&&r?r.set:void 0}d.setupPropertyBinding(u.value,m,r?i:p[t],e)}Object.keys(h).forEach(e=>{if(!r.hasAttribute(s.AttributeUtils.propertyNameToAttribute(e))){const t=f[e],r=n&&t?t.set:void 0;d.setupPropertyBinding(void 0,e,p[e],r,h[e])}}),c=function(e){var t=e.detail,n=t.attribute,r=s.AttributeUtils.attributeToPropertyName(n),o=s.AttributeUtils.isEventListenerProperty(r)&&!p[r]?i:p[r.split(".")[0]];d.setupPropertyBinding(t.value,r,o,void 0,h[r])},r.addEventListener(e,c)}(t,n)},null,{disposeWhenNodeIsRemoved:r}),i.utils.domNodeDisposal.addDisposeCallback(r,function(){g(),m()});const v=function(e,t){let n=e;const r=Object.keys(t);if(r.length>0){const i=e.$provided,o=void 0===i?{}:Object.assign({},i);r.forEach(e=>{t[e].vars.forEach(e=>{o[e.name]=e.obs})}),n=e.extend({$provided:o})}return n}(l,f);return i.applyBindingsToDescendants(v,r),O.getInstance().__NotifyBindingsApplied(r),{controlsDescendantBindings:!0}}};const e="attribute-changed",t=Object.create(null);function n(e,t){let n=e;return t.some(e=>(n=n[e],null==n))?void 0:n}}(),g.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=w(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=w(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=w(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=w(a,h))}return{header:t}}if("cell"===e){var m=t.template;return null!=m&&(t.renderer=T(a,m)),{cell:t}}},update:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=w(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=w(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=w(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=w(a,h))}return{header:t}}if("cell"===e){var m=t.template;return null!=m&&(t.renderer=T(a,m)),{cell:t}}return null},for:"ojDataGrid"}),g.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(e,t,n,r,i,o,a){return I(e,t,a)},update:function(e,t,n,r,i,o,a){return I(e,t,a)},for:"ojDiagram"}),function(){function e(e,t,i,o){var a=r(e.getAttribute(i),o);if(a)return n(e,t,"ko "+t+":"+a)}function n(e,t,n){for(var r=e.tagName.toLowerCase(),i=r,o=e.attributes,a=0;a<o.length;a++){var s=o[a];i+=" ",i+=s.name,i+="='",i+=s.value,i+="'"}var u=e.parentNode,l=document.createComment(i),d=document.createComment("/"+r);u.insertBefore(l,e);var c=document.createComment(n),p=document.createComment("/ko");u.insertBefore(c,e);var f,h=[l,c];if("if"===t)for(;e.childNodes.length>0;)f=e.childNodes[0],u.insertBefore(f,e),h.push(f);else if("_ojBindForEach_"===t)for(;e.childNodes.length>0;)f=e.childNodes[0],u.insertBefore(f,e),h.push(f);return u.insertBefore(p,e),h.push(p),u.replaceChild(d,e),h.push(d),h}function r(e,t){if(null!=e){var n=s.AttributeUtils.getExpressionInfo(e).expr;return null==n&&(n=t?"'"+e+"'":e),n}return null}function o(e,n,r,o){var a,u=s.AttributeUtils.getExpressionInfo(r).expr;if(null==u){var l=s.AttributeUtils.coerceValue(n,"class",r,"any");a=function(){return Array.isArray(l)?l.join(" "):l}}else{var d=t.createEvaluator(u,o).bind(null,o);a=i.pureComputed(function(){var e=i.unwrap(d());return Array.isArray(e)?e.join(" "):e})}e.css=a}function a(e,n,r,i,o){var a=s.AttributeUtils.getExpressionInfo(r).expr;return null==a?function(){return"object"===o?s.AttributeUtils.coerceValue(e,n,r,o):r}:t.createEvaluator(a,i).bind(null,i)}function u(e){return function(){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]()}return t}}function l(e){if(1!==e.nodeType)return{};if(!e._ojbindingsobj){for(var t={},n=[],r=[],i=[],o=e.attributes,a=0;a<o.length;a++){var u=o[a],l=d(u.name);l&&("style"===l?t._STYLE_BIND=l:"style."===l.substring(0,6)?r.push(l):n.push(l)),s.CustomElementUtils.isElementRegistered(e.nodeName)||"on-"!==u.name.substring(0,3)||i.push(u)}if(r.length){if(t._STYLE_BIND)throw new Error("Cannot have both style and style.* data bound attributes on "+e.tagName+" with id "+e.id);t._STYLE_BIND=r}n.length&&(t._ATTR_BIND=n),i.length&&(t._EVENT_BIND=i),Object.defineProperty(e,"_ojbindingsobj",{value:t})}return e._ojbindingsobj}function d(e){return e&&":"===e.charAt(0)?e.slice(1):null}function c(e){return":"+e}t.registerPreprocessor("oj-bind-text",function(t){return e(t,"text","value",!0)}),t.registerPreprocessor("oj-bind-if",function(t){return e(t,"if","test",!1)}),t.registerPreprocessor("oj-bind-for-each",function(e){var t=e.getAttribute("data"),i=s.AttributeUtils.getExpressionInfo(t).expr;if(!i)try{var o=JSON.parse(t);if(!Array.isArray(o))throw new Error("got value "+t);i=t}catch(e){throw new Error("The value on the oj-bind-for-each data attribute should be either a JSON array or an expression : "+e)}var a=r(e.getAttribute("as"),!0);if(!i)return;var u="ko _ojBindForEach_:{data:"+i;return n(e,"_ojBindForEach_",u+=a?",as:"+a+"}":"}")}),t.addPostprocessor({nodeHasBindings:function(e,t){var n=l(e);return t||null!=n._ATTR_BIND||null!=n._STYLE_BIND||null!=n._EVENT_BIND},getBindingAccessors:function(e,t,n){if(1===e.nodeType){n=n||{};var r,d,p=l(e),f=p._STYLE_BIND;if(f){if(n.style)throw new Error("Cannot have both style data-bind and JET style binding on "+e.tagName+" with id "+e.id);if("style"===f)n[f]=a(e,f,e.getAttribute(c(f)),t,"object");else{var h={};for(r=0;r<f.length;r++){d=f[r],h[s.AttributeUtils.attributeToPropertyName(d.substring(6))]=a(e,d,e.getAttribute(c(d)),t,"string")}n.style=u(h)}}var m=p._ATTR_BIND;if(m){if(n.attr)throw new Error("Cannot have both attr data-bind and JET attribute binding on "+e.tagName+" with id "+e.id);var g={};for(r=0;r<m.length;r++)"class"===(d=m[r])?o(n,e,e.getAttribute(c(d)),t):g[d]=a(e,d,e.getAttribute(c(d)),t,"string");n.attr=u(g)}var v=p._EVENT_BIND;if(v){var y=new P(e,t,!0);for(r=0;r<v.length;r++){var b=v[r],_=s.AttributeUtils.attributeToPropertyName(b.nodeName);y.setupPropertyBinding(b.value,_,{_domListener:!0})}i.utils.domNodeDisposal.addDisposeCallback(e,function(){y&&(y.teardown(),y=null)})}}return n}})}(),
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   *
   * @license
   * Knockout Fast Foreach v0.6.0 (2016-07-28T11:02:54.197Z)
   * By: Brian M Hunt (C) 2015 | License: MIT
   *
   * Adds `fastForEach` to `ko.bindingHandlers`.
   *
   * Modification notice: The code is obtained from https://github.com/brianmhunt/knockout-fast-foreach
   * and modified by Oracle JET team to be included into Oracle JET project.
   * @ignore
   */
function(){var e=document&&"function"==typeof document.createDocumentFragment;function t(e,t,n){return{status:"added",value:e,index:t,key:n}}function n(e){return{status:"deleted",value:{},index:e}}function o(e,t){var n;if(e){var r=e.length;n=new Array(r);for(var i=0;i<r;i++)n[i]=t(e[i],i,e)}return n}function a(e,n,r){this.element=n.element||e,i.applyBindingsToDescendants(r,this.element),function(e){for(var t,n,r=i.virtualElements.childNodes(e),o=0;o<r.length;o++){var a=r[o];if(1===a.nodeType&&"template"===a.nodeName.toLowerCase()){var u=s.CustomElementUtils.getSlotAssignment(a);if(t||u&&""!==u){if(n||"noData"!==u){var l;switch(u){case"":l="Multiple default templates found: oj-bind-for-each requires a single default template element as its direct child";break;case"noData":l="Multiple noData templates found: oj-bind-for-each requires a single noData template element as its direct child";break;default:l="Unknown template slot detected - "+u+": oj-bind-for-each supports a single default template and a single noData template"}throw new Error(l)}n=a}else t=a}}if(!t)throw new Error("Default template not found: oj-bind-for-each requires a single default template element as its direct child");e._templateNode=t,e._noDataTemplateNode=n}(this.element),this.element._templateNode.__ojBindingContext=i.contextFor(this.element._templateNode),this.data=n.data,this.as=n.as,this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this.headDataPromise=null,this.tailDataPromise=null,i.virtualElements.emptyNode(this.element),this._initChildrenBindingsAppliedPromise();var a=i.unwrap(this.data);a.fetchFirst?(this.currentDataProvider=a,this.fetchData()):this.onArrayChange(o(a,t)),this.addSubscriptions()}a.PENDING_DELETE_INDEX_KEY="_ko_ffe_pending_delete_index",a.prototype.addSubscriptions=function(){var e=i.isObservable(this.data);this.currentDataProvider?(this.dataMutateHandler=this.handleDataMutateEvent.bind(this),this.dataRefreshHandler=this.handleDataRefreshEvent.bind(this),this.currentDataProvider.addEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.addEventListener("refresh",this.dataRefreshHandler),e&&(this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))):e&&(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeArraySubs=this.data.subscribe(this.onArrayDataChange,this,"arrayChange"),this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))},a.prototype.removeSubscriptions=function(){this.changeSubs&&this.changeSubs.dispose(),this.changeArraySubs&&this.changeArraySubs.dispose(),this.currentDataProvider&&(this.currentDataProvider.removeEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.removeEventListener("refresh",this.dataRefreshHandler))},a.prototype.onArrayDataChange=function(e){this.arrayChangeSet=e},a.prototype.onDataChange=function(e){this.arrayChangeSet?(this.onArrayChange(this.arrayChangeSet),this.arrayChangeSet=null):(this.setData({data:this.data,dataProvider:e.fetchFirst?e:null}),this.recreateContent(e))},a.prototype.recreateContent=function(e){this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],i.virtualElements.emptyNode(this.element),e.fetchFirst?this.fetchData():this.onArrayChange(o(e,t))},a.prototype.registerBusyState=function(){var e=this.element.parentNode;return l.getContext(e).getBusyContext().addBusyState({description:"oj-bind-for-each binding on a node with the Id "+e.id+"is loading data."})},a.prototype._initChildrenBindingsAppliedPromise=function(){var e=this.element._templateNode.__ojBindingContext.$current,t=e?{_nearestCustomParent:e._nearestCustomParent,_immediate:e._immediate}:null,n=function(e,t){for(var n=e.parentNode;n&&!s.ElementUtils.isValidCustomElementName(n.localName);)n=n.parentNode;return n||(n=t?t._nearestCustomParent:null),n}(this.element,t),r=function(e,t,n){var r=!1,i=!!n;return e.parentNode===t?r=!0:i&&!e.parentNode.parentNode&&(r=n._immediate),r}(this.element,n,t);this.trackingContext={_nearestCustomParent:n,_immediate:r},this._childrenBindingsPromiseResolver=O.getInstance().__RegisterBindingAppliedPromiseForChildren(n,r)},a.prototype._resolveChildrenBindingsAppliedPromise=function(){this._childrenBindingsPromiseResolver&&(this._childrenBindingsPromiseResolver(),this._childrenBindingsPromiseResolver=null)},a.prototype.resetChainIfCompleted=function(e){e===this.tailDataPromise&&(this.headDataPromise=null,this.tailDataPromise=null)},a.prototype.promiseRejectHelper=function(e,t,n){if(t(),this.resetChainIfCompleted(n),!e._CAUGHT_PROMISE_REJECTION&&"oj-bind-for-each: abandoned promise"!==e.message){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}r.info(e)},a.prototype.fetchData=function(){var e,n,r,i=this.registerBusyState(),o=this.currentDataProvider.fetchFirst({size:-1})[Symbol.asyncIterator](),a=function(s,u,l){return function(d){if(l.headDataPromise===r){for(var c=d.value,p=s.length,f=0;f<c.metadata.length&&f<c.data.length;f++)s.push(t(c.data[f],p,c.metadata[f].key)),p+=1;d.done?(u.call(l,s),i(),e(),l.resetChainIfCompleted(r)):o.next().then(a(s,u,l),function(e){i(),n(e),l.resetChainIfCompleted(r)})}else i(),n(new Error("oj-bind-for-each: abandoned promise"))}};(r=new Promise(function(t,s){e=t,n=s,o.next().then(a([],this.onArrayChange,this),function(e){i(),n(e),this.resetChainIfCompleted(r)}.bind(this))}.bind(this))).catch(function(e){if("oj-bind-for-each: abandoned promise"!==e.message){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}}),this.headDataPromise=r,this.tailDataPromise=r},a.prototype.getIndexesForEvent=function(e,t){var n,r=[];if(Array.isArray(e))for(n=0;n<e.length;n++)r.push(e[n]);else if(t){var i=Array.isArray(t)?t.length:t.size,o=new u(t),a=new Map,s=0;for(n=0;n<this.firstLastNodesList.length&&s<i;n++){var l=this.firstLastNodesList[n].key,d=o.get(l);d!==o.NOT_A_KEY&&(a.set(d,n),s+=1)}t.forEach(function(e){r.push(a.get(e))})}return r},a.prototype.handleDataMutateEvent=function(e){var t,n,r={},i=this;this.tailDataPromise?(t=this.registerBusyState(),(n=this.tailDataPromise.then(function(){return t(),i.getDataMutationHelper(e,r)})).catch(function(e){i.promiseRejectHelper(e,t,n)})):(n=this.getDataMutationHelper(e,r),this.headDataPromise=n),this.tailDataPromise=n,r.head=this.headDataPromise,r.current=n},a.prototype.getDataMutationHelper=function(e,r){var i,o,a=e.detail.add,s=e.detail.remove,u=e.detail.update,l=a&&a.data,d=u&&u.data,c=()=>{if(d){var e=0,r=[],i=this.getIndexesForEvent(u.indexes,u.keys);u.keys.forEach(function(o){if(void 0!==i[e]){var a=d[e];r.push(n(i[e])),r.push(t(a,i[e],o))}e+=1}),this.onArrayChange(r)}},p=()=>{if(s){var e=this.getIndexesForEvent(s.indexes,s.keys);e=e.filter(function(e){return void 0!==e}),this.onArrayChange(e.map(n))}},f=()=>{if(l){var e=this.getIndexesForEvent(a.indexes,a.addBeforeKeys?a.addBeforeKeys:a.afterKeys),n=[],r=0;a.keys.forEach(function(i){var o=l[r];n.push(t(o,function(t){var n=e.length>t?e[t]:this.firstLastNodesList.length+t;return void 0===n?this.firstLastNodesList.length:n}(r),i)),r+=1},this),this.onArrayChange(n)}};if(u&&!Array.isArray(d)||a&&!Array.isArray(l)){var h=u&&!Array.isArray(d)?this.currentDataProvider.fetchByKeys({keys:u.keys}):Promise.resolve(),m=a&&!Array.isArray(l)?this.currentDataProvider.fetchByKeys({keys:a.keys}):Promise.resolve();i=this.registerBusyState(),(o=Promise.all([h,m]).then(e=>{if(r.head!==this.headDataPromise)throw i(),new Error("oj-bind-for-each: abandoned promise");var t=e[0];t&&t.results.size>0&&(d=[...u.keys].map(e=>t.results.get(e).data)),c(),p();var n=e[1];n&&n.results.size>0&&(l=[...a.keys].map(e=>n.results.get(e).data)),f(),i(),this.resetChainIfCompleted(r.current)})).catch(e=>{this.promiseRejectHelper(e,i,r.current)})}else c(),p(),f();return o},a.prototype.handleDataRefreshEvent=function(){this.recreateContent(this.currentDataProvider)},a.prototype._addNoData=function(){0===this.firstLastNodesList.length&&this.element._noDataTemplateNode&&(this._noDataNodes=d.execute(this.element,this.element._noDataTemplateNode,{},null),this.insertAllAfter(this._noDataNodes))},a.prototype._removeNoData=function(){this._noDataNodes&&(this._noDataNodes.forEach(e=>{d.clean(e),e.parentNode.removeChild(e)}),this._noDataNodes=null)},a.prototype.onArrayChange=function(e){this._removeNoData();for(var t={added:[],deleted:[]},n=0,r=e.length;n<r;n++)if(t.added.length&&"added"===e[n].status){var i=t.added[t.added.length-1];(i.isBatch?i.index+i.values.length-1:i.index)+1===e[n].index?(i.isBatch||(i={isBatch:!0,status:"added",index:i.index,values:[i.value],keys:[i.key]},t.added.splice(t.added.length-1,1,i)),i.values.push(e[n].value),i.keys.push(e[n].key)):t[e[n].status].push(e[n])}else t[e[n].status].push(e[n]);t.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,t.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,t.added),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,this.processQueue()),this._addNoData(),this._resolveChildrenBindingsAppliedPromise()},a.prototype.processQueue=function(){var e=this,t=9007199254740991;i.utils.arrayForEach(this.changeQueue,function(n){"number"==typeof n.index&&(t=Math.min(t,n.index)),e[n.status](n)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes(t),this.changeQueue=[]},a.prototype.added=function(e){for(var t=e.index,n=e.isBatch?e.values:[e.value],r=e.isBatch?e.keys:[e.key],o=this.getLastNodeBeforeIndex(t),a=[],s=0,u=n.length;s<u;++s){var l,c,p=this.getPendingDeleteFor(n[s]);p&&p.nodesets.length?(l=p.nodesets.pop(),c=p.currentChildContext):(c={data:n[s],index:t+s,observableIndex:i.observable()},Object.defineProperties(c,{_nearestCustomParent:{value:this.trackingContext._nearestCustomParent,enumerable:!1},_immediate:{value:this.trackingContext._immediate,enumerable:!1}}),l=d.execute(this.element,this.element._templateNode,c,this.as)),a.push.apply(a,Array.prototype.slice.call(l)),this.firstLastNodesList.splice(t+s,0,{first:l[0],last:l[l.length-1],key:r?r[s]:null,currentChildContext:c})}this.insertAllAfter(a,o)},a.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},a.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},a.prototype.insertAllAfter=function(t,n){var r,o,a=this.element;if(1===t.length)i.virtualElements.insertAfter(a,t[0],n);else if(e){var s=document.createDocumentFragment();for(o=0,r=t.length;o!==r;++o)s.appendChild(t[o]);i.virtualElements.insertAfter(a,s,n)}else for(o=t.length-1;o>=0;--o){var u=t[o];if(!u)break;i.virtualElements.insertAfter(a,u,n)}return t},a.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},a.prototype.getPendingDeleteFor=function(e){var t=e&&e._ko_ffe_pending_delete_index;return void 0===t?null:this.pendingDeletes[t]},a.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e._ko_ffe_pending_delete_index=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},a.prototype.deleted=function(e){if(this.shouldDelayDeletion(e.value)){var t=this.getOrCreatePendingDeleteFor(e.value);t.nodesets.push(this.getNodesForIndex(e.index)),t.currentChildContext=this.firstLastNodesList[e.index].currentChildContext}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)},a.prototype.removeNodes=function(e){if(e.length){!function(){for(var t=e[0].parentNode,n=e.length-1;n>=0;--n)d.clean(e[n]),t.removeChild(e[n])}()}},a.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!==t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data._ko_ffe_pending_delete_index&&delete n.data._ko_ffe_pending_delete_index}this.pendingDeletes=[]},a.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},a.prototype.updateIndexes=function(e){for(var t=e,n=this.firstLastNodesList.length;t<n;++t){var r=this.firstLastNodesList[t].currentChildContext;r&&r.observableIndex&&r.observableIndex(t)}},a.prototype.getData=function(){return{data:this.data,dataProvider:this.currentDataProvider}},a.prototype.setData=function(e){this.removeSubscriptions(),this.data=e.data,this.currentDataProvider=e.dataProvider,this.addSubscriptions()},i.bindingHandlers._ojBindForEach_={init:function(e,t,n,r,o){var s,u;return i.computed(function(){if(u=t(),s){var e,n,r=u.data,o=s.getData().data;if(i.ignoreDependencies(function(){e=i.unwrap(o),n=i.unwrap(r)}),s.setData({data:r,dataProvider:n.fetchFirst?n:null}),Array.isArray(e)&&Array.isArray(n)){var a=i.utils.compareArrays(e,n,{sparse:!0,dontLimitMoves:!0});s.onArrayChange(a)}else s.recreateContent(n)}},null,{disposeWhenNodeIsRemoved:e}),s=new a(e,u,o),i.utils.domNodeDisposal.addDisposeCallback(e,function(){s.removeSubscriptions()}),{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings._ojBindForEach_=!0}();const B={};function L(e,t,n){if("item"===e){var r=t.template;return null!=r&&(t.renderer=function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$itemContext=n});return i.renderTemplate(t,o,{afterRender:function(e){a(e)._ojDetectCleanData()}},r,"replaceNode"),null}}(n,r)),{item:t}}return null}function M(e,t,n){return"center"===e&&t.template&&(t._renderer=D(n,t.template)),{center:t}}function S(e,t,n){return"rootNodeContent"===e&&t.template&&(t._renderer=D(n,t.template)),{rootNodeContent:t}}n._registerLegacyNamespaceProp("koStringTemplateEngine",B),B.install=function(){var e=i;if(!e.templates){var t={},n={},r=new e.nativeTemplateEngine,o=function(e){this._templateName=e,this.text=function(e){if(!e)return t[this._templateName];t[this._templateName]=e},this.data=function(e,t){if(n[this._templateName]||(n[this._templateName]={}),1===arguments.length)return n[this._templateName][e];n[this._templateName][e]=t}};r.makeTemplateSource=function(t,n){if("string"==typeof t){var r=(n=n||document).getElementById(t);return r?new e.templateSources.domElement(r):new o(t)}if(t&&1===t.nodeType||8===t.nodeType)return new e.templateSources.anonymousTemplate(t)},e.templates=t,e.setTemplateEngine(r)}},g.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(e,t,n,r,i,o,a){var s=L(e,t,a);if(null!=s)return s},update:function(e,t,n,r,i,o,a){return L(e,t,a)},for:"ojListViewRenderer"}),g.getDefaultInstance().setupManagedAttributes({for:"ojListView",use:"ojListViewRenderer"}),g.getDefaultInstance().setupManagedAttributes({for:"ojNavigationList",use:"ojListViewRenderer"}),n._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",p),n._registerLegacyNamespaceProp("KnockoutTemplateUtils",c),g.getDefaultInstance().setupManagedAttributes({attributes:["center"],init:function(e,t,n,r,i,o,a){return M(e,t,a)},update:function(e,t,n,r,i,o,a){return M(e,t,a)},for:"ojStatusMeterGauge"}),g.getDefaultInstance().setupManagedAttributes({attributes:["rootNodeContent"],init:function(e,t,n,r,i,o,a){return S(e,t,a)},update:function(e,t,n,r,i,o,a){return S(e,t,a)},for:"ojSunburst"});function R(e,t,n){var r,o;return r=n,o=t,function(t){var n=null,s=null;if("header"===o)n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$headerContext=t.headerContext,e.$data=t.data}),s=t.headerContext.parentElement;else if("cell"===o){var u=t.row;n=e.createChildContext(u,null,function(e){e.$columnIndex=t.columnIndex,e.$cellContext=t.cellContext}),s=t.cellContext.parentElement}"footer"===o&&(n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$footerContext=t.footerContext}),s=t.footerContext.parentElement),i.renderTemplate(r,n,{afterRender:function(e){a(e)._ojDetectCleanData()}},s,"replaceNode")}}function U(e,t){return function(n){var r=n.row,o=e.createChildContext(r,null,function(e){e.$rowContext=n.rowContext});i.renderTemplate(t,o,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.rowContext.parentElement,"replaceNode")}}function F(e,t,n){var r,i;if("areaLayers"===e){for(r=0;r<t.length;r++){var o=t[r].areaDataLayer;o&&null!=(i=o.template)&&(o._templateRenderer=A(n,i))}return{areaLayers:t}}if("pointDataLayers"===e){for(r=0;r<t.length;r++)null!=(i=t[r].template)&&(t[r]._templateRenderer=A(n,i));return{pointDataLayers:t}}return null}function $(e,t,n){return"nodeContent"===e&&t.template&&(t._renderer=D(n,t.template)),{nodeContent:t}}g.getDefaultInstance().setupManagedAttributes({attributes:["columns","columnsDefault","rowTemplate"],init:function(e,t,n,r,i,o,a){if("columns"===e||"columnsDefault"===e){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=R(a,"cell",l)),null!=d&&(u.footerRenderer=R(a,"footer",d)),null!=c&&(u.headerRenderer=R(a,"header",c))}return"columns"===e?{columns:t}:{columnsDefault:t}}if("rowTemplate"===e)return{rowRenderer:U(a,t)}},update:function(e,t,n,r,i,o,a){if("columns"===e||"columnsDefault"===e){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=R(a,"cell",l)),null!=d&&(u.footerRenderer=R(a,"footer",d)),null!=c&&(u.headerRenderer=R(a,"header",c))}r("columns"===e?{columns:t}:{columnsDefault:t})}else if("rowTemplate"===e)return{rowRenderer:U(a,t)};return null},for:"ojTable"}),g.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(e,t,n,r,i,o,a){return F(e,t,a)},update:function(e,t,n,r,i,o,a){return F(e,t,a)},for:"ojThematicMap"}),g.getDefaultInstance().setupManagedAttributes({attributes:["nodeContent"],init:function(e,t,n,r,i,o,a){return $(e,t,a)},update:function(e,t,n,r,i,o,a){return $(e,t,a)},for:"ojTreemap"})});
//# sourceMappingURL=ojknockout.js.map;
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(i){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('jqueryui-amd/unique-id',["jquery","./version"],i):i(jQuery)}((function(i){return i.fn.extend({uniqueId:(n=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++n)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&i(this).removeAttr("id")}))}});var n}));
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(E){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('jqueryui-amd/keycode',["jquery","./version"],E):E(jQuery)}((function(E){return E.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}));
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('jqueryui-amd/focusable',["jquery","./version"],e):e(jQuery)}((function(e){return e.ui.focusable=function(i,t){var n,a,r,s,o,u=i.nodeName.toLowerCase();return"area"===u?(a=(n=i.parentNode).name,!(!i.href||!a||"map"!==n.nodeName.toLowerCase())&&((r=e("img[usemap='#"+a+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(s=!i.disabled)&&(o=e(i).closest("fieldset")[0])&&(s=!o.disabled):s="a"===u&&i.href||t,s&&e(i).is(":visible")&&function(e){var i=e.css("visibility");for(;"inherit"===i;)e=e.parent(),i=e.css("visibility");return"hidden"!==i}(e(i)))},e.extend(e.expr[":"],{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable}));
/*!
 * jQuery UI Tabbable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){'function' === typeof vanilla.define && vanilla.define.amd?vanilla.define('jqueryui-amd/tabbable',["jquery","./version","./focusable"],e):e(jQuery)}((function(e){return e.extend(e.expr[":"],{tabbable:function(n){var t=e.attr(n,"tabindex"),u=null!=t;return(!u||t>=0)&&e.ui.focusable(n,u)}})}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojmessaging',["ojs/ojcore-base","jquery"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const E=function(t,e,E){this.Init(t,e,E)};t._registerLegacyNamespaceProp("Message",E),E.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},E.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},t.Object.createSubclass(E,t.Object,"Message"),E.prototype.Init=function(t,e,n){E.superclass.Init.call(this),this.summary=t,this.detail=e,this.severity=n||E.SEVERITY_TYPE.ERROR},E.getSeverityLevel=function(t){var e=t;if(e)if("string"==typeof t){var n=E._LEVEL_TO_TYPE.indexOf(e,1);e=-1===n?E.SEVERITY_LEVEL.ERROR:n}else"number"==typeof e&&(e<E.SEVERITY_LEVEL.CONFIRMATION||e>E.SEVERITY_LEVEL.FATAL)&&(e=E.SEVERITY_LEVEL.ERROR);return e||E.SEVERITY_LEVEL.ERROR},E.getSeverityType=function(t){var e=t;e&&("string"==typeof e?-1===E._LEVEL_TO_TYPE.indexOf(e,1)&&(e=E.SEVERITY_TYPE.ERROR):"number"==typeof e&&(e=e<E.SEVERITY_LEVEL.CONFIRMATION||e>E.SEVERITY_LEVEL.FATAL?E.SEVERITY_TYPE.ERROR:E._LEVEL_TO_TYPE[t]));return e||E.SEVERITY_TYPE.ERROR},E.getMaxSeverity=function(t){var n=-1;return t&&t.length>0&&e.each(t,function(t,e){var i=E.getSeverityLevel(e.severity);n=n<i?i:n}),n},E.isValid=function(t){return!(E.getMaxSeverity(t)>=E.SEVERITY_LEVEL.ERROR)},E._LEVEL_TO_TYPE=["none",E.SEVERITY_TYPE.CONFIRMATION,E.SEVERITY_TYPE.INFO,E.SEVERITY_TYPE.WARNING,E.SEVERITY_TYPE.ERROR,E.SEVERITY_TYPE.FATAL];const n=function(t,e,E,n){this.Init(t,e,E,n)};return t.Object.createSubclass(n,E,"ComponentMessage"),n._DEFAULT_OPTIONS={display:(n.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"}).SHOWN,context:""},n.prototype.Init=function(t,E,i,o){n.superclass.Init.call(this,t,E,i),this._options=e.extend({},n._DEFAULT_OPTIONS,o)},n.prototype.clone=function(){return new n(this.summary,this.detail,this.severity,this._options)},n.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===n.DISPLAY.HIDDEN)},n.prototype._forceDisplayToShown=function(){return!(!this._options||n.DISPLAY.HIDDEN!==this._options.display)&&(this._options.display=n.DISPLAY.SHOWN,!0)},n.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},E.ComponentMessage=n,E});
//# sourceMappingURL=ojmessaging.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojmetadatautils',["exports","ojs/ojcore-base","ojs/ojcustomelement-utils"],function(e,t,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o={getDefaultValue:function(e,r){let n=e.value;if(void 0===n){const t=e.properties;if(t){const r={},u=Object.keys(t);for(let e=0;e<u.length;e++){const n=o.getDefaultValue(t[u[e]]);void 0!==n&&(r[u[e]]=n)}Object.keys(r).length>0&&(e.value=r,n=r)}}return void 0!==n&&(Array.isArray(n)?n=r?o.deepFreeze(n):n.slice():null!==n&&"object"==typeof n&&(n=r?o.deepFreeze(n):t.CollectionUtils.copyInto({},n,void 0,!0))),n},getDefaultValues:function(e,t){const r={},n=Object.keys(e);let u=!1;return n.forEach(function(n){const l=o.getDefaultValue(e[n],t);void 0!==l&&(r[n]=l,u=!0)}),u?r:null},deepFreeze:function(e){if(Object.isFrozen(e))return e;if(Array.isArray(e))e=e.map(e=>o.deepFreeze(e)),Object.freeze(e);else if(null!==e&&"object"==typeof e){const t=Object.getPrototypeOf(e);null!==t&&t!==Object.prototype||(Object.keys(e).forEach(function(t){e[t]=o.deepFreeze(e[t])}),Object.freeze(e))}return e},getPropertyMetadata:function(e,t){let r=t;if(r&&e){const t=e.split(".");for(let e=0;e<t.length&&(r=r[t[e]],r&&1!==t.length&&e!==t.length-1&&r.properties);e++)r=r.properties}return r},checkEnumValues:function(e,t,r,o){if("string"==typeof r&&o){const e=o.enumValues;if(e&&-1===e.indexOf(r))throw new Error(`Invalid value '${r}' found for property '${t}'.Expected one of the following '${e.toString()}'.`)}},getFlattenedAttributes:function(e){const t=[];return o._getAttributesFromProperties("",e,t),t},_getAttributesFromProperties:function(e,t,n){if(t){Object.keys(t).forEach(u=>{const l=t[u],i=e+u;n.push(r.AttributeUtils.propertyNameToAttribute(i)),l.properties&&o._getAttributesFromProperties(i+".",l.properties,n)})}}},n=o.getDefaultValue,u=o.getDefaultValues,l=o.deepFreeze,i=o.getPropertyMetadata,s=o.checkEnumValues,c=o.getFlattenedAttributes;e.checkEnumValues=s,e.deepFreeze=l,e.getDefaultValue=n,e.getDefaultValues=u,e.getFlattenedAttributes=c,e.getPropertyMetadata=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojmetadatautils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojtrace-event',["exports"],function(e){"use strict";function t(e){var t;let n=e.type;const a=null===(t=e.detail)||void 0===t?void 0:t.value;if(null!=a)switch(n){case"validChanged":n=`${n}=${a}`;break;case"expandedChanged":"boolean"==typeof a&&(n=`${n}=${a}`)}return n}e.traceDispatchEvent=function(e){return function(n){const a=this,r=function(){var e;const t=window.GlobalTracer;return null===(e=null==t?void 0:t.get)||void 0===e?void 0:e.call(t)}();if("undefined"!=typeof window&&window.__JET_TRACER_ENABLED__&&r&&function(e){const t=null==e?void 0:e.type;if(!t||t.startsWith("ojBefore"))return!1;switch(t){case"attribute-changed":case"ojAnimateStart":case"ojAnimateEnd":case"ojTransitionStart":case"ojTransitionEnd":case"labelledByChanged":case"beforeDestroyChanged":return!1}return!0}(n)){const o={operationName:"componentEvent",trigger:{type:t(n),target:a}};return r.span(o,t=>{let r;try{return e.call(a,n)}catch(e){r=e}finally{const e={};r&&(e.error=r),t.finish(e)}})}return e.call(a,n)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtrace-event.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojbootstrap',["exports"],function(e){"use strict";var n;const t={whenDocumentReady:function(){return n||(n="loading"===document.readyState?new Promise(function(e){var n=function(){document.removeEventListener("DOMContentLoaded",n),e()};document.addEventListener("DOMContentLoaded",n)}):Promise.resolve()),n}}.whenDocumentReady;e.whenDocumentReady=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojbootstrap.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojcustomelement',["ojs/ojcore","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojtrace-event","ojs/ojmetadatautils","ojs/ojbootstrap","ojs/ojcore-base"],function(e,t,r,n,i,o,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const a={};a.proto={getClass:function(e){var t=Object.create(HTMLElement.prototype);this.InitializePrototype(t),t.dispatchEvent=n.traceDispatchEvent(HTMLElement.prototype.dispatchEvent);var i=this.GetMetadata(e);a._enumerateMetadataForKey(t,i,"properties",this.DefinePropertyCallback.bind(this)),a._enumerateMetadataForKey(t,i,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(t),t.setProperties=function(e){r.CustomElementUtils.getElementBridge(this)._setProperties(this,e)},Object.defineProperty(t,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(t,"unset",{value:function(e){this.setProperty(e,void 0)}}),t.attributeChangedCallback=this.AttributeChangedCallback,t.connectedCallback=this._connectedCallback,t.disconnectedCallback=this._detachedCallback;const o=t.appendChild;t.appendChild=function(e){return r.CustomElementUtils.canRelocateNode(this,e)?o.call(this,e):e};const s=t.insertBefore;t.insertBefore=function(e,t){return r.CustomElementUtils.canRelocateNode(this,e)?s.call(this,e,t):e},t.setAttribute=function(e,t){if("class"===e){const e=r.CustomElementUtils.getClassSet(t);r.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)},t.removeAttribute=function(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)};var l=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},u=this;return Object.defineProperty(l,"observedAttributes",{get:function(){return u.GetAttributes(i)}}),Object.defineProperty(t,"constructor",{value:l,writable:!0,configurable:!0}),l.prototype=t,Object.setPrototypeOf(l,HTMLElement),l},initializeBridge:function(e,t){this.METADATA=this.GetMetadata(t),this._eventListeners={},this.State=r.CustomElementUtils.getElementState(e)},AddComponentMethods:function(e){},AttributeChangedCallback:function(e,n,o){const s=r.AttributeUtils.attributeToPropertyName(e),l=r.CustomElementUtils.getElementBridge(this);if(n!==o||l.State.dirtyProps.has(s)){if(l.State.dirtyProps.delete(s.split(".")[0]),"disabled"===e&&l.ShouldRemoveDisabled()&&l._isDisabledAttributeRemoved())return void(null!=o&&(t.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),l._removeDisabledAttribute(this)));if(l.ShouldHandleAttributeChanged(this)){a.__CheckOverlappingAttribute(this,e),null===o&&(o=void 0);var u={detail:{attribute:e,value:o,previousValue:n}};if(this.dispatchEvent(new CustomEvent("attribute-changed",u)),!r.AttributeUtils.getExpressionInfo(o).expr){const t=i.getPropertyMetadata(s,r.CustomElementUtils.getElementProperties(this));t&&this.setProperty(s,a.__ParseAttrValue(this,e,s,o,t)),l.HandleAttributeChanged(this,e,n,o)}}}},CreateComponent:function(e){},DefineMethodCallback:function(e,t,r){},DefinePropertyCallback:function(e,t,r){},GetAttributes:function(e){return e?i.getFlattenedAttributes(e.properties):[]},GetMetadata:function(e){return e[a.DESC_KEY_META]||{}},GetAliasForProperty:function(e){return e},ShouldHandleAttributeChanged:function(e){return this.State.canHandleAttributes()},ShouldCallHandleAttributeChanged:function(e){return this.ShouldHandleAttributeChanged()},HandleAttributeChanged:function(e,t,r,n){},HandleBindingsApplied:function(e,t){},HandleDetached:function(e){},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setProperty(i,t[i])}},GetEventListenerProperty:function(e){var t=r.AttributeUtils.eventListenerPropertyToEventType(e),n=this._eventListeners[t];if(n)return n.getListener()},GetProperty:function(e,t,n){var o=i.getPropertyMetadata(t,r.CustomElementUtils.getElementProperties(e));return r.AttributeUtils.isEventListenerProperty(t)||!o||-1===t.indexOf(".")?n[t]:r.CustomElementUtils.getPropertyValue(n,t)},HandlePropertyChanged:function(e,t,r,n,i,o){var s=i?"external":"internal";a.__FirePropertyChangeEvent(e,t,r,n,s,o)},PlaybackEarlyPropertySets:function(e){if(this._earlySets)for(;this._earlySets.length;){var t=this._earlySets.shift();e.setProperty(t.property,t.value)}},SaveEarlyPropertySet:function(e,t,r){return!this.State.allowPropertySets()&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:t,value:r}),!0)},SetEventListenerProperty:function(e,t,n){var i=r.AttributeUtils.eventListenerPropertyToEventType(t),o=this._eventListeners[i];o||(o=this._createEventListenerWrapper(),this._eventListeners[i]=o,e.addEventListener(i,o)),null==n||n instanceof Function?o.setListener(n):a.__ThrowTypeError(e,t,n,"function")},SetProperty:function(t,n,o,s,l){var u=i.getPropertyMetadata(n,r.CustomElementUtils.getElementProperties(t));if(r.AttributeUtils.isEventListenerProperty(n)||!u)t[n]=o;else{var p=t.getProperty(n),c=n.split(".")[0],d=s[c];if(e.CollectionUtils.isPlainObject(d)&&(d=e.CollectionUtils.copyInto({},d,void 0,!0)),!r.ElementUtils.comparePropertyValues(u,o,p)){var h=-1!==n.indexOf(".");if(h&&(this._SKIP_PROP_CHANGE_EVENT=!0),l?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),s,n,o,t):a.__SetProperty(this.GetAliasForProperty.bind(this),s,n,o),this._SKIP_PROP_CHANGE_EVENT=!1,h){var y={path:n,value:o,previousValue:p};this.HandlePropertyChanged(t,c,s[c],d,l,y)}return this.State.dirtyProps.add(c),{property:c,propertySet:!0,isSubproperty:h}}}return{property:null,propertySet:!1,isSubproperty:!1}},ShouldRemoveDisabled:function(){return!0},ValidateAndSetProperty:function(e,t,r,n,i){var o=this.ValidatePropertySet(i,r,n);a.__SetProperty(e,t,r,o)},ValidatePropertySet:function(e,n,o){var s=r.CustomElementUtils.getElementProperties(e),l=i.getPropertyMetadata(n,s),u=n.split(".");if(l){if(s[u[0]].readOnly)throw new r.JetElementError(e,`Read-only property '${n}' cannot be set.`);try{i.checkEnumValues(e,n,o,l)}catch(t){throw new r.JetElementError(e,t.message)}return null!=o?a.checkType(e,n,o,l):o}t.warn(r.CustomElementUtils.getElementInfo(e)+": Ignoring property set for undefined property '"+n+"'.")},PostCreate:function(e){e.hasAttribute("disabled")&&this.ShouldRemoveDisabled()&&!this._isDisabledAttributeRemoved()&&this._removeDisabledAttribute(e)},_connected:function(e){const t=this.State;if(t.isComplete())this.HandleReattached(e);else if(t.startCreationCycle(),t.isCreating()){this.InitializeElement(e),t.setBindingProviderCallback(this.PlaybackEarlyPropertySets.bind(this,e));const r=()=>{try{t.getSlotMap(!0);return(this.CreateComponent(e)||Promise.resolve()).then(this.PostCreate.bind(this,e))}catch(e){return Promise.reject(e)}};t.setCreateCallback(r)}},_connectedCallback:function(){r.CustomElementUtils.getElementBridge(this)._connected(this)},_detachedCallback:function(){const e=r.CustomElementUtils.getElementBridge(this),t=e.State;t.isComplete()?e.HandleDetached(this):t.pauseCreationCycle()},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t.getListener=function(){return e},t},_setProperties:function(e,t){for(var r=[],n={},i=!1,o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];a.indexOf(".")>=0?r.push(a):(n[a]=t[a],i=!0)}i&&this.BatchedPropertySet(e,n);for(var l=0;l<r.length;l++){var u=r[l];e.setProperty(u,t[u])}},_isDisabledAttributeRemoved:function(){return!0===this._disabledProcessed},_removeDisabledAttribute:function(e){this._disabledProcessed=!0,e.removeAttribute("disabled")}},a._enumerateMetadataForKey=function(e,t,r,n){if(t&&t[r]){var i=t[r];Object.keys(i).forEach(function(t){n(e,t,i[t])})}},a.checkType=function(e,t,n,i){const o=i.type,s=r.ElementUtils.getSupportedTypes(o);if(1===s.typeCount&&!s.any&&!s.other){const r=typeof n;if(s.array&&!Array.isArray(n)||s.object&&"object"!==r||s.string&&"string"!==r||s.number&&("number"!==r||!isFinite(n)))a.__ThrowTypeError(e,t,n,o);else if(s.boolean)return!!n}return n},a.__ThrowTypeError=function(e,t,n,i){throw new r.JetElementError(e,`Invalid type '${typeof n}' found for property '${t}'. Expected value of type '${i}'.`)},a.__CheckOverlappingAttribute=function(e,t){var n=t.split(".");if(n.length>1)for(n.pop();n.length;){var i=n.join(".");if(e.hasAttribute(i))throw new r.JetElementError(e,`Cannot set overlapping attributes '${t}' and '${i}'.`);n.pop()}},a.__InitProperties=function(e,t){const n=r.CustomElementUtils.getElementBridge(e);var o=r.CustomElementUtils.getElementProperties(e);if(o)for(var s=e.attributes,l=0;l<s.length;l++){var u=s[l],p=r.AttributeUtils.attributeToPropertyName(u.nodeName),c=i.getPropertyMetadata(p,o);if(c&&!c.readOnly)if(a.__CheckOverlappingAttribute(e,u.nodeName),!r.AttributeUtils.getExpressionInfo(u.value).expr){var d=a.__ParseAttrValue(e,u.nodeName,p,u.value,c);n.ValidateAndSetProperty(n.GetAliasForProperty.bind(n),t,p,d,e)}}},a.__SetProperty=function(e,t,r,n){var i,o=t,s=r.split("."),a=e(s[0]);s.length>1&&!t[a]&&(o=i={});for(var l=0;l<s.length;l++){var u=e(s[l]);l===s.length-1?o[u]=n:o[u]||(o[u]={}),o=o[u]}i&&(t[a]=i[a])},a.__ParseAttrValue=function(e,t,n,i,o){if(null==i)return i;function s(n){return r.AttributeUtils.attributeToPropertyValue(e,t,n,o)}var a=r.CustomElementUtils.getElementDescriptor(e.tagName).parseFunction;return a?a(i,n,o,function(e){return s(e)}):s(i)},a.__ProcessEventListeners=function(t){var n=e.CollectionUtils.copyInto({},t,void 0,!0,1);return n.properties=n.properties||{},a._enumerateMetadataForKey(null,n,"properties",function(e,t){var i=r.AttributeUtils.propertyNameToChangeEventType(t),o=r.AttributeUtils.eventTypeToEventListenerProperty(i);n.properties[o]={_derived:!0,_eventListener:!0}}),a._enumerateMetadataForKey(null,n,"events",function(e,t){var i=r.AttributeUtils.eventTypeToEventListenerProperty(t);n.properties[i]={_derived:!0,_eventListener:!0}}),n},a.__FirePropertyChangeEvent=function(e,t,n,i,o,s){var a=r.CustomElementUtils.getElementBridge(e);if(!a._SKIP_PROP_CHANGE_EVENT){var l={};s&&(l.subproperty=s),l.value=n,l.previousValue=i,l.updatedFrom=o,a.beforePropertyChangedEvent&&a.beforePropertyChangedEvent(e,t,l),("external"!==o||a.State.isComplete())&&e.dispatchEvent(new CustomEvent(t+"Changed",{detail:l}))}},a.__DefineDynamicObjectProperty=function(e,t,r,n){Object.defineProperty(e,t,{enumerable:!0,get:r,set:n})},a.DESC_KEY_META="metadata",e._registerLegacyNamespaceProp("BaseCustomElementBridge",a),o.whenDocumentReady().then(function(){!function(){var e=document.createElement("div");e.style.border="1px solid",e.style.borderColor="red green",e.style.position="absolute",e.style.top="-999px",e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var t=document.body;t.appendChild(e);var r=window.getComputedStyle(e),n=r.backgroundImage;r.borderTopColor!==r.borderRightColor&&(null==n||"none"!==n&&"url (invalid-url:)"!==n)||t.classList.add("oj-hicontrast"),t.removeChild(e)}()}),o.whenDocumentReady().then(function(){!function(){let e=[];const t=s.AgentUtils.getAgentInfo();e.push("oj-agent-os-"+t.os.toLowerCase()),e.push("oj-agent-browser-"+t.browser.toLowerCase()),document.documentElement.classList.add(...e)}()})});
//# sourceMappingURL=ojcustomelement.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdefaultsutils',["exports","ojs/ojmetadatautils"],function(e,t){"use strict";function n(e,t,n){let l=e._defaults;if(void 0===l){const s=i(e,t,n);l=Object.create(s),a(e,l),e._defaults=l}return l}function i(e,n,i){var a;let l=e._staticDefaults;if(void 0===l){if(l=null,n){const e=n.properties,s=null===(a=n.extension)||void 0===a?void 0:a._DEFAULTS;if(s){const e=new s;l=Object.create(e)}else e&&(l=Object.create(t.getDefaultValues(e,i)))}e._staticDefaults=l}return l}function a(e,t){if(e.getDynamicDefaults){const n=e.getDynamicDefaults();if(n)for(let e in n)void 0===t[e]&&(t[e]=n[e])}}var l=Object.freeze({__proto__:null,getFrozenDefault:function(e,i,a){const l=n(i,a,!0);return t.deepFreeze(l[e])},getDefaults:n,getStaticDefaults:i,applyDynamicDefaults:a});e.DefaultsUtils=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdefaultsutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojfocusutils',["jquery","ojs/ojcore-base","ojs/ojdomutils"],function(t,e,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const r={_TABBABLE:":tabbable,iframe",containsFocus:function(t){var e=document.activeElement;return!(!t||!e)&&n.isAncestorOrSelf(t,e)},focusElement:function(t){t.focus()},focusFirstTabStop:function(t){var e=r.getFirstTabStop(t);return e&&r.focusElement(e),e},isFirstActiveElement:function(e){var n=t(e).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[0];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},isLastActiveElement:function(e){var n=t(e).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[n.length-1];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},getFirstTabStop:function(e){var n=t(e);if(n.is(r._TABBABLE))return e;var i=n.find(r._TABBABLE);if(i&&i.length>0){if(i[0].classList.contains("oj-radio")){var o=i.filter(".oj-selected.oj-radio");return o&&o.length?o[0]:i[0]}return i[0]}return null},getLastTabStop:function(e){var n=t(e).find(r._TABBABLE);if(n&&n.length>0){if(n[n.length-1].classList.contains("oj-radio")){var i=n.filter(".oj-selected.oj-radio");return i&&i.length?i[i.length-1]:n[n.length-1]}return n[n.length-1]}return null},isFocusable:function(n){return!!t(n).is(":focusable")&&!("A"===n.nodeName&&!n.hasAttribute("tabindex")&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.SAFARI)}};return r});
//# sourceMappingURL=ojfocusutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojgestureutils',["exports","jquery","ojs/ojdomutils"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o={_EVENT_NAMESPACE:".contextMenu",stopDetectContextMenuGesture:function(e){e._clickListener&&(t(e).off(o._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer),e._touchStartAndMouseDownListener&&(e.removeEventListener("touchstart",e._touchStartAndMouseDownListener,{passive:!1}),delete e._touchStartAndMouseDownListener),e._touchMoveListener&&(e.removeEventListener("touchmove",e._touchMoveListener,{passive:!0}),delete e._touchMoveListener)},startDetectContextMenuGesture:function(e,u){var r,s,c,i,a=n.PRESS_HOLD_THRESHOLD,d=!1,l=!1,v=null,p=o._EVENT_NAMESPACE,h=!1;function m(n,o,r){if((d=r)&&t(e).one("touchend"+p,function(){h=!0,setTimeout(function(){h=!1},50)}),"touchstart"===v&&"contextmenu"===n.type||"contextmenu"===v&&"touchstart"===n.type||"keydown"===v&&"contextmenu"===n.type)return"keydown"===v&&"contextmenu"===n.type&&n.preventDefault(),v=null,void clearTimeout(i);n.isDefaultPrevented&&n.isDefaultPrevented()||n.originalEvent&&n.originalEvent.defaultPrevented||n.defaultPrevented||("touchstart"!==n.type&&"touchmove"!==n.type||(n.originalEvent=n),u(n,o),(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&("touchstart"!==n.type&&"contextmenu"!==n.type&&"keydown"!==n.type||(v=n.type,i=setTimeout(function(){v=null},300))))}var f=function(e){d&&(e.preventDefault(),e.stopPropagation(),d=!1)};e._clickListener=f,e.addEventListener("click",f,!0);var y=function(t){if("mousedown"!==t.type||!h){if(d=!1,"touchstart"===t.type&&1===t.touches.length){var n=t.touches[0];s=n.pageX,c=n.pageY,l=!0,r=setTimeout(m.bind(void 0,t,"touch",!0),a),e._contextMenuPressHoldTimer=r}return!0}};e._touchStartAndMouseDownListener=y,e.addEventListener("touchstart",y,{passive:!1});var _=function(e){var t=e.touches[0];return(Math.abs(s-t.pageX)>5||Math.abs(c-t.pageY)>5)&&(l=!1,clearTimeout(r)),!0};e._touchMoveListener=_,e.addEventListener("touchmove",_,{passive:!0}),t(e).on("mousedown"+p,y).on("touchend"+p+" touchcancel"+p,function(){return l=!1,clearTimeout(r),!0}).on("keydown"+p+" contextmenu"+p,function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&m(e,l?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}),n.isTouchSupported()&&t(e).addClass("oj-menu-context-menu-launcher")}},u=o.startDetectContextMenuGesture,r=o.stopDetectContextMenuGesture;e.startDetectContextMenuGesture=u,e.stopDetectContextMenuGesture=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojgestureutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojcomponentcore',["exports","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcore","jquery","ojs/ojmessaging","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojlogger","ojs/ojdefaultsutils","ojs/ojtranslation","ojs/ojfocusutils","ojs/ojgestureutils"],function(t,e,n,i,o,s,r,a,l,u,c,_,h,p,d,E,f,g,m){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const v=function(t){this.Init(t)};r.Object.createSubclass(v,r.Object,"oj.ComponentMessaging"),r._registerLegacyNamespaceProp("ComponentMessaging",v),v._STRATEGY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline",LABEL_EDGE_INSIDE:"inside",LABEL_EDGE_INSIDE_FORM_CNTRL:"insideformcontrol",USER_ASSISTANCE_INLINE:"userassistanceinline"},v._STRATEGY_TYPE_TO_CALLBACK={};const y="aria-describedby";v.registerMessagingStrategy=function(t,e){t&&"function"==typeof e&&(v._STRATEGY_TYPE_TO_CALLBACK[t]=e)},v.prototype.Init=function(t){v.superclass.Init.call(this),this._component=t,this._activated=!1,this._initializeMessagingStrategies()},v.prototype.activate=function(t,e,n){var i=this;r.Assert.assertObject(n),this._launcher=t,this._contentElement=e,this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},n),this._isActive()?this._reactivate():(a.each(this._strategies,function(t,e){e.activate(i)}),this._activated=!0)},v.prototype.update=function(t){r.Assert.assertObject(t),r.Assert.assertBoolean(this._activated),this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},t),this._activated&&a.each(this._strategies,function(e,n){n.shouldUpdate(t)&&n.update()})},v.prototype.deactivate=function(){a.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},v.prototype.close=function(){this._activated&&a.each(this._strategies,function(t,e){e.close()})},v.prototype._createMessagingStrategy=function(t,e){return new(v._STRATEGY_TYPE_TO_CALLBACK[t]||v._STRATEGY_TYPE_TO_CALLBACK[v._STRATEGY_TYPE.NONE])(e)},v.prototype._getComponent=function(){return this._component||null},v.prototype._getLauncher=function(){return this._launcher||null},v.prototype._getContentElement=function(){return this._contentElement||null},v.prototype._getMessagingContent=function(){return this._messagingContent||{}},v.prototype._setMessagingContent=function(t){r.Assert.assertObject(t),this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},t)},v.prototype._isActive=function(){return this._activated},v.prototype._getResolvedMessagingDisplayOptions=function(t){for(var e={},n=!1,i=this._component.options,o={},s=Object.keys(t),r=0;r<s.length;r++){var l=s[r],u=t[l];n=!1;var c=l+"";if(Array.isArray(u))for(var _=0;_<u.length;_++){var h=u[_];n||(n=this._resolveStrategyTypeForArtifact(c,h,i,o))}else"string"==typeof u&&(n||(n=this._resolveStrategyTypeForArtifact(c,u,i,o)));n||(o[c]=v._STRATEGY_TYPE.NONE)}return this._addLabelStrategy(o),a.each(v._STRATEGY_TYPE,function(t,n){e[n]=[]}),a.each(o,function(t,n){e[n].push(t)}),e},v.prototype._getUserAssistanceStrategyToArtifactsObj=function(){var t={},e=this._component.options.displayOptions||{},n={},i=Object.keys(e);for(let t=0;t<i.length;t++){let o=i[t],s=e[o],r=o+"";n[r]="string"==typeof s&&"none"===s?v._STRATEGY_TYPE.NONE:v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE}return this._addLabelStrategy(n),Object.keys(v._STRATEGY_TYPE).forEach(function(e){let n=v._STRATEGY_TYPE[e];t[n]=[]}),Object.keys(n).forEach(function(e){let i=n[e];t[i].push(e)}),t},v.prototype._addLabelStrategy=function(t){var e=this._component._ResolveLabelEdgeStrategyType();this._resolveStrategyTypeForArtifact("labelEdge",e,this._component.options,t)||(t.labelEdge=v._STRATEGY_TYPE.NONE)},v.prototype._resolveStrategyTypeForArtifact=function(t,e,n,i){var o=!1,s=n.placeholder;switch(e){case v._STRATEGY_TYPE.PLACEHOLDER:"converterHint"===t&&(o||s||(i[t]=e,o=!0));break;case v._STRATEGY_TYPE.INLINE:"messages"===t&&(o||(i[t]=e,o=!0));break;case v._STRATEGY_TYPE.LABEL_EDGE_INSIDE:case v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL:"labelEdge"!==t||o||r.StringUtils.isEmptyOrUndefined(n.labelHint)||(i[t]=e,o=!0);break;default:o||"labelEdge"===t||(i[t]=e,o=!0)}return o},v.prototype._initializeMessagingStrategies=function(){var t=this._strategyToArtifacts(),e=t[v._STRATEGY_TYPE.NOTEWINDOW],n=t[v._STRATEGY_TYPE.NONE],i=t[v._STRATEGY_TYPE.PLACEHOLDER],o=t[v._STRATEGY_TYPE.INLINE],s=t[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE],r=t[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL],a=t[v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE],l={};e.length>0&&(l[v._STRATEGY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(v._STRATEGY_TYPE.NOTEWINDOW,e)),i.length>0&&0===s.length&&(l[v._STRATEGY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(v._STRATEGY_TYPE.PLACEHOLDER,i)),o.length>0&&(l[v._STRATEGY_TYPE.INLINE]=this._createMessagingStrategy(v._STRATEGY_TYPE.INLINE,o)),a.length>0&&(l[v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE]=this._createMessagingStrategy(v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,a)),s.length>0?l[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE]=this._createMessagingStrategy(v._STRATEGY_TYPE.LABEL_EDGE_INSIDE,s):r.length>0&&(l[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL]=this._createMessagingStrategy(v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,r)),l[v._STRATEGY_TYPE.NONE]=this._createMessagingStrategy(v._STRATEGY_TYPE.NONE,n),this._strategies=l},v.prototype._reactivate=function(){var t,e=this._strategyToArtifacts(),n=this;a.each(e,function(e,i){e+="",t=n._strategies[e],i&&i.length>0?t?t&&t.reactivate(i):(t=n._createMessagingStrategy(e,i),n._strategies[e]=t,t.activate(n)):t&&v._STRATEGY_TYPE.NONE!==e&&(t.deactivate(),delete n._strategies[e])})},v.prototype._strategyToArtifacts=function(){let t,e=this._component._getResolvedUserAssistance();if("compact"!==e&&"displayOptions"!==e)t=this._getUserAssistanceStrategyToArtifactsObj();else{let n=this._component.options.displayOptions||{};"compact"===e?(n.messages="notewindow",n.validatorHint="notewindow",n.converterHint="notewindow",t=this._getResolvedMessagingDisplayOptions(n)):t=this._getResolvedMessagingDisplayOptions(n)}return t};const T=function(t){this.Init(t)};r.Object.createSubclass(T,r.Object,"oj.MessagingStrategy"),r._registerLegacyNamespaceProp("MessagingStrategy",T),T.prototype.Init=function(t){r.Assert.assertArray(t),T.superclass.Init.call(this),this._displayOptions=t},T.prototype.activate=function(t){this._componentMessaging=t},T.prototype.deactivate=function(){},T.prototype.close=function(){},T.prototype.reactivate=function(t){this.Init(t)},T.prototype.shouldUpdate=function(t){return!0},T.prototype.update=function(){},T.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},T.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},T.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},T.prototype.setHasValidatorHints=function(t){this._hasValidatorHints=t},T.prototype.getHasValidatorHints=function(){return!0===this._hasValidatorHints},T.prototype.GenerateIdIfNeeded=function(t){isNaN(T._uidCounter)&&(T._uidCounter=0);var e=t;e.id||(e.id="ojms_"+T._uidCounter,T._uidCounter+=1)},T.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},T.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},T.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},T.prototype.GetValidatorHints=function(){if(!this.getHasValidatorHints()){this.setHasValidatorHints(!0);let t=this.GetComponent();this._setMessagingContent(t._getValidatorHintsMC()),t._initAsyncValidatorMessagingHint()}var t=this._getMessagingContent();return t&&t.validatorHint||[]},T.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},T.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},T.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},T.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},T.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},T.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},T.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},T.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},T.prototype.AddAriaDescribedByForInlineMessaging=function(t){let e=this.GetContentElement();r.Assert.assertPrototype(e,a);let n=a(t).uniqueId()[0].getAttribute("id");e.each(function(){let t=this.getAttribute(y),e=t?t.split(/\s+/):[];-1===e.indexOf(n)&&e.push(n);let i=e.join(" ").trim();this.setAttribute(y,i)})},T.prototype.AddDescribedByToElement=function(t,e){const n=t.getAttribute("described-by");let i,o=n?n.split(/\s+/):[];-1===o.indexOf(e)&&o.push(e),i=o.join(" ").trim(),t.setAttribute("described-by",i)},T.prototype.RemoveAriaDescribedByForInlineMessaging=function(t){let e=this.GetContentElement();r.Assert.assertPrototype(e,a);let n=t.getAttribute("id");e.each(function(){let t=this.getAttribute(y),e=t?t.split(/\s+/):[],i=e.indexOf(n);-1!==i&&e.splice(i,1);let o=e.join(" ").trim();o?this.setAttribute(y,o):this.removeAttribute(y)})},T.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},T.prototype._setMessagingContent=function(t){return this._componentMessaging?this._componentMessaging._setMessagingContent(t):{}};const C=function(t){this.Init(t)};v.registerMessagingStrategy(v._STRATEGY_TYPE.NONE,C),C._SELECTOR_STATE_INVALID="oj-invalid",C._SELECTOR_STATE_WARNING="oj-warning",r.Object.createSubclass(C,T,"oj.DefaultMessagingStrategy"),r._registerLegacyNamespaceProp("DefaultMessagingStrategy",C),C.prototype.update=function(){C.superclass.update.call(this);var t=this.GetLauncher(),e=this.GetMaxSeverity(),n=[],i=[],o=!1,s=this.GetComponent().widget();t&&(this.IsInvalid()?(n.push(C._SELECTOR_STATE_WARNING),i.push(C._SELECTOR_STATE_INVALID),o=!0):this.HasMessages()&&e===l.SEVERITY_LEVEL.WARNING?(n.push(C._SELECTOR_STATE_INVALID),i.push(C._SELECTOR_STATE_WARNING)):(n.push(C._SELECTOR_STATE_INVALID),n.push(C._SELECTOR_STATE_WARNING)),s.removeClass(n.join(" ")).addClass(i.join(" ")),this.GetContentElement().attr({"aria-invalid":o}))},C.prototype.deactivate=function(){this.GetComponent().widget().removeClass(C._SELECTOR_STATE_INVALID).removeClass(C._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),C.superclass.deactivate.call(this)};const S=function(t){this.Init(t)};v.registerMessagingStrategy(v._STRATEGY_TYPE.PLACEHOLDER,S),r.Object.createSubclass(S,T,"oj.PlaceholderMessagingStrategy"),r._registerLegacyNamespaceProp("PlaceholderMessagingStrategy",S),S.prototype.Init=function(t){S.superclass.Init.call(this,t)},S.prototype.activate=function(t){S.superclass.activate.call(this,t),this._refreshPlaceholder()},S.prototype.reactivate=function(t){S.superclass.reactivate.call(this,t),this._refreshPlaceholder()},S.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},S.prototype.update=function(){S.superclass.update.call(this),this._refreshPlaceholder()},S.prototype._refreshPlaceholder=function(){var t=this.GetLauncher();if(this.ShowPlaceholderContent()&&t){var e=this.GetConverterHint(),n=e.length?e[0]:"";if(r.StringUtils.isEmptyOrUndefined(n))return;this.GetComponent().option({placeholder:n},{_context:{internalMessagingSet:!0}})}},S.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()};const A=function(t,e){this.Init(t,e)};A.isInvalid=function(t){return l.getMaxSeverity(t)>=l.SEVERITY_LEVEL.ERROR},r.Object.createSubclass(A,r.Object,"oj.ComponentValidity"),r._registerLegacyNamespaceProp("ComponentValidity",A),A.prototype.Init=function(t,e){A.superclass.Init.call(this),this._initialize(t,e)},A.prototype.isInvalid=function(){return this._invalid},A.prototype.getMessages=function(){return this._messages},A.prototype.getMaxSeverity=function(){return this._maxSeverity},A.prototype.update=function(t,e){this._initialize(t,e)},A.prototype._initialize=function(t,e){this._compValid=t,this._compMessages=e,this._messages=this._getImmediateMessages(),this._maxSeverity=l.getMaxSeverity(this._messages),this._invalid=A.isInvalid(this._messages)},A.prototype._getImmediateMessages=function(){for(var t=this._compMessages||[],e=[],n=0;n<t.length;n++){var i=t[n];i instanceof l.ComponentMessage&&!i.canDisplay()||e.push(i)}return e};const N={};c._registerLegacyNamespaceProp("Components",N),N._OJ_CONTAINER_ATTR="data-oj-container";const b="node is not a component element";function O(t,e){if(null==t)return null;var n=1===t.nodeType,i=c.Composite&&!e?c.Composite.getContainingComposite(t):null;if(i)return i;if(n&&t.hasAttribute("data-oj-internal"))return t.parentNode instanceof Element&&t.parentNode.hasAttribute("data-oj-surrogate-id")?O(t=document.querySelector("[data-oj-popup-"+t.id+"-parent]"),e):O(t.parentNode,e);if(L(t))return t;if(n&&t.classList.contains("oj-component")){if(G(t=t.querySelector(".oj-component-initnode:not([data-oj-internal])")||t))return t}else if(n&&t.hasAttribute("data-oj-containerid"))return O(t=document.getElementById(t.getAttribute("data-oj-containerid")),e);return O(t.parentNode,e)}function P(t,e){var n=function(){var t=a(this),n=t.data("oj-component-names");if(null!=n)for(var i=0;i<n.length;i++){var o=t.data("oj-"+n[i]);null!=o&&e(o)}},i=a(t);i.hasClass("oj-component-initnode")&&n.call(t),i.find(".oj-component-initnode").each(n)}function I(t,e,n){function i(t){if(e&&t.classList.contains("oj-component-initnode")){var i=a(t),o=i.data("oj-component-names");if(null!=o)for(var s=0;s<o.length;s++){var r=i.data("oj-"+o[s]);null!=r&&e(r)}}if(n&&"oj-defer"===t.tagName.toLowerCase()){if(!t._activate)throw new Error("subtreeShown called before module ojs/ojdefer was loaded");t._activate()}}if(!function(t){for(var e=t;e;){if(e.nodeType===Node.DOCUMENT_NODE)return!1;if(e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("oj-subtree-hidden"))return!0;e=e.parentNode}return!0}(t)){i(t);var o=[".oj-component-initnode"];n&&o.push("oj-defer");var s=[];o.forEach(function(t){s.push(".oj-subtree-hidden "+t),s.push(".oj-pending-subtree-hidden "+t)});for(var r=o.join(","),l=s.join(","),u=function(t,e){for(var n=[],i=0,o=0;o<e.length;o++){for(var s=e[o];i<t.length&&t[i]!==s;)n.push(t[i]),i+=1;i+=1}for(;i<t.length;)n.push(t[i]),i+=1;return n}(t.querySelectorAll(r),t.querySelectorAll(l)),c=0;c<u.length;c++)i(u[c])}}function R(t){this.getCallback=function(){return t}}function D(t,e,n){return Object.keys(e).forEach(function(i){var o=t[i]||[],s=e[i];n?o=o.concat(s):o.push(s),t[i]=o}),t}function M(t){return p.CustomElementUtils.isElementRegistered(t.tagName)}function G(t){return!!N.__GetWidgetConstructor(t)}function L(t){return M(t)||G(t)}N.setDefaultOptions=function(t){var e=N._defaultProperties||{};Object.keys(t).forEach(function(n){var i=t[n];if(!c.CollectionUtils.isPlainObject(i))throw new Error("Invalid default options");e[n]=D(e[n]||{},i,!1)}),N._defaultProperties=e},N.getDefaultOptions=function(){return N._defaultProperties||{}},N.createDynamicPropertyGetter=function(t){return new R(t)},N.getWidgetConstructor=function(t,e){return t&&!p.CustomElementUtils.isElementRegistered(t.tagName)?N.__GetWidgetConstructor(t,e):null},N.__GetWidgetConstructor=function(t,e){var n=a(t),i=n.data("oj-component-names");if(i&&(null==e?e=i[0]:i.indexOf(e)<0&&(e=void 0),null!=e)){var o=n[e];if("function"==typeof o)return o.bind(n)}return null},N.subtreeAttached=function(t){_.fixResizeListeners(t),P(t,function(t){t.__handleSubtreeAttached()})},N.subtreeDetached=function(t){P(t,function(t){t.__handleSubtreeDetached()})},N.subtreeShown=function(t,e){var n=a(t)[0];if(n.nodeType===Node.ELEMENT_NODE){var i=(e||{}).initialRender;i||_.fixResizeListeners(n),n.classList.remove("oj-subtree-hidden"),I(n,function(t){p.CustomElementUtils.allowSlotRelocation(!0);try{i?t._NotifyInitShown():t._NotifyShown()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!0)}},N.subtreeHidden=function(t){var e=a(t)[0];e.nodeType===Node.ELEMENT_NODE&&(I(e,function(t){p.CustomElementUtils.allowSlotRelocation(!0);try{t._NotifyHidden()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!1),e.classList.add("oj-subtree-hidden"))},N.markPendingSubtreeHidden=function(t){t.classList.add("oj-pending-subtree-hidden")},N.unmarkPendingSubtreeHidden=function(t){t.classList.remove("oj-pending-subtree-hidden")},N.isComponentInitialized=function(t,e){var n=t.data("oj-component-names");return!!(a.isArray(n)&&n.indexOf(e)>-1&&t.is(".oj-component-initnode"))},N.__getDefaultOptions=function(t){for(var e={},n=N.getDefaultOptions(),i=t.length-1;i>=0;i--){var o=n[t[i]];void 0!==o&&(e=D(e,o,!0))}return e},N.getComponentElementByNode=function(t){var e=!!(arguments.length>1&&arguments[1]);return O(t,e)},N.getSubIdByNode=function(t,e){return N.callComponentMethod(t,"getSubIdByNode",e)},N.getNodeBySubId=function(t,e){return N.callComponentMethod(t,"getNodeBySubId",e)},N.getComponentOption=function(t,e){if(!L(t))throw new Error(b);return M(t)?t.getProperty?t.getProperty.call(t,e):void 0:N.__GetWidgetConstructor(t)("option",e)},N.setComponentOption=function(t,e,n){if(!L(t))throw new Error(b);M(t)?t.setProperty&&t.setProperty.call(t,e,n):N.__GetWidgetConstructor(t)("option",e,n)},N.callComponentMethod=function(t,e,n){if(!L(t))throw new Error(b);return M(t)?t[e]?t[e].apply(t,[].slice.call(arguments,2)):void 0:N.__GetWidgetConstructor(t).apply(a(t),[].slice.call(arguments,1))};const j={};j.proto=Object.create(r.BaseCustomElementBridge.proto),r.CollectionUtils.copyInto(j.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,o=n.value;n.subproperty&&(i=n.subproperty.path,o=n.subproperty.value),this._partialRender(t,i,o)},AddComponentMethods:function(t){t.refresh=function(){p.CustomElementUtils.getElementBridge(this)._fullRender(this)},t.setProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(this);n.SaveEarlyPropertySet(this,t,e)||n.SetProperty(this,t,e,this,!0)},t.getProperty=function(t){return p.CustomElementUtils.getElementBridge(this).GetProperty(this,t,this)},t._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},t._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(t){if(N.unmarkPendingSubtreeHidden(t),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR){var e=p.ElementUtils.getUniqueId();if(this._CONTEXT={element:t,props:this._PROPS_PROXY,unique:e},this._CONTEXT.uniqueId=t.id?t.id:e,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},DefineMethodCallback:function(t,e,n){t[e]=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._INSTANCE){var i=n.internalName||e;return t._INSTANCE[i].apply(t._INSTANCE,arguments)}}},DefinePropertyCallback:function(t,e,n){function i(t,i){if(i&&(t=p.CustomElementUtils.convertEmptyStringToUndefined(this._ELEMENT,n,t)),!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,e,t)){var o=this._BRIDGE._PROPS[e];p.ElementUtils.comparePropertyValues(n,t,o)?d.info(p.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+e+"' with same value."):(i&&(t=this._BRIDGE.ValidatePropertySet(this._ELEMENT,e,t)),n._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,e,t),this._BRIDGE._PROPS[e]=t):(this._BRIDGE._PROPS[e]=t,r.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,e,t,o,i?"external":"internal"),this._BRIDGE.State.dirtyProps.add(e)))}}function o(){var t=this._BRIDGE._PROPS[e];return void 0===t&&(t=this._BRIDGE._getDefaultValue(e,n),this._BRIDGE._PROPS[e]=t),t}n._derived||r.BaseCustomElementBridge.__DefineDynamicObjectProperty(t._propsProto,e,function(){return o.bind(this)()},function(t){i.bind(this)(t,!1)}),r.BaseCustomElementBridge.__DefineDynamicObjectProperty(t,e,function(){var t=p.CustomElementUtils.getElementBridge(this);return o.bind(t._PROPS_PROXY)()},function(t){var e=p.CustomElementUtils.getElementBridge(this);i.bind(e._PROPS_PROXY)(t,!0)})},InitializeElement:function(t){r.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&N.markPendingSubtreeHidden(t),r.BaseCustomElementBridge.__InitProperties(t,t)},InitializePrototype:function(t){r.BaseCustomElementBridge.proto.InitializePrototype.call(this,t),Object.defineProperty(t,"_propsProto",{value:{}})},initializeBridge:function(t,e){r.BaseCustomElementBridge.proto.initializeBridge.call(this,t,e),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},t._propsProto&&(this._PROPS_PROXY=Object.create(t._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=t)},ShouldRemoveDisabled:function(){return!0===this._EXTENSION._SHOULD_REMOVE_DISABLED},_fullRender:function(t){if(this._INSTANCE&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;if((!i||!i(e,n))&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},_getDefaultValue:function(t,e){return this._EXTENSION._CONSTRUCTOR?E.DefaultsUtils.getDefaults(this._EXTENSION._CONSTRUCTOR,this.METADATA,!1)[t]:u.getDefaultValue(e)}}),r._registerLegacyNamespaceProp("DefinitionElementBridge",j);class B extends p.ElementState{IsTransferAttribute(t){const e=p.CustomElementUtils.getElementBridge(this.Element),n=e._EXTENSION._GLOBAL_TRANSFER_ATTRS;return e._WIDGET_ELEM&&n&&n.includes(t)}GetDescriptiveTransferAttributeValue(t){return p.CustomElementUtils.getElementBridge(this.Element)._WIDGET_ELEM.getAttribute(t)}}const w={};w.proto=Object.create(r.BaseCustomElementBridge.proto),r._registerLegacyNamespaceProp("CustomElementBridge",w),r.CollectionUtils.copyInto(w.proto,{getThrottlePromise:function(){var t=this.State.getBindingProviderPromise();return t=t.then(function(t){return t?t.__GetThrottlePromise():null})},AddComponentMethods:function(t){t.setProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(this);if(!n.SaveEarlyPropertySet(this,t,e)&&!n._setEventProperty(this,t,e)&&!n._validateAndSetCopyProperty(this,t,e,null)){var i=u.getPropertyMetadata(t,p.CustomElementUtils.getElementProperties(this));i?(n._setOption(t,e,i,this),n.State.dirtyProps.add(t.split(".")[0])):this[t]=e}},t.getProperty=function(t){var e=p.CustomElementUtils.getElementBridge(this),n=u.getPropertyMetadata(t,p.CustomElementUtils.getElementProperties(this));if(p.AttributeUtils.isEventListenerProperty(t)||!n)return this[t];var i=n?n.extension:null;return i&&i._COPY_TO_INNER_ELEM?e._getCopyProperty(this,t,n):w._getPropertyAccessor(this,t)()},t.focus=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._WIDGET_INSTANCE){var e=t._WIDGET_INSTANCE.__getFocusElement();e&&(e!==this?e.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},t.blur=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._WIDGET_INSTANCE){var e=t._WIDGET_INSTANCE.__getFocusElement();e&&(e!==this?e.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.blur.call(this)}},BatchedPropertySet:function(t,e){var n,i=Object.keys(e),o={};for(n=0;n<i.length;n++){var s=i[n],r=e[s];this._setEventProperty(t,s,r)||this._validateAndSetCopyProperty(t,s,r,null)||(r=this.ValidatePropertySet(t,s,r),o[s=this.GetAliasForProperty(s)]=r)}var a=N.__GetWidgetConstructor(this._WIDGET_ELEM);if(a)a("option",o);else for(n=0;n<i.length;n++){var l=i[n];t.setProperty(l,e[l])}},CreateComponent:function(t){var e=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=w._getWidgetElement(t,e?e(t):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==t){for(var n=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],i=0;i<n.length;i++){var o=n[i];t.hasAttribute(o)&&(this._WIDGET_ELEM.setAttribute(o,t.getAttribute(o)),this._removingTransfer=!0,t.removeAttribute(o))}this._copyProperties()}N.unmarkPendingSubtreeHidden(t);var s=a(this._WIDGET_ELEM),r=a(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(s);r(this._PROPS),this._WIDGET=r,this._WIDGET_INSTANCE=r("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS);var l=function(e){return function(n){t.dispatchEvent(new FocusEvent(e,{relatedTarget:n.relatedTarget}))}},u=this._WIDGET_INSTANCE.__getFocusElement();u&&u!==t&&(u.addEventListener("focus",l("focus")),u.addEventListener("blur",l("blur")))},DefineMethodCallback:function(t,e,n){t[e]=function(){var t=p.CustomElementUtils.getElementBridge(this),i=n.internalName||e;p.CustomElementUtils.allowSlotRelocation(!0);try{return t._WIDGET.apply(null,[i].concat([].slice.call(arguments)))}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},DefinePropertyCallback:function(t,e,n){var i=n.extension;Object.defineProperty(t,e,{enumerable:!0,get:function(){var t=p.CustomElementUtils.getElementBridge(this);return n._eventListener?t.GetEventListenerProperty(e):i&&i._COPY_TO_INNER_ELEM?t._getCopyProperty(this,e,n):w._getPropertyAccessor(this,e)()},set:function(t){var i=p.CustomElementUtils.getElementBridge(this);t=p.CustomElementUtils.convertEmptyStringToUndefined(this,n,t),i.SaveEarlyPropertySet(this,e,t)||(n._eventListener?i.SetEventListenerProperty(this,e,t):i._validateAndSetCopyProperty(this,e,t,n)||(i._setOption(e,t,n,this),i.State.dirtyProps.add(e)))}})},GetAttributes:function(t){var e=u.getFlattenedAttributes(t.properties);return t.extension._GLOBAL_TRANSFER_ATTRS&&(e=e.concat(t.extension._GLOBAL_TRANSFER_ATTRS)),t.extension._WATCHED_ATTRS&&(e=e.concat(t.extension._WATCHED_ATTRS)),e},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(t){r.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&N.markPendingSubtreeHidden(t),r.BaseCustomElementBridge.__InitProperties(t,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,s=o&&-1!==o.indexOf(e),r=this._EXTENSION._WATCHED_ATTRS,a=r&&-1!==r.indexOf(e);s&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):a&&n!==i&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(e,n,i)},HandleDetached:function(t){r.BaseCustomElementBridge.proto.HandleDetached.call(this,t),N.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(t){r.BaseCustomElementBridge.proto.HandleReattached.call(this,t),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},initializeBridge:function(t,e){r.BaseCustomElementBridge.proto.initializeBridge.call(this,t,e),this._INNER_DOM_FUNCTION=e.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:t}:{},this._setupPropertyAccumulator(t,this._PROPS),this._processProperties(t)},_setOption:function(t,e,n,i){let o={};if(void 0===e&&-1===t.indexOf(".")&&(o={_context:{skipEvent:!0}},e=u.getDefaultValue(n),this.State.isComplete())){const e=i[t];r.BaseCustomElementBridge.__FirePropertyChangeEvent(i,t,void 0,e,"external")}w._getPropertyAccessor(i,t,o)(e)},_copyProperties:function(){if(this._COPY_ATTRS)for(var t=0;t<this._COPY_ATTRS.length;t++){var e=this._COPY_ATTRS[t],n=p.AttributeUtils.attributeToPropertyName(e);if(Object.prototype.hasOwnProperty.call(this._PROPS,n)){var i=this._PROPS[n];this._setCopyProperty(e,i),delete this._PROPS[n]}}},_getCopyProperty:function(t,e,n){var i=p.AttributeUtils.propertyNameToAttribute(e);if(n.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(i)){var o=this._WIDGET_ELEM.getAttribute(i);return p.AttributeUtils.attributeToPropertyValue(t,i,o,n)}return null}return this._WIDGET_ELEM[e]},_processProperties:function(t){var e=p.CustomElementUtils.getElementProperties(t);if(e)for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],s=e[o];s.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[o]=!0);var r=s.extension;r&&r._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(o))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(t,e){this._WIDGET=function(n,i,o){if("option"===n)return r.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),e,i,o),e[i];throw new p.JetElementError(t,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(t,e,n,i){var o=p.AttributeUtils.propertyNameToAttribute(e),s=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(o);if(s)if(n=this.ValidatePropertySet(t,e,n),this._WIDGET_ELEM){i||(i=u.getPropertyMetadata(e,p.CustomElementUtils.getElementProperties(t)));var a=this._getCopyProperty(t,e,i);this._setCopyProperty(o,n),r.BaseCustomElementBridge.__FirePropertyChangeEvent(t,e,this._getCopyProperty(t,e,i),a,"external")}else this._PROPS[o]=n;return s},_setEventProperty:function(t,e,n){var i=p.AttributeUtils.isEventListenerProperty(e);return i&&(t[e]=n),i}}),w.getMetadata=function(t){return w._METADATA_MAP[t.toLowerCase()]},w.isKnownEvent=function(t,e){var n=p.CustomElementUtils.getElementBridge(t);return null!=(n.METADATA.events&&n.METADATA.events[e])},w.isKnownProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(t);return null!=(n.METADATA.properties&&n.METADATA.properties[e])},w.getPropertyForAlias=function(t,e){var n=p.CustomElementUtils.getElementBridge(t)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return n&&n[e]?n[e]:e},w.register=function(t,e){var n=e[r.BaseCustomElementBridge.DESC_KEY_META];n=r.BaseCustomElementBridge.__ProcessEventListeners(n),e[r.BaseCustomElementBridge.DESC_KEY_META]=n,w._METADATA_MAP[t.toLowerCase()]=n;var i=n.extension,o=i&&i._WIDGET_NAME?w.proto:j.proto;const s=i&&i._WIDGET_NAME?B:p.ElementState;var a=i._ALIASED_PROPS;a&&(i._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(a).forEach(function(t){i._COMPONENT_TO_ELEMENT_ALIASES[a[t]]=t}));const l={descriptor:e,bridgeProto:o,stateClass:s};p.CustomElementUtils.registerElement(t,l,o.getClass(e))},w._getPropertyAccessor=function(t,e,n){return function(i){var o=p.CustomElementUtils.getElementBridge(t);return 1===arguments.length?(i=o.ValidatePropertySet(t,e,i),e=o.GetAliasForProperty(e),void o._WIDGET("option",e,i,n)):(e=o.GetAliasForProperty(e),o._WIDGET("option",e))}.bind(t)},w._getWidgetElement=function(t,e){var n=t;if(e){var i=t.firstElementChild;if(i&&i.tagName.toLowerCase()===e)n=i;else{n=document.createElement(e);for(var o=[],s=t.childNodes,r=0;r<s.length;r++)o.push(s[r]);for(t.appendChild(n);o.length;){var a=o.shift();p.CustomElementUtils.getSlotAssignment(a)||n.appendChild(a)}}n.setAttribute("data-oj-internal","")}return n},w._METADATA_MAP={};class x{static isDataProvider(t){return!!t.fetchFirst}static isTreeDataProvider(t){return!!t.getChildDataProvider}}c._registerLegacyNamespaceProp("DataProviderFeatureChecker",x);var U,Y,W={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=X},stopPropagation:function(){this.isPropagationStopped=X},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=X}};function H(t,e,n,i,o,s,r){var a=n,l=!1,u={};delete i[o],Object.defineProperty(i,o,{get:function(){if(l)return a;if(null!=t._settingNestedKey)return a;var n=s(r?r():o);return F([e,n,a],u)},set:function(e){a=e,null!=t._settingNestedKey?u[t._settingNestedKey]=!0:l=!0},enumerable:!0})}function k(t){if(1===t.length){var e=t[0];return e instanceof R?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var o=t[i];null!=o&&o instanceof R&&(n=!0)}return n?function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof R?n.push(t.getCallback()(e)):n.push(t)}),F(n)}:null}function F(t,e){for(var n,i=0;i<t.length;i++){var o=t[i];if(void 0!==o)if(a.isPlainObject(o))n=V({},a.isPlainObject(n)?[n,o]:[o],i===t.length-1?null:e,null);else n=o}return n}function V(t,e,n,i){for(var o=e.length,s=0;s<o;s++)for(var r=e[s],l=Object.keys(r),u=0;u<l.length;u++){var c,_=l[u];if(c=null==n?null:null==i?_:i+"."+_,null==n||!n[c]){var h=r[_];if(void 0!==h)if(a.isPlainObject(h)){var p=a.isPlainObject(t[_])?[t[_],h]:[h];t[_]=V({},p,n,c)}else t[_]=h}}return t}function X(){return!0}function K(t){return t.getAttribute&&t.getAttribute("class")||""}a.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var e=this.widget();if(null==e)return;var n=t.class;n&&e.addClass(n),t.style&&d.error("The rootAttributes.style option violates the recommended\n          Content Security Policy which disallows inline styles and is therefore ignored.\n          Use the rootAttributes.class option instead."),delete(t=a.extend({},t)).class,delete t.style,e.attr(t),delete t.id;var i=Object.keys(t);if(i.length)throw new Error("Unsupported values passed to rootAttributes option: "+i.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass("oj-component-initnode")},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data("oj-component-names"))||(n=[],t.data("oj-component-names",n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:a.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var e=this;this._savedAttributes=[],a.each(t,function(t,n){var i={},o={element:n,attributes:i},s=n.attributes;e._savedAttributes.push(o),a.each(s,function(t,e){var n=e.name;i[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;for(var n=t[0],i=0,o=e.length;i<o;i++){var s=e[i];if(s.element===n)return s.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){a.each(this._savedAttributes,function(t,e){var n=a(e.element),i=e.attributes;if(1===n.length){var o,s,r=e.element.attributes,l=[];for(o=0,s=r.length;o<s;o++)r[o].name in i||l.push(r[o].name);for(o=0,s=l.length;o<s;o++)n.removeAttr(l[o]);var u=Object.keys(i);for(o=0;o<u.length;o++){var c=u[o];n.attr(c,i[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(t,e,n){return this._IsCustomElement()&&this._getWritebackOption(t)?r.Object.compareValues(e,n):e===n},getTranslatedString:function(t,e){var n={};arguments.length>2?n=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(n=arguments[1])||n instanceof Array||(n=[n]));var i=this.option("translations."+t);return null==i?t:f.applyParameters(i.toString(),n)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),_.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass("oj-component-initnode"),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(t,e){var n=t.data("oj-component-names");if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData("oj-component-names"))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(t,e){if(0===arguments.length)return a.widget.extend({},this.options);var n,i=arguments[0],o=i,s=null,r={};if("string"==typeof i){o={};var l=i.split(".");if(i=l.shift(),l.length){var u;s=l.join(".");try{arguments.length>1&&(this._settingNestedKey=s),u=a.widget.extend({},this.options[i]),o[i]=u}finally{this._settingNestedKey=null}for(n=0;n<l.length-1;n++)u[l[n]]=u[l[n]]||{},u=u[l[n]];if(i=l.pop(),1===arguments.length)return void 0===u[i]?null:u[i];u[i]=e}else{if(1===arguments.length)return void 0===this.options[i]?null:this.options[i];o[i]=e}r=arguments[2]||r}else r=arguments[1]||r;if(null!=s){var c={path:t,value:e};r=a.widget.extend({},r,{subkey:s,subproperty:c})}var _=r?r._context:null,h=!!_&&_.internalSet,E={},f=Object.keys(o);for(n=0;n<f.length;n++){var g=f[n],m=o[g],v=this.options[g],y=r&&r.changed;y||!this._CompareOptionValues(g,v,m)?E[g]=m:this._IsCustomElement()&&d.info(p.CustomElementUtils.getElementInfo(this.element[0])+": Ignoring property set for property '"+g+"' with same value.")}if(Object.keys(E).length>0){p.CustomElementUtils.allowSlotRelocation(!0);try{h?this._internalSetOptions(E,r):this._setOptions(E,r)}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}return this},_internalSetOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o],r=this.options[o];this.options[o]=s,this._optionChanged(o,s,r,e)}},_setOptions:function(t,e){p.CustomElementUtils.allowSlotRelocation(!0);try{for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o];this._setOption(o,s,e)}}finally{p.CustomElementUtils.allowSlotRelocation(!1)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var o=null==n?null:n.subkey;null!=o&&(this._settingNestedKey=o),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,e,n,i){var o,s=null,r=!1,l=!1,u=null,c="external",_=null;if(i&&(s=i._context)){if(s.skipEvent)return;u=s.originalEvent,r=void 0===s.writeback?null!=u:s.writeback,l=s.readOnly,_=s.optionMetadata,o=s.extraData,s.internalSet&&(c="internal")}(_=_||{}).writeback=r?"shouldWrite":"shouldNotWrite",l&&(_.readOnly=!0);var h={option:t,previousValue:n,value:e,optionMetadata:_,updatedFrom:c},p=null==i?null:i.subkey;if(p){var d=p.split("."),E=n;d.forEach(function(t){E&&(E=E[t])});var f=i.subproperty;f.previousValue=E,h.subproperty=f}null!=o&&(h=a.extend({},o,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,e,n){var i=n||{};if(this._IsCustomElement())return this._triggerCustomEvent(t,e,i);var o=this.options[t],s=a.Event(e,W);return s.type=(this.widgetEventPrefix+t).toLowerCase(),s.target=this.element[0],this.element.trigger(s,i),{proceed:!(a.isFunction(o)&&!1===o.apply(this.element[0],[s].concat(i))||s.isDefaultPrevented()),event:s}},_triggerCustomEvent:function(t,e,n){var i,o,s,r={},l=this._getRootElement();if("optionChange"===t){var u=w.getPropertyForAlias(l,n.option);if(!w.isKnownProperty(l,u))return{proceed:!0,event:null};i=p.AttributeUtils.propertyNameToChangeEventType(u);for(var c=Object.keys(n),_=0;_<c.length;_++){var h=c[_];if("option"!==h)if("optionMetadata"===h)for(var d=Object.keys(n[h]),E=0;E<d.length;E++){var f=d[E];"writeback"!==f&&"component"!==f&&(r[f]=n[h][f])}else r[h]=n[h]}}else{if(i=p.AttributeUtils.eventTriggerToEventType(t),!w.isKnownEvent(l,i))return{proceed:!0,event:null};o=!0,s=!0,r=this._resolveJQueryObjects(n)}e&&(r.originalEvent=e instanceof a.Event?e.originalEvent:e);var g={detail:r};o&&(g.bubbles=!0),s&&(g.cancelable=!0);var m=new CustomEvent(i,g);return l.dispatchEvent(m),{proceed:!m.defaultPrevented,event:m}},_resolveJQueryObjects:function(t){for(var e=r.CollectionUtils.copyInto({},t),n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],s=e[o];s&&s instanceof a&&(0===s.length?e[o]=null:1===s.length?e[o]=s[0]:e=s.toArray())}return e},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,e&&!("contextMenu"in t)&&this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(t,e,n){if(!this._IsEffectivelyDisabled()){var i;if("OJ-MENU"===t.tagName)i=t;else{var o=N.__GetWidgetConstructor(t,"ojMenu");if(!(i=o&&o("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(i,e,n),a(t).is(":visible")&&e.preventDefault()}},_SetupContextMenu:function(){var t=this._GetContextMenu();if(t||(t=this._GetDefaultContextMenu()),t&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=t;var e=this;m.startDetectContextMenuGesture(this.widget()[0],function(n,i){e._handleContextMenuGesture(t,n,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,m.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var t=p.CustomElementUtils.getSlotMap(this._getRootElement()).contextMenu;if(t&&t.length>0)return t[0]}else if(this.options.contextMenu)return a(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(t,e,n,i,o){var s=this._GetContextMenu();if(s||(s=this._contextMenuGestureInit&&a(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),s){var r={mouse:{my:"start top",at:"start bottom",of:t,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:t,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},l={launcher:this.element,position:r[e]},u={initialFocus:"menu"},c=o?a.extend(l,n,u):a.extend(!0,l,n,u);if(s.__openingContextMenu=!0,"OJ-MENU"===s.tagName)s.open(t,c,i);else{var _=N.__GetWidgetConstructor(s,"ojMenu");(_&&_("instance")).open(t,c,i);var h=function(t){t.preventDefault()};s.addEventListener("contextmenu",h),window.setTimeout(function(){s.removeEventListener("contextmenu",h)},50)}s.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!_.recentTouchEnd()},_AddHoverable:function(t){var e;a.isPlainObject(t)?e=t.element:(e=t,t={});var n=t.afterToggle||a.noop;e.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,n)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",n))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(t){var e;a.isPlainObject(t)?e=t.element:(e=t,t={});var n=t.afterToggle||a.noop;_.isTouchSupported()&&(e[0]&&(this._touchstartListener=this._activeStartHandler.bind(this,n),e[0].addEventListener("touchstart",this._touchstartListener,{passive:!0})),e.on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n))),e.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n))},_RemoveActiveable:function(t){t&&(t[0]&&(t[0].removeEventListener("touchstart",this._touchstartListener,{passive:!0}),delete this._touchstartListener),t.off(this.activeableEventNamespace),U=null)},_activeStartHandler:function(t,e){var n=a(e.currentTarget);("mouseenter"!==e.type||this._isTargetInActiveElement(e.currentTarget))&&(n.hasClass("oj-disabled")||"touchstart"!==e.type&&!this._isRealMouseEvent(e)||(n.addClass("oj-active"),t(e.type),"mousedown"===e.type&&(U=e.currentTarget,this.document.one("mouseup",function(){U=null}))))},_hoverStartHandler:function(t,e){var n=a(e.currentTarget);!n.hasClass("oj-disabled")&&this._isRealMouseEvent(e)&&(n.addClass("oj-hover"),t(e.type))},_hoverAndActiveEndHandler:function(t,e,n){("oj-active"!==t||"mouseleave"!==n.type||this._isTargetInActiveElement(n.currentTarget))&&(a(n.currentTarget).removeClass(t),e(n.type))},_isTargetInActiveElement:function(t){return U===t||null!=U&&a.contains(U,t)},_hoverable:function(){},_focusable:function(t){a.isPlainObject(t)||(t={element:t}),t.component=this,_.makeFocusable(t)},_UnregisterChildNode:function(t){if(t){a(t).off(this.eventNamespace);var e=this.bindings;e&&(this.bindings=a(e.not(t)))}},_GetReadingDirection:function(){return _.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var t=[],e=this,n=0;this._traverseWidgetHierarchy(function(i){var o=0===n?e._GetTranslationsSectionName():i.widgetFullName;n+=1;var s=f.getComponentTranslations(o);null==s||a.isEmptyObject(s)||t.push(o)});var i=t.length;return i>0?function(){if(1===i)return f.getComponentTranslations(t[0]);for(var e={},n=i-1;n>=0;n--)a.widget.extend(e,f.getComponentTranslations(t[n]));return e}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var t={};this._propertyContext=t;var e=this.element[0];t.containers=function(t){for(var e=t,n=[];e;){var i=e.getAttribute,o=i?i.call(e,N._OJ_CONTAINER_ATTR):null;null!=o&&n.push(o),e=e.parentNode}return n}(e),t.element=e,t.isCustomElement=this._IsCustomElement(),t.isCustomElement&&(t.customElement=this._getRootElement())}return this._propertyContext},_setupDefaultOptions:function(t,e){var n=this.options,i=this._getTranslationSectionLoader(),o=e.translations;null==i||void 0!==o&&!a.isPlainObject(o)||H(this,void 0,e.translations,n,"translations",i),this._loadGlobalDefaultOptions(t,e)},_loadGlobalDefaultOptions:function(t,e){var n=this.options,i=[];this._traverseWidgetHierarchy(function(t){i.push(t.widgetName)}),i.push("default");var o=N.__getDefaultOptions(i);if(!a.isEmptyObject(o))for(var s=this,r=function(){return s._getDynamicPropertyContext()},l=Object.keys(o),u=0;u<l.length;u++){var c=l[u],_=e[c];if(void 0===_||a.isPlainObject(_)){var h=o[c];if(h){var p=k(h);if(p)H(this,t[c],_,n,c,p,r);else{var d=[t[c]].concat(h);d.push(_),n[c]=F(d)}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return p.CustomElementUtils.isElementRegistered(this._getRootElement().tagName)},_GetThrottlePromise:function(){if(this._IsCustomElement()){var t=this._getRootElement();return p.CustomElementUtils.getElementBridge(t).getThrottlePromise()}return Promise.resolve(null)},_FixRendererContext:function(t){if(this._IsCustomElement()){var e=r.CollectionUtils.copyInto({},t);return delete e.component,e.componentElement=this._getRootElement(),e}return t},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){return!!this._VerifyConnectedForSetup()&&(void 0===this.connectedState&&window.queueMicrotask(function(){this.connectedState===t&&(0===t?this._SetupResources():this._ReleaseResources()),this.connectedState=void 0}.bind(this)),this.connectedState=t,!0)},__handleWatchedAttribute:function(t,e,n){this._WatchedAttributeChanged(t,e,n)},_WatchedAttributeChanged:function(t,e,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete a.fn.baseComponent,r.__registerWidget=function(t,e,n,i){if(a.widget(t,e,n),i){var o=t.split(".")[1];delete a.fn[o]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var s,r=t.split("."),l=r[0],u=r[1],c=l+"-"+u;s="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),a.expr.pseudos[s.toLowerCase()]=function(t){return!!a.data(t,c)}}},a.cleanData=(Y=a.cleanData,function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(null==i)break;var o=!1,s=N.__GetWidgetConstructor(i);if(s&&!(o=s("instance")._IsCustomElement())){var r=N.getComponentElementByNode(i);o=r&&p.CustomElementUtils.isElementRegistered(r.tagName)}o||e.push(i)}e.length>0&&Y(e)}),a.fn.addClass=function(t){if("function"==typeof t)return this.each(function(e){a(this).addClass(t.call(this,e,K(this)))});const e=Array.isArray(t)?t:p.CustomElementUtils.getClassSet(t);return this.each(function(){1===this.nodeType&&this.classList.add(...e)}),this},a.fn.removeClass=function(t){if("function"==typeof t)return this.each(function(e){a(this).removeClass(t.call(this,e,K(this)))});const e=Array.isArray(t)?t:p.CustomElementUtils.getClassSet(t);return this.each(function(){1===this.nodeType&&this.classList.remove(...e)}),this};const z={};r._registerLegacyNamespaceProp("Test",z),z.ready=!1,z.domNodeForLocator=function(t){var e=t;if(r.StringUtils.isString(t)){var n=t;try{e=JSON.parse(n)}catch(t){return null}}if(e&&e.element){var i=a(e.element);if(i&&i.length>0){delete e.element;var o=e;return N.getNodeBySubId(i[0],o)}}return null},z.getOpenPopupCount=function(){return r.ZOrderUtils.getOpenPopupCount()},z.findOpenPopups=function(){return r.ZOrderUtils.findOpenPopups()},z.compareStackingContexts=function(t,e){return r.ZOrderUtils.compareStackingContexts(t,e)};const q=N.subtreeAttached,J=N.subtreeDetached,Z=N.subtreeHidden,Q=N.subtreeShown,$=N.createDynamicPropertyGetter,tt=N.setDefaultOptions,et=N.getDefaultOptions,nt=N.__GetWidgetConstructor,it=N.setComponentOption,ot=N.getComponentOption,st=N.getWidgetConstructor,rt=N.isComponentInitialized,at=N.markPendingSubtreeHidden,lt=N.unmarkPendingSubtreeHidden,ut=N.__getDefaultOptions,ct=N.getComponentElementByNode,_t=N.getSubIdByNode,ht=N.getNodeBySubId,pt=N.callComponentMethod,dt=N._OJ_CONTAINER_ATTR;t.DataProviderFeatureChecker=x,t._OJ_CONTAINER_ATTR=dt,t.__GetWidgetConstructor=nt,t.__getDefaultOptions=ut,t.callComponentMethod=pt,t.createDynamicPropertyGetter=$,t.getComponentElementByNode=ct,t.getComponentOption=ot,t.getDefaultOptions=et,t.getNodeBySubId=ht,t.getSubIdByNode=_t,t.getWidgetConstructor=st,t.isComponentInitialized=rt,t.markPendingSubtreeHidden=at,t.setComponentOption=it,t.setDefaultOptions=tt,t.subtreeAttached=q,t.subtreeDetached=J,t.subtreeHidden=Z,t.subtreeShown=Q,t.unmarkPendingSubtreeHidden=lt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojcomponentcore.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdvt-toolkit',["exports","ojs/ojthemeutils"],function(t,e){"use strict";const i=function(){};i._GET_FUNCTION_NAME_REGEXP=/function\s+([\S^]+)\s*\(/,i.createSubclass=function(t,e){var n=i._tempSubclassConstructor;n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype},i._tempSubclassConstructor=function(){},i.prototype.clone=function(){return null},i.createCallback=function(t,e){return function(){return e.apply(t,arguments)}},i.compareValues=function(t,e,i){return t.oj.KeyUtils.equals(e,i)};const n=function(t,e){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e};n.prototype.equals=function(t){return t instanceof n&&this.x===t.x&&this.y===t.y};const r=function(){};var o;r.setAgentInfo=function(t){o=t},r.getAgentInfo=function(){return o},Object.defineProperty(r,"browser",{enumerable:!0,get:function(){return r.getAgentInfo().browser}}),Object.defineProperty(r,"engine",{enumerable:!0,get:function(){return r.getAgentInfo().engine}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return r.getAgentInfo().browserVersion}}),Object.defineProperty(r,"os",{enumerable:!0,get:function(){return r.getAgentInfo().os.toLowerCase()}}),i.createSubclass(r,i),r.FOCUS_COLOR_DEFAULT="#0645AD",r.FOCUS_COLOR_IE="#090909",r.deferAriaCreation=function(){return!r.isTouchDevice()&&!r.isEnvironmentTest()},r.getDevicePixelRatio=function(){return r._initialize(),r._devicePixelRatio},r.getElementPosition=function(t){return"ie"===r.browser||"edge"===r.browser?r._getElementPositionIE(t):r._getElementPositionDefault(t)},r.isRightToLeft=function(t){return r._initialize(),t&&null!=t.getReadingDirection()?"rtl"==t.getReadingDirection():r._bRtl},r.isTouchDevice=function(){return r._initialize(),r._bTouchDevice},r.setEnvironment=function(t){r._environment=t},r.isEnvironmentTest=function(){return"test"==r._environment},r.setHighContrast=function(t){r._highContrast=t},r.isHighContrast=function(){return!0===r._highContrast},r.workaroundFirefoxRepaint=function(t){if("firefox"===r.browser){var e=t.getParent();if(e){var i=e.getChildIndex(t);e.removeChildAt(i),e.addChildAt(t,i)}}},r._initialize=function(){r._bInitialized||(r._bRtl=!(!document||!document.documentElement)&&"rtl"==document.documentElement.dir,r._bTouchDevice="ios"===r.os||"android"===r.os,r._devicePixelRatio=window&&null!=window.devicePixelRatio?window.devicePixelRatio:1,r._bInitialized=!0)},r._getElementPositionDefault=function(t){var e=t.getBoundingClientRect(),i=Math.round(e.top),r=e.left,o=t.ownerDocument.documentElement,s=t.ownerDocument.body;return r+=o.scrollLeft||s.scrollLeft,i+=o.scrollTop||s.scrollTop,new n(r,i)},r._getElementPositionIE=function(t){var e=t.getBoundingClientRect(),i=e.top,r=e.left,o=t.ownerDocument.documentElement,s=o.scrollLeft;return r-=o.clientLeft-s,i-=o.clientTop-o.scrollTop,new n(r,i)},r.getFocusColor=function(){if(r._initialize(),!r._focusColor){var t;if("blink"===r.engine||"safari"===r.browser){var e=document.getElementsByTagName("body")[0],i=document.createElement("div");e.appendChild(i),i.style.outline="-webkit-focus-ring-color",t=window.getComputedStyle(i).getPropertyValue("outline-color"),e.removeChild(i)}else"ie"!==r.browser&&"edge"!==r.browser||(t=r.FOCUS_COLOR_IE);r._focusColor=t||r.FOCUS_COLOR_DEFAULT}return r._focusColor};const s={};i.createSubclass(s,i),s.getDragFeedbackBounds=function(t,e){if(!t)return null;var i=null;if(t instanceof Array){if(t.length>0){i=t[0].getDimensions(e||t[0].getParent());for(var n=1;n<t.length;n++){var r=t[n],o=r.getDimensions(e||r.getParent());o.x<i.x&&(i.w+=i.x-o.x,i.x=o.x),o.y<i.y&&(i.h+=i.y-o.y,i.y=o.y),o.x+o.w>i.x+i.w&&(i.w=o.x+o.w-i.x),o.y+o.h>i.y+i.h&&(i.h=o.y+o.h-i.y)}}}else i=t.getDimensions(e||t.getParent());return i};const a=function(t){this.Init(t)};i.createSubclass(a,i),a.DRAG_FEEDBACK_MARGIN=2,a.prototype.Init=function(t){this._context=t,this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},a.prototype.getDragCandidate=function(){return this._dragCandidate},a.prototype.setDragCandidate=function(t){t&&t.isDragAvailable&&t.getDragTransferable?this._dragCandidate=t:this._dragCandidate=null},a.prototype.isDragAvailable=function(t){return null!=this._dragCandidate?this._dragCandidate.isDragAvailable(t):null},a.prototype.getDragTransferable=function(t,e){return this._dragCandidate?(this._dragObj=this._dragCandidate,this._dragCoords={x:t,y:e},this._dragCandidate.getDragTransferable(t,e)):null},a.prototype.getDragOverFeedback=function(t,e){this._context.getTooltipManager().hideTooltip();var i=this.getDragObject();return i&&i.getDragFeedback?i.getDragFeedback(t,e):null},a.prototype.getDragContext=function(t,e){return this._dragObj&&this._dragObj.getDragContext?this._dragObj.getDragContext(t,e):null},a.prototype.getDragObject=function(){return this._dragObj},a.prototype.getDragCoords=function(){return this._dragCoords},a.prototype.getDragOffset=function(t,e){var i={},n=this.getDragOverFeedback(t,e);if(n){var r=s.getDragFeedbackBounds(n,this._context.getStage()),o=this.getDragObject();o&&o.afterDragOverFeedback&&o.afterDragOverFeedback(n),r&&(i.x=t-r.x,i.y=e-r.y,i.x+=a.DRAG_FEEDBACK_MARGIN,i.y+=a.DRAG_FEEDBACK_MARGIN)}else i.x=0,i.y=0;return i},a.prototype.getPointerOffset=function(t,e){return{x:0,y:0}},a.prototype.initiateDrag=function(){var t=this.getTouchManager();r.isTouchDevice()&&t&&t.cancelTouchHold()},a.prototype.dragDropEnd=function(){this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},a.prototype.setTouchManager=function(t){this._touchManager=t},a.prototype.getTouchManager=function(){return this._touchManager};const h=function(t,e){this.w=null===t||isNaN(t)?0:t,this.h=null===e||isNaN(e)?0:e},l=function(t,e,i,n,r,o){this._a=null==t?1:t,this._b=null==e?0:e,this._c=null==i?0:i,this._d=null==n?1:n,this._tx=null==r?0:r,this._ty=null==o?0:o,this._u=0,this._v=0,this._w=1};i.createSubclass(l,i),l._DECOMP_TX=0,l._DECOMP_TY=1,l._DECOMP_R=2,l._DECOMP_SKEWX=3,l._DECOMP_SX=4,l._DECOMP_SY=5,l.prototype.getA=function(){return this._a},l.prototype.getB=function(){return this._b},l.prototype.getC=function(){return this._c},l.prototype.getD=function(){return this._d},l.prototype.getTx=function(){return this._tx},l.prototype.getTy=function(){return this._ty},l.prototype.concat=function(t){var e=this._a*t.getA()+this._c*t.getB()+this._u*t.getTx(),i=this._b*t.getA()+this._d*t.getB()+this._v*t.getTx(),n=this._tx*t.getA()+this._ty*t.getB()+this._w*t.getTx(),r=this._a*t.getC()+this._c*t.getD()+this._u*t.getTy(),o=this._b*t.getC()+this._d*t.getD()+this._v*t.getTy(),s=this._tx*t.getC()+this._ty*t.getD()+this._w*t.getTy();return new l(e,i,r,o,n,s)},l.prototype.translate=function(t,e){return this.concat(new l(1,0,0,1,t,e))},l.prototype.scale=function(t,e,i,n){var r=this;(i||n)&&(r=this.translate(-i,-n));var o=new l(t,0,0,e);return r=r.concat(o),(i||n)&&(r=r.translate(i,n)),r},l.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=new l(e,-i,i,e);return this.concat(n)},l.prototype.skew=function(t,e){var i=new l(1,Math.tan(t),Math.tan(e),1);return this.concat(i)},l.prototype._determinant=function(){return this._a*(this._d*this._w-this._ty*this._v)-this._b*(this._c*this._w-this._ty*this._u)+this._tx*(this._c*this._v-this._d*this._u)},l.prototype.invert=function(){var t=this._determinant(),e=this._d*this._w-this._ty*this._v,i=this._tx*this._v-this._b*this._w,n=this._b*this._ty-this._tx*this._d,r=this._ty*this._u-this._c*this._w,o=this._a*this._w-this._tx*this._u,s=this._tx*this._c-this._a*this._ty;return new l(e/t,i/t,r/t,o/t,n/t,s/t)},l.prototype._decompose=function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,o=this._ty;if(t*n-e*i==0)return null;var s=Math.sqrt(t*t+i*i),a=(t/=s)*e+(i/=s)*n;e-=t*a,n-=i*a;var h=Math.sqrt(e*e+n*n);return a/=h,-1===t*(n/=h)-(e/=h)*i&&(a=-a,h=-h),[r,o,Math.atan2(i,t),Math.atan(a),s,h]},l.prototype._recompose=function(t){var e=new l,i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5];return(e=(e=(e=e.scale(s,a)).skew(o,0)).rotate(r)).translate(i,n)},l.prototype.equals=function(t){return!(!this&&t)&&(!(this&&!t)&&(!this&&!t||this._a===t.getA()&&this._b===t.getB()&&this._c===t.getC()&&this._d===t.getD()&&this._tx===t.getTx()&&this._ty===t.getTy()))},l.prototype.transformPoint=function(t){var e=this._a*t.x+this._b*t.y+1*this._tx,i=this._c*t.x+this._d*t.y+1*this._ty;return new n(e,i)},l.prototype.isIdentity=function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty};const u={};i.createSubclass(u,i),u.SVG_NS="http://www.w3.org/2000/svg",u.XLINK_NS="http://www.w3.org/1999/xlink",u._IMAGE_URL_CACHE={},u._ICON_CACHE={},u.createSvgDocument=function(t){var e=document.createElementNS(u.SVG_NS,"svg");return null!=t&&u.setAttrNullNS(e,"id",t),u.setAttrNullNS(e,"width","100%"),u.setAttrNullNS(e,"height","100%"),"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(e,"focusable","false"),e},u.getDragFeedback=function(t,e){var i=new Object;if(!t)return i.width=1,i.height=1,i.svg=u.createSvgDocument("dnd"),i;t instanceof Array||(t=[t]);var n=s.getDragFeedbackBounds(t,e),r=u._getDragFeedbackSVG(t,n);return i.width=n.w+2*a.DRAG_FEEDBACK_MARGIN,i.height=n.h+2*a.DRAG_FEEDBACK_MARGIN,r&&(i.svg=r),i},u._getDragFeedbackSVG=function(t,e){var i=u.createSvgDocument("dnd");u.setAttrNullNS(i,"class","oj-drag");var n="translate("+(a.DRAG_FEEDBACK_MARGIN-e.x)+","+(a.DRAG_FEEDBACK_MARGIN-e.y)+")",r=document.createElementNS(u.SVG_NS,"g");u.setAttrNullNS(r,"transform",n),u.appendChildElem(i,r);for(var o=0;o<t.length;o++){var s=t[o],h=s.getElem().cloneNode(!0);u.getAttrNullNS(h,"filter")&&u.setAttrNullNS(h,"filter",null);var l=document.createElementNS(u.SVG_NS,"g");u.appendChildElem(r,l);for(var c=s.getPathToStage(),_=null,p=1;p<c.length;p++)_=_?_.concat(c[p].getMatrix()):c[p].getMatrix();if(_){var d="matrix("+_.getA()+","+_.getC()+","+_.getB()+","+_.getD()+","+_.getTx()+","+_.getTy()+")";u.setAttrNullNS(l,"transform",d)}u.appendChildElem(l,h)}return i},u.addDomEventListener=function(t,e,i,n){t&&t.addEventListener&&t.addEventListener(e,i,n)},u.removeDomEventListener=function(t,e,i,n){t&&t.removeEventListener&&t.removeEventListener(e,i,n)},u.appendChildElem=function(t,e){return t.appendChild(e)},u.removeChildElem=function(t,e){return e.parentNode!=t?null:t.removeChild(e)},u.getAttrNullNS=function(t,e){return t.getAttribute(e)},u.hasAttrNullNS=function(t,e){return t.hasAttribute(e)},u.setAttrNullNS=function(t,e,i,n){null==n||i!=n?t.setAttribute(e,i):u.hasAttrNullNS(t,e)&&u.removeAttrNullNS(t,e)},u.removeAttrNullNS=function(t,e){u.hasAttrNullNS(t,e)&&t.removeAttribute(e)},u.setHref=function(t,e){"safari"===r.browser||"firefox"===r.browser&&r.version<51?t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e):u.setAttrNullNS(t,"href",e)},u.getLinkCallback=function(t,e){if(t||e){var i=this;return function(){if(null==t)i.location=e;else{var n=window.open(e,t);n&&n.focus()}}}return null},u.getUrlPathById=function(t){return(("ie"===r.browser||"edge"===r.browser?null!=document.querySelector("base"):document.URL!=document.baseURI)?document.URL.split("#")[0]+"#":"#")+t},u.getUrlById=function(t){return"url("+u.getUrlPathById(t)+")"},u.setSvgSize=function(t,e,i){var n=t.getSvgDocument();u.setAttrNullNS(n,"width",e+"px"),u.setAttrNullNS(n,"height",i+"px")},u.getOuterDivSize=function(t){var e=t.getSvgDocument().parentNode,i=window.getComputedStyle(e);return new h(parseFloat(i.width),parseFloat(i.height))},u.getEventForSyntax=function(t,e){var i=e.getNativeEvent();if(!t.isCustomElement()&&"undefined"!=typeof $){var n=$.event.fix(i);return n.dataTransfer=i.dataTransfer,n}return i},u.getImageUrl=function(t,e){return null==e||-1!==e.indexOf(".")?e:u.getImageUrls(t,[e])[e]},u.getImageUrls=function(t,e){if(0==e.length)return{};var i={},n=document.createElement("div");n.style.display="none";for(var r=0;r<e.length;r++){var o,s,a=e[r];null!=a&&(-1===a.indexOf(".")?null==(o=u._IMAGE_URL_CACHE[a])?((s=document.createElement("div")).className=a,u.appendChildElem(n,s)):i[a]=o:i[a]=a)}return n.hasChildNodes()?(u.appendChildElem(t.getContainer(),n),Array.prototype.forEach.call(n.childNodes,function(t){var e=t.className,n=window.getComputedStyle(t).getPropertyValue("background-image");n=n&&-1!==n.indexOf("url(")?n.slice(n.indexOf("url(")+4,n.length-1).replace(/["']/g,""):e,i[e]=n,u._IMAGE_URL_CACHE[e]=n}),u.removeChildElem(t.getContainer(),n),i):i},u.getIconStyle=function(t,e){return u.getIconStyles(t,[e])[e]},u.getIconStyles=function(t,e){if(0==e.length)return{};var i={},n=document.createElement("div"),r=n.style;r.width="0px",r.height="0px",r.visibility="hidden";for(var o=0;o<e.length;o++){var s,a,h=e[o];null!=h&&(null==(s=u._ICON_CACHE[h])?((a=document.createElement("div")).className=h,u.appendChildElem(n,a)):i[h]=s)}return n.hasChildNodes()?(u.appendChildElem(t.getContainer(),n),Array.prototype.forEach.call(n.childNodes,function(t){var e,n=t.className,r=window.getComputedStyle(t,":before"),o=r.getPropertyValue("content"),s=o.charAt('"'===o.charAt(0)?1:0),a=r.getPropertyValue("transform");if("none"===a)e=new l;else{var h=a.match(/matrix\((.*)\)/)[1].split(", ").map(t=>Number(t));e=new l(...h)}var c={character:s,transform:e};i[n]=c,u._ICON_CACHE[n]=c}),u.removeChildElem(t.getContainer(),n),i):i},u.addClassName=function(t,e){if(t&&e)if(u.hasAttrNullNS(t,"class")){var i=u.getAttrNullNS(t,"class").split(" ");-1==i.indexOf(e)&&(i.push(e),u.setAttrNullNS(t,"class",i.join(" ")))}else u.setAttrNullNS(t,"class",e)},u.removeClassName=function(t,e){if(t&&e&&u.hasAttrNullNS(t,"class")){var i=u.getAttrNullNS(t,"class").split(" "),n=i.indexOf(e);n>=0&&(i.splice(n,1),u.setAttrNullNS(t,"class",i.join(" ")))}},u.getGrabCursor=function(){return"ie"===r.browser?"move":"grab"},u.getGrabbingCursor=function(){return"ie"===r.browser?"move":"grabbing"},u.cleanDragDataContext=function(t){return delete t.componentElement,delete t.component,t},u.getUseCaptureFromOptions=function(t){return null!=t&&("boolean"==typeof t?t:t.capture||!1)};const c=function(t){return r.isTouchDevice()&&"chrome"===r.browser?window.setTimeout(t,1e3/60):window.requestAnimationFrame(t)},_=function(t){r.isTouchDevice()&&"chrome"===r.browser?clearTimeout(t):window.cancelAnimationFrame(t)},p=function(t){this._id=(t?t+"$":"")+"cp"+p._uniqueSeed++,this._regions=[]};i.createSubclass(p,i),p._uniqueSeed=0,p.NONE=0,p.RECT=1,p.PATH=2,p.POLYGON=3,p.CIRCLE=5,p.prototype.getId=function(){return this._id},p.prototype.getRegions=function(t){return this._regions},p.prototype.addRect=function(t,e,i,n,r,o){var s={};s.type=p.RECT,s.x=t,s.y=e,s.w=i,s.h=n,s.rx=r,s.ry=o,this._regions.push(s)},p.prototype.addCircle=function(t,e,i){var n={};n.type=p.CIRCLE,n.cx=t,n.cy=e,n.r=i,this._regions.push(n)},p.prototype.addPolygon=function(t){var e={};e.type=p.POLYGON,e.points=t,this._regions.push(e)},p.prototype.addPath=function(t){var e={};e.type=p.PATH,e.d=t,this._regions.push(e)};const d=new Object;i.createSubclass(d,i),d.removeItem=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)},d.insert=function(t,e,i){if(!Array.isArray(t))return null;if(!Array.isArray(e))return t;var n;if(0===i)n=e.concat(t);else if(i>0&&i<t.length){var r=t.splice(0,i);n=(r=r.concat(e)).concat(t)}else n=t.concat(e);return n},d.equals=function(t,e){if(!t&&e)return!1;if(t&&!e)return!1;if(t||e){if(t.length!=e.length)return!1;for(var i=0;i<=t.length;i++)if(t[i]!==e[i])return!1;return!0}return!0},d.hasAnyMapItem=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(t[e[i]])return!0;return!1},d.hasAllMapItems=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(!t[e[i]])return!1;return!0},d.hasAnyItem=function(t,e){return d.hasAnyMapItem(d.createBooleanMap(t),e)},d.hasAllItems=function(t,e){return d.hasAllMapItems(d.createBooleanMap(t),e)},d.createBooleanMap=function(t){if(!t)return null;for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return e};const g=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(g,i),g.prototype.getAlphas=function(){return this._arAlphas},g.prototype.getBounds=function(){return this._arBounds},g.prototype.getColors=function(){return this._arColors},g.prototype.getStops=function(){return this._arStops},g.prototype.Init=function(t,e,i,n){if(!e&&(e=[],t))for(var r=0;r<t.length;r++)e.push(1);var o=t?t.length-1:0;if(!i){i=[];var s=o>0?1/o:0,a=0;do{i.push(a),a+=s}while(--o>0);i.push(1)}this._arColors=t,this._arAlphas=e,this._arStops=i,this._arBounds=n},g.prototype.equals=function(t){return t instanceof g&&d.equals(this.getColors(),t.getColors())&&d.equals(this.getStops(),t.getStops())&&d.equals(this.getAlphas(),t.getAlphas())&&d.equals(this.getBounds(),t.getBounds())};const f=function(){};i.createSubclass(f,i),f.createElem=function(t,e){var i,n=document.createElementNS(u.SVG_NS,"linearGradient");u.setAttrNullNS(n,"id",e);var r=t.getColors(),o=t.getAlphas(),s=t.getStops(),a=t.getBounds(),h=r.length;for(i=0;i<h;i++){var l=document.createElementNS(u.SVG_NS,"stop");u.setAttrNullNS(l,"offset",100*s[i]+"%");var c=r[i];if(c){var _=o[i];u.setAttrNullNS(l,"stop-color",c),null!=_&&u.setAttrNullNS(l,"stop-opacity",_,1)}u.appendChildElem(n,l)}var p=!a||0==a[0]&&0==a[1]&&0==a[2]&&0==a[3],d=t.getAngle(),g="0%",f="0%",y="100%",v="0%",S=!0;if(p)45===d?(f="100%",y="100%"):90===d?(f="100%",y="0%"):135===d?(g="100%",y="0%",v="100%"):270===d?(y="0%",v="100%"):0!==d&&(d=-d,u.setAttrNullNS(n,"gradientTransform","rotate("+d+" .5 .5)"),S=!1);else{u.setAttrNullNS(n,"gradientUnits","userSpaceOnUse"),g="0",f="0.5",y="1",v="0.5";var T=a[2],E=a[3],m=a[0],b=a[1],C="scale("+T+" "+E+")"+" "+("rotate("+(d=-d)+" .5 .5)");0==m&&0==b||(C="translate("+m+" "+b+")"+" "+C),u.setAttrNullNS(n,"gradientTransform",C)}return S&&(u.setAttrNullNS(n,"x1",g),u.setAttrNullNS(n,"y1",f),u.setAttrNullNS(n,"x2",y),u.setAttrNullNS(n,"y2",v)),n};const y=function(t,e,i,n){this._pattern=t?y._convertPatternValue(t):y.SM_DIAG_UP_LT,this._fillColor=e||"#000000",this._backgroundColor=i||"#ffffff",this._matrix=n};i.createSubclass(y,i),y.SM_DIAG_UP_LT="sDUL",y.LG_DIAG_UP_LT="lDUL",y.SM_DIAG_UP_RT="sDUR",y.LG_DIAG_UP_RT="lDUR",y.SM_CROSSHATCH="sC",y.LG_CROSSHATCH="lC",y.SM_CHECK="sCh",y.LG_CHECK="lCh",y.SM_TRIANGLE_CHECK="sTCh",y.LG_TRIANGLE_CHECK="lTCh",y.SM_DIAMOND_CHECK="sDCh",y.LG_DIAMOND_CHECK="lDCh",y.prototype.getPattern=function(){return this._pattern},y.prototype.getColor=function(){return this._fillColor},y.prototype.getBackgroundColor=function(){return this._backgroundColor},y.prototype.equals=function(t){return t instanceof y&&t.getPattern()==this.getPattern()&&t.getColor()==this.getColor()&&t.getBackgroundColor()==this.getBackgroundColor()},y.prototype.getMatrix=function(){return this._matrix||new l},y._convertPatternValue=function(t){return"smallDiagonalLeft"==t?y.SM_DIAG_UP_LT:"largeDiagonalLeft"==t?y.LG_DIAG_UP_LT:"smallDiagonalRight"==t?y.SM_DIAG_UP_RT:"largeDiagonalRight"==t?y.LG_DIAG_UP_RT:"smallCrosshatch"==t?y.SM_CROSSHATCH:"largeCrosshatch"==t?y.LG_CROSSHATCH:"smallChecker"==t?y.SM_CHECK:"largeChecker"==t?y.LG_CHECK:"smallTriangle"==t?y.SM_TRIANGLE_CHECK:"largeTriangle"==t?y.LG_TRIANGLE_CHECK:"smallDiamond"==t?y.SM_DIAMOND_CHECK:"largeDiamond"==t?y.LG_DIAMOND_CHECK:t};const v=function(t){this.Init(t)};i.createSubclass(v,i),v._TARGET_SIZE=1e3,v._BUFFER_SIZE=.5,v.prototype.Init=function(t){this._targetSize=null!=t?t:v._TARGET_SIZE,this._maxSize=Math.ceil(this._targetSize*(1+v._BUFFER_SIZE)),this._cache={},this._lruArray=[],this._hits=0,this._misses=0},v.prototype.get=function(t){var e=this._cache[t];return null!=e?(this._hits++,e):(this._misses++,null)},v.prototype.put=function(t,e){var i=null!=this._cache[t];if(this._cache[t]=e,i){var n=this._lruArray.indexOf(t);this._lruArray.splice(n,1),this._lruArray.push(t)}else if(this._lruArray.push(t),this._lruArray.length>this._maxSize)for(var r=this._lruArray.splice(0,this._maxSize-this._targetSize),o=0;o<r.length;o++)delete this._cache[r[o]]},v.prototype.toString=function(){var t="Cache Size: "+this._lruArray.length;return t+="\nHits: "+this._hits,t+="\nMisses: "+this._misses,t+="\nHit %: "+Math.round(1e4*this._hits/(this._hits+this._misses))/100};const S=new Object;i.createSubclass(S,i),S.RADS_PER_DEGREE=Math.PI/180,S.DEGREES_PER_RAD=180/Math.PI,S.TWO_PI=2*Math.PI,S.HALF_PI=Math.PI/2,S.QUARTER_PI=Math.PI/4,S.TOLERANCE=.1,S.degreesToRads=function(t){return t*S.RADS_PER_DEGREE},S.radsToDegrees=function(t){return t*S.DEGREES_PER_RAD},S.interpolateNumber=function(t,e,i){return t+i*(e-t)},S.log10=function(t){return Math.log(t)/Math.LN10},S.calculateAngleBetweenTwoVectors=function(t,e,i,n){var r=Math.atan2(n,i)-Math.atan2(e,t);return r<0?r+S.TWO_PI:r};const T={};i.createSubclass(T,i),T._RED=0,T._GREEN=1,T._BLUE=2,T._ALPHA=3,T._RGBA="rgba(",T._RGB="rgb(",T._POUND="#",T._FACTOR=.15,T._names,T._CONTRASTING_TEXT_COLOR_CACHE={},T.getColorFromName=function(t){if(!T._names){var e=[];e.aliceblue="#f0f8ff",e.antiquewhite="#faEbd7",e.aqua="#00ffff",e.aquamarine="#7fffd4",e.azure="#f0ffff",e.beige="#f5f5dc",e.bisque="#ffE4c4",e.black="#000000",e.blanchedalmond="#ffEbcd",e.blue="#0000ff",e.blueviolet="#8a2bE2",e.brown="#a52a2a",e.burlywood="#dEb887",e.cadetblue="#5f9Ea0",e.chartreuse="#7fff00",e.chocolate="#d2691E",e.coral="#ff7f50",e.cornflowerblue="#6495Ed",e.cornsilk="#fff8dc",e.crimson="#dc143c",e.cyan="#00ffff",e.darkblue="#00008b",e.darkcyan="#008b8b",e.darkgoldenrod="#b8860b",e.darkgray="#a9a9a9",e.darkgreen="#006400",e.darkkhaki="#bdb76b",e.darkmagenta="#8b008b",e.darkolivegreen="#556b2f",e.darkorange="#ff8c00",e.darkorchid="#9932cc",e.darkred="#8b0000",e.darksalmon="#E9967a",e.darkseagreen="#8fbc8f",e.darkslateblue="#483d8b",e.darkslategray="#2f4f4f",e.darkturquoise="#00cEd1",e.darkviolet="#9400d3",e.deeppink="#ff1493",e.deepskyblue="#00bfff",e.dimgray="#696969",e.dodgerblue="#1E90ff",e.firebrick="#b22222",e.floralwhite="#fffaf0",e.forestgreen="#228b22",e.fuchsia="#ff00ff",e.gainsboro="#dcdcdc",e.ghostwhite="#f8f8ff",e.gold="#ffd700",e.goldenrod="#daa520",e.gray="#808080",e.green="#008000",e.greenyellow="#adff2f",e.honeydew="#f0fff0",e.hotpink="#ff69b4",e["indianred "]="#cd5c5c",e["indigo "]="#4b0082",e.ivory="#fffff0",e.khaki="#f0E68c",e.lavender="#E6E6fa",e.lavenderblush="#fff0f5",e.lawngreen="#7cfc00",e.lemonchiffon="#fffacd",e.lightblue="#add8E6",e.lightcoral="#f08080",e.lightcyan="#E0ffff",e.lightgoldenrodyellow="#fafad2",e.lightgray="#d3d3d3",e.lightgreen="#90EE90",e.lightpink="#ffb6c1",e.lightsalmon="#ffa07a",e.lightseagreen="#20b2aa",e.lightskyblue="#87cEfa",e.lightslategray="#778899",e.lightsteelblue="#b0c4dE",e.lightyellow="#ffffE0",e.lime="#00ff00",e.limegreen="#32cd32",e.linen="#faf0E6",e.magenta="#ff00ff",e.maroon="#800000",e.mediumaquamarine="#66cdaa",e.mediumblue="#0000cd",e.mediumorchid="#ba55d3",e.mediumpurple="#9370db",e.mediumseagreen="#3cb371",e.mediumslateblue="#7b68EE",e.mediumspringgreen="#00fa9a",e.mediumturquoise="#48d1cc",e.mediumvioletred="#c71585",e.midnightblue="#191970",e.mintcream="#f5fffa",e.mistyrose="#ffE4E1",e.moccasin="#ffE4b5",e.navajowhite="#ffdEad",e.navy="#000080",e.oldlace="#fdf5E6",e.olive="#808000",e.olivedrab="#6b8E23",e.orange="#ffa500",e.orangered="#ff4500",e.orchid="#da70d6",e.palegoldenrod="#EEE8aa",e.palegreen="#98fb98",e.paleturquoise="#afEEEE",e.palevioletred="#db7093",e.papayawhip="#ffEfd5",e.peachpuff="#ffdab9",e.peru="#cd853f",e.pink="#ffc0cb",e.plum="#dda0dd",e.powderblue="#b0E0E6",e.purple="#800080",e.rebeccapurple="#663399",e.red="#ff0000",e.rosybrown="#bc8f8f",e.royalblue="#4169E1",e.saddlebrown="#8b4513",e.salmon="#fa8072",e.sandybrown="#f4a460",e.seagreen="#2E8b57",e.seashell="#fff5EE",e.sienna="#a0522d",e.silver="#c0c0c0",e.skyblue="#87cEEb",e.slateblue="#6a5acd",e.slategray="#708090",e.snow="#fffafa",e.springgreen="#00ff7f",e.steelblue="#4682b4",e.tan="#d2b48c",e.teal="#008080",e.thistle="#d8bfd8",e.tomato="#ff6347",e.turquoise="#40E0d0",e.violet="#EE82EE",e.wheat="#f5dEb3",e.white="#ffffff",e.whitesmoke="#f5f5f5",e.yellow="#ffff00",e.yellowgreen="#9acd32",e.transparent="rgba(255,255,255,0)",T._names=e}return T._names[t.toLowerCase()]},T._getChannel=function(t,e){var i=e,n=null,r=T.getColorFromName(i);if(r&&(i=r),t===T._ALPHA){if("#"===i.charAt(0))return i.length>7?parseInt(i.substring(1,3),16)/255:1;if("none"===i)return 0}var o=i.indexOf("(");if(o<0)s=[],i.length>7?(s[0]=parseInt(i.substr(3,2),16),s[1]=parseInt(i.substr(5,2),16),s[2]=parseInt(i.substr(7,2),16),s[3]=parseInt(i.substr(1,2),16)/255):(s[0]=parseInt(i.substr(1,2),16),s[1]=parseInt(i.substr(3,2),16),s[2]=parseInt(i.substr(5,2),16),s[3]=1),n=s[t];else{var s=i.substring(o+1).match(/[^,|)]+/gm);n=3===s.length&&t===T._ALPHA?1:parseFloat(s[t])}return n},T.getDarker=function(t,e){var i=T.getRed(t),n=T.getGreen(t),r=T.getBlue(t),o=T.getAlpha(t);return e||(e=T._FACTOR),i=Math.max(parseInt(i*(1-e)),0),n=Math.max(parseInt(n*(1-e)),0),r=Math.max(parseInt(r*(1-e)),0),T.makeRGBA(i,n,r,o)},T.getBrighter=function(t,e){var i=T.getAlpha(t),n=T.getRed(t),r=T.getGreen(t),o=T.getBlue(t);e||(e=T._FACTOR);var s=Math.min(n+parseInt((255-n)*e),255),a=Math.min(r+parseInt((255-r)*e),255),h=Math.min(o+parseInt((255-o)*e),255);return T.makeRGBA(s,a,h,i)},T.makeRGB=function(t,e,i){return i=null===i||isNaN(i)?0:i,e=null===e||isNaN(e)?0:e,t=null===t||isNaN(t)?0:t,T._RGB+t+","+e+","+i+")"},T.makeRGBA=function(t,e,i,n){return i=null===i||isNaN(i)?0:Math.round(i),e=null===e||isNaN(e)?0:Math.round(e),t=null===t||isNaN(t)?0:Math.round(t),n=null===n||isNaN(n)?1:n,T._RGBA+t+","+e+","+i+","+n+")"},T.makePound=function(t,e,i){var n=Math.round(t),r=Math.round(e),o=Math.round(i),s=n.toString(16),a=r.toString(16),h=o.toString(16);return"#"+(1===s.length?"0":"")+s+(1===a.length?"0":"")+a+(1===h.length?"0":"")+h},T.getPound=function(t){var e;if("#"===t.charAt(0)){if(t.length<=7)return t;e=T._POUND,e+=t.substring(3,5)+t.substring(5,7)+t.substring(7,9)}else{var i=T.getRed(t),n=T.getGreen(t),r=T.getBlue(t);e=T.makePound(i,n,r)}return e},T.getRGB=function(t){var e,i=T.getColorFromName(t);if(i&&(t=i),"#"===t.charAt(0)){e=T._RGB;var n=t.length;if(n>7)e+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16);else if(7===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16);else if(4===n){var r=t.substring(1,2);r+=r;var o=t.substring(2,3);o+=o;var s=t.substring(3);s+=s,e+=parseInt(r,16)+","+parseInt(o,16)+","+parseInt(s,16)}else 5===n?e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1":3===n&&(e+=parseInt(t.substring(1,3),16)+",0,0,1");e+=")"}else if(t.substr(0,5)===T._RGBA){var a=t.lastIndexOf(",");e=T._RGB,e+=t.substring(5,a),e+=")"}else e=t;return e},T.getRGBA=function(t){var e,i=T.getColorFromName(t);if(i&&(t=i),"#"===t.charAt(0)){e=T._RGBA;var n=t.length;if(n>7)e+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16)+","+parseInt(t.substring(1,3),16)/255;else if(7===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16)+",1";else if(5===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1";else if(4===n){var r=t.substring(1,2);r+=r;var o=t.substring(2,3);o+=o;var s=t.substring(3);s+=s,e+=parseInt(r,16)+","+parseInt(o,16)+","+parseInt(s,16)+",1"}else 3===n&&(e+=parseInt(t.substring(1,3),16)+",0,0,1");e+=")"}else t.substr(0,4)===T._RGB?(e=T._RGBA,e+=t.substring(4,t.length-1)+",1)"):e=t;return e},T._setChannel=function(t,e,i){if(void 0===t||void 0===i||t<T._RED||t>T._ALPHA)return e;var n=T.getColorFromName(e);n&&(e=n);var r="#"===e.charAt(0);if(r)(h=[]).push(parseInt(e.substr(1,2),16)),h.push(parseInt(e.substr(3,2),16)),h.push(parseInt(e.substr(5,2),16)),t===T._ALPHA&&(h.push(i),r=!1,o=!0);else{var o=e.substr(0,5)===T._RGBA,s=e.indexOf("("),a=e.indexOf(")"),h=e.substring(s+1,a).split(",");o||t!==T._ALPHA||(h.push(i),o=!0)}return h[t]=i,r?T.makePound(h[0],h[1],h[2]):o?T.makeRGBA(h[0],h[1],h[2],h[3]):T.makeRGB(h[0],h[1],h[2])};["Red","Green","Blue","Alpha"].forEach(function(t){T["get"+t]=T._getChannel.bind(null,T["_"+t.toUpperCase()]),T["set"+t]=T._setChannel.bind(null,T["_"+t.toUpperCase()])}),T.rgb2hsl=function(t,e,i){t/=255,e/=255,i/=255;var n,r,o=Math.max(t,e,i),s=Math.min(t,e,i),a=o+s,h=a/2;if(o==s)n=0,r=0;else{var l=o-s;r=h>.5?l/(2-a):l/a,o==t?n=(e-i)/l+(e<i?6:0):o==e?n=(i-t)/l+2:o==i&&(n=(t-e)/l+4),n/=6}return{h:360*n,s:r,l:h}},T.hsl2rgb=function(t,e,i){var n,r,o;if(t/=360,0==e)n=r=o=i;else{var s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;n=T._hue2rgb(a,s,t+1/3),r=T._hue2rgb(a,s,t),o=T._hue2rgb(a,s,t-1/3)}return{r:255*n,g:255*r,b:255*o}},T._hue2rgb=function(t,e,i){return i<0?i+=1:i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},T.adjustHSL=function(t,e,i,n){T._hslCache||(T._hslCache=new v(100));var r=t+":"+e+":"+i+":"+n,o=T._hslCache.get(r);if(null!=o)return o;var s=T.getRed(t),a=T.getGreen(t),h=T.getBlue(t),l=T.getAlpha(t),u=T.rgb2hsl(s,a,h),c=Math.min(Math.max(0,u.h+e),360),_=Math.min(Math.max(0,u.s+i),1),p=Math.min(Math.max(0,u.l+n),1),d=T.hsl2rgb(c,_,p);return o=1==l?T.makePound(d.r,d.g,d.b):T.makeRGBA(d.r,d.g,d.b,l),T._hslCache.put(r,o),o},T.interpolateColor=function(t,e,i){var n=T.getRed(t),r=T.getGreen(t),o=T.getBlue(t),s=T.getAlpha(t),a=T.getRed(e),h=T.getGreen(e),l=T.getBlue(e),u=T.getAlpha(e),c=Math.round(S.interpolateNumber(n,a,i)),_=Math.round(S.interpolateNumber(r,h,i)),p=Math.round(S.interpolateNumber(o,l,i)),d=S.interpolateNumber(s,u,i);return T.makeRGBA(c,_,p,d)},T.getLuminance=function(t){var e=function(t){var e=t/255;return e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},i=T.getRed(t),n=T.getGreen(t),r=T.getBlue(t);return.2126*e(i)+.7152*e(n)+.0722*e(r)},T.getContrastRatio=function(t,e){return T.getContrastRatioByLuminance(T.getLuminance(t),T.getLuminance(e))},T.getContrastRatioByLuminance=function(t,e){var i=t+.05,n=e+.05;return i>n?i/n:n/i},T.getContrastingTextColor=function(t){if(!T._CONTRASTING_TEXT_COLOR_CACHE[t]){var e=T.getLuminance(t),i=T.getContrastRatioByLuminance(e,1)>T.getContrastRatioByLuminance(e,0)?"#FFFFFF":"#000000";T._CONTRASTING_TEXT_COLOR_CACHE[t]=i}return T._CONTRASTING_TEXT_COLOR_CACHE[t]},T.fixColorForPlatform=function(t,e){if(!t)return null;"#"==t.charAt(0)&&t.length>8&&(t=T.getRGBA(t));var i={};return i.color=t,null!=e&&(i.alpha=e),i};const E={};i.createSubclass(E,i),E.lineLinear=function(t){return t.join("L")},E.lineCardinalClosed=function(t,e){return t.length<3?E.lineLinear(t):t[0]+E.lineHermite((t.push(t[0]),t),E.lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))},E.lineCardinal=function(t,e){return t.length<3?E.lineLinear(t):t[0]+E.lineHermite(t,E.lineCardinalTangents(t,e))},E.lineHermite=function(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return E.lineLinear(t);var i=t.length!=e.length,n="",r=t[0],o=t[1],s=e[0],a=s,h=1;if(i&&(n+="Q"+Math.round(o[0]-2*s[0]/3)+","+Math.round(o[1]-2*s[1]/3)+","+Math.round(o[0])+","+Math.round(o[1]),r=t[1],h=2),e.length>1){a=e[1],o=t[h],h++,n+="C"+Math.round(r[0]+s[0])+","+Math.round(r[1]+s[1])+","+Math.round(o[0]-a[0])+","+Math.round(o[1]-a[1])+","+Math.round(o[0])+","+Math.round(o[1]);for(var l=2;l<e.length;l++,h++)o=t[h],a=e[l],n+="S"+Math.round(o[0]-a[0])+","+Math.round(o[1]-a[1])+","+Math.round(o[0])+","+Math.round(o[1])}if(i){var u=t[h];n+="Q"+Math.round(o[0]+2*a[0]/3)+","+Math.round(o[1]+2*a[1]/3)+","+Math.round(u[0])+","+Math.round(u[1])}return n},E.lineCardinalTangents=function(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],s=t[1],a=1,h=t.length;++a<h;)i=o,o=s,s=t[a],n.push([r*(s[0]-i[0]),r*(s[1]-i[1])]);return n},E.lineSlope=function(t,e){return(e[1]-t[1])/(e[0]-t[0])},E.lineFiniteDifferences=function(t){for(var e=0,i=t.length-1,n=[],r=t[0],o=t[1],s=n[0]=E.lineSlope(r,o);++e<i;)n[e]=(s+(s=E.lineSlope(r=o,o=t[e+1])))/2;return n[e]=s,n},E.lineMonotoneTangents=function(t,e){e&&(t=E._rotatePoints(t));for(var i,n,r,o,s=[],a=E.lineFiniteDifferences(t),h=-1,l=t.length-1;++h<l;)i=E.lineSlope(t[h],t[h+1]),Math.abs(i)<1e-6?a[h]=a[h+1]=0:(o=(n=a[h]/i)*n+(r=a[h+1]/i)*r)>9&&(o=3*i/Math.sqrt(o),a[h]=o*n,a[h+1]=o*r);for(h=-1;++h<=l;)o=(t[Math.min(l,h+1)][0]-t[Math.max(0,h-1)][0])/(6*(1+a[h]*a[h])),s.push([o||0,a[h]*o||0]);return e&&(s=E._rotatePoints(s)),s},E.lineMonotone=function(t,e){return t.length<3?E.lineLinear(t):t[0]+E.lineHermite(t,E.lineMonotoneTangents(t,e))},E._rotatePoints=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i][1],t[i][0]]);return e};const m=function(t,e,i,n){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e,this.w=null===i||isNaN(i)?0:i,this.h=null===n||isNaN(n)?0:n};i.createSubclass(m,i),m.create=function(t){return new m(t[0],t[1],t[2],t[3])},m.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h},m.prototype.getCenter=function(){return new n(this.x+this.w/2,this.y+this.h/2)},m.prototype.getUnion=function(t){var e=new m;if(t&&0!==t.w&&0!==t.h)if(0!==this.w&&0!==this.h){var i=this.x+this.w,n=this.y+this.h,r=t.x+t.w,o=t.y+t.h,s=Math.min(this.x,t.x),a=Math.min(this.y,t.y);e.w=i<r?r-s:i-s,e.h=n>o?n-a:o-a,e.x=s,e.y=a}else e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h;else e.x=this.x,e.y=this.y,e.w=this.w,e.h=this.h;return e},m.prototype.getIntersection=function(t){var e=new m;if(!t||0===t.w||0===t.h)return null;if(0===this.w||0===this.h)return null;var i=this.x+this.w,n=this.y+this.h,r=t.x+t.w,o=t.y+t.h,s=Math.max(this.x,t.x),a=Math.max(this.y,t.y);return s>=i||s>=r||a>=n||a>=o?null:(e.w=i<r?i-s:r-s,e.h=n>o?o-a:n-a,e.x=s,e.y=a,e)},m.prototype.intersects=function(t){if(t&&0!==t.w&&0!==t.h&&0!==this.w&&0!==this.h){var e=this.x+this.w,i=this.y+this.h,n=t.x+t.w,r=t.y+t.h;return!(t.x>e||n<this.x||t.y>i||r<this.y)}return!1},m.prototype.clone=function(){return new m(this.x,this.y,this.w,this.h)},m.prototype.equals=function(t){return t instanceof m&&this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h},m.prototype.toString=function(){return this.x+", "+this.y+", "+this.w+", "+this.h};const b={};i.createSubclass(b,i),b.SPLINE_TYPE_MONOTONE_VERTICAL="mv",b.SPLINE_TYPE_MONOTONE_HORIZONTAL="mh",b.SPLINE_TYPE_CARDINAL_CLOSED="cc",b.SPLINE_TYPE_CARDINAL="c",b.moveTo=function(t,e){return"M"+t+","+e},b.lineTo=function(t,e){return"L"+t+","+e},b.quadTo=function(t,e,i,n){return"Q"+t+","+e+","+i+","+n},b.horizontalLineTo=function(t){return"H"+t},b.verticalLineTo=function(t){return"V"+t},b.cubicTo=function(t,e,i,n,r,o){return"C"+t+","+e+","+i+","+n+","+r+","+o},b.arcTo=function(t,e,i,n,r,o){var s="A"+t+","+e+",0,";return i>Math.PI?s+="1,":s+="0,",s+=n+","+r+","+o},b.closePath=function(){return"Z"},b.roundedRectangle=function(t,e,i,n,r,o,s,a){return b._roundedRectangle(t,e,i,n,r,r,o,o,s,s,a,a)},b.rectangleWithBorderRadius=function(t,e,i,n,r,o,s){var a=s,h=s,l=s,u=s,c=s,_=s,p=s,d=s;if(r)if(-1!=r.indexOf("/")){var g=r.split("/"),f=g[0].trim().split(/\s+/),y=g[1].trim().split(/\s+/);1==f.length?a=l=c=p=f[0]:2==f.length?(a=c=f[0],l=p=f[1]):3==f.length?(a=f[0],l=p=f[1],c=f[2]):4==f.length&&(a=f[0],l=f[1],c=f[2],p=f[3]),1==y.length?h=u=_=d=y[0]:2==y.length?(h=_=y[0],u=d=y[1]):3==y.length?(h=y[0],u=d=y[1],_=y[2]):4==y.length&&(h=y[0],u=y[1],_=y[2],d=y[3])}else if("auto"!=r){var v=r.trim().split(/\s+/);1==v.length?a=l=c=p=h=u=_=d=v[0]:2==v.length?(a=c=h=_=v[0],l=p=u=d=v[1]):3==v.length?(a=h=v[0],l=p=u=d=v[1],c=_=v[2]):4==v.length&&(a=h=v[0],l=u=v[1],c=_=v[2],p=d=v[3])}return r&&"0"!=r?b._roundedRectangle(t,e,i,n,b._parseBorderRadiusItem(a,o),b._parseBorderRadiusItem(h,o),b._parseBorderRadiusItem(l,o),b._parseBorderRadiusItem(u,o),b._parseBorderRadiusItem(c,o),b._parseBorderRadiusItem(_,o),b._parseBorderRadiusItem(p,o),b._parseBorderRadiusItem(d,o)):b._rectangle(t,e,i,n)},b._parseBorderRadiusItem=function(t,e){var i=Math.min(parseFloat(t),e/2);return-1!=t.indexOf("%")&&(i=.01*Math.min(50,parseFloat(t))*e),i},b._roundedRectangle=function(t,e,i,n,r,o,s,a,h,l,u,c){return o=Math.min(o,.5*n),a=Math.min(a,.5*n),l=Math.min(l,.5*n),c=Math.min(c,.5*n),r=Math.min(r,.5*i),s=Math.min(s,.5*i),h=Math.min(h,.5*i),u=Math.min(u,.5*i),b.moveTo(t+r,e)+b.lineTo(t+i-s,e)+b.arcTo(s,a,Math.PI/2,1,t+i,e+a)+b.lineTo(t+i,e+n-l)+b.arcTo(h,l,Math.PI/2,1,t+i-h,e+n)+b.lineTo(t+u,e+n)+b.arcTo(u,c,Math.PI/2,1,t,e+n-c)+b.lineTo(t,e+o)+b.arcTo(r,o,Math.PI/2,1,t+r,e)+b.closePath()},b.polyline=function(t,e){if(t.length<2)return"";for(var i=e?b.lineTo(t[0],t[1]):b.moveTo(t[0],t[1]),n=2;n<t.length;n+=2)i+=b.lineTo(t[n],t[n+1]);return i},b.curveThroughPoints=function(t,e,i){if(0==t.length)return"";for(var n=[],r=0;r<t.length;r+=2)n.push([t[r],t[r+1]]);var o=e?"L":"M";return i==b.SPLINE_TYPE_MONOTONE_VERTICAL?o+E.lineMonotone(n,!1):i==b.SPLINE_TYPE_MONOTONE_HORIZONTAL?o+E.lineMonotone(n,!0):i==b.SPLINE_TYPE_CARDINAL_CLOSED?o+E.lineCardinalClosed(n,.7):o+E.lineCardinal(n,.7)},b.createPathArray=function(t){if(!t)return null;var e,i=(t=t.replace(/([0-9])([\-])/g,"$1 $2")).replace(/([mlqhvzcast])/gi,",$1,").split(/[ ,]/g),n=i.length;for(e=0;e<n;e++){var r=i[e];r?isNaN(r)||(i[e]=parseFloat(r)):(i.splice(e,1),e--,n--)}return i},b.getDimensions=function(t){if(!t||!t.length)return new m;var e,i,n,r,o,s,a,h,l,u,c,_,p=t.length,d=!0,g=Number.MAX_VALUE,f=-1*Number.MAX_VALUE,y=Number.MAX_VALUE,v=-1*Number.MAX_VALUE,S=[];for(u=0;u<p;u++){n=!1;var T=0;switch(c=0,t[u]){case"m":n=!0;case"M":do{r=t[u+1],o=t[u+2],d?d=!1:n&&(r+=e,o+=i),e=r,i=o,S[c++]=r,S[c++]=o,T++,u+=2}while(!isNaN(t[u+1]));break;case"c":n=!0;case"C":do{r=t[u+1],o=t[u+2],s=t[u+3],a=t[u+4],h=t[u+5],l=t[u+6],n&&(r+=e,o+=i,s+=e,a+=i,h+=e,l+=i),e=h,i=l,S[c++]=h,S[c++]=l,T++,u+=6}while(!isNaN(t[u+1]));break;case"q":n=!0;case"Q":do{r=t[u+1],o=t[u+2],s=t[u+3],a=t[u+4],n&&(r+=e,o+=i,s+=e,a+=i),e=s,i=a,S[c++]=s,S[c++]=a,T++,u+=4}while(!isNaN(t[u+1]));break;case"l":n=!0;case"L":do{r=t[u+1],o=t[u+2],n&&(r+=e,o+=i),e=r,i=o,S[c++]=r,S[c++]=o,T++,u+=2}while(!isNaN(t[u+1]));break;case"h":n=!0;case"H":do{r=t[u+1],n&&(r+=e),e=r,S[c++]=r,S[c++]=i,T++,u+=1}while(!isNaN(t[u+1]));break;case"v":n=!0;case"V":do{o=t[u+1],n&&(o+=i),i=o,S[c++]=e,S[c++]=o,T++,u+=1}while(!isNaN(t[u+1]));break;case"a":n=!0;case"A":do{var E=t[u+1],C=t[u+2],A=t[u+3],O=t[u+4],I=t[u+5],N=t[u+6],R=t[u+7];n&&(N+=e,R+=i);var D=b._getArcDims(e,i,E,C,A,O,I,N,R);S[c++]=D[0],S[c++]=D[1],S[c++]=D[2],S[c++]=D[3],T+=2,e=N,i=R,u+=7}while(!isNaN(t[u+1]))}for(c=0,_=0;_<T;_++)r=S[c++],o=S[c++],g=Math.min(g,r),f=Math.max(f,r),y=Math.min(y,o),v=Math.max(v,o)}return new m(g,y,Math.abs(f-g),Math.abs(v-y))},b.getPathString=function(t){for(var e="",i=t.length,n=0;n<i;n++)null!=t[n]&&(e+=(n>0?" ":"")+t[n]);return e},b.transformPath=function(t,e,i,n,r){if(t){for(var o,s="",a="",h=0;h<t.length;h++){"string"==typeof t[h]&&(o=(a=t[h])===a.toUpperCase(),s+=a+" ");for(var l=[];h<t.length-1&&"number"==typeof t[h+1];)h++,l.push(t[h]);if("A"===a.toUpperCase())for(var u=0;u<l.length;u+=7)s+=parseFloat(l[u])*n+" ",s+=parseFloat(l[u+1])*r+" ",s+=l[u+2]+" ",s+=l[u+3]+" ",s+=l[u+4]+" ",s+=parseFloat(l[u+5])*n+(o?e:0)+" ",s+=parseFloat(l[u+6])*r+(o?i:0)+" ";else{var c=[],_=[];"H"===a.toUpperCase()?(c.push(n),_.push(o?e:0)):"V"===a.toUpperCase()?(c.push(r),_.push(o?i:0)):(c.push(n),c.push(r),_.push(o?e:0),_.push(o?i:0));for(u=0;u<l.length;u++){var p=c[u%c.length],d=_[u%_.length];s+=parseFloat(l[u])*p+d+" "}}}return s}},b._fitsInScale=function(t,e,i){return Math.abs(t)>i||Math.abs(e)>i},b.simplifyPath=function(t,e){for(var i,n,r="",o="",s=0,a=0,h=0,l=0,u=0,c=0;c<t.length;c++)if(isNaN(t[c]))"Z"!=(i=t[c])&&"z"!=i||(n=i,o+=i,u>0&&(r+=o,h=0,l=0),o="",u=0,s=0,a=0);else switch(i){case"M":h=0,l=0;case"m":o=o+i+(h+=t[c])+" "+(l+=t[c+1]),n=i,c++;break;case"l":s+=t[c],a+=t[c+1],b._fitsInScale(s,a,e)&&(n!=i?(n=i,o+=i):o+=" ",o=o+s+" "+a,s=0,a=0,u++),c++;break;case"h":case"v":"h"==i?s+=t[c]:a+=t[c],b._fitsInScale(s,a,e)&&(0!=s&&0!=a?("l"!=n?(n="l",o+="l"):o+=" ",o=o+s+" "+a):(n=i,o=o+i+("h"==i?s:a)),s=0,a=0,u++)}return r},b._rectangle=function(t,e,i,n){return b.moveTo(t,e)+b.horizontalLineTo(t+i)+b.verticalLineTo(e+n)+b.horizontalLineTo(t)+b.closePath()},b._getArcDims=function(t,e,i,r,o,s,a,h,l){let u=b._convertArc(t,e,i,r,o,s,a,h,l);i=u[2],r=u[3];const c=new n(t,e),_=new n(h,l),p=new n(u[0],u[1]),d=[new n(p.x+i,p.y),new n(p.x,p.y+r),new n(p.x-i,p.y),new n(p.x,p.y-r)];let g=[c,_];const f=b._getClockwiseAngle(c,_),y=0===a?[f,f+Math.PI]:[f+Math.PI,f+2*Math.PI];d.forEach(t=>{var e=b._getClockwiseAngle(c,t);(e>=y[0]&&e<=y[1]||e+2*Math.PI>=y[0]&&e+2*Math.PI<=y[1])&&g.push(t)});const v=g.map(t=>t.x),S=g.map(t=>t.y);return[Math.min(...v),Math.min(...S),Math.max(...v),Math.max(...S)]},b._getClockwiseAngle=function(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x);return i=i<0?i+2*Math.PI:i},b._convertArc=function(t,e,i,n,r,o,s,a,h){var l=(t-a)/2,u=(e-h)/2,c=(r=Math.PI*(r%360)/180,Math.cos(r)),_=Math.sin(r),p=c*l+_*u,d=-_*l+c*u,g=(i=Math.abs(i))*i,f=(n=Math.abs(n))*n,y=p*p,v=d*d,S=y/g+v/f;S>1&&(g=(i=Math.sqrt(S)*i)*i,f=(n=Math.sqrt(S)*n)*n);var T=o==s?-1:1,E=(g*f-g*v-f*y)/(g*v+f*y);E=E<0?0:E;var m,b,C=T*Math.sqrt(E),A=C*(i*d/n),O=C*(-n*p/i),I=(t+a)/2+(c*A-_*O),N=(e+h)/2+(_*A+c*O),R=(p-A)/i,D=(d-O)/n,x=(-p-A)/i,M=(-d-O)/n;b=Math.sqrt(R*R+D*D),m=R;var w=(T=D<0?-1:1)*Math.acos(m/b)*180/Math.PI;b=Math.sqrt((R*R+D*D)*(x*x+M*M)),m=R*x+D*M;var L=(T=R*M-D*x<0?-1:1)*Math.acos(m/b)*180/Math.PI;return!s&&L>0?L-=360:s&&L<0&&(L+=360),[I,N,i,n,w%=360,L%=360,r]};const C=function(){};i.createSubclass(C,i),C._SM_WIDTH=8,C._SM_HEIGHT=8,C._LG_WIDTH=16,C._LG_HEIGHT=16,C.createElem=function(t,e){var i=document.createElementNS(u.SVG_NS,"pattern");u.setAttrNullNS(i,"id",e);var n,r,o=t.getPattern();C.IsSmallPattern(o)?(n=C._SM_WIDTH,r=C._SM_HEIGHT):(n=C._LG_WIDTH,r=C._LG_HEIGHT),u.setAttrNullNS(i,"x",0),u.setAttrNullNS(i,"y",0),u.setAttrNullNS(i,"width",n),u.setAttrNullNS(i,"height",r),u.setAttrNullNS(i,"patternUnits","userSpaceOnUse");var s=t.getMatrix();if(s){var a="matrix("+s.getA()+","+s.getC()+","+s.getB()+","+s.getD()+","+s.getTx()+","+s.getTy()+")";u.setAttrNullNS(i,"patternTransform",a)}return C.CreatePatternElems(t,i),i},C.IsSmallPattern=function(t){return"s"===t.charAt(0)},C.CreatePatternElems=function(t,e){var i,n,r,o,s,a,h,l=t.getPattern(),c=t.getColor(),_=T.getRGB(c),p=T.getAlpha(c),d=t.getBackgroundColor(),g=T.getRGB(d),f=T.getAlpha(d);C.IsSmallPattern(l)?(i=C._SM_WIDTH,n=C._SM_HEIGHT,r=C._SM_WIDTH,o=C._SM_HEIGHT):(i=C._LG_WIDTH,n=C._LG_HEIGHT,r=C._LG_WIDTH,o=C._LG_HEIGHT),g&&f>0&&(h=document.createElementNS(u.SVG_NS,"rect"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,"stroke-opacity",f),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"fill",g),u.setAttrNullNS(h,"fill-opacity",f),u.setAttrNullNS(h,"x",0),u.setAttrNullNS(h,"y",0),u.setAttrNullNS(h,"width",i),u.setAttrNullNS(h,"height",n),u.appendChildElem(e,h)),l===y.SM_DIAG_UP_LT||l===y.LG_DIAG_UP_LT?(h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",_),u.setAttrNullNS(h,"stroke-opacity",p),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"stroke-linecap","square"),u.setAttrNullNS(h,"d",b.moveTo(0,-o/2)+b.lineTo(3*r/2,o)+b.moveTo(-r/2,0)+b.lineTo(r/2,o)),u.appendChildElem(e,h)):l===y.SM_DIAG_UP_RT||l===y.LG_DIAG_UP_RT?(h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",_),u.setAttrNullNS(h,"stroke-opacity",p),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"stroke-linecap","square"),u.setAttrNullNS(h,"d",b.moveTo(-r/2,o)+b.lineTo(r,-o/2)+b.moveTo(0,3*o/2)+b.lineTo(3*r/2,0)),u.appendChildElem(e,h)):l===y.SM_CROSSHATCH||l===y.LG_CROSSHATCH?(h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",_),u.setAttrNullNS(h,"stroke-opacity",p),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"d","M0,0L"+i+","+n+"M"+i+",0L0,"+n),u.appendChildElem(e,h)):l===y.SM_CHECK||l===y.LG_CHECK?(s=r/2,a=o/2,h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",_),u.setAttrNullNS(h,"stroke-opacity",p),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"fill",_),u.setAttrNullNS(h,"fill-opacity",p),u.setAttrNullNS(h,"d","M"+s+",0L"+r+",0L"+r+","+a+"L"+s+","+a+"ZM0,"+a+"L"+s+","+a+"L"+s+","+o+"L0,"+o+"Z"),u.appendChildElem(e,h)):l===y.SM_TRIANGLE_CHECK||l===y.LG_TRIANGLE_CHECK?(h=document.createElementNS(u.SVG_NS,"polygon"),u.setAttrNullNS(h,"stroke",_),u.setAttrNullNS(h,"stroke-opacity",p),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"fill",_),u.setAttrNullNS(h,"fill-opacity",p),u.setAttrNullNS(h,"points","0,"+n+" "+i+",0 "+i+","+n),u.appendChildElem(e,h)):l!==y.SM_DIAMOND_CHECK&&l!==y.LG_DIAMOND_CHECK||(s=r/2,a=o/2,h=document.createElementNS(u.SVG_NS,"polygon"),u.setAttrNullNS(h,"stroke",_),u.setAttrNullNS(h,"stroke-opacity",p),u.setAttrNullNS(h,"stroke-width",1),u.setAttrNullNS(h,"fill",_),u.setAttrNullNS(h,"fill-opacity",p),u.setAttrNullNS(h,"points","0,"+a+" "+s+",0 "+i+","+s+" "+s+","+n),u.appendChildElem(e,h))};const A=function(){};i.createSubclass(A,i),A._uniqueSeed=0,A.addClipPath=function(t,e){var i=t.getId();if(!i)return!1;var n=e.getDefs();if(!n)return!1;for(var r=n.childNodes,o=r.length,s=0;s<o;s++){if(r[s].id===i)return!0}var a=A.createElement("clipPath",i);e.appendDefs(a);var h=t.getRegions();for(s=0;s<h.length;s++){var l=h[s];if(l){var c=null;l.type===p.RECT?(c=A.createElement("rect"),u.setAttrNullNS(c,"x",l.x),u.setAttrNullNS(c,"y",l.y),u.setAttrNullNS(c,"width",l.w),u.setAttrNullNS(c,"height",l.h),l.rx&&u.setAttrNullNS(c,"rx",l.rx),l.ry&&u.setAttrNullNS(c,"ry",l.ry)):l.type===p.PATH?(c=A.createElement("path"),u.setAttrNullNS(c,"d",l.d)):l.type===p.POLYGON?(c=A.createElement("polygon"),u.setAttrNullNS(c,"points",l.points)):l.type===p.ELLIPSE?(c=A.createElement("ellipse"),u.setAttrNullNS(c,"cx",l.cx),u.setAttrNullNS(c,"cy",l.cy),u.setAttrNullNS(c,"rx",l.rx),u.setAttrNullNS(c,"ry",l.ry)):l.type===p.CIRCLE&&(c=A.createElement("circle"),u.setAttrNullNS(c,"cx",l.cx),u.setAttrNullNS(c,"cy",l.cy),u.setAttrNullNS(c,"r",l.r)),c&&u.appendChildElem(a,c)}}return!0},A.addMask=function(t,e){var i=t.getId();if(!i)return!1;var n=e.getDefs();if(!n)return!1;for(var r=n.childNodes,o=r.length,s=0;s<o;s++){if(r[s].id===i)return!0}var a=A.createElement("mask",i);e.appendDefs(a);var h=t.getGradient(),l=A.addSpecialFill(h,e),c=t.getBounds(),_=A.createElement("rect");return u.setAttrNullNS(_,"x",c.x),u.setAttrNullNS(_,"y",c.y),u.setAttrNullNS(_,"width",c.w),u.setAttrNullNS(_,"height",c.h),u.setAttrNullNS(_,"fill",u.getUrlById(l)),u.appendChildElem(a,_),!0},A.addSpecialFill=function(t,e){if(!t._defPresent){var i=t._defElem;i||(t instanceof g?(t._id=A.getUniqueId("Gr"),i=f.createElem(t,t._id)):t instanceof y&&(t._id=A.getUniqueId("pat"),i=C.createElem(t,t._id))),t._defElem=i,e.appendDefs(i),t._defPresent=!0}return t._id},A.createElement=function(t,e){var i=document.createElementNS(u.SVG_NS,t);return e&&u.setAttrNullNS(i,"id",e),i},A.getUniqueId=function(t){return(t||"$")+A._uniqueSeed++},A.convertPointsArray=function(t){for(var e=t.length,i="",n=0;n<e;n++)n>0&&(i+=" "),i+=t[n];return i};const O={ARIA_LABEL_STATE_DELIMITER:", ",ARIA_LABEL_DESC_DELIMITER:". ",processAriaLabel:function(t){var e=t;return e&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;")).replace(/&lt;b&gt;/g,"")).replace(/&lt;\/b&gt;/g,"")).replace(/&lt;i&gt;/g,"")).replace(/&lt;\/i&gt;/g,"")).replace(/\n/g,"; ")).replace(/&#92;n/g,"; ")).replace(/&lt;br&gt;/g,"; ")).replace(/&lt;br\/&gt;/g,"; ")),e}},I=function(){this.Init()};i.createSubclass(I,i),I.prototype.Init=function(){this._regionPctRect=new m(-10,-10,120,120),this._counter=0},I.prototype.getRegionPctRect=function(){return this._regionPctRect},I.prototype.createResultId=function(t){return t||(t="filtRes"),t+this._counter++};const N=function(t,e,i,n){this.__type="shadow",this._dx=t,this._dy=e,this._stdDeviation=i,this._floodColor=n,this._Id="ds"+N._uniqueId++};i.createSubclass(N,i),N._uniqueId=1;const R=function(){};i.createSubclass(R,i),R.RADS_PER_DEGREE=Math.PI/180,R.createFilterPrimitives=function(t,e,i,n){var o=e._dx,s=e._dy,a=e._stdDeviation,h=e._floodColor,l=i.getDimensions(i.getParent());if(l){var c=2*a,_=c,p=c,d=c,g=c;(_-=o)<0&&(_=0),(d-=s)<0&&(d=0),(p+=o)<0&&(p=0),(g+=s)<0&&(g=0);var f=_/l.w*100,y=p/l.w*100,v=d/l.h*100,S=g/l.h*100;n.getRegionPctRect().x>-f&&(n.getRegionPctRect().x=-f),n.getRegionPctRect().y>-v&&(n.getRegionPctRect().y=-v),n.getRegionPctRect().w<100+f+y&&(n.getRegionPctRect().w=100+f+y),n.getRegionPctRect().h<100+v+S&&(n.getRegionPctRect().h=100+v+S)}if(i.requiresStrokeAdjustmentForShadow()){var T=i.getStroke().getWidth();T>1&&(n.getRegionPctRect().h=n.getRegionPctRect().h+T,n.getRegionPctRect().y=n.getRegionPctRect().y-T)}if("ie"!==r.browser&&"edge"!==r.browser){var E=A.createElement("feDropShadow");u.setAttrNullNS(E,"dx",o),u.setAttrNullNS(E,"dy",s),u.setAttrNullNS(E,"stdDeviation",a),u.setAttrNullNS(E,"flood-color",h),u.appendChildElem(t,E)}else{var m=A.createElement("feGaussianBlur");u.setAttrNullNS(m,"stdDeviation",a);var b=A.createElement("feOffset"),C=n.createResultId("offset");u.setAttrNullNS(b,"dx",o),u.setAttrNullNS(b,"dy",s),u.setAttrNullNS(b,"result",C);var O=A.createElement("feFlood"),I=h.split(/[\(,\)]/);6===I.length?(u.setAttrNullNS(O,"flood-color",`${I[0].substr(0,3)}(${I[1]},${I[2]},${I[3]})`),u.setAttrNullNS(O,"flood-opacity",I[4])):u.setAttrNullNS(O,"flood-color",h);var N=A.createElement("feComposite");u.setAttrNullNS(N,"in2",C),u.setAttrNullNS(N,"operator","in");var R=A.createElement("feMerge"),D=A.createElement("feMergeNode"),x=A.createElement("feMergeNode");u.setAttrNullNS(x,"in","SourceGraphic"),u.appendChildElem(R,D),u.appendChildElem(R,x),u.appendChildElem(t,m),u.appendChildElem(t,b),u.appendChildElem(t,O),u.appendChildElem(t,N),u.appendChildElem(t,R)}};const D=function(){};i.createSubclass(D,i),D._counter=0,D.createFilter=function(t,e){for(var i=A.createElement("filter",D.CreateFilterId()),n=new I,r=0;r<t.length;r++){var o=t[r];o&&D.CreateFilterPrimitives(i,o,e,n)}var s=!1;if(e){var a=e.getElem().getBBox();if(a){var h=a.width,l=a.height;if(0==l||0==h){var c;e.getStroke&&(c=e.getStroke());var _=10;c&&(_=c.getWidth());var p=a.x,d=a.y;0==l&&(l=2*_,d-=_),0==h&&(h=2*_,p-=_),u.setAttrNullNS(i,"x",p),u.setAttrNullNS(i,"y",d),u.setAttrNullNS(i,"width",h),u.setAttrNullNS(i,"height",l),u.setAttrNullNS(i,"filterUnits","userSpaceOnUse"),s=!0}}}return s||(-10!=n.getRegionPctRect().x&&"Infinity"!=n.getRegionPctRect().x&&"-Infinity"!=n.getRegionPctRect().x&&u.setAttrNullNS(i,"x",n.getRegionPctRect().x+"%"),-10!=n.getRegionPctRect().y&&"Infinity"!=n.getRegionPctRect().y&&"-Infinity"!=n.getRegionPctRect().y&&u.setAttrNullNS(i,"y",n.getRegionPctRect().y+"%"),120!=n.getRegionPctRect().w&&"Infinity"!=n.getRegionPctRect().w&&"-Infinity"!=n.getRegionPctRect().w&&u.setAttrNullNS(i,"width",n.getRegionPctRect().w+"%"),120!=n.getRegionPctRect().h&&"Infinity"!=n.getRegionPctRect().h&&"-Infinity"!=n.getRegionPctRect().h&&u.setAttrNullNS(i,"height",n.getRegionPctRect().h+"%")),i},D.CreateFilterPrimitives=function(t,e,i,n){return e instanceof N&&R.createFilterPrimitives(t,e,i,n),null},D.CreateFilterId=function(){return"filt"+D._counter++};const x={addDrawEffect:function(t){this._drawEffects||(this._drawEffects=[]),this._drawEffects.push(t),this._applyDrawEffects()},removeAllDrawEffects:function(){this._drawEffects&&(this._drawEffects=null,this._applyDrawEffects(this._drawEffects))},_applyDrawEffects:function(){var t=this._drawEffects;if(this._filter&&(u.removeAttrNullNS(this.getOuterElem(),"filter"),this.getCtx().removeDefs(this._filter),this._filter=null),!this._outerElem&&this._matrix&&this._createOuterGroupElem(),t&&t.length>0&&(this._filter=D.createFilter(t,this),this._filter)){this.getCtx().appendDefs(this._filter);var e=u.getAttrNullNS(this._filter,"id");u.setAttrNullNS(this.getOuterElem(),"filter",u.getUrlById(e))}},requiresStrokeAdjustmentForShadow:function(){return!1}},M=function(){};i.createSubclass(M,i),M.prototype.Init=function(t){this.type=t.type,this.target=M.FindDisplayable(t.target),this._isPropagationStopped=!1,this._event=t},M.prototype.getNativeEvent=function(){return this._event},M.prototype.preventDefault=function(){this._event.cancelable&&this._event.preventDefault()},M.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation(),this._event.cancelBubble=!0,this._event.cancel=!0,this._event.returnValue=!1,this._isPropagationStopped=!0},M.prototype.isPropagationStopped=function(){return this._isPropagationStopped},M.FindDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null};const w=function(t){this.Init(t)};i.createSubclass(w,i),w.prototype.Init=function(t){this.clientX=t.clientX,this.clientY=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,this.pageX=t.pageX,this.pageY=t.pageY,this.target=t.target,this.identifier=null==t.identifier||isNaN(t.identifier)?1:t.identifier};const L=function(t){this.Init(t)};i.createSubclass(L,M),L.TOUCHSTART="touchstart",L.TOUCHMOVE="touchmove",L.TOUCHEND="touchend",L.TOUCHCANCEL="touchcancel",L.prototype.Init=function(t){L.superclass.Init.call(this,t),t.type==L.TOUCHCANCEL&&(this.type=L.TOUCHEND),this.touches=L.createTouchArray(t.touches),this.targetTouches=L.createTouchArray(t.targetTouches),this.changedTouches=L.createTouchArray(t.changedTouches),this._touchManager=null},L.prototype.blockTouchHold=function(){this.getNativeEvent()._touchHoldBlocked=!0},L.prototype.isInitialTouch=function(){return this.touches.length-this.changedTouches.length==0},L.prototype.isTouchHoldBlocked=function(){return!!this.getNativeEvent()._touchHoldBlocked},L.createTouchArray=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],r=new w(n);e.push(r)}return e},L.prototype.stopPropagation=function(){L.superclass.stopPropagation.call(this),this._touchManager&&this._touchManager.postEventBubble(this)},L.prototype.setTouchManager=function(t){this._touchManager=t};const P=function(t){this.Init(t)};i.createSubclass(P,M),P.KEYDOWN="keydown",P.KEYUP="keyup",P.KEYPRESS="keypress",P.TAB=9,P.ENTER=13,P.SHIFT=16,P.CONTROL=17,P.ESCAPE=27,P.SPACE=32,P.PAGE_UP=33,P.PAGE_DOWN=34,P.UP_ARROW=38,P.DOWN_ARROW=40,P.LEFT_ARROW=37,P.RIGHT_ARROW=39,P.OPEN_BRACKET=219,P.CLOSE_BRACKET=221,P.ZERO=48,P.NUMPAD_ZERO=96,P.NUMPAD_PLUS=107,P.NUMPAD_MINUS=109,P.WEBKIT_PLUS=187,P.WEBKIT_MINUS=189,P.GECKO_PLUS=61,P.GECKO_MINUS=173,P.M=77,P.OPEN_ANGLED_BRACKET=188,P.CLOSE_ANGLED_BRACKET=190,P.prototype.Init=function(t){P.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,this.charCode=t.charCode,this.keyCode=t.keyCode,this.location=t.location,this.ctrlKey=t.ctrlKey||t.metaKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.repeat=t.repeat,this.locale=t.locale},P.isPlus=function(t){var e=t.keyCode;return e==P.NUMPAD_PLUS||("firefox"===r.browser?!(e!=P.GECKO_PLUS||!t.shiftKey):!(e!=P.WEBKIT_PLUS||!t.shiftKey))},P.isEquals=function(t){var e=t.keyCode;return"firefox"===r.browser?e==P.GECKO_PLUS&&!t.shiftKey:e==P.WEBKIT_PLUS&&!t.shiftKey},P.isMinus=function(t){var e=t.keyCode;return e==P.NUMPAD_MINUS||("firefox"===r.browser?e==P.GECKO_MINUS&&!t.shiftKey:e==P.WEBKIT_MINUS&&!t.shiftKey)},P.isUnderscore=function(t){var e=t.keyCode;return"firefox"===r.browser?!(e!=P.GECKO_MINUS||!t.shiftKey):!(e!=P.WEBKIT_MINUS||!t.shiftKey)};const H=function(t){this.Init(t)};i.createSubclass(H,M),H.FOCUS="focus",H.FOCUSIN="focusin",H.FOCUSOUT="focusout",H.BLUR="blur",H.prototype.Init=function(t){H.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,null!=t.relatedTarget&&(this.relatedTarget=M.FindDisplayable(t.relatedTarget))};const F=function(t){this.Init(t)};i.createSubclass(F,M),F.CLICK="click",F.DBLCLICK="dblclick",F.MOUSEOVER="mouseover",F.MOUSEOUT="mouseout",F.MOUSEDOWN="mousedown",F.MOUSEUP="mouseup",F.MOUSEMOVE="mousemove",F.MOUSEWHEEL="wheel",F.RIGHT_CLICK_BUTTON=2,F.prototype.Init=function(t){F.superclass.Init.call(this,t),null!=t.relatedTarget&&(this.relatedTarget=M.FindDisplayable(t.relatedTarget)),this.button=t.button,this.ctrlKey=t.ctrlKey||t.metaKey,this.shiftKey=t.shiftKey,this.pageX=t.pageX,this.pageY=t.pageY,this._isEventModifiedForIE=!1,null!=t.wheelDeltaY?this.wheelDelta=t.wheelDeltaY/40:null!=t.deltaY?(this.deltaMode=t.deltaMode,this.deltaY=t.deltaY,t.deltaMode==t.DOM_DELTA_LINE?this.wheelDelta=-t.deltaY:t.deltaMode==t.DOM_DELTA_PIXEL&&(this.wheelDelta=-t.deltaY/15)):null!=t.wheelDelta?this.wheelDelta=t.wheelDelta/40:this.wheelDelta=t.detail},F.prototype.modifyEventForIE=function(t,e){this._isEventModifiedForIE||(this.type=t,this.relatedTarget=this.target,this.target=M.FindDisplayable(e),this._isEventModifiedForIE=!0)};const k=new Object;i.createSubclass(k,i),k.newEvent=function(t,e){var i=t.type;return i==L.TOUCHSTART||i==L.TOUCHMOVE||i==L.TOUCHEND||i==L.TOUCHCANCEL?new L(t):i==P.KEYDOWN||i==P.KEYUP||i==P.KEYPRESS?new P(t):(e._nativeEvent!=t&&(e._nativeEvent=t,e._logicalEvent=i==H.FOCUS||i==H.FOCUSIN||i==H.FOCUSOUT||i==H.BLUR?new H(t):new F(t)),e._logicalEvent)};const G=function(){};i.createSubclass(G,i),G.getListener=function(t){return t?G._captureListener:G._bubbleListener},G._bubbleListener=function(t){G._commonListener.call(this,t,!1)},G._captureListener=function(t){G._commonListener.call(this,t,!0)},G._commonListener=function(t,e){var i;if(this._currentObj){if("focus"==t.type)return void(this._focusEvent=t);var n=this._currentObj.getCtx();this._focusEvent&&(n.resetCurrentKeyboardFocus(t),i=k.newEvent(this._focusEvent,n),this._currentObj.FireListener(i,e),this._focusEvent=null),i=k.newEvent(t,n),this._currentObj.FireListener(i,e)}else if(Array.isArray(this._keyboardListeners))for(var r,o=this._keyboardListeners.length,s=0;s<o;s++)r=this._keyboardListeners[s],i=k.newEvent(t,r.getCtx()),r.FireListener(i,e)};const B={addEvtListener:function(t,e,i,n){var r=u.getUseCaptureFromOptions(i),o=this._getListeners(t,r,!0);o.push(e),o.push(n),this._addListener(t,i)},removeEvtListener:function(t,e,i,n){var r=u.getUseCaptureFromOptions(i),o=this._getListeners(t,r,!1);if(o)for(var s=0;s<o.length;s+=2)if(o[s]===e&&o[s+1]===n){o.splice(s,2);break}o&&o.length<=0&&this._removeListener(t,i)},AddElemListener:function(t,e,i){u.addDomEventListener(this.getElem(),t,e,i),t==L.TOUCHEND&&u.addDomEventListener(this.getElem(),L.TOUCHCANCEL,e,i)},FireListener:function(t,e){var i=this._getListeners(t.type,e,!1);if(i)for(var n=0;n<i.length;n+=2){var r=i[n+1];i[n]&&i[n].call(r,t)}},fireKeyboardListener:function(t,e){this.FireListener(t,e)},_getListeners:function(t,e,i){if(!this._listenerObj){if(!i)return null;this._listenerObj={}}var n=t+"_"+!!e,r=this._listenerObj[n];return!r&&i&&(r=[],this._listenerObj[n]=r),r},_addListener:function(t,e){var i=u.getUseCaptureFromOptions(e),n=this._getListener(i);if(t==P.KEYUP||t==P.KEYDOWN||t==P.KEYPRESS||t==H.FOCUS||t==H.FOCUSIN||t==H.FOCUSOUT||t==H.BLUR){var r=this.getCtx().getStage().getSVGRoot().parentNode;if(!r)return;r._keyboardListeners||(r._keyboardListeners=[]),-1==r._keyboardListeners.indexOf(this)&&r._keyboardListeners.push(this),n=G.getListener(i),u.addDomEventListener(r,t,n,e)}else this.AddElemListener(t,n,e)},_removeListener:function(t,e){var i=u.getUseCaptureFromOptions(e),n=this._getListener(i);if(t==P.KEYUP||t==P.KEYDOWN||t==P.KEYPRESS||t==H.FOCUS||t==H.FOCUSIN||t==H.FOCUSOUT||t==H.BLUR){var r=this.getCtx().getStage().getSVGRoot().parentNode;u.removeDomEventListener(r,t,n,e);var o=r._keyboardListeners.indexOf(this);-1!==o&&r._keyboardListeners.splice(o,1)}else u.removeDomEventListener(this.getElem(),t,n,e)},_getListener:function(t){var e=this;return t?(this._captureClosure||(this._captureClosure=function(t){e._captureListener(t)}),this._captureClosure):(this._bubbleClosure||(this._bubbleClosure=function(t){e._bubbleListener(t)}),this._bubbleClosure)},_shouldIgnoreEvent:function(t,e){var i=e?this._captureHoverItem:this._bubbleHoverItem;if(i){if(t.type===F.MOUSEOVER)return i===t.target;if(t.type===F.MOUSEOUT)return i===t.relatedTarget}return!1},_fireMissedEvent:function(t,e){if(t.type===F.MOUSEOVER||F.MOUSEOUT){var i=e?this._captureHoverItem:this._bubbleHoverItem;if(i&&i!==t.target){var n=k.newEvent(t,this.getCtx());n.modifyEventForIE(F.MOUSEOUT,i),this.FireListener(n,e)}}},_bubbleListener:function(t){if("ie"===r.browser||"edge"===r.browser){if(this._shouldIgnoreEvent(t,!1))return;this._fireMissedEvent(t,!1),t.type==F.MOUSEOVER?this._bubbleHoverItem=t.target:t.type==F.MOUSEOUT&&(this._bubbleHoverItem=null)}var e=k.newEvent(t,this.getCtx());this.FireListener(e,!1)},_captureListener:function(t){if("ie"===r.browser||"edge"===r.browser){if(this._shouldIgnoreEvent(t,!0))return;this._fireMissedEvent(t,!0),t.type==F.MOUSEOVER?this._captureHoverItem=t.target:t.type==F.MOUSEOUT&&(this._captureHoverItem=null)}var e=k.newEvent(t,this.getCtx());this.FireListener(e,!0)}},U=function(t){this.Init(t)};i.createSubclass(U,i),U.LINEAR=0,U.RADIAL=1,U.prototype.Init=function(t){this._type=t},U.prototype.getAlphas=function(){return this._arAlphas},U.prototype.setAlphas=function(t){this._arAlphas=t},U.prototype.getColors=function(){return this._arColors},U.prototype.setColors=function(t){this._arColors=t},U.prototype.getRatios=function(){return this._arRatios},U.prototype.setRatios=function(t){this._arRatios=t};const Y=function(){this.Init()};i.createSubclass(Y,U),Y.LEFT=0,Y.BOTTOM_LEFT=45,Y.BOTTOM=90,Y.BOTTOM_RIGHT=135,Y.RIGHT=180,Y.TOP_RIGHT=225,Y.TOP=270,Y.TOP_LEFT=315,Y.prototype.Init=function(){Y.superclass.Init.call(this,U.LINEAR)},Y.prototype.getAngle=function(){return this._angle},Y.prototype.setAngle=function(t){this._angle=t};const W={parseLeadingColor:function(t,e){var i,n=t.trim(),r=n.length,o=-1;if(!n)return n;if(0==n.indexOf("rgb"))o=n.indexOf(")")+1,i=n.slice(0,o);else{-1==(o=n.indexOf(" "))&&(o=r);var s=n.slice(0,o);(i=T.getColorFromName(s))||(i=W.parseHexColor(s))}return i&&(e.push(i),n=n.slice(o)),n},parseHexColor:function(t){return t?"#"!==t.charAt(0)||isNaN("0x"+t.substring(1))?"#000000":t:null}},V=function(){};i.createSubclass(V,i),V.GD_LINEAR="linear-gradient",V.GD_TOP="top",V.GD_BOTTOM="bottom",V.GD_LEFT="left",V.GD_RIGHT="right",V.GD_TO="to",V.parseCSSGradient=function(t){return null!=t&&(t=t.trim(),V._startsWith(t,V.GD_LINEAR))?(t=V._removeParenthesis(t,V.GD_LINEAR),V._parseLinearGradient(t)):null},V._parseLinearGradient=function(t){var e=new RegExp("(-?(?:\\d*\\.)?\\d+)"),i=new RegExp("(deg|rad|grad|turn)"),n=new RegExp("(left|right)"),r=new RegExp("(top|bottom)"),o=new RegExp("(?:(to)\\s+)"),s=new RegExp("(?:"+e.source+i.source+")"),a=new RegExp("(?:"+n.source+"(?:\\s+"+r.source+")?)"),h=new RegExp("(?:"+r.source+"(?:\\s+"+n.source+")?)"),l=new RegExp("(?:"+a.source+"|"+h.source+")"),u=new RegExp("(?:"+s.source+"|(?:"+o.source+"?"+l.source+"))"),c=new RegExp("(?:\\s*"+u.source+"\\s*,\\s*)","i"),_=t.match(c);if(null==_||0==_.length)return null;_.length;var p=new Y,d=_[5]==V.GD_TOP||_[6]==V.GD_TOP,g=_[5]==V.GD_BOTTOM||_[6]==V.GD_BOTTOM,f=_[4]==V.GD_LEFT||_[7]==V.GD_LEFT,y=_[4]==V.GD_RIGHT||_[7]==V.GD_RIGHT;if(_[3]==V.GD_TO&&((d||g)&&(d=!d,g=!g),(f||y)&&(f=!f,y=!y)),d)f?p.setAngle(Y.TOP_LEFT):y?p.setAngle(Y.TOP_RIGHT):p.setAngle(Y.TOP);else if(g)f?p.setAngle(Y.BOTTOM_LEFT):y?p.setAngle(Y.BOTTOM_RIGHT):p.setAngle(Y.BOTTOM);else if(f)p.setAngle(Y.LEFT);else if(y)p.setAngle(Y.RIGHT);else if(_[2]){s=parseFloat(_[1]);isNaN(s)||("grad"==_[2]?s=s/200*180:"rad"==_[2]?s=s/Math.PI*180:"turn"==_[2]&&(s=s/.5*180),p.setAngle(s))}return t=t.substring(_[0].length),V._parseCSSColorStops(t,p),p},V._parseCSSColorStops=function(t,e){var i=t.match(/(#[0-9a-f]+|rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)|rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?)(\.\d+)?\s*\)|[a-z]+)(\s+\d+\.?\d*%)?/gi);null!=i&&i.length>0&&V._parseColorStops(i,e)},V._parseColorStops=function(t,e){for(var i,n,r,o=t.length,s=[],a=[],h=[],l=!0,u=[],c=0;c<t.length;c++)r=W.parseLeadingColor(t[c],u),i=u.pop(),a[c]=i,s[c]=T.getAlpha(i),(r=r.trim()).length>0&&(n=parseFloat(r),isNaN(n)||r.endsWith("%")&&(h[c]=n/100,l=!1));if(o>1&&l)for(var _=0;_<o;_++)h[_]=_/(o-1);else l&&(h[0]=0);e.setColors(a),e.setAlphas(s),e.setRatios(h)},V._removeParenthesis=function(t,e){return")"!=t.charAt(t.length-1)?null:(t=t.substring(e.length),V.removeQuotes(t,"(",")"))},V.removeQuotes=function(t,e,i){if((t=t.trim()).charAt(0)!=e)return t;null==i&&(i=e);var n=t.lastIndexOf(i);return n<0?t.substring(1):t.substring(1,n)},V._startsWith=function(t,e){return 0==t.indexOf(e)};const j=function(t){this.Init(t)};i.createSubclass(j,i),j.DEFAULT_FONT_SIZE="12px",j.SKIN_ALTA="alta",j.BACKGROUND="background",j.BACKGROUND_COLOR="background-color",j.BACKGROUND_IMAGE="background-image",j.BACKGROUND_REPEAT="background-repeat",j.BACKGROUND_POSITION="background-position",j.BORDER="border",j.BORDER_TOP="border-top",j.BORDER_BOTTOM="border-bottom",j.BORDER_LEFT="border-left",j.BORDER_RIGHT="border-right",j.BORDER_WIDTH="border-width",j.BORDER_TOP_WIDTH="border-top-width",j.BORDER_BOTTOM_WIDTH="border-bottom-width",j.BORDER_LEFT_WIDTH="border-left-width",j.BORDER_RIGHT_WIDTH="border-right-width",j.BORDER_COLOR="border-color",j.BORDER_TOP_COLOR="border-top-color",j.BORDER_BOTTOM_COLOR="border-bottom-color",j.BORDER_LEFT_COLOR="border-left-color",j.BORDER_RIGHT_COLOR="border-right-color",j.BORDER_STYLE="border-style",j.BORDER_RADIUS="border-radius",j.BORDER_TOP_LEFT_RADIUS="border-top-left-radius",j.BORDER_TOP_RIGHT_RADIUS="border-top-right-radius",j.BORDER_BOTTOM_RIGHT_RADIUS="border-bottom-right-radius",j.BORDER_BOTTOM_LEFT_RADIUS="border-bottom-left-radius",j.MARGIN="margin",j.MARGIN_TOP="margin-top",j.MARGIN_BOTTOM="margin-bottom",j.MARGIN_LEFT="margin-left",j.MARGIN_RIGHT="margin-right",j.PADDING="padding",j.PADDING_TOP="padding-top",j.PADDING_BOTTOM="padding-bottom",j.PADDING_LEFT="padding-left",j.PADDING_RIGHT="padding-right",j.COLOR="color",j.FONT_FAMILY="font-family",j.FONT_SIZE="font-size",j.FONT_STYLE="font-style",j.FONT_WEIGHT="font-weight",j.TEXT_DECORATION="text-decoration",j.TEXT_ALIGN="text-align",j.HEIGHT="height",j.WIDTH="width",j.MAX_WIDTH="max-width",j.NO_REPEAT="no-repeat",j.REPEAT="repeat",j.REPEAT_X="repeat-x",j.REPEAT_Y="repeat-y",j.AUTO="auto",j.AUTO_MARGIN="8",j.WHITE_SPACE="white-space",j._NAMED_FONT_SIZE_MAP={"xx-small":"9","x-small":"10",small:"13",medium:"16",large:"18","x-large":"24","xx-large":"32"},j._NAMED_WIDTH_MAP={thin:"2",medium:"4",thick:"6"},j._numericAttrsList=[j.MAX_WIDTH,j.WIDTH,j.HEIGHT,j.BORDER_WIDTH,j.BORDER_TOP_WIDTH,j.BORDER_BOTTOM_WIDTH,j.BORDER_LEFT_WIDTH,j.BORDER_RIGHT_WIDTH,j.MARGIN,j.MARGIN_TOP,j.MARGIN_BOTTOM,j.MARGIN_LEFT,j.MARGIN_RIGHT,j.PADDING,j.PADDING_TOP,j.PADDING_BOTTOM,j.PADDING_LEFT,j.PADDING_RIGHT],j._DOUBLE_QUOTE='"',j._SINGLE_QUOTE="'",j.COLORS_ALTA=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],j.prototype.Init=function(t){this._styleMap={},this.parseInlineStyle(t)},j.prototype.parseInlineStyle=function(t){if(t){var e=this;if(t instanceof Object)for(var i in t){var n=t[i];i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.setStyle(i,n)}else j._parseStyleString(t,function(t,i){e.setStyle(t,i)})}},j.prototype.setStyle=function(t,e){if(null==e)this._setStyleAttr(t,e);else switch(t){case"background-repeat":this._setBackgroundRepeat(t,e);break;case"color":case"background-color":case"border-top-color":case"border-bottom-color":case"border-left-color":case"border-right-color":this._setColorAttr(t,e);break;case"border-top":case"border-bottom":case"border-left":case"border-right":this._setBorderSide(t,e);break;case"border":this._setBorderShorthand(t,e);break;case"border-color":this._setBorderColorShorthand(t,e);break;case"border-width":this._setBorderWidthShorthand(t,e);break;case"border-radius":this._setBorderRadius(t,e);break;case"padding":this._setPaddingShorthand(t,e);break;case"margin":this._setMarginShorthand(t,e);break;case"font-size":this.setFontSize(t,e);break;case"background-image":var i=V.parseCSSGradient(e);i&&(e=i),this._setStyleAttr(t,e);break;default:this._setStyleAttr(t,e)}return this},j.prototype.getStyle=function(t){return this._styleMap[t]},j.prototype._setStyleAttr=function(t,e){return null!=e?this._styleMap[t]=e:delete this._styleMap[t],this},j.prototype.setFontSize=function(t,e,i){var n=e.trim(),r=j._NAMED_FONT_SIZE_MAP[n];if(r)this._setStyleAttr(t,String(r)+"px");else{var o=i?i.getDefaultFontSize():j.DEFAULT_FONT_SIZE;this._setStyleAttr(t,isNaN(parseFloat(n))?o:n)}},j.prototype._setBorderWidthShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,j._getBorderWidth(i[0])),this._setStyleAttr(j.BORDER_TOP_WIDTH,null),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,null),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,null),this._setStyleAttr(j.BORDER_LEFT_WIDTH,null);break;case 2:n=j._getBorderWidth(i[0]),this._setStyleAttr(j.BORDER_TOP_WIDTH,n),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,n),n=j._getBorderWidth(i[1]),this._setStyleAttr(j.BORDER_LEFT_WIDTH,n),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,n);break;case 3:this._setStyleAttr(j.BORDER_TOP_WIDTH,j._getBorderWidth(i[0])),n=j._getBorderWidth(i[1]),this._setStyleAttr(j.BORDER_LEFT_WIDTH,n),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,n),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,j._getBorderWidth(i[2]));break;case 4:this._setStyleAttr(j.BORDER_TOP_WIDTH,j._getBorderWidth(i[0])),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,j._getBorderWidth(i[1])),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,j._getBorderWidth(i[2])),this._setStyleAttr(j.BORDER_LEFT_WIDTH,j._getBorderWidth(i[3]))}},j._getBorderWidth=function(t){var e=t.trim(),i=j._NAMED_WIDTH_MAP[e];return i||(i=isNaN(parseFloat(e))?"0px":e),i},j.prototype._setBorderSide=function(t,e){for(var i,n=e.split(" "),r=null,o=!1,s=0;s<n.length;s++)if(i=t,0==(r=n[s]).indexOf("rgb")){for(var a=s+1;a<n.length&&(r+=n[a],s++,-1==n[a].indexOf(")"));a++);t.endsWith("-"+j.COLOR)||(i=t+"-"+j.COLOR),this._setStyleAttr(i,r)}else j._isColorValue(r)?(t.endsWith("-"+j.COLOR)||(i=t+"-"+j.COLOR),this._setStyleAttr(i,W.parseHexColor(r))):j._isBorderWidthValue(r)?(t.endsWith("-"+j.WIDTH)||(i=t+"-"+j.WIDTH),this._setStyleAttr(i,r)):"none"==e&&(o=!0);o&&this._setStyleAttr(t+"-"+j.WIDTH,"0")},j.prototype.getMargin=function(t){return this._getSideWidth(t,j.MARGIN)},j.prototype.getPadding=function(t){return this._getSideWidth(t,j.PADDING)},j.prototype.getBorderWidth=function(){var t=this.getStyle(j.BORDER_WIDTH);return t||(t=this.getStyle(j.BORDER_TOP_WIDTH))||(t=this.getStyle(j.BORDER_RIGHT_WIDTH))||(t=this.getStyle(j.BORDER_BOTTOM_WIDTH))||(t=this.getStyle(j.BORDER_LEFT_WIDTH))?j.toNumber(t):0},j.prototype.getMaxWidth=function(){return this.getStyle(j.MAX_WIDTH)},j.prototype.getWidth=function(){return this.getStyle(j.WIDTH)},j.prototype.getHeight=function(){return this.getStyle(j.HEIGHT)},j.toNumber=function(t){return t?(t=parseFloat(t),isNaN(t)?0:t):0},j.prototype._setBorderColorShorthand=function(t,e){var i,n=j._parseBorderColorString(t,e);switch(n.length){case 1:this._setStyleAttr(t,n[0]),this._setStyleAttr(j.BORDER_TOP_COLOR,null),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,null),this._setStyleAttr(j.BORDER_RIGHT_COLOR,null),this._setStyleAttr(j.BORDER_LEFT_COLOR,null);break;case 2:i=n[0],this._setStyleAttr(j.BORDER_TOP_COLOR,i),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,i),i=n[1],this._setStyleAttr(j.BORDER_LEFT_COLOR,i),this._setStyleAttr(j.BORDER_RIGHT_COLOR,i);break;case 3:this._setStyleAttr(j.BORDER_TOP_COLOR,n[0]),i=n[1],this._setStyleAttr(j.BORDER_LEFT_COLOR,i),this._setStyleAttr(j.BORDER_RIGHT_COLOR,i),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,n[2]);break;case 4:this._setStyleAttr(j.BORDER_TOP_COLOR,n[0]),this._setStyleAttr(j.BORDER_RIGHT_COLOR,n[1]),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,n[2]),this._setStyleAttr(j.BORDER_LEFT_COLOR,n[3])}},j.prototype._setPaddingShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,this._getPercent(i[0])),this._setStyleAttr(j.PADDING_TOP,null),this._setStyleAttr(j.PADDING_BOTTOM,null),this._setStyleAttr(j.PADDING_RIGHT,null),this._setStyleAttr(j.PADDING_LEFT,null);break;case 2:n=this._getPercent(i[0]),this._setStyleAttr(j.PADDING_TOP,n),this._setStyleAttr(j.PADDING_BOTTOM,n),n=this._getPercent(i[1]),this._setStyleAttr(j.PADDING_LEFT,n),this._setStyleAttr(j.PADDING_RIGHT,n);break;case 3:this._setStyleAttr(j.PADDING_TOP,this._getPercent(i[0])),n=this._getPercent(i[1]),this._setStyleAttr(j.PADDING_LEFT,n),this._setStyleAttr(j.PADDING_RIGHT,n),this._setStyleAttr(j.PADDING_BOTTOM,this._getPercent(i[2]));break;case 4:this._setStyleAttr(j.PADDING_TOP,this._getPercent(i[0])),this._setStyleAttr(j.PADDING_RIGHT,this._getPercent(i[1])),this._setStyleAttr(j.PADDING_BOTTOM,this._getPercent(i[2])),this._setStyleAttr(j.PADDING_LEFT,this._getPercent(i[3]))}},j.prototype._setMarginShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,this._getMargin(i[0])),this._setStyleAttr(j.MARGIN_TOP,null),this._setStyleAttr(j.MARGIN_BOTTOM,null),this._setStyleAttr(j.MARGIN_RIGHT,null),this._setStyleAttr(j.MARGIN_LEFT,null);break;case 2:n=this._getMargin(i[0]),this._setStyleAttr(j.MARGIN_TOP,n),this._setStyleAttr(j.MARGIN_BOTTOM,n),n=this._getMargin(i[1]),this._setStyleAttr(j.MARGIN_LEFT,n),this._setStyleAttr(j.MARGIN_RIGHT,n);break;case 3:this._setStyleAttr(j.MARGIN_TOP,this._getMargin(i[0])),n=this._getMargin(i[1]),this._setStyleAttr(j.MARGIN_LEFT,n),this._setStyleAttr(j.MARGIN_RIGHT,n),this._setStyleAttr(j.MARGIN_BOTTOM,this._getMargin(i[2]));break;case 4:this._setStyleAttr(j.MARGIN_TOP,this._getMargin(i[0])),this._setStyleAttr(j.MARGIN_RIGHT,this._getMargin(i[1])),this._setStyleAttr(j.MARGIN_BOTTOM,this._getMargin(i[2])),this._setStyleAttr(j.MARGIN_LEFT,this._getMargin(i[3]))}},j.prototype._getMargin=function(t){var e=t.trim();return j.AUTO==e?j.AUTO_MARGIN:this._getPercent(e)},j.prototype._getPercent=function(t){return t.trim()},j.prototype._setBorderShorthand=function(t,e){for(var i=e.split(" "),n=null,r=!1,o=0;o<i.length;o++)if(0==(n=i[o]).indexOf("rgb")){for(var s=o+1;s<i.length&&(n+=i[s],o++,-1==i[s].indexOf(")"));s++);this._setBorderColorShorthand(j.BORDER_COLOR,n)}else j._isColorValue(n)?this._setBorderColorShorthand(j.BORDER_COLOR,n):j._isBorderWidthValue(n)?this._setBorderWidthShorthand(j.BORDER_WIDTH,n):"none"==e&&(r=!0);r&&this._setBorderWidthShorthand(j.BORDER_WIDTH,"0")},j._getBorderRadius=function(t){var e=t.trim();return isNaN(parseFloat(e))?"0px":e},j.prototype._setBorderRadius=function(t,e){var i=e.split("/");if(null!=i[0]){var n=i[0].trim().split(" ");switch(n.length){case 1:default:this._setStyleAttr(t,j._getBorderRadius(n[0])),this._setStyleAttr(j.BORDER_TOP_LEFT_RADIUS,null),this._setStyleAttr(j.BORDER_TOP_RIGHT_RADIUS,null),this._setStyleAttr(j.BORDER_BOTTOM_RIGHT_RADIUS,null),this._setStyleAttr(j.BORDER_BOTTOM_LEFT_RADIUS,null)}if(2==i.length&&null!=i[1]){var r=i[1].trim().split(" ");switch(r.length){case 1:this.getStyle(t)?this._setStyleAttr(t,this.getStyle(t)+" "+j._getBorderRadius(r[0])):this._setStyleAttr(t,j._getBorderRadius(r[0]))}}}else this._setStyleAttr(t,"0px")},j.prototype.getBorderRadius=function(){return"undefined"!==this.getStyle(j.BORDER_RADIUS)&&null!==this.getStyle(j.BORDER_RADIUS)?j.toNumber(this.getStyle(j.BORDER_RADIUS)):0},j.prototype._setBackgroundRepeat=function(t,e){var i=e.split(" ");2==i.length&&(i[0]==i[1]?e=i[0]:i[0]==j.REPEAT&&i[1]==j.NO_REPEAT&&(e=j.REPEAT_X),i[0]==j.NO_REPEAT&&i[1]==j.REPEAT&&(e=j.REPEAT_Y)),this._setStyleAttr(t,e)},j.prototype._setColorAttr=function(t,e){var i=T.getColorFromName(e);i?this._setStyleAttr(t,i):j._isColorValue(e)&&this._setStyleAttr(t,e)},j.prototype.clone=function(){var t=new j;for(var e in this._styleMap)t._setStyleAttr(e,this.getStyle(e));return t},j.prototype.merge=function(t){if(t)for(var e in t._styleMap)this._setStyleAttr(e,t.getStyle(e));return this},j.prototype.mergeUnder=function(t){if(t)for(var e in t._styleMap)this.getStyle(e)||this._setStyleAttr(e,t.getStyle(e));return this},j.prototype.toString=function(){var t="";for(var e in this._styleMap)t+=e+":"+this.getStyle(e)+"; ";return t},j.prototype.hasBackgroundStyles=function(){return!!(this.getStyle(j.BORDER_COLOR)||this.getStyle(j.BORDER_WIDTH)||this.getStyle(j.BORDER_RADIUS)||this.getStyle(j.BACKGROUND_COLOR))},j._isColorValue=function(t){return 0==(t=t.trim()).indexOf("rgb")||0==t.indexOf("#")||!!T.getColorFromName(t)},j._isBorderWidthValue=function(t){var e=t.trim();return!!j._NAMED_WIDTH_MAP[e]||!isNaN(parseFloat(e))},j._parseBorderColorString=function(t,e){e=e.trim();for(var i=[];null!=e&&e.length>0;)e=W.parseLeadingColor(e,i);return i},j.prototype._getSideWidth=function(t,e){var i=this.getStyle(t);return i||(i=this.getStyle(e)),j.toNumber(i)},j.prototype.getFontSize=function(){return this.getStyle(j.FONT_SIZE)},j.mergeStyles=function(t){var e=new j;if(t)for(var i=0;i<t.length;i++)e.merge(t[i]);return e},j.prototype.isEmpty=function(){for(var t in this._styleMap)return!1;return!0},j.prototype.hashCodeForTextMeasurement=function(){for(var t="",e=j.getTextMeasurementProperties(),i=0;i<e.length;i++){var n=this.getStyle(e[i]);n&&(t+=n)}return t},j.getTextMeasurementProperties=function(){return[j.FONT_FAMILY,j.FONT_SIZE,j.FONT_STYLE,j.FONT_WEIGHT]},j.cssObjectToString=function(t){var e="";return t&&JSON.parse(JSON.stringify(t),function(t,i){t&&(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e+=t+":"+i+";")}),e},j.cssStringToObject=function(t){var e={};return j._parseStyleString(t,function(t,i){t=j.cssStringToObjectProperty(t),e[t]=i}),e},j.cssStringToObjectProperty=function(t){return t&&(t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),t},j._parseStyleString=function(t,e){if(t&&t.length>0)for(var i=t.split(";"),n=0;n<i.length;n++){var r=i[n];if(r&&r.length>0){var o=r.indexOf(":");if(o>-1){var s=r.substring(0,o).trim(),a=r.substring(o+1).trim();s&&s.length>0&&a&&a.length>0&&(s==j.BACKGROUND_IMAGE&&a.indexOf("data:image/")>=0&&(a=a+";"+i[n+1],n++),e(s,a))}}}},j.getTimeMilliseconds=function(t){return"string"==typeof t&&(t="ms"==t.slice(-2)?parseInt(t.slice(0,-2)):"s"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1)):parseInt(t)),t},j.prototype.applyStylesToElement=function(t){j.applyCssObjectToElement(this._styleMap,t)},j.applyCssObjectToElement=function(t,e){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];e.style[j.cssStringToObjectProperty(r)]=t[r]}};const K=function(t,e){this._fc=t,this._fa=null!=e?e:1};i.createSubclass(K,i),K.prototype.getColor=function(){return this._fc},K.prototype.getAlpha=function(){return this._fa},K.invisibleFill=function(){return K._INVISIBLE_FILL||(K._INVISIBLE_FILL=new K("rgba(0,0,0,0)")),K._INVISIBLE_FILL},K.prototype.equals=function(t){return t instanceof K&&t.getColor()==this.getColor()&&t.getAlpha()==this.getAlpha()};const z=function(t,e,i,n,r,o){this._color=t,this._alpha=null!=e?e:1,this._width=null===i||isNaN(i)?1:i,this._fixedWidth=n||!1,this._dashProps=r,this._lineProps=o};i.createSubclass(z,i),z.prototype.getLineProps=function(){return this._lineProps},z.prototype.getDashProps=function(){return this._dashProps},z.prototype.getAlpha=function(){return this._alpha},z.prototype.getColor=function(){return this._color},z.prototype.getWidth=function(){return this._width},z.prototype.isFixedWidth=function(){return this._fixedWidth},z.getDefaultDashProps=function(t,e){return"solid"===t?null:(e=Math.ceil(e),"dashed"==t?{dashArray:""+Math.max(6,2*e)}:"dotted"==t?{dashArray:""+Math.max(2,e)}:null)};const X={getFill:function(){return this.GetProperty("fill")},setFill:function(t){if(this._manageDefinitions(this.GetProperty("fill"),t),!t)return u.setAttrNullNS(this._elem,"fill","none"),u.removeAttrNullNS(this._elem,"fill-opacity"),void this.SetProperty("fill",null);if(this.GetProperty("fill")!==t){if(this.SetProperty("fill",t),t instanceof g||t instanceof y){var e=A.addSpecialFill(t,this.getCtx());u.setAttrNullNS(this._elem,"fill",u.getUrlById(e))}else{var i=T.fixColorForPlatform(t.getColor(),t.getAlpha());i&&i.color&&(u.setAttrNullNS(this._elem,"fill",i.color),null!=i.alpha&&u.setAttrNullNS(this._elem,"fill-opacity",i.alpha,1))}this.UpdateSelectionEffect()}},getClassName:function(){return this._className},setClassName:function(t){return this._className&&!t?u.removeAttrNullNS(this._elem,"class"):t&&u.setAttrNullNS(this._elem,"class",t),this._className=t,this},addClassName:function(t){u.addClassName(this._elem,t),this._className=u.getAttrNullNS(this._elem,"class")},removeClassName:function(t){u.removeClassName(this._elem,t),this._className=u.getAttrNullNS(this._elem,"class")},getStyle:function(){return this._style},setStyle:function(t){return this._style&&u.removeAttrNullNS(this._elem,"style"),t&&j.applyCssObjectToElement(t,this._elem),this._style=t,this},setSolidFill:function(t,e){this.setFill(new K(t,e))},setInvisibleFill:function(){this.setFill(K.invisibleFill())},getStroke:function(){return this._stroke},setStroke:function(t){if(this._manageDefinitions(this._stroke,t),this._stroke=t,!t)return u.removeAttrNullNS(this._elem,"stroke"),u.removeAttrNullNS(this._elem,"stroke-opacity"),u.removeAttrNullNS(this._elem,"stroke-width"),u.removeAttrNullNS(this._elem,"stroke-dasharray"),u.removeAttrNullNS(this._elem,"stroke-dashoffset"),u.removeAttrNullNS(this._elem,"stroke-linejoin"),u.removeAttrNullNS(this._elem,"stroke-linecap"),void u.removeAttrNullNS(this._elem,"stroke-miterlimit");var e=T.fixColorForPlatform(t.getColor(),t.getAlpha());e&&e.color?(u.setAttrNullNS(this._elem,"stroke",e.color),null!=e.alpha&&u.setAttrNullNS(this._elem,"stroke-opacity",e.alpha,1)):(u.removeAttrNullNS(this._elem,"stroke"),u.removeAttrNullNS(this._elem,"stroke-opacity")),u.setAttrNullNS(this._elem,"stroke-width",t.getWidth(),1),t.isFixedWidth()&&u.setAttrNullNS(this._elem,"vector-effect","non-scaling-stroke");var i=t.getDashProps();i&&i.dashArray?u.setAttrNullNS(this._elem,"stroke-dasharray",i.dashArray):u.removeAttrNullNS(this._elem,"stroke-dasharray"),i&&i.dashOffset?u.setAttrNullNS(this._elem,"stroke-dashoffset",i.dashOffset):u.removeAttrNullNS(this._elem,"stroke-dashoffset");var n=t.getLineProps();n&&n.lineJoin?u.setAttrNullNS(this._elem,"stroke-linejoin",n.lineJoin):u.removeAttrNullNS(this._elem,"stroke-linejoin"),n&&n.lineCap?u.setAttrNullNS(this._elem,"stroke-linecap",n.lineCap):u.removeAttrNullNS(this._elem,"stroke-linecap"),n&&n.miterLimit?u.setAttrNullNS(this._elem,"stroke-miterlimit",n.miterLimit):u.removeAttrNullNS(this._elem,"stroke-miterlimit")},setSolidStroke:function(t,e,i){this.setStroke(new z(t,e,i))},_manageDefinitions:function(t,e){t!=e&&(t&&(t._referenceCount--,0==t._referenceCount&&t._defElem&&(this.getCtx().removeDefs(t._defElem),t._defPresent=!1)),e&&(e._referenceCount||(e._referenceCount=0),e._referenceCount++))}},q=function(){};i.createSubclass(q,i),q.ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"],q.getDimensionsForced=function(t,e){var i,n=e.getParent();n&&(i=n.getChildIndex(e));var r=t.getStage();r.addChild(e);var o=e.getDimensions();return r.removeChild(e),n&&n.addChildAt(e,i),o},q.getDimForced=function(t,e){if(e._dim||!t)return e._dim;var i=q.getDimensionsForced(t,e);return q._setDimForced(e,i),i},q._setDimForced=function(t,e){t._dim=e},q.hasAttributes=function(t,e){if(e)for(var i=e.length,n=0;n<i;n++)if(u.getAttrNullNS(t,e[n]))return!0;return!1};const Z={setTranslate:function(t,e){this._modifyMatrix(null,null,t,e)},getTranslateX:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_TX]:0},setTranslateX:function(t){this._modifyMatrix(null,null,t)},getTranslateY:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_TY]:0},setTranslateY:function(t){this._modifyMatrix(null,null,null,t)},setScale:function(t,e){this._modifyMatrix(t,e)},getScaleX:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_SX]:1},setScaleX:function(t){this._modifyMatrix(t)},getScaleY:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_SY]:1},setScaleY:function(t){this._modifyMatrix(null,t)},getRotation:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_R]:0},setRotation:function(t){this._modifyMatrix(null,null,null,null,t)},getMatrix:function(){return this._matrix?this._matrix:new l},setMatrix:function(t){if(t&&t.isIdentity()&&(t=null),this._matrix!=t)if(this._matrix=t,!this._outerElem&&q.hasAttributes(this.getElem(),q.ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),this._matrix=t,t){var e="matrix("+t.getA()+","+t.getC()+","+t.getB()+","+t.getD()+","+t.getTx()+","+t.getTy()+")";u.setAttrNullNS(this.getElem(),"transform",e,"matrix(1,0,0,1,0,0)")}else{u.getAttrNullNS(this.getElem(),"transform")&&(u.removeAttrNullNS(this.getElem(),"transform"),"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(this.getElem(),"transform",null))}},_modifyMatrix:function(t,e,i,n,r){var o=this.getMatrix()._decompose(),s=o[l._DECOMP_SX],a=o[l._DECOMP_SY],h=o[l._DECOMP_TX],u=o[l._DECOMP_TY],c=o[l._DECOMP_R],_=!1;if(null!=t&&s!=t&&(o[l._DECOMP_SX]=t,_=!0),null!=e&&a!=e&&(o[l._DECOMP_SY]=e,_=!0),null!=i&&h!=i&&(o[l._DECOMP_TX]=i,_=!0),null!=n&&u!=n&&(o[l._DECOMP_TY]=n,_=!0),null!=r&&c!=r&&(o[l._DECOMP_R]=r,_=!0),_){var p=this.getMatrix();this.setMatrix(p._recompose(o))}}},Q=function(){};i.createSubclass(Q,i),Q.SET_ID_ON_DOM=!1,Q.prototype.Init=function(t,e,i){this._context=t,this._elem=A.createElement(e),this._elem._obj=this,this.setId(i),this._bVisible=!0,this._cursor=null,this._alpha=1,this._matrix=null,this._ariaProperties={},this._properties={}},Q.prototype.getCtx=function(){return this._context},Q.prototype.getElem=function(){return this._elem},Q.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()},Q.prototype.getId=function(){return this._id},Q.prototype.setId=function(t,e){this._id!==t&&(t&&0===t.length&&(t=null),this._id=t,(Q.SET_ID_ON_DOM||e)&&(t?u.setAttrNullNS(this.getOuterElem(),"id",t):u.removeAttrNullNS(this.getOuterElem(),"id")))},Q.prototype.getParent=function(){return this._parent},Q.prototype.setParent=function(t){this._parent=t},Q.prototype.isDescendantOf=function(t){return!(!t||!this.getParent())&&(this.getParent()==t||this.getParent().isDescendantOf(t))},Q.prototype.setPixelHinting=function(t){t?u.setAttrNullNS(this._elem,"shape-rendering","crispEdges"):u.removeAttrNullNS(this._elem,"shape-rendering")},Q.prototype.getVisible=function(){return this._bVisible},Q.prototype.setVisible=function(t){if(this._bVisible!==t){this._bVisible=t;var e=this.getElem();t?u.removeAttrNullNS(e,"visibility"):u.setAttrNullNS(e,"visibility","hidden")}},Q.prototype.setClipPath=function(t){if(t){if(this.ClipPathId==t.getId())return;this.ClipPathId&&this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=t.getId(),this._context.increaseGlobalDefReference(this.ClipPathId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var e=t.getId();if(e){var i=this.getCtx();A.addClipPath(t,i)&&u.setAttrNullNS(this.getOuterElem(),"clip-path",u.getUrlById(e))}}else if(!t&&this.ClipPathId)return this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=null,void u.removeAttrNullNS(this.getOuterElem(),"clip-path")},Q.prototype.setMask=function(t){if(t){if(this.MaskId==t.getId())return;this.MaskId&&this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=t.getId(),this._context.increaseGlobalDefReference(this.MaskId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var e=t.getId();if(e){var i=this.getCtx();A.addMask(t,i)&&u.setAttrNullNS(this.getOuterElem(),"mask",u.getUrlById(e))}}else if(!t&&this.MaskId)return this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=null,void u.removeAttrNullNS(this.getOuterElem(),"mask")},Q.prototype.ConvertCoordSpaceRect=function(t,e){if(!e||e===this)return t;var i=this.localToStage(new n(t.x,t.y)),r=this.localToStage(new n(t.x+t.w,t.y+t.h)),o=e.stageToLocal(i),s=e.stageToLocal(r);return new m(Math.min(o.x,s.x),Math.min(o.y,s.y),Math.abs(s.x-o.x),Math.abs(s.y-o.y))},Q.prototype.GetSvgDimensions=function(){try{var t=this.getElem().getBBox()}catch(t){return null}return new m(t.x,t.y,t.width,t.height)},Q.prototype.getDimensions=function(t){var e=this.GetSvgDimensions();return this.ConvertCoordSpaceRect(e,t)},Q.prototype.getDimensionsWithStroke=function(t){var e=this.GetDimensionsWithStroke();return this.ConvertCoordSpaceRect(e,t)},Q.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},Q.prototype.GetElemDimensionsWithStroke=function(){return this.GetSvgDimensions()},Q.TransferAttributes=function(t,e,i){if(i)for(var n,o,s=i.length,a=0;a<s;a++)n=i[a],(o=u.getAttrNullNS(t,n))&&(u.removeAttrNullNS(t,n),u.setAttrNullNS(e,n,o),"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(t,n,null))},Q.prototype._createOuterGroupElem=function(){if(!this._outerElem){var t=this._id?this._id+"_outer":null;this._outerElem=A.createElement("g",t);var e=this.getParent();if(e)e.getElem().replaceChild(this._outerElem,this.getElem());u.appendChildElem(this._outerElem,this.getElem()),Q.TransferAttributes(this.getElem(),this._outerElem,q.ATTRS_TRANSFERABLE_TO_OUTER)}},Q.prototype.getCSSStyle=function(){return this._cssStyle},Q.prototype.setCSSStyle=function(t){this._cssStyle=t},Q.prototype.setCursor=function(t){this._cursor=t,t?u.setAttrNullNS(this.getElem(),"cursor",t):u.removeAttrNullNS(this.getElem(),"cursor")},Q.prototype.getCursor=function(){return this._cursor},Q.prototype.setMouseEnabled=function(t){var e=t?"visiblePainted":"none";u.setAttrNullNS(this.getElem(),"pointer-events",e)},Q.prototype.getAlpha=function(){return this._alpha},Q.prototype.setAlpha=function(t){t<1e-5&&(t=0),t!==this._alpha&&(this._alpha=t,u.setAttrNullNS(this.getElem(),"opacity",this._alpha,1))},Q.prototype.applyAriaProperties=function(){if(r.deferAriaCreation())for(var t in this._ariaRole&&this._setAriaRole(this._ariaRole),this._ariaProperties)this._setAriaProperty(t,this._ariaProperties[t])},Q.prototype.setAriaRole=function(t,e){r.deferAriaCreation()&&!e||this._setAriaRole(t),this._ariaRole=t},Q.prototype._setAriaRole=function(t){var e=this.GetAriaElem();t?u.setAttrNullNS(e,"role",t):u.removeAttrNullNS(e,"role")},Q.prototype.getAriaRole=function(){return this._ariaRole},Q.prototype.GetAriaElem=function(){return this.getElem()},Q.prototype.setAriaProperty=function(t,e,i){t&&(r.deferAriaCreation()&&!i||this._setAriaProperty(t,e),this._ariaProperties[t]=e)},Q.prototype._setAriaProperty=function(t,e){var i=this.GetAriaElem();null!=e&&""!==e?("label"===t&&(e=O.processAriaLabel(e)),u.setAttrNullNS(i,"aria-"+t,e)):u.removeAttrNullNS(i,"aria-"+t)},Q.prototype.getAriaProperty=function(t){return t?this._ariaProperties[t]:null},Q.prototype.stageToLocal=function(t){for(var e=this.getPathToStage(),i=t,n=e.length-1;n>=0;n--)i=e[n].getMatrix().invert().transformPoint(i);return i},Q.prototype.localToStage=function(t){for(var e=this.getPathToStage(),i=t,n=0;n<e.length;n++)i=e[n].getMatrix().transformPoint(i);return i},Q.prototype.getPathToStage=function(){for(var t=this,e=[];t;)e.push(t),t=t.getParent();return e},Q.prototype.removeFromParent=function(){this._parent&&this._parent.removeChild(this)},Q.prototype.destroy=function(){this.removeAllDrawEffects(),this.ClipPathId&&this.setClipPath(null)},Q.prototype.GetProperty=function(t){return this._properties[t]},Q.prototype.SetProperty=function(t,e){return e!==this._properties[t]&&(this._properties[t]=e),this},Q.prototype.SetSvgProperty=function(t,e,i){return e!==this._properties[t]&&(this._properties[t]=e,u.setAttrNullNS(this._elem,t,e,i),this.SvgPropertyChanged(t)),this},Q.defineProps=function(t,e){Object.keys(e).forEach(function(i){var n=e[i],r=n.name||i;r=r.charAt(0).toUpperCase()+r.slice(1),t.prototype["get"+r]=function(){return this.GetProperty(i)},t.prototype["set"+r]=function(t){return this.SetSvgProperty(i,t,n.value)}})},Q.prototype.SvgPropertyChanged=function(t){},Q.generateAriaLabel=function(t,e,i){var n=[],r=e&&e.length>0;return t&&("function"==typeof t?n.push(t(i())):n.push(t)),r&&n.push(e.join(O.ARIA_LABEL_STATE_DELIMITER)),n.join(O.ARIA_LABEL_DESC_DELIMITER)},Object.assign(Q.prototype,x),Object.assign(Q.prototype,B),Object.assign(Q.prototype,X),Object.assign(Q.prototype,Z);const J=function(t,e,i){this.Init(t,"g",e,i)};i.createSubclass(J,Q),J.prototype.Init=function(t,e,i,n){this._bShapeContainer=!!n,J.superclass.Init.call(this,t,null!=e?e:"g",i),this._childGroupElem=null},J.AttributesTransferableToGroup=["transform","opacity","visibility","pointer-events","clip-path","cursor"],J.prototype.addChild=function(t){if(t){var e=t.getParent();e&&e.removeChild(t),this._arList||(this._arList=[]),t.setParent(this),this._bShapeContainer&&this.CreateChildGroupElem(!1);var i=this.getContainerElem();u.appendChildElem(i,t.getOuterElem()),this._arList.push(t)}},J.prototype.addChildAt=function(t,e){this.AddChildAt(t,e)},J.prototype.AddChildAt=function(t,e){if(e>=0&&e<=this.getNumChildren()&&t){var i=this._findChild(t);if(i>=0&&i==e)return;var n=t.getParent();n&&n.removeChild(t),t.setParent(this),i>=0&&e==this.getNumChildren()+1&&e--;var r=e;this._bShapeContainer&&(this.CreateChildGroupElem(!1),r++);var o=this.getContainerElem(),s=o.childNodes[r];s||(s=null),o.insertBefore(t.getOuterElem(),s),this._arList||(this._arList=[]),this._arList.splice(e,0,t)}},J.prototype.contains=function(t){return this._findChild(t)>=0},J.prototype._findChild=function(t){var e=-1;if(this._arList)for(var i=this._arList.length,n=0;n<i;n++)if(this._arList[n]===t){e=n;break}return e},J.prototype.getChildAfter=function(t){var e=null,i=this._findChild(t);return i>=0&&++i<this._arList.length&&(e=this._arList[i]),e},J.prototype.getChildBefore=function(t){var e=null,i=this._findChild(t);return i>0&&(e=this._arList[--i]),e},J.prototype.getChildAt=function(t){var e=null;return this._arList&&this._arList.length>t&&t>=0&&(e=this._arList[t]),e},J.prototype.getChildIndex=function(t){return this._findChild(t)},J.prototype.getNumChildren=function(){return this._arList?this._arList.length:0},J.prototype.removeChild=function(t){var e=this._findChild(t);-1!==e&&this._removeObj(t,e)},J.prototype.removeChildImpl=function(t){var e=t.getOuterElem(),i=t.getParent();e&&i&&this.getContainerElem().removeChild(e);if(!this._anchorElem&&this._bShapeContainer&&1===this.getNumChildren()){var n=this._childGroupElem,r=n?n.parentNode:null;r&&(Q.TransferAttributes(n,this._elem,this.GetAttributesTransferableToGroup()),r.replaceChild(this._elem,n),this._childGroupElem=null)}},J.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&this._removeObj(e,t),e},J.prototype.removeChildren=function(){if(this._arList)for(var t=this._arList;this.getNumChildren()>0;)this._removeObj(t[0],0)},J.prototype._removeObj=function(t,e){this.removeChildImpl(t),t.setParent(null),this._arList.splice(e,1),0===this._arList.length&&(this._arList=null)},J.prototype.destroy=function(){J.superclass.destroy.call(this);for(var t=this.getNumChildren(),e=0;e<t;e++){this.getChildAt(e).destroy()}},J.prototype.GetAttributesTransferableToGroup=function(){return J.AttributesTransferableToGroup},J.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem},J.prototype.CreateChildGroupElem=function(t,e){if(this._childGroupElem||!e&&0!==this.getNumChildren())t&&this.removeChildren();else{var i=Q.SET_ID_ON_DOM&&this._id?this._id+"_g":null;this._childGroupElem=A.createElement("g",i);var n=this.getParent();n&&n.getElem().replaceChild(this._childGroupElem,this._elem),t||u.appendChildElem(this._childGroupElem,this._elem),Q.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup()),this._elem._obj&&(this._childGroupElem._obj=this._elem._obj)}},J.prototype.getDimensionsWithStroke=function(){for(var t=[],e=this.getNumChildren(),i=0;i<e;i++)t.push(this.getChildAt(i));for(var n=null;t.length>0;){var r=t.shift(),o=r.GetDimensionsWithStroke(this);if(o&&(n=n?n.getUnion(o):o),!r.includeChildSubtree||r.includeChildSubtree()){e=r.getNumChildren();for(i=0;i<e;i++)t.push(r.getChildAt(i))}}return n},J.prototype.GetDimensionsWithStroke=function(t){return null},J.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()},J.prototype.UpdateSelectionEffect=function(){},J.prototype.setHollow=function(t,e){for(var i=0;i<this.getNumChildren();i++){var n=this.getChildAt(i),r=n.getFill()?n.getFill().getColor():t;n.setHollow(r,e)}},J.prototype.includeChildSubtree=function(){return!0};const tt=function(t,e,i){this.Init(t,"g",i),this._SVGRoot=e,this.disableSelection(this._elem),this.setCursor("default")};i.createSubclass(tt,J),tt.prototype.addChild=function(t){tt.superclass.addChild.call(this,t)},tt.prototype.getSVGRoot=function(){return this._SVGRoot},tt.prototype.disableSelection=function(t){t.onselectstart=function(){return!1}};const et=function(t){this.Init(t)};i.createSubclass(et,i),et.prototype.Init=function(t){this._scheduledItems=new Array,this._bRunning=!1},et.prototype.HandleTimer=function(){for(var t=(new Date).getTime(),e=0;e<this._scheduledItems.length;e++){var n=this._scheduledItems[e];n.processTime(t)&&this.removeScheduled(n)}this._scheduledItems.length<1?(this._bRunning&&(this._bRunning=!1,this._animationRequestId&&_(this._animationRequestId)),this._animationRequestId=null):this._animationRequestId=c(i.createCallback(this,this.HandleTimer)),et._frameCount++},et.prototype.addScheduled=function(t){this._scheduledItems.indexOf(t)<0&&this._scheduledItems.push(t),this.play()},et.prototype.removeScheduled=function(t){var e=this._scheduledItems.indexOf(t);e>=0&&this._scheduledItems.splice(e,1)},et.prototype.play=function(){if(!this._bRunning){for(var t=0;t<this._scheduledItems.length;t++){var e=this._scheduledItems[t];e.isRunning()||e.play()}this._bRunning=!0,this._animationRequestId=c(i.createCallback(this,this.HandleTimer))}};const it=function(t,e){this.Init(t,e)};let nt;i.createSubclass(it,i),it._TOOLTIP_DIV_ID="_dvtTooltip",it._SHOW_DELAY=500,it._BORDER_COLOR="#9ba2b0",it._FONT_COLOR="#383a47",it._VIEWPORT_BUFFER=15,it.prototype.Init=function(t,e){this._context=t,this._domElementId=e||it._TOOLTIP_DIV_ID,this._isTooltip=!0},it.prototype.showDatatip=function(t,e,i,n,r){null==r&&(r=!0),this._isTooltip=!1,this._showTextAtPosition(t,e,i,n,r,"oj-dvt-datatip")},it.prototype._showTextAtPosition=function(t,e,i,n,r,o){var s,a=this.getTooltipElem(),h=!0!==i;if(h)for(;a.hasChildNodes();)a.removeChild(a.firstChild);"string"==typeof i?(i=(i=i.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;"),i=it._restoreTag(i,"b"),i=it._restoreTag(i,"i"),i=it._restoreTag(i,"table"),i=it._restoreTag(i,"tr"),i=(i=(i=(i=it._restoreTag(i,"td")).replace(/\n/g,"<br>")).replace(/\\n/g,"<br>")).replace(/&#92;n/g,"<br>"),i=it._restoreTag(i,"br"),(s=document.createElement("span")).style.visibility="inherit",s.style.width=null,s.style.height=null,s.innerHTML=i):h&&(s=i),this._isCustomClassName||(a.className=o),this._isCustomClassName=!1,n||(n=it._BORDER_COLOR),this._isCustomBorderColor||(a.style.borderColor=n),this._isCustomBorderColor=!1,a.style.position="absolute",a.style.zIndex=2147483647,null!=s&&(Array.isArray(s)?s.forEach(function(t){a.appendChild(t)}):a.appendChild(s)),this.PostElement(a,t,e,!0,r)},it.prototype.PostElement=function(t,e,i,n,r){if(t.style["pointer-events"]=n?"none":"auto",t.style.width=null,t.style.height=null,t.style.left="0px",t.style.top="0px",r){var o=this._getOffsets(t);this.positionTip(e+o.x,i+o.y,e,i)}else this.positionTip(e,i,e,i);t.style.visibility="visible";var s=this._context.getTooltipAttachedCallback();s&&s(t)},it.prototype.hideTooltip=function(){this.clearTooltip(),this._tooltipDisplayed=!1,this._timerIsRunning=!1;var t=document.getElementById(this._domElementId);t&&(t.style.visibility="hidden",t.style.overflow=null,t.style.width="0px",t.style.height="0px",r.isRightToLeft(this._context)?t.style.left=t.style.right:t.style.left="0px",t.style.top="0px","undefined"!=typeof $&&this._bCleanupChildren&&$(t).children().remove())},it.prototype.releaseTooltipResources=function(){var t=document.getElementById(this._domElementId);t&&this._getTooltipContainer().removeChild(t)},it.prototype.getTooltipElem=function(){var t=document.getElementById(this._domElementId);return t||(t=this.InitializeTooltipElem()),t},it.prototype._getTooltipContainer=function(){if(nt)return nt;if(nt=document.getElementById("_dvtTooltip_shared_container"),!nt){var t=document.createElement("div");t.id="_dvtTooltip_shared_container",document.body.appendChild(t),nt=t}return nt},it.prototype.InitializeTooltipElem=function(){var t=document.createElement("div");return t.id=this._domElementId,t.style.visibility="hidden",this._getTooltipContainer().appendChild(t),this.InitContent(t),t},it.prototype.InitContent=function(t){},it.prototype.showTooltip=function(t,e,i,n,o,s){i&&0!=i.length&&(this._x=t,this._y=e,this._text=i,this._trackMouse=o,this._timerIsRunning||(s||(s=it._BORDER_COLOR),this.getTooltipElem().style.borderColor=s,r.isTouchDevice()||this._tooltipDisplayed&&this._trackMouse?this._displayTooltip(this._x,this._y,this._text,this._borderColor):(this._timerIsRunning=!0,this._showTimerId=window.setTimeout(this._handleShowTimer.bind(this),it._SHOW_DELAY))))},it.prototype.clearTooltip=function(){this._showTimerId&&(window.clearTimeout(this._showTimerId),this._showTimerId=void 0,this._x=void 0,this._y=void 0,this._text=void 0,this._trackMouse=void 0),this._hideTimerId&&(window.clearTimeout(this._hideTimerId),this._hideTimerId=void 0)},it.prototype._handleShowTimer=function(t){this._timerIsRunning=!1,this._displayTooltip(this._x,this._y,this._text,this._borderColor),this._tooltipDisplayed=!0},it.prototype._displayTooltip=function(t,e,i,n){this._isTooltip=!0,this._showTextAtPosition(t,e,i,n,!0,"oj-dvt-tooltip")},it.prototype._getOffsets=function(t){var e=this.getTooltipBounds(t);if(r.isTouchDevice())return new n(0-e.w/2,-30-e.h);var i=-8-e.h,o=8;return this._isTooltip&&(i=22,o=0),r.isRightToLeft(this._context)&&(o=-o-e.w),new n(o,i)},it.prototype.getTooltipBounds=function(){var t=this.getTooltipElem();return t.style.height="auto",new m(parseInt(t.style.left),parseInt(t.style.top),t.offsetWidth,t.offsetHeight)},it.prototype.positionTip=function(t,e){var i=this.getTooltipElem(),n=this.getTooltipBounds(),r=n.w,o=n.h,s=new m(window.pageXOffset+it._VIEWPORT_BUFFER,window.pageYOffset+it._VIEWPORT_BUFFER,window.innerWidth-2*it._VIEWPORT_BUFFER,window.innerHeight-2*it._VIEWPORT_BUFFER);r>s.w-2*it._VIEWPORT_BUFFER&&(r=s.w-2*it._VIEWPORT_BUFFER,i.style.width=r+"px");var a=t;a=Math.max(a,s.x),a=Math.min(a,s.x+s.w-r),Math.abs(s.x)>it._VIEWPORT_BUFFER&&(i.style.width=Math.min(i.clientWidth,s.x+s.w-a)+"px",e+=o-i.offsetHeight,o=i.offsetHeight,i.style.overflow="hidden");var h=e;h=Math.min(h,s.y+s.h-o),h=Math.max(h,s.y),i.style.left=a+"px",i.style.top=h+"px"},it.prototype.getCustomTooltip=function(t,e){for(var i=this.getTooltipElem();i.hasChildNodes();)i.removeChild(i.firstChild);e.parentElement=i,i.className="",i.style.borderColor="";var n=t(e=this._context.fixRendererContext(e));return i.className&&(this._isCustomClassName=!0),i.style.borderColor&&(this._isCustomBorderColor=!0),this._bCleanupChildren=null!=e._templateCleanup,!(n||!i.hasChildNodes())||n},it._restoreTag=function(t,e){var i=new RegExp("&lt;(/?)("+e+")(?=[\\s&/])([^&]*)(/?)&gt;","g");return t.replace(i,"<$1"+e+"$3$4>")},it.createElement=function(t,e,i,n){var r=document.createElement(t);if(e&&e.applyStylesToElement(r),n&&r.classList.add.apply(r.classList,n),null!=i)if(Array.isArray(i))for(var o=0;o<i.length;o++)r.appendChild(i[o]);else r.appendChild(document.createTextNode(i));return r};const rt={};i.createSubclass(rt,i),rt.getHoverBorderColor=function(t){return T.adjustHSL(t,0,0,.15)},rt.createSelectingStroke=function(t){return new z(rt.getHoverBorderColor(t),1,2,!1,null,{miterLimit:1})},rt.getSelectingCursor=function(){return"pointer"};const ot=function(){};i.createSubclass(ot,J),ot.prototype.Init=function(t,e,i){ot.superclass.Init.call(this,t,e,i,!0),this._bSelectable=!1,this.IsSelected=!1,this.InnerShape=null,this.HoverInnerStroke=null,this.HoverOuterStroke=null,this.SelectedInnerStroke=null,this.SelectedOuterStroke=null,this.SelectedHoverInnerStroke=null,this.SelectedHoverOuterStroke=null,this.OriginalStroke=null,this._isOriginalStrokeSet=!1,this.IsShowingHoverEffect=!1,this._feedbackClassName=null},ot.prototype.setHollow=function(t,e){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this.GetProperty("fill"),this._origStroke=this.getStroke();var i,n=K.invisibleFill();i=t?new z(T.getRGB(t),T.getAlpha(t),e):new z(this.GetProperty("fill").getColor(),this.GetProperty("fill").getAlpha(),e),this.setFill(n),this.setStroke(i),this._bHollow=!0}},ot.prototype.isHollow=function(){return this._bHollow},ot.prototype.destroy=function(){ot.superclass.destroy.call(this),this.setFill(null),this.setStroke(null)},ot.prototype.getDimensionsWithStroke=function(){var t=this.GetElemDimensionsWithStroke(),e=ot.superclass.getDimensionsWithStroke.call(this);return t&&e?t=t.getUnion(e):e&&(t=e),t},ot.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},ot.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf():ot.superclass.getDimensions.call(this),e=this.getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},ot.prototype.UpdateSelectionEffect=function(){var t;(this.isSelected()||this.isHoverEffectShown())&&(this.InnerShape&&(t=this.InnerShape.getStroke(),this.removeChild(this.InnerShape)),this.InnerShape=this.copyShape(),this.InnerShape._setOuterShape(this),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setFill(this.getFill()),this.InnerShape.setStroke(t||this.getStroke()),this.InnerShape.setStyle(this.getStyle()).setClassName(this.getClassName()),this._feedbackClassName&&(this.InnerShape.removeClassName("oj-dvt-default-border-width"),this.InnerShape.removeClassName("oj-dvt-default-border-color"),this.InnerShape.removeClassName(this._feedbackClassName),this.InnerShape.addClassName(this._feedbackClassName+"-inner-shape")),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setCursor(rt.getSelectingCursor()),this.AddChildAt(this.InnerShape,0))},ot.prototype._setOuterShape=function(t){this._outerShape=t},ot.prototype.GetHoverSelectionInnerStroke=function(){var t;return this.InnerShape&&(this.isSelected()?t=this.isHoverEffectShown()?this.SelectedHoverInnerStroke:this.SelectedInnerStroke:this.isHoverEffectShown()&&(t=this.HoverInnerStroke)),t},ot.prototype.GetHoverSelectionOuterStroke=function(){var t;return this._outerShape&&(this._outerShape.isSelected()?t=this._outerShape.isHoverEffectShown()?this._outerShape.SelectedHoverOuterStroke:this._outerShape.SelectedOuterStroke:this._outerShape.isHoverEffectShown()&&(t=this._outerShape.HoverOuterStroke)),t},ot.prototype.setHoverStroke=function(t,e){return this.HoverInnerStroke=t,this.HoverOuterStroke=e,this},ot.prototype.setSelectedStroke=function(t,e){return this.SelectedInnerStroke=t,this.SelectedOuterStroke=e,this},ot.prototype.setSelectedHoverStroke=function(t,e){return this.SelectedHoverInnerStroke=t,this.SelectedHoverOuterStroke=e,this},ot.prototype.setSelectable=function(t){this._bSelectable=t,this._bSelectable?this.setCursor(rt.getSelectingCursor()):this.setCursor(null)},ot.prototype.isSelectable=function(){return this._bSelectable},ot.prototype.isSelected=function(){return this.IsSelected},ot.prototype.setSelected=function(t){this.IsSelected!=t&&(this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.IsSelected=t,this.isSelected()?(this.UpdateSelectionEffect(),this._feedbackClassName?(this.addClassName("oj-selected"),this.InnerShape.addClassName("oj-selected")):this.isHoverEffectShown()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke))):(this._feedbackClassName&&(this.removeClassName("oj-selected"),this.InnerShape.removeClassName("oj-selected")),this.IsShowingHoverEffect?this._feedbackClassName||(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke))))},ot.prototype.setFeedbackClassName=function(t){this.addClassName(t),this._feedbackClassName=t},ot.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.UpdateSelectionEffect(),this._feedbackClassName?(this.addClassName("oj-hover"),this.InnerShape.addClassName("oj-hover")):this.isSelected()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)))},ot.prototype.CreateSelectedHoverStrokes=function(){this.SelectedHoverInnerStroke||(this.SelectedHoverInnerStroke=this.HoverInnerStroke),this.SelectedHoverOuterStroke||(this.SelectedHoverOuterStroke=new z(this.SelectedOuterStroke.getColor(),this.SelectedOuterStroke.getAlpha(),this.SelectedOuterStroke.getWidth()+(this.HoverInnerStroke.getWidth()-this.SelectedInnerStroke.getWidth())))},ot.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this._feedbackClassName&&(this.removeClassName("oj-hover"),this.InnerShape.removeClassName("oj-hover")),this.isSelected()?this._feedbackClassName||(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},ot.prototype.isHoverEffectShown=function(){return this.IsShowingHoverEffect},ot.prototype.addChildAt=function(t,e){ot.superclass.addChildAt.call(this,t,e+this._getInnerShapeCount())},ot.prototype.getChildAt=function(t,e){return ot.superclass.getChildAt.call(this,t,e+this._getInnerShapeCount())},ot.prototype.getChildIndex=function(t){return ot.superclass.getChildIndex.call(this,t)-this._getInnerShapeCount()},ot.prototype.removeChildAt=function(t){ot.superclass.removeChildAt.call(this,t+this._getInnerShapeCount())},ot.prototype.getDimensions=function(t){return this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf(t):ot.superclass.getDimensions.call(this,t)},ot.prototype._getInnerShapeCount=function(){return this.isSelected()||this.isHoverEffectShown()?1:0},ot.prototype.SvgPropertyChanged=function(t){this.UpdateSelectionEffect()},ot.prototype.copyShape=function(){return null};const st={};i.createSubclass(st,i),st._cachedTextWidth={},st._cachedRepTextDimensions={},st._canvasCtx=null,st._wordSpacing,st._letterSpacing,st._fontVariantNumeric,st.EMPTY_TEXT_BUFFER=2,st.ELLIPSIS="",st.REPRESENTATIVE_TEXT="MW",st.V_ALIGN_TOP="top",st.V_ALIGN_MIDDLE="middle",st.V_ALIGN_CENTRAL="central",st.V_ALIGN_BOTTOM="bottom",st.V_ALIGN_AUTO="auto",st._rep_text_constructor=null,st.getMaxTextDimensions=function(t){for(var e=0,i=0,n=0;n<t.length;n++)if(null!=t[n]){var r=t[n].getDimensions();e=Math.max(e,r.w),i=Math.max(i,r.h)}return new h(e,i)},st.getMaxTextStringWidth=function(t,e,i){for(var n=0,r=Array.isArray(i),o=0;o<e.length;o++)if(null!=e[o]&&0!=e[o].length){var s=i?r?i[o]:i:null,a=st.getTextStringWidth(t,e[o],s);a>n&&(n=a)}return n},st.getTextStringDimensions=function(t,e,i){var n=st._getRepresentativeDimensions(t,i);return new m(0,n.y,st.getTextStringWidth(t,e,i),n.h)},st.getTextStringWidth=function(t,e,i){if(null==e||0==e.length)return 0;var n=t.letterSpacing||"normal",o=t.wordSpacing||"normal",s=t.fontVariantNumeric||"normal",a=st._createCacheKey(t,i,e),h=st._cachedTextWidth[a];if(null!=h)return h;var l,u=st._isNormalSpacing(n),c=st._isNormalSpacing(o);if(u&&c&&"normal"===s){var _=st._wordSpacing||st._letterSpacing||st._fontVariantNumeric;st._storeCanvasContext(_),st._setSpacing(null,null,null),l=st._getCanvasTextWidth(t,e,i)}else if("chrome"===r.browser)st._letterSpacing==n&&st._wordSpacing==o&&st._fontVariantNumeric==s||(st._clearCanvasContext(),st._setSpacing(o,n,s)),st._storeCanvasContext(),st._attachCanvas(t),l=st._getCanvasTextWidth(t,e,i);else if("safari"===r.browser&&u&&c)st._fontVariantNumeric!=s&&(st._clearCanvasContext(),st._setSpacing(o,n,s)),st._storeCanvasContext(),st._attachCanvas(t),l=st._getCanvasTextWidth(t,e,i);else{var p=new st._rep_text_constructor(t,e);p.setCSSStyle(i);var d=p.getCtx().getStage();d.addChild(p),l=p.GetSvgDimensions().w,d.removeChild(p)}return st._cachedTextWidth[a]=l,l},st._isNormalSpacing=function(t){return"normal"===t||"0px"===t},st._setSpacing=function(t,e,i){st._wordSpacing=t,st._letterSpacing=e,st._fontVariantNumeric=i},st._storeCanvasContext=function(t){var e=st._canvasCtx?st._canvasCtx.canvas:null;e?t&&(st._canvasCtx=st._canvasCtx.canvas.getContext("2d")):(e=document.createElement("CANVAS"),st._canvasCtx=e.getContext("2d"))},st._clearCanvasContext=function(){if(st._canvasCtx){var t=st._canvasCtx.canvas;t.parentNode&&t.parentNode.removeChild(t),st._canvasCtx=null}},st._attachCanvas=function(t){var e=st._canvasCtx.canvas;e.parentNode||(e.style.display="none",t.getContainer().appendChild(e),st._canvasCtx=e.getContext("2d"))},st._createCacheKey=function(t,e,i){return(i||"")+(null!=e?e.hashCodeForTextMeasurement():"")+t.letterSpacing+t.wordSpacing+t.fontVariantNumeric},st.getTextStringHeight=function(t,e){return st._getRepresentativeDimensions(t,e).h},st.fitText=function(t,e,i,n,r,o){var s=t.getTextString();if(!t.hasBackground()&&!t.isMultiline()){var a=st.getTextStringDimensions(t.getCtx(),s,t.getCSSStyle());if(a.h>i)return o||t.removeFromParent(),!1;if(a.w<=e)return n.addChild(t),!0}if(n.addChild(t),r="number"!=typeof r||null==r?1:r,t.isMultiline())return t.__fitText(e,i,r);if(t.isMultiline())throw t.setMaxWidth(e,r),new Error("TextUtils.fitText called with a non-text class");return st._truncateOutputText(t,e,r),""==t.getTextString()?(o||n.removeChild(t),t.setTextString(s),!1):(t.getTextString()!=s&&t.setUntruncatedTextString(s),!0)},st.centerTextVertically=function(t,e){"ie"===r.browser||"edge"===r.browser?(t.setY(e),t.alignMiddle()):t.setY(e-t.getDimensions().h/2)},st._truncateOutputText=function(t,e,i){if(e<=0)t.setTextString("");else{var n=t.getDimensions();if(!(n.w<=e)){var r=t.getTextString(),o=r.length,s=n.w/st._getTextLength(r),a=Math.max(Math.floor(e/s)-2,i),h=r.substring(0,a)+st.ELLIPSIS;t.setTextString(h);for(var l=h,u=n=t.getDimensions();n.w<e&&!(a>=r.length);){var c=e-n.w,_=Math.min(o-a,Math.max(Math.floor(c/s),1));if(a+=_,h=r.substring(0,a)+st.ELLIPSIS,t.setTextString(h),n=t.getDimensions(),1==_&&n.w>e){t.setTextString(l),n=u;break}l=h,u=n}for(;n.w>e;){if(a<=i){t.setTextString("");break}a-=1,h=r.substring(0,a)+st.ELLIPSIS,t.setTextString(h),n=t.getDimensions()}}}},st._getTextLength=function(t){return(t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,"")).length},st._getRepresentativeDimensions=function(t,e){var i=st._createCacheKey(t,e),n=st._cachedRepTextDimensions[i];if(null==n){var r=new st._rep_text_constructor(t,st.REPRESENTATIVE_TEXT);r.alignAuto(),r.setCSSStyle(e);var o=r.getCtx().getStage();o.addChild(r);var s=r.GetSvgDimensions();o.removeChild(r),n={x:s.x,y:s.y,w:.5*s.w,h:s.h},st._cachedRepTextDimensions[i]=n}return n},st.setRepresentativeTextConstructor=function(t){st._rep_text_constructor=t},st.getBaselineTranslation=function(t){var e=t.getVertAlignment();if(e!=st.V_ALIGN_AUTO){var i=st._getRepresentativeDimensions(t.getCtx(),t.getCSSStyle());if(e==st.V_ALIGN_TOP)return-i.y;if(e==st.V_ALIGN_MIDDLE)return-i.y-i.h/2;if(e==st.V_ALIGN_CENTRAL)return-i.y/2;if(e==st.V_ALIGN_BOTTOM)return-i.y-i.h}return 0},st._getCanvasTextWidth=function(t,e,i){var n=(i?i.getStyle("font-style"):null)||"normal",r=(i?i.getStyle("font-variant"):null)||"normal",o=(i?i.getStyle("font-weight"):null)||"normal",s=(i?i.getStyle("font-family"):null)||t.getDefaultFontFamily()||"",a=(i?i.getFontSize():null)||t.getDefaultFontSize()||"12px";isNaN(a)||(a+="px");var h=n+" "+r+" "+o+" "+a+" "+s;return st._configureCanvas(t,h),st._canvasCtx.measureText(e).width},st._configureCanvas=function(t,e){"ie"!==r.browser&&"edge"!==r.browser||(e=e.replace(/-apple-system(-\w+)*,?/g,""),st._attachCanvas(t)),st._canvasCtx.font=e},st.clearCaches=function(){st._cachedTextWidth={},st._cachedRepTextDimensions={}},st.getOptimalFontSize=function(t,e,i,n){i=i?i.clone():new j;for(var r=Math.max(Math.round(Math.min(n.w/e.length,n.h/2)),9);r<51;r+=1){i.setFontSize("font-size",r+"px",t);var o=st.getTextStringDimensions(t,e,i);if(o.w>n.w||o.h>n.h)return Math.min(r-1,50)+"px"}return"50px"};const at=function(t,e,i,n,r){this.Init(t,e,i,n,r)};var ht;st.setRepresentativeTextConstructor(at),i.createSubclass(at,ot),at.ELLIPSIS=st.ELLIPSIS,at.REPRESENTATIVE_TEXT=st.REPRESENTATIVE_TEXT,at.BIDI_ZERO_WIDTH="",at.H_ALIGN_LEFT="left",at.H_ALIGN_CENTER="center",at.H_ALIGN_RIGHT="right",at.V_ALIGN_TOP=st.V_ALIGN_TOP,at.V_ALIGN_MIDDLE=st.V_ALIGN_MIDDLE,at.V_ALIGN_CENTRAL=st.V_ALIGN_CENTRAL,at.V_ALIGN_BOTTOM=st.V_ALIGN_BOTTOM,at.V_ALIGN_AUTO=st.V_ALIGN_AUTO,at.prototype.Init=function(t,e,i,n,o){at.superclass.Init.call(this,t,"text",o),this._x=null!=i?i:0,this._baseline=!1,!r.isRightToLeft(t)||"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),this.alignLeft(),this.alignTop(),this.setTextString(e),this.setX(i),this.setY(n),u.removeAttrNullNS(this.getElem(),"fill"),this.setAriaProperty("hidden","true")},at.prototype.getTextString=function(){return this._textString},at.prototype.setTextString=function(t){t=null!=t?String(t).trim():"",!this._needsTextAnchorAdjustment()||"ie"!==r.browser&&"edge"!==r.browser||t.charAt(0)==at.BIDI_ZERO_WIDTH||(t=at.BIDI_ZERO_WIDTH+t),this._textString=t;var e=this.getElem().firstChild;return null!==e?e.nodeValue=t:(e=document.createTextNode(t),u.appendChildElem(this.getElem(),e)),"ie"!==r.browser&&"edge"!==r.browser||this.setX(this._x),this},at.prototype.isTruncated=function(){return null!=this.getUntruncatedTextString()},at.prototype.getUntruncatedTextString=function(){return this._untruncatedTextString},at.prototype.setUntruncatedTextString=function(t){t!=this.getTextString()&&(this._untruncatedTextString=t)},at.prototype.getX=function(){return("ie"===r.browser||"edge"===r.browser?this._x:this.GetProperty("x"))||0},at.prototype.setX=function(t){return this._x=null!=t?t:0,"ie"===r.browser||"edge"===r.browser?this.SetSvgProperty("x",this._x+this._getIEAlignmentOffset(),0):this.SetSvgProperty("x",t,0)},at.prototype._getIEAlignmentOffset=function(){var t=this.getHorizAlignment(),e=r.isRightToLeft(this.getCtx());return t==at.H_ALIGN_LEFT?e?st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):0:t==at.H_ALIGN_CENTER?e?st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2:st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2*-1:t==at.H_ALIGN_RIGHT?e?0:-1*st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):void 0},at.prototype.getY=function(){var t=this.GetProperty("y");return t||0},at.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},at.prototype.setFontSize=function(t){var e=this.getCSSStyle();(e=e?e.clone():new j).setFontSize(j.FONT_SIZE,String(t),this.getCtx()),this.setCSSStyle(e)},at.prototype.getHorizAlignment=function(){return this._horizAlign},at.prototype.setHorizAlignment=function(t){t==at.H_ALIGN_LEFT?this.alignLeft():t==at.H_ALIGN_CENTER?this.alignCenter():t==at.H_ALIGN_RIGHT&&this.alignRight()},at.prototype.getVertAlignment=function(){return this._vertAlign},at.prototype.setVertAlignment=function(t){t==at.V_ALIGN_TOP?this.alignTop():t==at.V_ALIGN_MIDDLE?this.alignMiddle():t==at.V_ALIGN_CENTRAL?this.alignCentral():t==at.V_ALIGN_BOTTOM?this.alignBottom():t==at.V_ALIGN_AUTO&&this.alignAuto()},at.prototype.alignLeft=function(){if(this._horizAlign!=at.H_ALIGN_LEFT)if(this._horizAlign=at.H_ALIGN_LEFT,"ie"===r.browser||"edge"===r.browser)this.setX(this._x);else{var t=this._needsTextAnchorAdjustment();u.setAttrNullNS(this.getElem(),"text-anchor",t?"end":"start","start")}},at.prototype.alignCenter=function(){this._horizAlign!=at.H_ALIGN_CENTER&&(this._horizAlign=at.H_ALIGN_CENTER,"ie"===r.browser||"edge"===r.browser?this.setX(this._x):u.setAttrNullNS(this.getElem(),"text-anchor","middle","start"))},at.prototype.alignRight=function(){if(this._horizAlign!=at.H_ALIGN_RIGHT)if(this._horizAlign=at.H_ALIGN_RIGHT,"ie"===r.browser||"edge"===r.browser)this.setX(this._x);else{var t=this._needsTextAnchorAdjustment();u.setAttrNullNS(this.getElem(),"text-anchor",t?"start":"end","start")}},at.prototype.alignTop=function(){this._vertAlign!=at.V_ALIGN_TOP&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_TOP,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("text-before-edge"))},at.prototype.alignMiddle=function(){this._vertAlign!=at.V_ALIGN_MIDDLE&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_MIDDLE,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("middle"))},at.prototype.alignCentral=function(){this._vertAlign!=at.V_ALIGN_CENTRAL&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_CENTRAL,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("central"))},at.prototype.alignBottom=function(){this._vertAlign!=at.V_ALIGN_BOTTOM&&(this._vertAlign=at.V_ALIGN_BOTTOM,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):"safari"===r.browser?(this._setBaseline(!0),this.SetDominantBaselineAttr(null)):this.SetDominantBaselineAttr("text-after-edge"))},at.prototype.alignAuto=function(){this._vertAlign!=at.V_ALIGN_AUTO&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_AUTO,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!1):this.SetDominantBaselineAttr(null))},at.prototype._setBaseline=function(t){this._baseline=t,this.setMatrix(this.getMatrix())},at.prototype.SetDominantBaselineAttr=function(t){t?u.setAttrNullNS(this.getElem(),"dominant-baseline",t):u.removeAttrNullNS(this.getElem(),"dominant-baseline")},at.prototype.setCSSStyle=function(t){at.superclass.setCSSStyle.call(this,t);var e=this.getOuterElem();if(t){var i=t.getStyle("color"),n=T.fixColorForPlatform(i);n&&n.color&&(u.setAttrNullNS(e,"fill",n.color),null!=n.alpha&&u.setAttrNullNS(e,"fill-opacity",n.alpha,1)),(i=t.getStyle("font-family"))&&!this.getCtx().isDefaultFontFamily(i)?u.setAttrNullNS(e,"font-family",i):u.removeAttrNullNS(e,"font-family"),(i=t.getStyle("font-size"))&&i!=this.getCtx().getDefaultFontSize()?(u.setAttrNullNS(e,"font-size",i),"ie"!==r.browser&&"edge"!==r.browser&&"safari"!==r.browser||this.setMatrix(this.getMatrix())):u.removeAttrNullNS(e,"font-size"),(i=t.getStyle("font-style"))&&u.setAttrNullNS(e,"font-style",i),(i=t.getStyle("font-weight"))&&i!=this.getCtx().getDefaultFontWeight()?u.setAttrNullNS(e,"font-weight",i):u.removeAttrNullNS(e,"font-weight"),(i=t.getStyle("text-decoration"))&&u.setAttrNullNS(e,"text-decoration",i),(i=t.getStyle("cursor"))&&u.setAttrNullNS(e,"cursor",i),"ie"!==r.browser&&"edge"!==r.browser||this.setX(this._x)}},at.prototype._getBaselineTranslation=function(){if(this._baseline){if(this._textString&&!this._isRepresentativeText())return st.getBaselineTranslation(this);var t=this.getVertAlignment();if(t!=at.V_ALIGN_AUTO){var e=u.getAttrNullNS(this.getElem(),"font-size");if(e||(e=u.getAttrNullNS(this.getOuterElem(),"font-size")),(!e||isNaN(e)&&-1==e.indexOf("px"))&&(e=this.getCtx().getDefaultFontSize()),e=parseFloat(e),t==at.V_ALIGN_TOP)return.8*e;if(t==at.V_ALIGN_MIDDLE)return.3*e;if(t==at.V_ALIGN_CENTRAL)return.4*e;if(t==at.V_ALIGN_BOTTOM)return-.2*e}}return 0},at.prototype._getBaselineAdjustedMatrix=function(t){this._baseline&&(t||(t=new l),t=new l(null,null,null,null,null,this._getBaselineTranslation()).concat(t));return t},at.prototype.setMatrix=function(t){"ie"!==r.browser&&"edge"!==r.browser&&"safari"!==r.browser||(this._matrixForIE=t,t=this._getBaselineAdjustedMatrix(t)),at.superclass.setMatrix.call(this,t)},at.prototype.getMatrix=function(){var t=null;return"ie"!==r.browser&&"edge"!==r.browser&&"safari"!==r.browser||(t=this._matrixForIE),t||(t=at.superclass.getMatrix.call(this)),t},at.prototype._isRepresentativeText=function(){return this._textString==at.REPRESENTATIVE_TEXT||this._textString==at.BIDI_ZERO_WIDTH||this._textString==at.BIDI_ZERO_WIDTH+at.REPRESENTATIVE_TEXT},at.prototype.GetSvgDimensions=function(){var t=at.superclass.GetSvgDimensions.call(this);return t&&(t.y+=this._getBaselineTranslation(),this._isRepresentativeText()||(t.h=st.getTextStringHeight(this.getCtx(),this.getCSSStyle()))),t},at.prototype.UpdateSelectionEffect=function(){},at.prototype.getDimensions=function(t){var e=this.getHorizAlignment(),i=this.getVertAlignment(),n=st.getTextStringDimensions(this.getCtx(),this.getTextString(),this.getCSSStyle());return n.x=this.getX(),e===at.H_ALIGN_RIGHT?n.x-=n.w:e===at.H_ALIGN_CENTER&&(n.x-=n.w/2),i===at.V_ALIGN_TOP?n.y=this.getY():i===at.V_ALIGN_BOTTOM?n.y=this.getY()-n.h:i===at.V_ALIGN_MIDDLE?n.y=this.getY()-n.h/2:i===at.V_ALIGN_CENTRAL?n.y=this.getY()-.4*n.h:i===at.V_ALIGN_AUTO&&(n.y+=this.getY()),t&&t!==this?this.ConvertCoordSpaceRect(n,t):n},at.prototype.copyShape=function(){var t=new at(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()),t.setHorizAlignment(this.getHorizAlignment()),t.setVertAlignment(this.getVertAlignment()),t},at.prototype._needsTextAnchorAdjustment=function(){return r.isRightToLeft(this.getCtx())},at.createIcon=(ht={},function(t,e){var i=e.style,n=e.size,o=e.pos||{x:n/2,y:n/2},s=new at(t,i.character);if(s.setClassName("oj-fwk-icon oj-dvt-icon"),s.getElem().style.fontSize=n+"px","ie"===r.browser||"edge"===r.browser){s.SetSvgProperty("x",0,0);var a="ie"===r.browser?.8*n:function(t,e,i){if(!ht[e]){var n=new at(t,i);n.setClassName("oj-fwk-icon oj-dvt-icon"),n.getElem().style.fontSize=e+"px",n.alignAuto();var r=t.getStage();r.addChild(n);var o=n.GetSvgDimensions();r.removeChild(n),ht[e]=-o.y}return ht[e]}(t,n,i.character),h=r.isRightToLeft(t),u=new l(1,0,0,1,h?n/2:-n/2,a-n/2);at.superclass.setMatrix.call(s,u.concat(i.transform).translate(o.x,o.y))}else s.alignCenter(),s.alignCentral(),s.setMatrix(i.transform.translate(o.x,o.y));return s}),at.prototype.isMultiline=function(){return!1},at.prototype.hasBackground=function(){return!1};const lt=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(lt,ot),lt._cssAttrs=["background-color","border-color","border-width"],lt.prototype.Init=function(t,e,i,n,r,o){lt.superclass.Init.call(this,t,"rect",o),this._strokeAlignment="center",this.setX(e).setY(i).setWidth(n).setHeight(r)},Q.defineProps(lt,{x:{value:0},y:{value:0},width:{value:0},height:{value:0},rx:{},ry:{}}),lt.prototype.setCSSStyle=function(t){lt.superclass.setCSSStyle.call(this,t);var e=this._elem;if(t){var i=t.getStyle("background-color");if(i&&u.setAttrNullNS(e,"fill",i),(i=t.getStyle("border-color"))&&u.setAttrNullNS(e,"stroke",i),(i=t.getStyle("border-width"))&&u.setAttrNullNS(e,"stroke-width",i),i=t.getStyle("border-radius")){var n=i.trim().split(" ");n.length>0&&n[0]&&this.setRx(n[0]),n.length>1&&n[1]&&this.setRy(n[1])}}else u.removeAttrNullNS(this._elem,"style")},lt.prototype.SetSvgProperty=function(t,e,i){return e!==this.GetProperty(t)&&(this.SetProperty(t,e),this._setAttributeWithStroke(t,e,i),this.SvgPropertyChanged(t)),this},lt.prototype._setAttributeWithStroke=function(t,e,i){if(null!=e&&"center"!=this._strokeAlignment){var n=this._getStrokeOffset();switch(t){case"x":case"y":e-=n;break;case"width":case"height":e+=2*n}}u.setAttrNullNS(this._elem,t,e,i)},lt.prototype.setStrokeAlignment=function(t){this._strokeAlignment!=t&&(this._strokeAlignment=t,this._updateElemStrokeDimensions())},lt.prototype.getStrokeAlignment=function(){return this._strokeAlignment},lt.prototype._updateElemStrokeDimensions=function(){this._setAttributeWithStroke("x",this.getX(),0),this._setAttributeWithStroke("y",this.getY(),0),this._setAttributeWithStroke("width",this.getWidth()),this._setAttributeWithStroke("height",this.getHeight())},lt.prototype._getStrokeOffset=function(){var t=0,e=this.getStroke();if(e)if("outer"==this._strokeAlignment){t=e.getWidth()/2;var i=this.GetHoverSelectionInnerStroke();null!=i&&(t+=i.getWidth())}else if("inner"==this._strokeAlignment){t=-e.getWidth()/2;var n=this.GetHoverSelectionOuterStroke();null!=n&&(t-=n.getWidth())}return t},lt.prototype.setStroke=function(t){lt.superclass.setStroke.call(this,t),"center"!=this._strokeAlignment&&this._updateElemStrokeDimensions()},lt.prototype.GetElemDimensionsWithStroke=function(){var t=lt.superclass.GetElemDimensionsWithStroke.call(this);if(t&&"center"!=this._strokeAlignment){var e=this._getStrokeOffset();t.x-=e,t.y-=e,t.w+=2*e,t.h+=2*e}return t},lt.prototype.setCornerRadius=function(t,e){this.setRx(t).setRy(e)},lt.prototype.setRect=function(t,e,i,n){t instanceof m?this.setX(t.x).setY(t.y).setWidth(t.w).setHeight(t.h):this.setX(t).setY(e).setWidth(i).setHeight(n)},lt.prototype.copyShape=function(){var t=new lt(this.getCtx(),this.getX(),this.getY(),this.getWidth(),this.getHeight());return t.setRx(this.getRx()).setRy(this.getRy()),t.setStrokeAlignment(this.getStrokeAlignment()),t},lt.prototype.getDimensionsSelf=function(t){var e=new m(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(e,t)};const ut=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(ut,i),ut.prototype.Init=function(t,e,i,n,r){this._interval=e,this._callback=i,this._callbackObj=n,this._repeatCount=r,this._bRunning=!1,this._numIterations=0},ut.prototype.start=function(){this._bRunning||(this._bRunning=!0,this.StartTimer())},ut.prototype.stop=function(){this._bRunning&&(this._bRunning=!1,this.StopTimer())},ut.prototype.reset=function(){this._bRunning&&this.stop(),this._numIterations=0},ut.prototype.isRunning=function(){return this._bRunning},ut.prototype.HandleTimer=function(){this._callback&&(this._callback.call(this._callbackObj),this._repeatCount&&(this._numIterations++,this._numIterations>=this._repeatCount&&this.stop()))},ut.prototype.setInterval=function(t){var e=t;e<0&&(e=0);var i=this._bRunning;i&&this.stop(),this._interval=e,i&&this.start()},ut.prototype.getInterval=function(){return this._interval},ut.prototype.StartTimer=function(){var t=this,e=this.HandleTimer;this._timerId=window.setInterval(function(){e.call(t)},this.getInterval())},ut.prototype.StopTimer=function(){this._timerId&&(window.clearInterval(this._timerId),this._timerId=null)};const ct=function(t,e){this._Init(t,e)};i.createSubclass(ct,J),ct.DEFAULT_BORDER_COLOR="gray",ct.DEFAULT_BACKGROUND_COLOR="#ffffff",ct.prototype._Init=function(t,e){this._context=t,ct.superclass.Init.call(this,t),this._tooltipText=null,this._tooltipBorderColor=null,this._menuFontSize=11,this._tooltipFill=new K(ct.DEFAULT_BACKGROUND_COLOR),this._fontSize=11},ct.prototype.getRootDisplayable=function(){return this},ct.prototype.UpdateTooltipSize=function(t,e){this._displayWidth=t,this._displayHeight=e},ct.prototype.getDisplayWidth=function(){return this._displayWidth},ct.prototype.getDisplayHeight=function(){return this._displayHeight},ct.prototype.clearContent=function(){this.clearMenuItems(),this.setTooltipBorderColor(null),this.setTooltipText(null)},ct.prototype.setTooltipBorderColor=function(t){this._tooltipBorderColor=t},ct.prototype.getTooltipBorderColor=function(){return this._tooltipBorderColor},ct.prototype.setTooltipText=function(t){this._tooltipText=t},ct.prototype.addMenuItem=function(t){this.getMenuItems().push(t)},ct.prototype.hasMenuItems=function(){var t=this.getMenuItems();return t&&t.length>0},ct.prototype.clearMenuItems=function(){this._menuItems&&(this._menuItems=[])},ct.prototype.getMenuItems=function(){return this._menuItems||(this._menuItems=new Array),this._menuItems},ct.prototype.containsMenuId=function(t){for(var e=this.getMenuItems(),i=0;i<e.length;i++){if(e[i].getId()==t)return!0}return!1},ct.prototype.Render=function(){var t=this.getRootDisplayable();if(t.removeChildren(),this.hasMenuItems()){var e=0,i=0;t.setAlpha(1);var n=new Array,r=new Array;e+=2.5;for(var o=this.getMenuItems(),s=0;s<o.length;s++){var a=o[s],h=new at(this._context,a.getText(),0,0,null);h.alignBottom(),h.setFontSize(this._menuFontSize),h._menu=a;var l=h.getDimensions();l.y=5+e;var u=l.w;r.push(l),i=Math.max(u+21+10,i),h.setY(l.y),e+=l.h,s<o.length-1&&(e+=5),n.push(h),h.alignLeft(),h.alignTop()}var c=i+8+2,_=5+(e+=2.5)+4+1;this.UpdateTooltipSize(c+2,_+2),t.setTranslate(1,1);var p=new lt(this._context,0,0,c,_);p.setSolidStroke("rgb(229,232,238)"),p.setFill(this._tooltipFill),t.addChildAt(p,0);for(s=0;s<n.length;s++){var d=n[s];t.addChild(d);u=r[s].w;if(d._menu){var g=new m(0,r[s].y-2.5,c,r[s].h+5),f=new lt(this._context,g.x,g.y,g.w,g.h);f.setInvisibleFill(),f._menu=d._menu,t.addChild(f)}d.setTranslateX(21)}}};var _t=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(_t,i),_t.prototype.Init=function(t,e,i,n,r){this._context=t,this._id=e,this._text=i,this._listener=n,this._listenerObj=r},_t.prototype.getId=function(){return this._id},_t.prototype.getText=function(){return this._text},_t.prototype.FireActionTooltipItem=function(t){if(this._listenerObj&&this._listener){var e=new Object;e.target=t,e.menuItem=this._menuItem,this._menuItemTimer=new ut(this._context,1,this._handleMenuTimer,this),this._menuItemTimer.evt=e,this._menuItemTimer.start()}},_t.prototype._handleMenuTimer=function(){this._menuItemTimer&&this._menuItemTimer.stop(),this._listener.call(this._listenerObj,this._menuItemTimer.evt)};const pt=function(t,e){this.Init(t,e)};i.createSubclass(pt,it),pt.prototype.Init=function(t,e){this._storedContexts=new Object,pt.superclass.Init.call(this,t,e)},pt.prototype.InitContent=function(t){t.innerHTML="";var e=this._context.createContext(t,"DvtCustomTooltip");this._storedContexts[this._domElementId]=e},pt.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]},pt.prototype.showRichElement=function(t,e,i,n){this.showRichElementAtPosition(t,e,i,n,!1)},pt.prototype.showRichElementAtPosition=function(t,e,i,n,r){var o=this.getTooltipElem();o.style.position="absolute",o.style.zIndex=2147483647;var s=this.GetStoredContext();if(s){var a=s.getStage();a.removeChildren();var h=i.getRootDisplayable();a.addChild(h),i&&i.Render&&i.Render();var l=a.getSVGRoot();u.setAttrNullNS(l,"width",i.getDisplayWidth()),u.setAttrNullNS(l,"height",i.getDisplayHeight()),this.PostElement(o,t,e,r,n)}},pt.prototype.hideTooltip=function(){pt.superclass.hideTooltip.call(this);var t=this.GetStoredContext();t&&t.getStage().removeChildren()};const dt=function(t,e,i,n,r){this.type=t,this.touch=e,this.target=i,this.relatedTarget=n,this._nativeEvent=r,this._isPropagationStopped=!1};dt.TOUCH_HOLD_START_TYPE="touchholdstart",dt.TOUCH_HOLD_MOVE_TYPE="touchholdmove",dt.TOUCH_HOLD_END_TYPE="touchholdend",dt.TOUCH_HOVER_START_TYPE="touchhoverstart",dt.TOUCH_HOVER_MOVE_TYPE="touchhovermove",dt.TOUCH_HOVER_END_TYPE="touchhoverend",dt.TOUCH_HOVER_OVER_TYPE="touchhoverover",dt.TOUCH_HOVER_OUT_TYPE="touchhoverout",dt.TOUCH_CLICK_TYPE="touchclick",dt.TOUCH_DOUBLE_CLICK_TYPE="touchdblclick",dt.prototype.preventDefault=function(){},dt.prototype.stopPropagation=function(){this._isPropagationStopped=!0},dt.prototype.isPropagationStopped=function(){return this._isPropagationStopped},dt.prototype.getNativeEvent=function(){return this._nativeEvent};const gt=function(){};i.createSubclass(gt,i),gt.elementFromPoint=function(t,e){for(var i=document.elementFromPoint(t,e);i;){if(i._obj)return i._obj;i=i.parentNode}return null},gt.elementFromTouch=function(t){return this.elementFromPoint(t.clientX,t.clientY)},gt.addDragListeners=function(t,e,i,n,o,s){var a,h=r.isTouchDevice(),l=t.getCtx(),u=document.body.style,c=function(t){t.stopPropagation()},_=function(t){e.call(o,t)&&(h?(document.addEventListener("touchmove",p,{capture:!0,passive:!1}),document.addEventListener("touchend",d,!0)):(document.addEventListener("mousemove",p,!0),document.addEventListener("mouseup",d,!0),a=!1,s&&document.addEventListener("click",c,!0)),gt._webkitUserSelect=u.webkitUserSelect,gt._mozUserSelect=u.MozUserSelect,u.webkitUserSelect="none",u.MozUserSelect="none")},p=function(t){a=!0;var e=k.newEvent(t,l);i.call(o,e)},d=function(t){h?(document.removeEventListener("touchmove",p,!0),document.removeEventListener("touchend",d,!0)):(document.removeEventListener("mousemove",p,!0),document.removeEventListener("mouseup",d,!0),"firefox"===r.browser&&a&&!s&&(document.addEventListener("click",c,{capture:!0,once:!0}),setTimeout(function(){document.removeEventListener("click",c,{capture:!0,once:!0})},0)),a=!1,s&&setTimeout(function(){document.removeEventListener("click",c,!0)},50)),u.webkitUserSelect=gt._webkitUserSelect,u.MozUserSelect=gt._mozUserSelect;var e=k.newEvent(t,l);n.call(o,e)};h?t.addEvtListener(L.TOUCHSTART,_):t.addEvtListener(F.MOUSEDOWN,_)},gt.createStaticCallback=function(t,e,i){return function(n){var r=k.newEvent(n,t);e.call(i,r)}},gt.disableMouseEvents=function(t){if(t.style&&(t.style.pointerEvents="none"),t.childNodes)for(var e=0;e<t.childNodes.length;e++)gt.disableMouseEvents(t.childNodes[e])};const ft=function(t,e,i){this.Init(t,e,i)};i.createSubclass(ft,i),ft.TOUCH_MODE="mode",ft.TOUCH_MODE_DEFAULT="defaultMode",ft.TOUCH_MODE_LONG_PRESS="longPressMode",ft.PREV_HOVER_OBJ="prevHoverObj",ft.HOVER_TOUCH_KEY="hoverTouch",ft.prototype.Init=function(t,e,i){this._context=e,this._id=t,this._eventManager=i,this._touchCount=0,this._touchHoldTimer=new ut(this._context,200,this._handleTouchHoldStartTimer,this),this._blockTouchHold=!1,this._touchMap=new Object,this._savedTouchInfo=new Array,this._addTouchHoldMoveEventListener(this._onTouchHoldHover,this),this._doubleTapTimer=new ut(this._context,600,this._handleDoubleTapTimer,this,1),this._dvtTouchEvent=null},ft.prototype.blockTouchHold=function(){this._stopTouchHoldTimer(),this._blockTouchHold=!0},ft.prototype.unblockTouchHold=function(){this._blockTouchHold=!1},ft.prototype._addTouchHoldMoveEventListener=function(t,e){this.addTouchEventListener(dt.TOUCH_HOLD_START_TYPE,t,e),this.addTouchEventListener(dt.TOUCH_HOLD_MOVE_TYPE,t,e),this.addTouchEventListener(dt.TOUCH_HOLD_END_TYPE,t,e)},ft.prototype._onTouchHoldHover=function(t){var e=t.type,i=t.touch,n=t.getNativeEvent(),r=this._touchMap[i.identifier],o=t.target;if(e==dt.TOUCH_HOLD_END_TYPE){var s=new dt(dt.TOUCH_HOVER_END_TYPE,i,o,null,n);s._isCancelEvent=this._isCancelEvent,null!=o&&this.FireListener(new dt(dt.TOUCH_HOVER_OUT_TYPE,i,o,null,n)),r[ft.PREV_HOVER_OBJ]=null,this.FireListener(s)}else e==dt.TOUCH_HOLD_START_TYPE?(r[ft.PREV_HOVER_OBJ]=null,null!=o&&this.FireListener(new dt(dt.TOUCH_HOVER_OVER_TYPE,i,o,null,n)),r[ft.PREV_HOVER_OBJ]=o,this.FireListener(new dt(dt.TOUCH_HOVER_START_TYPE,i,o,null,n))):e==dt.TOUCH_HOLD_MOVE_TYPE&&(this._fireHoverOverOutEvents(o,r[ft.PREV_HOVER_OBJ],i,n),r[ft.PREV_HOVER_OBJ]=o,this.FireListener(new dt(dt.TOUCH_HOVER_MOVE_TYPE,i,o,null,n)))},ft.prototype._getObjFromTouch=function(t){return t?gt.elementFromTouch(t):null},ft.prototype._fireHoverOverOutEvents=function(t,e,i,n){e!=t&&(null!=e&&this.FireListener(new dt(dt.TOUCH_HOVER_OUT_TYPE,i,e,t,n)),null!=t&&this.FireListener(new dt(dt.TOUCH_HOVER_OVER_TYPE,i,t,e,n)))},ft.prototype.addTouchEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},ft.prototype.removeTouchEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e&&n[r+1]===i){n.splice(r,2);break}},ft.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},ft.prototype.FireListener=function(t){var e=this._getListeners(t.type,!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},ft.prototype.startTouchHold=function(t){var e=this._startSingleFingerTouchId;if(null!=e&&!isNaN(e)){var i=this._touchMap[e];if(i){for(var n=i.startTarget,r=i.startTouch,o=t.getNativeEvent(),s=this._findMatches("touchId",e),a=0;a<s.length;a++){var h=s[a],l=h.touchObj,u=h.touchId;if(l!=ft.HOVER_TOUCH_KEY){var c=this.getTouchInfo(u).startTouch;this.performAssociatedTouchEnd(c,l,null)}}i[ft.TOUCH_MODE]=ft.TOUCH_MODE_LONG_PRESS,this.saveProcessedTouch(e,ft.HOVER_TOUCH_KEY,null,ft.HOVER_TOUCH_KEY,ft.HOVER_TOUCH_KEY,this.HoverMoveInternal,this.HoverEndInternal,this);var _=new dt(dt.TOUCH_HOLD_START_TYPE,r,n,null,o);this.FireListener(_)}}},ft.prototype.fireLogicalEvents=function(t){var e=t.type,i=t.getNativeEvent();if(e==L.TOUCHSTART?(t.isTouchHoldBlocked()||this.processAssociatedTouchAttempt(t,ft.HOVER_TOUCH_KEY,this.HoverStartInternal,this),this._doubleTapAttemptStarted&&t.preventDefault()):e==L.TOUCHMOVE?this.processAssociatedTouchMove(t,ft.HOVER_TOUCH_KEY):e==L.TOUCHEND&&this.processAssociatedTouchEnd(t,ft.HOVER_TOUCH_KEY),e==L.TOUCHEND){this._context.oj.Logger.log("received touch end:"+performance.now());for(var n=this._getStoredTouches(t.changedTouches),r=0;r<n.length;r++){var o=n[r],s=o.identifier,a=this.getTouchInfo(s),h=a.currentObj;if(a[ft.TOUCH_MODE]!=ft.TOUCH_MODE_LONG_PRESS&&a.fireClick){var l=new dt(dt.TOUCH_CLICK_TYPE,o,h,null,i);if(l.touchEvent=t,this._context.oj.Logger.log("doubleTapAttemptStarted:"+this._doubleTapAttemptStarted),this._doubleTapAttemptStarted){var u=this._doubleTapAttemptObj;if(this.resetDoubleTap(),h==u||u.contains(h)){var c=new dt(dt.TOUCH_DOUBLE_CLICK_TYPE,o,h,null,i);c.touchEvent=t,this._context.oj.Logger.log("firing double tap"),this.FireListener(c)}else this.FireListener(l)}else this._context.oj.Logger.log("firing tap"),this.FireListener(l),this.resetDoubleTap(),this._context.oj.Logger.log("starting double tap timer"),this._doubleTapTimer.start(),this._doubleTapAttemptStarted=!0,this._doubleTapAttemptObj=h}}}},ft.prototype.getTouchInfo=function(t){return this._touchMap[t]},ft.prototype.HoverStartInternal=function(t,e){if(!this._blockTouchHold){var i=e.identifier;this._startSingleFingerTouchId=i,this._stopTouchHoldTimer(),this._startTouchHoldTimer(t)}},ft.prototype.HoverMoveInternal=function(t,e){var i=e.identifier,n=this.getTouchInfo(i).currentObj,r=new dt(dt.TOUCH_HOLD_MOVE_TYPE,e,n,null,t.getNativeEvent());this.FireListener(r),t.preventDefault()},ft.prototype.HoverEndInternal=function(t,e){var i=e.identifier,n=this.getTouchInfo(i).currentObj,r=new dt(dt.TOUCH_HOLD_END_TYPE,e,n,null,t.getNativeEvent());this.FireListener(r),t&&t.preventDefault()},ft.prototype.resetTouchHold=function(){this._startSingleFingerTouchId=null,this._stopTouchHoldTimer()},ft.prototype.preEventBubble=function(t){t.setTouchManager&&t.setTouchManager(this);var e=t.type;e==L.TOUCHSTART?this.processTouchStart(t):e==L.TOUCHMOVE?this.processTouchMove(t):e==L.TOUCHEND&&this.processTouchEnd(t)},ft.prototype.postEventBubble=function(t){var e=t.type;if(e==L.TOUCHSTART);else if(e==L.TOUCHMOVE);else if(e==L.TOUCHEND)for(var i=this._getStoredTouches(t.changedTouches),n=0;n<i.length;n++){var r=i[n].identifier;delete this._touchMap[r],this._startSingleFingerTouchId==r&&(this._startSingleFingerTouchId=null);for(var o=this._findMatches("touchId",r),s=0;s<o.length;s++){var a=o[s];this.removeTooltipInfo(a.touchId,a.touchObj)}}},ft.prototype.saveProcessedTouch=function(t,e,i,n,r,o,s,a){if(null!=t&&!isNaN(t)){var h=ft.createSavedTouchInfo(t,e,i,n,r,o,s,a);return this._savedTouchInfo.push(h),!0}return!1},ft.prototype.cancelTouchHold=function(){for(var t=ft.HOVER_TOUCH_KEY,e=this.getTouchIdsForObj(t),i=0;i<e.length;i++){var n=e[i],r=this.getTouchInfo(n).startTouch;r&&(this._isCancelEvent=!0,this.performAssociatedTouchEnd(r,t,null),this._isCancelEvent=!1,delete this._touchMap[n])}},ft.prototype.performAssociatedTouchEnd=function(t,e,i){for(var n=t.identifier,r=this._getSavedTouchInfo(n,e),o=0;o<r.length;o++){var s=r[o],a=s.listenerObj,h=s.endListener;this.removeTooltipInfo(n,e),h&&h.call(a,i,t,s)}},ft.prototype.processAssociatedTouchAttempt=function(t,e,i,n){for(var r=t.changedTouches,o=0;o<r.length;o++){var s=r[o];s&&i&&i.call(n,t,s)}},ft.prototype.processAssociatedTouchMove=function(t,e){for(var i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var r=i[n];if(null!=r&&!isNaN(r)){var o=ft.getTouchById(r,this._getStoredTouches(t.changedTouches));if(o){var s=this._getSavedTouchInfo(o.identifier,e);for(n=0;n<s.length;n++){var a=s[n],h=a.listenerObj,l=a.moveListener;l&&l.call(h,t,o)}}}}},ft.prototype.processAssociatedTouchEnd=function(t,e){for(var i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var r=i[n],o=ft.getTouchById(r,this._getStoredTouches(t.changedTouches));o&&this.performAssociatedTouchEnd(o,e,t)}},ft.prototype._findMatches=function(t,e){for(var i=new Array,n=0;n<this._savedTouchInfo.length;n++){var r=this._savedTouchInfo[n];r[t]==e&&i.push(r)}return i},ft.prototype._getSavedTouchInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=[],r=0;r<i.length;r++){var o=i[r];o.touchObj==e&&n.push(o)}return n},ft.prototype.getTouchIdsForObj=function(t){for(var e=new Array,i=this._findMatches("touchObj",t),n=0;n<i.length;n++){var r=i[n].touchId;e.push(r)}return e},ft.prototype.removeTooltipInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=new Array,r=0;r<i.length;r++){(h=i[r]).touchObj==e&&n.push(h)}for(r=0;r<n.length;r++){for(var o=n[r],s=-1,a=0;a<this._savedTouchInfo.length;a++){var h;(h=this._savedTouchInfo[a])==o&&(s=a)}-1!=s&&(this._savedTouchInfo.splice(s,1),0==this._savedTouchInfo.length&&this._context.getTooltipManager().hideTooltip())}},ft.prototype.setTooltipEnabled=function(t,e){for(var i=this._savedTouchInfo,n=0;n<i.length;n++){var r=i[n];r.touchId==t&&(r.allowTooltips=e)}},ft.prototype.getTooltipInfo=function(){for(var t=new Object,e=new Array,i=null,n=null,r=!1,o=this._findMatches("allowTooltips",!0),s=0;s<o.length;s++){var a,h=o[s],l=h.touchId;n?h.grouping!=n&&(r=!0):n=h.grouping;var u=this._touchMap[l];u&&(a=u.currentObj),h.tooltipObjOverride&&(a=h.tooltipObjOverride),e.push(l),i=a}return r&&(e=new Array),t.touchIds=e,t.tooltipTarget=i,t},ft.prototype.processTouchStart=function(t){var e=t.changedTouches,i=t.touches;this._touchCount=i.length;for(var n=0;n<e.length;n++){var r=e[n],o=r.screenX,s=r.screenY,a=r.identifier,h=this._getObjFromTouch(r),l={x:o,y:s,prevX:o,prevY:s,pageX:r.pageX,pageY:r.pageY,prevPageX:r.pageX,prevPageY:r.pageY,dx:0,dy:0,fireClick:!0,startTarget:h,currentObj:h,touchMoved:!1,touchtype:null,startTouch:r};l[ft.TOUCH_MODE]=ft.TOUCH_MODE_DEFAULT,l.origx=o,l.origy=s,this._touchMap[a]=l}return!this._isHovering()&&this._isTouchHoldAllowed()||t.blockTouchHold(),!0},ft.prototype._isTouchHoldAllowed=function(){var t=!1,e=0;for(var i in this._touchMap){this.getTouchInfo(i).touchMoved&&(t=!0),e++}return!(e>1&&!t)||(this.resetTouchHold(),!1)},ft.prototype._isHovering=function(){for(var t in this._touchMap){if(this.getTouchInfo(t)[ft.TOUCH_MODE]==ft.TOUCH_MODE_LONG_PRESS)return!0}return!1},ft.prototype._getStoredTouches=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],r=n.identifier;this.getTouchInfo(r)&&e.push(n)}return e},ft.prototype.processTouchMove=function(t){for(var e=this._getStoredTouches(t.changedTouches),i=this._getStoredTouches(t.touches),n=0;n<e.length;n++){var r=e[n],o=this._getObjFromTouch(r),s=r.identifier;if((u=this.getTouchInfo(s)).currentObj=o,u.touchMoved=!0,u[ft.TOUCH_MODE]!=ft.TOUCH_MODE_LONG_PRESS){var a=Math.abs(u.pageX-r.pageX),h=Math.abs(u.pageY-r.pageY);this._startSingleFingerTouchId==s&&(a>0||h>0)&&this.resetTouchHold(),u.touchMoved=a>3||h>3}(u.touchMoved||u.fireClick&&u[ft.TOUCH_MODE]!=ft.TOUCH_MODE_LONG_PRESS&&u.currentObj!=u.startTarget&&u.currentObj!=this._eventManager.getMarqueeGlassPane())&&(u.fireClick=!1)}for(n=0;n<i.length;n++){var l=(r=i[n]).identifier,u=this.getTouchInfo(l),c=r.screenX,_=r.screenY,p=c-u.x,d=_-u.y;u.prevX=u.x,u.prevY=u.y,u.dx=p,u.dy=d,u.x=c,u.y=_,u.prevPageX=u.pageX,u.prevPageY=u.pageY,u.pageX=r.pageX,u.pageY=r.pageY}return!0},ft.prototype.processTouchEnd=function(t){var e=t.changedTouches;this._touchCount=t.touches.length;for(var i=0;i<e.length;i++){var n=e[i],r=this._getObjFromTouch(n),o=n.identifier,s=this.getTouchInfo(o);if(s&&s.fireClick)if(s[ft.TOUCH_MODE]==ft.TOUCH_MODE_LONG_PRESS)this._startSingleFingerTouchId=null;else{var a=r==s.startTarget,h=s.touchMoved,l=a&&!h;s.fireClick=l}}return!0},ft.getTouchById=function(t,e){if(null!=t&&!isNaN(t))for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier==t)return n}return null},ft.createSavedTouchInfo=function(t,e,i,n,r,o,s,a){var h={touchId:t,tooltipObjOverride:i,grouping:n,type:r,touchObj:e,allowTooltips:!0};return h.moveListener=o,h.endListener=s,h.listenerObj=a,h},ft.prototype._handleTouchHoldStartTimer=function(){var t=this._dvtTouchEvent;this._stopTouchHoldTimer(),this.startTouchHold(t)},ft.prototype._startTouchHoldTimer=function(t){this._dvtTouchEvent=t,this._touchHoldTimer&&this._touchHoldTimer.start()},ft.prototype._stopTouchHoldTimer=function(){this._dvtTouchEvent=null,this._touchHoldTimer&&this._touchHoldTimer.stop()},ft.prototype._handleDoubleTapTimer=function(){this._context.oj.Logger.log("double tap timer expired"),this.resetDoubleTap()},ft.prototype.resetDoubleTap=function(){this._doubleTapAttemptStarted=!1,this._doubleTapAttemptObj=null,this._doubleTapTimer.stop()},ft.prototype.getMultiTouchData=function(t){if(2==t.length){var e=this._touchMap[t[0]],i=this._touchMap[t[1]];if(null==e||null==i)return null;if(0==e.dx&&0==i.dy)return null;var n=e.pageX-i.pageX,r=e.pageY-i.pageY,o=Math.sqrt(n*n+r*r),s=e.prevPageX-i.prevPageX,a=e.prevPageY-i.prevPageY,h=o-Math.sqrt(s*s+a*a),l=(e.pageX+i.pageX)/2,u=(e.pageY+i.pageY)/2;return{dz:h,cx:l,cy:u,dcx:l-(e.prevPageX+i.prevPageX)/2,dcy:u-(e.prevPageY+i.prevPageY)/2,dist:o}}return null},ft.prototype.calcAveragePosition=function(t){for(var e=0,i=0,r=t.length,o=0;o<r;o++){var s=t[o],a=this.getTouchInfo(s);e+=a.pageX,i+=a.pageY}return new n(e/=r,i/=r)},ft.prototype.getStartTargetsByIds=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=this.getTouchInfo(t[i]);e.push(n.startTarget)}return e},ft.prototype.reset=function(){this._touchMap=new Object,this._savedTouchInfo=new Array,this.resetTouchHold(),this.resetDoubleTap()};const yt=new Object;i.createSubclass(yt,i),yt.newEvent=function(t,e){var i={type:t};return e&&(i.id=e),i},yt.newOptionChangeEvent=function(t,e,i){var n=yt.newEvent("optionChange");return n.key=t,n.value=e,n.optionMetadata=i,n},yt.newRenderEvent=function(){return yt.newEvent("dvtRender")},yt.newCategoryHideEvent=function(t,e){var i=yt.newEvent("categoryHide");return i.category=t,i.hiddenCategories=e,i},yt.newCategoryShowEvent=function(t,e){var i=yt.newEvent("categoryShow");return i.category=t,i.hiddenCategories=e,i},yt.newCategoryHighlightEvent=function(t,e){var i=yt.newEvent("categoryHighlight");return i._highlightType=e?"over":"out",t=t||[],i.categories=t instanceof Array?t:[t],i},yt.newDrillEvent=function(t,e){var i=yt.newEvent("drill",t);return e&&(i.subType=e),i},yt.newReadyEvent=function(){return yt.newEvent("ready")},yt.newSelectionEvent=function(t){var e=yt.newEvent("selection");return e.selection=t,e},yt.newTouchHoldReleaseEvent=function(t){var e=yt.newEvent("touchHoldRelease");return e.nativeEvent=t,e},yt.newValueChangeEvent=function(t,e,i){var n=yt.newEvent("valueChange");return n.oldValue=t,n.newValue=e,n.complete=i,n},yt.newActionTooltipEvent=function(t,e){var i=yt.newEvent(t);return i.target=e,i},yt.newPanZoomEvent=function(t,e,i,n,r,o,s,a,h){var l=yt.newEvent("dvtPanZoom");return l.subtype=t,l.dxMin=e,l.dxMax=i,l.dyMin=n,l.dyMax=r,l.dxMinTotal=o,l.dxMaxTotal=s,l.dyMinTotal=a,l.dyMaxTotal=h,l},yt.newSimpleScrollbarEvent=function(t,e,i){var n=yt.newEvent("dvtSimpleScrollbar");return n.subtype=t,n.newMin=e,n.newMax=i,n},yt.newOverviewEvent=function(t,e,i,n,r,o,s,a,h){var l=yt.newEvent("overview");return l.subtype=t,l.newX1=e,l.newX2=i,l.newY1=n,l.newY2=r,l.oldX1=o,l.oldX2=s,l.oldY1=a,l.oldY2=h,l},yt.newChartDrillEvent=function(t,e,i,n){var r=yt.newDrillEvent(t,n);return r.series=e,r.group=i,r},yt.newChartSelectionEvent=function(t,e,i,n,r,o,s,a,h,l){var u=yt.newSelectionEvent(t);return u.complete=e,u.xMin=i,u.xMax=n,u.startGroup=r,u.endGroup=o,u.yMin=s,u.yMax=a,u.y2Min=h,u.y2Max=l,u},yt.newChartViewportChangeEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("viewportChange");return a.complete=t,a.xMin=e,a.xMax=i,a.startGroup=n,a.endGroup=r,a.yMin=o,a.yMax=s,a},yt.newMarqueeEvent=function(t,e,i,n,r,o){var s=yt.newEvent("dvtMarquee");return s.subtype=t,s.x=e,s.y=i,s.w=n,s.h=r,s.ctrlKey=o,s},yt.newExpandCollapseEvent=function(t,e,i,n,r){var o=yt.newEvent(t,e);return o.expanded=r,o.data=i,o.component=n,o},yt.newTreeDrillEvent=function(t,e,i){var n=yt.newDrillEvent(t);return n.data=e,n.component=i,n},yt.newBreadcrumbsDrillEvent=function(t){return yt.newEvent("breadcrumbsDrill",t)},yt.newSunburstRotationEvent=function(t,e){var i=yt.newEvent("rotation");return i.complete=e,i.startAngle=t%360,i},yt.newThematicMapViewportChangeEvent=function(t,e,i){var n=yt.newEvent("viewportChange");return n.panX=t,n.panY=e,n.zoom=i,n},yt.newTimelineViewportChangeEvent=function(t,e,i){var n=yt.newEvent("viewportChange");return n.viewportStart=t,n.viewportEnd=e,n.minorAxisScale=i,n},yt.newGanttViewportChangeEvent=function(t,e,i,n){var r=yt.newTimelineViewportChangeEvent(t,e,n);return r.majorAxisScale=i,r},yt.newGanttMoveEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("move");return a.taskContexts=t,a.value=e,a.start=i,a.end=n,a.baselineStart=r,a.baselineEnd=o,a.rowContext=s,a},yt.newGanttResizeEvent=function(t,e,i,n,r){var o=yt.newEvent("resize");return o.taskContexts=t,o.value=e,o.start=i,o.end=n,o.typeDetail=r,o},yt.newGanttScrollPositionChangeEvent=function(t,e,i){var n=yt.newEvent("scrollPositionChange");return n.y=t,n.rowIndex=e,n.offsetY=i,n},yt.newGanttExpandCollapseEvent=function(t,e,i,n,r){var o=yt.newEvent(t,e);return o.rowData=i,o.itemData=n,o.expanded=r,o},yt.newTreemapIsolateEvent=function(t){return yt.newEvent("isolate",t)},yt.newPanEvent=function(t,e,i,n,r,o){var s=yt.newEvent("dvtPan");return s.subtype=t,s.newX=e,s.newY=i,s.oldX=n,s.oldY=r,s.animator=o,s},yt.newZoomEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("dvtZoom");return a.subtype=t,a.newZoom=e,a.oldZoom=i,a.animator=n,a.centerPoint=r,a.tx=o,a.ty=s,a},yt.newTimelineOverviewEvent=function(t,e,i){var n=yt.newEvent("timeline");return n.subtype=t,n.itemId=e,n.isMultiSelect=i,n};const vt=function(){this.Init()};i.createSubclass(vt,i),vt.prototype.Init=function(){this._map={}},vt.prototype.get=function(t,e){return this._getInnerMap(t)[e]},vt.prototype.put=function(t,e,i){var n=this._getInnerMap(t),r=n[e];return n[e]=i,r},vt.prototype._getInnerMap=function(t){var e=this._map[t];return e||(e={},this._map[t]=e),e};const St=function(){this.Init()};St.prototype.Init=function(){this.Cache={}},St.prototype.clearCache=function(){this.Cache={}},St.prototype.getFromCache=function(t){return this.Cache[t]},St.prototype.putToCache=function(t,e){this.Cache[t]=e},St.prototype.getFromCachedMap=function(t,e){return this._getCachedMap(t)[e]},St.prototype._getCachedMap=function(t){var e=this.getFromCache(t);return e||(e={},this.putToCache(t,e)),e},St.prototype.putToCachedMap=function(t,e,i){this._getCachedMap(t)[e]=i},St.prototype.getFromCachedMap2D=function(t,e,i){return this._getCachedMap2D(t).get(e,i)},St.prototype._getCachedMap2D=function(t){var e=this.getFromCache(t);return e||(e=new vt,this.putToCache(t,e)),e},St.prototype.putToCachedMap2D=function(t,e,i,n){this._getCachedMap2D(t).put(e,i,n)};const Tt={format:function(t,e){return t?t.replace(/\{(\d+)\}/g,function(){return e[arguments[1]]}):t}},Et=new Object;i.createSubclass(Et,i),Et.clone=function(t,e,i){if(null==t)return null;var n=null;if(t instanceof Array){n=[];for(var r=0;r<t.length;r++)Et._isDeepClonable(t[r])?n[r]=Et.clone(t[r],e,i):n[r]=t[r]}else if(t instanceof j)n=t.clone();else if(t instanceof Date)n=t.getTime();else if(Et._isClonableObject(t))for(var o in n={},t)if(!e||e(o)){var s=t[o];if(i&&1==i[o]||!Et._isDeepClonable(s)||"_widgetConstructor"==o)n[o]=s;else{var a=i?i[o]:null;n[o]=Et.clone(s,e,a)}}return n},Et.merge=function(t,e,i){var n=t&&t._dvtNoClone?t:Et.clone(t,null,i);if(e&&e._dvtNoClone)throw new Error("Do not merge because content will be modified.");var r=Et.clone(e,null,i);if(null==n)return r;if(null==r&&n._dvtNoClone)throw new Error("Do not return an uncloned object.");return null==r?n:(Et._copy(n,r),r)},Et._copy=function(t,e){for(var i in t){var n=t[i];void 0!==n&&(n&&n instanceof Array||"_widgetConstructor"==i?e[i]=n:e[i]&&e[i]instanceof j?n instanceof j?e[i].merge(n):e[i].merge(new j(n)):Et._isDeepClonable(n)&&e[i]?Et._copy(n,e[i]):e[i]=n)}},Et._isDeepClonable=function(t){return t instanceof Object&&(!t.has&&(!t._dvtNoClone&&!(t instanceof Boolean||t instanceof String||t instanceof Number||t instanceof Function||t.then)))},Et._isClonableObject=function(t){return t instanceof Object&&(!t.then&&(!t.jquery&&(!t.has&&(!("undefined"!=typeof NodeList&&t instanceof NodeList)&&(!("undefined"!=typeof Node&&t instanceof Node)&&!t._dvtNoClone)))))};const mt=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(mt,J),mt._LINE_SPACE=0,mt.H_ALIGN_LEFT="left",mt.H_ALIGN_CENTER="center",mt.H_ALIGN_RIGHT="right",mt.V_ALIGN_TOP="top",mt.V_ALIGN_MIDDLE="middle",mt.V_ALIGN_CENTRAL="central",mt.V_ALIGN_BOTTOM="bottom",mt.prototype.Init=function(t,e,i,n,r,o){mt.superclass.Init.call(this,t,null,r),this._textInstance=null,this._additionalLines=[],this._lineHeight=null,this._yCoord=null,this._noWrap=!1,this._preserveNewLine=o||!1,this._preservedLines=[],this.setTextString(e),this.setX(i||0),this.setY(n||0),this.setMaxLines(1/0)},mt.prototype.getTextString=function(){return this._textString},mt.prototype.setTextString=function(t){this._textString=null!=t?String(t):null,this._textInstance?(this._textInstance.setTextString(t),this._removeAdditionalLines()):(this._textInstance=new at(this.getCtx(),this._textString),this.addChild(this._textInstance)),this._preserveNewLine&&(this._generatePreservedLines(),this.wrapText(1/0,1/0,1,!1)),this._bTruncated=!1},mt.prototype._getTextLines=function(){var t=this._additionalLines.slice();return this._textInstance.getParent()==this&&t.unshift(this._textInstance),t},mt.prototype.getX=function(){return this._textInstance.getX()},mt.prototype.setX=function(t){return this._getTextLines().forEach(function(e){e.setX(t)}),this},mt.prototype.getY=function(){return this._textInstance.getY()},mt.prototype.getYAlignCoord=function(){return this._yCoord},mt.prototype.setY=function(t){if(this._yCoord=t,this._vertAlign)this._alignVerticalText();else{var e=t-this._textInstance.getY();e||(e=t),this._getTextLines().forEach(function(t){var i=t.getY();t.setY(i?i+e:e)})}return this},mt.prototype.getMaxLines=function(){return this.GetProperty("maxLines")},mt.prototype.setMaxLines=function(t){if(t>0)return this.SetProperty("maxLines",t)},mt.prototype.isTruncated=function(){return this._bTruncated},mt.prototype.getHorizAlignment=function(){return this._textInstance.getHorizAlignment()},mt.prototype.setHorizAlignment=function(t){return this._getTextLines().forEach(function(e){e.setHorizAlignment(t)}),this},mt.prototype.alignLeft=function(){this._horizAlign!=mt.H_ALIGN_LEFT&&(this._horizAlign=mt.H_ALIGN_LEFT,this._getTextLines().forEach(function(t){t.alignLeft()}))},mt.prototype.alignCenter=function(){this._horizAlign!=mt.H_ALIGN_CENTER&&(this._horizAlign=mt.H_ALIGN_CENTER,this._getTextLines().forEach(function(t){t.alignCenter()}))},mt.prototype.alignRight=function(){this._horizAlign!=mt.H_ALIGN_RIGHT&&(this._horizAlign=mt.H_ALIGN_RIGHT,this._getTextLines().forEach(function(t){t.alignRight()}))},mt.prototype.alignTop=function(){this._vertAlign!=mt.V_ALIGN_TOP&&(this._vertAlign=mt.V_ALIGN_TOP,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignTop()}))},mt.prototype.alignMiddle=function(){this._vertAlign!=mt.V_ALIGN_MIDDLE&&(this._vertAlign=mt.V_ALIGN_MIDDLE,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignMiddle()}))},mt.prototype.alignCentral=function(){this._vertAlign!=mt.V_ALIGN_CENTRAL&&(this._vertAlign=mt.V_ALIGN_CENTRAL,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignCentral()}))},mt.prototype.alignBottom=function(){this._vertAlign!=mt.V_ALIGN_BOTTOM&&(this._vertAlign=mt.V_ALIGN_BOTTOM,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignBottom()}))},mt.prototype._alignVerticalText=function(){if(this._vertAlign)for(var t=this.getYAlignCoord(),e=this.getLineCount(),i=this.getLineHeight(),n=this._getTextLines(),r=0,o=0;o<n.length;o++){var s=n[o];if(this._vertAlign==mt.V_ALIGN_TOP)r=i*o;else if(this._vertAlign==mt.V_ALIGN_MIDDLE||this.vertAlign==mt.V_ALIGN_CENTRAL){r=i*o-i*(e-1)/2}else this._vertAlign==mt.V_ALIGN_BOTTOM&&(r=-i*(e-o-1));s.setY(t+r)}},mt.prototype.getCSSStyle=function(){return this._textInstance.getCSSStyle()},mt.prototype.setCSSStyle=function(t){return this._lineHeight=null,this._getTextLines().forEach(function(e){e.setCSSStyle(t)}),this},mt.prototype.copyShape=function(){var t=new mt(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()).setHorizAlignment(this.getHorizAlignment()).setMaxLines(this.getMaxLines()),t},mt.prototype._removeAdditionalLines=function(){for(var t=0;t<this._additionalLines.length;t++)this.removeChild(this._additionalLines[t]);this._additionalLines=[]},mt.prototype._generatePreservedLines=function(){if(this._preserveNewLine){this._preservedLines=[];var t=this.getTextString().split(/\n+/),e=this._textInstance,i=null;this._preservedLines.push(e);for(var n=0;n<t.length;n++)if(i=t[n].replace(/\s+/g," "),e.setTextString(i),n<t.length-1){var r=e.copyShape();this._preservedLines.push(r),e=r}}},mt.prototype.__fitText=function(t,e,i){if(!this._preserveNewLine){if(this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!st.fitText(this._textInstance,t,e,this,i))return this.getParent().removeChild(this),!1;if(!this._textInstance.isTruncated())return!0;if(!this.isWrapEnabled())return this._bTruncated=!0,!0}return this.wrapText(t,e,i,!1)},mt.prototype.wrapText=function(t,e,i,n){this.getLineCount()>1&&this._removeAdditionalLines();var r=this.getLineHeight(),o=r*mt._LINE_SPACE,s=this.getMaxLines(),a=Math.min(e,s*(r+o)-o)-r-o;if(this._preserveNewLine){for(var h=!1,l=null,u=0;u<this._preservedLines.length;u++){var c=this._preservedLines[u];if(a<o+r)return this._bTruncated=!0,h;if(st.fitText(c,t,1/0,this,i)){if(h=!0,a-=o+r,c.isTruncated()&&!this.isTruncated()&&(this._bTruncated=!0),u>0){this._additionalLines.push(c);var _=l?l.getY()+o+r:this.getY();c.setY(_),this.addChild(c)}l=c}}return h}c=this._textInstance;var p=null,d=null,g=null,f=this.getTextString().split(/\s+/);f.reverse();for(var y=function(){var t=c.copyShape();t.setY(c.getY()+o+r),this.addChild(t),this._additionalLines.push(t),c=t,p=null,a-=o+r}.bind(this),v=!0;f.length>0;){var S=f.pop(),T=p?p+" "+S:S;if(c.setTextString(T),c.setUntruncatedTextString(null),st.fitText(c,t,1/0,this,i,!0))if(c.isTruncated()){if(a<o+r)return this._bTruncated=!0,!0;if(g=c.getTextString(),d=c,p)c.setTextString(p),f.push(S);else{if(n)return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!1;this._bTruncated=!0}f.length>0&&y()}else p=T;else{if(null==p){if(v||!d)return this._textInstance.setTextString(null),this._removeAdditionalLines(),!1;d.setTextString(g);for(var E=this._additionalLines.pop();E&&E!==d;)this.removeChild(E),E=this._additionalLines.pop();return E&&this._additionalLines.push(E),!0}f.push(S),y()}v=!1}return!0},mt.prototype.GetSvgDimensions=function(t){var e=this._getTextLines();if(0==e.length)return new m(0,0,0,0);var i=new m(1/0,1/0,0,0);return e.forEach(function(t){var e=t.getDimensions();i.x=Math.min(i.x,e.x),i.y=Math.min(i.y,e.y),i.w=Math.max(i.w,e.w),i.h+=e.h}),this.ConvertCoordSpaceRect(i,t)},mt.prototype.getLineCount=function(){return this._additionalLines.length+1},mt.prototype.getLineHeight=function(){return this._lineHeight||(this._lineHeight=st.getTextStringHeight(this.getCtx(),this.getCSSStyle())),this._lineHeight},mt.prototype.setWrapEnabled=function(t){0==t&&(this._textInstance.getParent()!=this&&this.addChild(this._textInstance),this._textInstance.getTextString()||this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines()),this._noWrap=!t},mt.prototype.isWrapEnabled=function(){return 0==this._noWrap},mt.prototype.getUntruncatedTextString=function(){return this.isTruncated()?this.getTextString():null},mt.prototype.setUntruncatedTextString=function(t){},mt.prototype.getDimensions=function(t){return this.GetSvgDimensions(t)},mt.prototype.UpdateSelectionEffect=function(){},mt.prototype.getHorizAlignment=function(){return this._horizAlign},mt.prototype.setHorizAlignment=function(t){t==mt.H_ALIGN_LEFT?this.alignLeft():t==mt.H_ALIGN_CENTER?this.alignCenter():t==mt.H_ALIGN_RIGHT&&this.alignRight()},mt.prototype.getVertAlignment=function(){return this._vertAlign},mt.prototype.setVertAlignment=function(t){t==mt.V_ALIGN_TOP?this.alignTop():t==mt.V_ALIGN_MIDDLE?this.alignMiddle():t==mt.V_ALIGN_CENTRAL?this.alignCentral():t==mt.V_ALIGN_BOTTOM&&this.alignBottom()},mt.prototype.isMultiline=function(){return!0},mt.prototype.hasBackground=function(){return!1};const bt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(bt,i),bt.prototype.Init=function(t,e,i,n){this._tooltip=t,this._datatip=e,this._datatipColor=i,this._params=n},bt.prototype.getParams=function(){return this._params},bt.prototype.getTooltip=function(t){return this._tooltip},bt.prototype.getDatatip=function(t){return"function"==typeof this._datatip?this._datatip():this._datatip},bt.prototype.getDatatipColor=function(t){return"function"==typeof this._datatipColor?this._datatipColor():this._datatipColor};const Ct=function(){};i.createSubclass(Ct,J),Ct.prototype.Init=function(t,e,i){Ct.superclass.Init.call(this,t),this._callback=e,this._callbackObj=i,this.Defaults=null,this.Options=null,this.Width=0,this.Height=0,this.EventManager=null,this.Animation=null,this.AnimationStopped=!1,this._optionsCache=new St,this._cache=new St,this._SHARED_DEFS_DIV_ID="_dvtSharedDefs"},Ct.prototype.GetDefaults=function(t){return this.Defaults?this.Defaults.getDefaults(t):{}},Ct.prototype.GetComponentDescription=function(){return this.getOptions().translations.componentName},Ct.prototype.IsParentRoot=function(){return this.getParent()==this.getCtx().getStage()},Ct.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var t=this.getOptions().translations;this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(Tt.format(t.labelAndValue,[t.labelDataVisualization,O.processAriaLabel(this.GetComponentDescription())]))}},Ct.prototype.SetOptions=function(t){},Ct.prototype.getOptions=function(){return this.Options||(this.Options=this.GetDefaults()),this.Options},Ct.prototype.applyOptions=function(t,e){this.Options&&t&&this.SetOptions(Et.merge(t,this.Options,e))},Ct.prototype.render=function(t,e,i){},Ct.prototype.RenderComplete=function(){this.Animation=null,this.AnimationStopped=!1,this.getCtx().resetIsOffscreen(),this.dispatchEvent(yt.newReadyEvent())},Ct.prototype.getWidth=function(){return this.Width},Ct.prototype.getHeight=function(){return this.Height},Ct.prototype.highlight=function(t){},Ct.prototype.select=function(t){},Ct.prototype.dispatchEvent=function(t){this._callback&&this._callback.call&&this._callback.call(this._callbackObj,t,this)},Ct.prototype.getDimensionsWithStroke=function(t){return this.getDimensions(t)},Ct.prototype.getEventManager=function(){return this.EventManager},Ct.prototype.getKeyboardFocus=function(){var t=this.getEventManager();return t&&t.getFocus()?t.getFocus().getTargetElem():null},Ct.prototype.getCache=function(){return this._cache},Ct.prototype.getOptionsCache=function(){return this._optionsCache},Ct.prototype.StopAnimation=function(t){this.Animation&&(this.AnimationStopped=!0,this.Animation.stop(t||!1),this.Animation=null)},Ct.prototype.appendSharedDefs=function(t){var e=document.getElementById(this._SHARED_DEFS_DIV_ID);if(!e){(e=document.createElement("div")).id=this._SHARED_DEFS_DIV_ID,e.style.width="0px",e.style.height="0px",e.style.left="0px",e.style.top="0px",e.style.position="absolute";var i=u.createSvgDocument();u.setAttrNullNS(i,"width","0px"),u.setAttrNullNS(i,"height","0px");var n=A.createElement("defs");i.appendChild(n),e.appendChild(i),document.body.appendChild(e)}return(n=e.childNodes[0].childNodes[0]).appendChild(t),t},Ct.prototype.destroy=function(){this.StopAnimation(),this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null);var t=1===document.getElementsByClassName("oj-dvtbase").length,e=document.getElementById(this._SHARED_DEFS_DIV_ID);t&&e&&document.body.removeChild(e),Ct.superclass.destroy.call(this)},Ct.prototype.renderEmptyText=function(t,e,i,n,r){var o=new mt(t.getCtx(),e,i.x+i.w/2,i.y+i.h/2);r&&o.setCSSStyle(r),o.alignCenter(),o.alignMiddle();var s=i.w-2*st.EMPTY_TEXT_BUFFER;return st.fitText(o,s,1/0,t,0)&&(o.isTruncated()&&n.associate(o,new bt(o.getUntruncatedTextString())),o.setAriaProperty("hidden",null)),o};const At=function(t,e){this.Init(t,e)};i.createSubclass(At,i),At.TYPE_SINGLE="s",At.TYPE_MULTIPLE="m",At.prototype.Init=function(t,e){this._context=t,this._selection=[],this._type=e||At.TYPE_SINGLE,this._hiddenSelectedIds=[]},At.prototype.getType=function(){return this._type},At.prototype.getSelectedCount=function(){return this._selection.length},At.prototype.getSelection=function(){return this._selection.slice(0)},At.prototype.getSelectedIds=function(){for(var t=[],e=0;e<this._selection.length;e++)t.push(this._selection[e].getId());return t.concat(this._hiddenSelectedIds)},At.prototype.processInitialSelections=function(t,e){if(this.clearSelection(!0),t&&e){for(var i=new this._context.KeySetImpl(t),n=new Map,r=0,o=0;r!==t.length&&o<e.length;o++){if((a=e[o]).isSelectable&&a.isSelectable()){var s=i.get(a.getId());s!==i.NOT_A_KEY&&(r++,n.set(s,a))}}for(o=0;o<t.length;o++){var a;(a=n.get(t[o]))?this._addToSelection(a,!0,!0):this._hiddenSelectedIds.push(t[o])}}},At.prototype.processClick=function(t,e){if(t&&t.isUnrelatedToSelection&&t.isUnrelatedToSelection())return!1;var i=!1;return e&&this._type==At.TYPE_MULTIPLE?t&&t.isSelectable&&t.isSelectable()&&(i=t.isSelected()?this._removeFromSelection(t):this._addToSelection(t,!0)):i=t&&t.isSelectable&&t.isSelectable()?this._addToSelection(t,!1):this.clearSelection(),i},At.prototype.processGroupSelection=function(t,e){var i;e||this.clearSelection();for(var n=0;n<t.length;n++)(i=t[n])&&i.isUnrelatedToSelection&&i.isUnrelatedToSelection()||this._addToSelection(i,!0)},At.prototype.processMouseOver=function(t){t&&t.isSelectable&&t.isSelectable()&&t.showHoverEffect&&t.showHoverEffect()},At.prototype.processMouseOut=function(t){t&&t.isSelectable&&t.isSelectable()&&t.hideHoverEffect&&t.hideHoverEffect()},At.prototype._addToSelection=function(t,e,i){return!(t.isSelected()||t.isSelectable&&!t.isSelectable())&&(e||this.clearSelection(i),t.setSelected(!0,i),this._selection.push(t),!0)},At.prototype._removeFromSelection=function(t){if(!t.isSelected())return!1;t.setSelected(!1);for(var e=0;e<this._selection.length;e++)if(this._selection[e]==t){this._selection.splice(e,1);break}return!0},At.prototype.clearSelection=function(t){if(this._selection.length<=0&&this._hiddenSelectedIds.length<=0)return!1;for(;this._selection.length>0;){this._selection.pop().setSelected(!1,t)}return this._hiddenSelectedIds.length=0,!0};const Ot=function(t,e){this._callback=t,this._callbackObj=e,this._source=e,this._bHighlightMode=!1,this._hoverDelayCallback=null,this._highlightModeTimeout=null,this._hoverDelay=Ot._HOVER_DELAY};i.createSubclass(Ot,i),Ot._HOVER_DELAY=50,Ot._HOVER_TIMEOUT=1e3,Ot._ROLLOUT_TIMEOUT=250,Ot._FADE_OUT_OPACITY=.35,Ot.prototype.processEvent=function(t,e,i,n,r){if(t&&e&&0!=e.length){this._hoverDelayCallback&&(clearTimeout(this._hoverDelayCallback),this._hoverDelayCallback=null);var o=t._highlightType;if("over"==o){var s=this._bHighlightMode?this._hoverDelay:i;this._hoverDelayCallback=setTimeout(this.GetRolloverCallback(t,e,n,r),s),this._highlightModeTimeout&&(clearInterval(this._highlightModeTimeout),this._highlightModeTimeout=null)}else if("out"==o){var a=this._bHighlightMode?this._hoverDelay:Ot._ROLLOUT_TIMEOUT;this._hoverDelayCallback=setTimeout(this.GetRolloutCallback(t,e,n,r),a)}}},Ot.prototype.GetRolloverCallback=function(t,e,n,r){return i.createCallback(this,function(){this._bHighlightMode=!0,Ot.highlight(t.categories,e,n,r),this.FireCallback(t)})},Ot.prototype.GetRolloutCallback=function(t,e,n,r){return i.createCallback(this,function(){Ot.highlight(t.categories,e,n,r),this.SetHighlightModeTimeout(),this.FireCallback(t)})},Ot.prototype.FireCallback=function(t){this._callback&&this._callback.call(this._callbackObj,t,this._source)},Ot.highlight=function(t,e,i,n){if(e)for(var r=n||Ot._FADE_OUT_OPACITY,o=0;o<e.length;o++){var s=e[o];if(s&&s.getCategories){var a=i?Ot._hasAnyCategory(s,t):Ot._hasAllCategories(s,t),h=t&&t.length>0&&!a;Ot._highlightObj(s,h,r)}}},Ot._highlightObj=function(t,e,i){var n=e?i:1;if(t.highlight)t.highlight(e,n);else{var r=t.getDisplayables();Ot._updateAlpha(r,n)}},Ot._updateAlpha=function(t,e){if(t)for(var i=0;i<t.length;i++)t[i].setAlpha(e)},Ot._hasAnyCategory=function(t,e){return!(!t||!t.getCategories)&&d.hasAnyItem(t.getCategories(),e)},Ot._hasAllCategories=function(t,e){return!(!t||!t.getCategories)&&d.hasAllItems(t.getCategories(),e)},Ot.prototype.SetHighlightMode=function(t){this._bHighlightMode=t},Ot.prototype.SetHighlightModeTimeout=function(){var t=i.createCallback(this,function(){this.SetHighlightMode(!1)});this._highlightModeTimeout=setTimeout(t,Ot._HOVER_TIMEOUT)},Ot.prototype.setHoverDelay=function(t){this._hoverDelay=t};const It=function(t,e,i,n){this.Init(t,e,i)};i.createSubclass(It,i),It.CLEAR_SELECTION_ACTION_TYPE="clearSelectionActionType",It.TOUCH_RESPONSE_TOUCH_START="touchStart",It.TOUCH_RESPONSE_TOUCH_HOLD="touchHold",It.TOUCH_RESPONSE_AUTO="auto",It._TOUCH_RESPONSE_PADDING_CHECK=10,It._EVENT_INFO_TOOLTIP_DISPLAYED_KEY="tooltipDisplayed",It.prototype.Init=function(t,e,i,n){this._context=t,this._callback=e,this._callbackObj=i,this._component=n,this._touchMap={},this._selectionHandler=null,this.KeyboardHandler=null,this.RolloverHandler=this.CreateCategoryRolloverHandler(e,i),this.setTooltipsEnabled(!0);var o=t.getStage().getId();o||(o="undefinedId"),this.CustomTooltipManager=this._context.getCustomTooltipManager(),this.CustomTooltipManager.addTooltipEventListener("actionTooltipClosed",this.OnActionTooltipClosed,this),this.CustomTooltipManager.addTooltipEventListener("actionTooltipStarted",this.OnActionTooltipStarted,this),this.TouchManager=null,r.isTouchDevice()&&(this.TouchManager=new ft("touchmanager",this._context,this)),this._focusedObj=null,this._shouldDisplayKeyboardFocus=!1,this._keyboardHandlers=[this],this._currentKeyboardHandlerIdx=-1,this._dndListeners={}},It.prototype.getCtx=function(){return this._context},It.prototype.associate=function(t,e,i){t&&(t._logicalObjects&&!i||(t._logicalObjects=[]),t._logicalObjects.push({logicalObject:e,eventManager:this}))},It.prototype.addListeners=function(t){if(t&&(r.isTouchDevice()?(this.hideTooltip(),t.addEvtListener(L.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.addEvtListener(L.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.addEvtListener(L.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_START_TYPE,this.OnComponentTouchHoverStart,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_MOVE_TYPE,this.OnComponentTouchHoverMove,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_END_TYPE,this.OnComponentTouchHoverEnd,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_OUT_TYPE,this.OnComponentTouchHoverOut,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_OVER_TYPE,this.OnComponentTouchHoverOver,this),this.TouchManager.addTouchEventListener(dt.TOUCH_CLICK_TYPE,this.OnComponentTouchClick,this),this.TouchManager.addTouchEventListener(dt.TOUCH_DOUBLE_CLICK_TYPE,this.OnComponentTouchDblClick,this)):(t.addEvtListener(F.CLICK,this._onClick,!1,this),t.addEvtListener(F.DBLCLICK,this._onDblClick,!1,this),t.addEvtListener("contextmenu",this.OnContextMenu,!1,this),t.addEvtListener(F.MOUSEMOVE,this.OnMouseMove,!1,this),t.addEvtListener(F.MOUSEOVER,this.PreOnMouseOver,!1,this),t.addEvtListener(F.MOUSEOUT,this.PreOnMouseOut,!1,this),t.addEvtListener(F.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.addEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),t.addEvtListener(P.KEYDOWN,this.OnKeyDown,!1,this),t.addEvtListener(P.KEYUP,this.OnKeyUp,!1,this),t.addEvtListener(H.FOCUS,this.OnFocus,!1,this),t.addEvtListener(H.BLUR,this.OnBlur,!1,this),"safari"===r.browser&&this.getCtx()._parentDiv.addEventListener("wheel",()=>{})),this.isDndSupported())){var e=this.getCtx();this.setDragSource(new a(e)),this._addDndListener("dragstart",this.OnDndDragStart),this._addDndListener("drag",this.OnDndDrag),this._addDndListener("dragend",this.OnDndDragEnd),this._addDndListener("dragenter",this.OnDndDragEnter),this._addDndListener("dragover",this.OnDndDragOver),this._addDndListener("dragleave",this.OnDndDragLeave),this._addDndListener("drop",this.OnDndDrop);var i=e.getContainer();for(var n in this._dndListeners)u.addDomEventListener(i,n,this._dndListeners[n],!1);this._context.addDndEventManager(this)}},It.prototype._addDndListener=function(t,e){var i=gt.createStaticCallback(this.getCtx(),e,this);this._dndListeners[t]=i},It.prototype.removeListeners=function(t,e){t&&(e||this.hideTooltip(),this.RemoveListeners(t))},It.prototype.RemoveListeners=function(t){if(r.isTouchDevice()?(t.removeEvtListener(L.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.removeEvtListener(L.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.removeEvtListener(L.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_START_TYPE,this.OnComponentTouchHoverStart,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_MOVE_TYPE,this.OnComponentTouchHoverMove,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_END_TYPE,this.OnComponentTouchHoverEnd,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_OUT_TYPE,this.OnComponentTouchHoverOut,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_OVER_TYPE,this.OnComponentTouchHoverOver,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_CLICK_TYPE,this.OnComponentTouchClick,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_DOUBLE_CLICK_TYPE,this.OnComponentTouchDblClick,this)):(t.removeEvtListener(F.CLICK,this._onClick,!1,this),t.removeEvtListener(F.DBLCLICK,this._onDblClick,!1,this),t.removeEvtListener("contextmenu",this.OnContextMenu,!1,this),t.removeEvtListener(F.MOUSEMOVE,this.OnMouseMove,!1,this),t.removeEvtListener(F.MOUSEOVER,this.PreOnMouseOver,!1,this),t.removeEvtListener(F.MOUSEOUT,this.PreOnMouseOut,!1,this),t.removeEvtListener(F.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.removeEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),t.removeEvtListener(P.KEYDOWN,this.OnKeyDown,!1,this),t.removeEvtListener(P.KEYUP,this.OnKeyUp,!1,this),t.removeEvtListener(H.FOCUS,this.OnFocus,!1,this),t.removeEvtListener(H.BLUR,this.OnBlur,!1,this)),this.isDndSupported()){var e=this.getCtx().getContainer();for(var i in this._dndListeners)u.removeDomEventListener(e,i,this._dndListeners[i],!1);this._dndListeners={},this._context.removeDndEventManager(this)}},It.prototype.destroy=function(){this.CustomTooltipManager&&(this.CustomTooltipManager.removeTooltipEventListener("actionTooltipClosed",this.OnActionTooltipClosed,this),this.CustomTooltipManager.removeTooltipEventListener("actionTooltipStarted",this.OnActionTooltipStarted,this))},It.prototype.PreEventBubble=function(t){this.TouchManager.preEventBubble(t)},It.prototype.setSelectionHandler=function(t){this._selectionHandler=t},It.prototype.getSelectionHandler=function(t){return this._selectionHandler},It.prototype.getMarqueeGlassPane=function(){return null},It.prototype.setDragSource=function(t){this.DragSource=t,r.isTouchDevice()&&this.DragSource.setTouchManager(this.TouchManager)},It.prototype.setKeyboardHandler=function(t){r.isTouchDevice()||(this.KeyboardHandler=t)},It.prototype.getKeyboardHandler=function(){return this.KeyboardHandler},It.prototype.setFocusObj=function(t){var e=this.getFocus();if(t!=e&&(this.setFocus(t),e&&e.hideKeyboardFocusEffect(),this._currentKeyboardHandlerIdx>-1&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length)){var i=this._keyboardHandlers[this._currentKeyboardHandlerIdx];i!=this&&i.hideKeyboardFocusEffect()}this.setCurrentKeyboardHandler(this)},It.prototype.setFocus=function(t){this.KeyboardHandler&&(this._focusedObj=t)},It.prototype.getFocus=function(){return this.KeyboardHandler?this._focusedObj:null},It.prototype.setFocused=function(t){var e=this.getFocus();e&&this.KeyboardHandler&&(t?this._shouldDisplayKeyboardFocus&&this._currentKeyboardHandlerIdx>=0&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&this._keyboardHandlers[this._currentKeyboardHandlerIdx]===this&&e.showKeyboardFocusEffect():e.hideKeyboardFocusEffect()),t||(this._shouldDisplayKeyboardFocus=!1)},It.prototype.setTooltipsEnabled=function(t){this._tooltipsEnabled=t},It.prototype.getTooltipsEnabled=function(t){return this._tooltipsEnabled},It.prototype.GetLogicalObject=function(t,e){return this.GetLogicalObjectAndDisplayable(t,e).logicalObject},It.prototype.GetLogicalObjectAndDisplayable=function(t,e){for(var i=t;i;){if(i._logicalObjects)for(var n=0;n<i._logicalObjects.length;n++){var r=i._logicalObjects[n];if(r.eventManager==this){var o={};return o.logicalObject=r.logicalObject,o.displayable=i,o}}i=e?null:i.getParent()}return{}},It.prototype._getTooltipColor=function(t,e,i){if(t&&t.getDatatipColor)return t.getDatatipColor()},It.prototype.FireEvent=function(t,e){this._callback&&this._callback.call(this._callbackObj,t,e)},It.prototype.fireSelectionEvent=function(t){var e=this.getSelectionHandler(t);if(e){var i=e.getSelectedIds(),n=yt.newSelectionEvent(i);this._callback.call(this._callbackObj,n)}},It.prototype._onClick=function(t){if(this.IsDoubleClickable(t)){if(this._clickTimer&&this._clickTimer.isRunning()){var e=this._savedClickEvent;if(t.pageX==e.pageX&&t.pageY==e.pageY)return void this._savedClickCount++;this._clickTimer.stop(),this._onClickTimerEnd()}this._savedClickEvent=t,this._savedClickCount=1,this._clickTimer||(this._clickTimer=new ut(this._context,250,this._onClickTimerEnd,this,1)),this._clickTimer.reset(),this._clickTimer.start()}else this.OnClick(t)},It.prototype._onClickTimerEnd=function(){var t=this._savedClickEvent;this._savedClickEvent=null,this._savedClickCount=0,t&&this.OnClick(t)},It.prototype.OnClick=function(t){var e=this.GetLogicalObject(t.target);if(this.OnClickInternal(t),this.ProcessSelectionEventHelper(e,t.ctrlKey),this._shouldDisplayKeyboardFocus=!1,e&&this.KeyboardHandler&&e.getNextNavigable){var i=e.getNextNavigable(t);this.setFocusObj(i)}},It.prototype.IsDoubleClickable=function(t){var e=this.GetLogicalObject(t.target);return!!(e&&e.isDoubleClickable&&e.isDoubleClickable())},It.prototype.ProcessSelectionEventHelper=function(t,e){var i=this.getSelectionHandler(t);i&&(i.processClick(t,e)&&this.fireSelectionEvent(t))},It.prototype._onDblClick=function(t){var e=this.IsDoubleClickable(t);(e&&2===this._savedClickCount||!e)&&this.OnDblClick(t),this._savedClickCount=0},It.prototype.OnDblClick=function(t){this._clickTimer&&this._clickTimer.isRunning()&&(this._clickTimer.stop(),this._savedClickEvent=null),this.OnDblClickInternal(t)},It.prototype.OnContextMenu=function(t){var e=this.GetLogicalObject(t.target);e&&e.getNextNavigable&&this.setFocus(e),this._onContextMenuHelper(t,e)},It.prototype._onContextMenuHelper=function(t,e){this._processActionPopup(t.target,new n(t.pageX,t.pageY))&&t.preventDefault(),e&&e.isSelectable&&e.isSelectable()&&this.ProcessSelectionEventHelper(e,t.ctrlKey)},It.prototype.OnKeyDown=function(t){this._bKeyDown=!0;var e,i,n=t.keyCode,r=!1;for(e=this._currentKeyboardHandlerIdx<0||this._currentKeyboardHandlerIdx>this._keyboardHandlers.length?n==P.TAB&&t.shiftKey?this._keyboardHandlers.length-1:0:this._currentKeyboardHandlerIdx,i=n==P.TAB&&t.shiftKey?-1:1;e>=0&&e<this._keyboardHandlers.length&&!r;e+=i){var o=this._keyboardHandlers[e];(r=o===this?this.ProcessKeyboardEvent(t):o.handleKeyboardEvent(t))&&(this._currentKeyboardHandlerIdx=e)}return r||t.keyCode!=P.UP_ARROW&&t.keyCode!=P.DOWN_ARROW&&t.keyCode!=P.LEFT_ARROW&&t.keyCode!=P.RIGHT_ARROW||It.consumeEvent(t),r||n!=P.TAB||(this._currentKeyboardHandlerIdx=-1),r},It.prototype.handleKeyboardEvent=function(t){return this.OnKeyDown(t)},It.prototype.hideKeyboardFocusEffect=function(){var t=this.getFocus();t&&t.isShowingKeyboardFocusEffect()&&t.hideKeyboardFocusEffect()},It.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;this.hideTooltip();var e,i,n=this.getFocus();return t.keyCode==P.TAB&&n?n.isShowingKeyboardFocusEffect()?(this._bKeyDown=!1,n.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,n,!1),!!(i=t.shiftKey?this._context.previousKeyboardFocus():this._context.nextKeyboardFocus())&&(i.FireListener(t,!1),It.consumeEvent(t),!0)):(this.ShowFocusEffect(t,n),this.ProcessRolloverEvent(t,n,!0),It.consumeEvent(t),!0):!!(e=this.KeyboardHandler.processKeyDown(t))&&(this.setFocus(e),this._shouldDisplayKeyboardFocus=!0,n&&(n.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,n,!1)),this.KeyboardHandler.isSelectionEvent(t)?this.ProcessSelectionEventHelper(e,t.shiftKey):this.KeyboardHandler.isMultiSelectEvent(t)&&this.ProcessSelectionEventHelper(e,t.ctrlKey),this.ShowFocusEffect(t,e),this.ProcessRolloverEvent(t,e,!0),!0)},It.prototype.ShowFocusEffect=function(t,e){e.showKeyboardFocusEffect();var i=e.getKeyboardTooltipLocation?e.getKeyboardTooltipLocation():e.getKeyboardBoundingBox(this.getCtx().getStage()).getCenter(),n=this.getCtx().stageToPageCoords(i.x,i.y);this.ProcessObjectTooltip(t,n.x,n.y,e,e.getTargetElem()),this.UpdateActiveElement(e)},It.prototype.OnKeyUp=function(t){if(this._bKeyDown=!1,!0===this._handleExternalKeyboardFocus&&t.keyCode==P.TAB&&(this._handleExternalKeyboardFocus=!1,document.createEvent)){var e=document.createEvent("KeyboardEvent"),i=t.keyCode,n=t.ctrlKey,r=t.shiftKey;void 0!==e.initKeyboardEvent?e.initKeyboardEvent(P.KEYDOWN,!0,!0,window,n,!1,r,!1,i,i):e.initKeyEvent(P.KEYDOWN,!0,!0,window,n,!1,!1,r,i,i);var o=k.newEvent(e);o.keyCode=i,o.ctrlKey=n,o.shiftKey=r;var s=this.getCtx().getStage().getSVGRoot().parentNode;G._bubbleListener.call(s,o)}},It.prototype.OnMouseMove=function(t){var e=t.pageX,i=t.pageY,n=this.GetLogicalObjectAndDisplayable(t.target),r=n.logicalObject,o=n.displayable;r&&this.ProcessObjectTooltip(t,e,i,r,o)},It.prototype.PreOnMouseOver=function(t){this.OnMouseOver(t)},It.prototype.OnMouseOver=function(t){var e=this.GetLogicalObjectAndDisplayable(t.target),i=e.logicalObject,n=e.displayable;if(i){var r=this.getSelectionHandler(i);r&&r.processMouseOver(i),this.ProcessRolloverEvent(t,i,!0),this.UpdateActiveElement(i,n)}},It.prototype.PreOnMouseOut=function(t){var e=this.GetLogicalObject(t.relatedTarget),i=this.GetLogicalObject(t.target);i&&i===e||this.OnMouseOut(t)},It.prototype.OnMouseOut=function(t){var e=this.GetLogicalObject(t.target);if(e&&e!=this.GetLogicalObject(t.relatedTarget)){var i=this.getSelectionHandler(e);i&&i.processMouseOut(e),this.ProcessRolloverEvent(t,e,!1),this.hideTooltip()}},It.prototype.PreOnMouseDown=function(t){this.OnMouseDown(t)},It.prototype.OnMouseDown=function(t){this.isInActionPopup()&&this.CustomTooltipManager.closeActionTooltip();var e=this.GetLogicalObject(t.target);this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(e)&&(this.DragSource.setDragCandidate(e),t.dragSourceSet=!0)},It.prototype.OnMouseUp=function(t){},It.prototype._processTouchTooltip=function(t){var e=this.TouchManager.getTooltipInfo(),i=e.touchIds,n=e.tooltipTarget;if(this.GetEventInfo(t,It._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||0!=i.length&&n){var r=this.TouchManager.calcAveragePosition(i),o=this.GetLogicalObject(n);this.ProcessObjectTooltip(t,r.x,r.y,o,null)}else this.hideTooltip()},It.prototype.OnTouchStartBubble=function(t){if(this.PreEventBubble(t),t.isInitialTouch()&&(this._popupJustClosed=!1),this.DragSource){var e=this.GetLogicalObject(t.target);!t.dragSourceSet&&this.IsDragCandidate(e)&&(this.DragSource.setDragCandidate(e),t.dragSourceSet=!0)}this.isInActionPopup()&&(this.CustomTooltipManager.closeActionTooltip(),this.TouchManager.resetTouchHold()),this.HandleImmediateTouchStartInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this.isTouchResponseTouchStart()?(this._touchResponseHandled=!0,this.TouchManager.processAssociatedTouchAttempt(t,It.TOUCH_RESPONSE_TOUCH_START,this._saveTouchStart,this)):(this._touchResponseHandled=!1,this._processTouchTooltip(t))},It.prototype.OnTouchMoveBubble=function(t){this.PreEventBubble(t),this.TouchManager&&(this._prevActionClear=!1,this.HandleImmediateTouchMoveInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this._processTouchTooltip(t))},It.prototype._handleTouchEndTimer=function(){for(var t=0;t<this._touchEndTimer.length;t++){var e=this._touchEndTimer[t];e.timer.stop();var i=e.event;this.TouchManager&&(this.HandleImmediateTouchEndInternal(i),this.TouchManager.fireLogicalEvents(i),this.TouchManager.postEventBubble(i))}this._touchEndTimer=new Array},It.prototype.OnTouchEndBubble=function(t){this.PreEventBubble(t);var e=new ut(this._context,0,this._handleTouchEndTimer,this,1);this._touchEndTimer||(this._touchEndTimer=new Array),this._touchEndTimer.push({event:t,timer:e}),e.start()},It.prototype.HandleImmediateTouchStartInternal=function(t){},It.prototype.HandleImmediateTouchMoveInternal=function(t){},It.prototype.HandleImmediateTouchEndInternal=function(t){},It.prototype.OnComponentTouchHoverStart=function(t){this.HandleTouchHoverStartInternal(t),this._touchResponseHandled||this.HandleTouchActionsStart(t)},It.prototype.OnComponentTouchHoverMove=function(t){this.HandleTouchHoverMoveInternal(t),this._touchResponseHandled||this.HandleTouchActionsMove(t)},It.prototype.OnComponentTouchHoverEnd=function(t){if(this.HandleTouchHoverEndInternal(t),this._callbackObj instanceof Ct){var e=this.getCtx().getStageAbsolutePosition(),i=t.touch.pageX,n=t.touch.pageY;i<=e.x+this._callbackObj.getWidth()&&i>=e.x&&n<=e.y+this._callbackObj.getHeight()&&n>=e.y&&this._callback.call(this._callbackObj,yt.newTouchHoldReleaseEvent(t.getNativeEvent()))}this._touchResponseHandled||this.HandleTouchActionsEnd(t)},It.prototype.OnComponentTouchHoverOut=function(t){var e=this.GetLogicalObject(t.relatedTarget),i=this.GetLogicalObject(t.target);i&&i===e||(this.HandleTouchHoverOutInternal(t),this._touchResponseHandled||this.HandleTouchActionsOut(t))},It.prototype.OnComponentTouchHoverOver=function(t){this.HandleTouchHoverOverInternal(t),this._touchResponseHandled||this.HandleTouchActionsOver(t)},It.prototype.OnComponentTouchDblClick=function(t){this.HandleTouchDblClickInternal(t)},It.prototype.OnComponentTouchClick=function(t){var e=this.GetLogicalObjectAndDisplayable(t.target),i=e.logicalObject,r=e.displayable,o=t.touch;this.HandleTouchClickInternal(t)||(this.isTouchResponseTouchStart()||this._processTouchSelection(i),this._popupJustClosed||this._processTouchSelectionClear(i),this.CustomTooltipManager.displayActionPopup()&&(this.UpdateActionTooltipLaunchedFeedback(r,new n(o.pageX,o.pageY)),this.CustomTooltipManager.startActionPopupAtPosition(o.pageX,o.pageY,r)))},It.prototype._processTouchSelection=function(t){var e=this.getSelectionHandler(t);e&&t&&t.isSelectable&&t.isSelectable()&&e.processClick(t,!0)&&this.fireSelectionEvent(t),this._prevActionClear=!1},It.prototype._processTouchSelectionClear=function(t){var e=this.getSelectionHandler(t);if(e&&(!t||!t.isSelectable||!t.isSelectable())&&!this._prevActionClear){var i=!1;e.getType()==At.TYPE_MULTIPLE&&e.getSelectedCount()>1&&(i=!0),i?this.addClearAllActionItem():e.processClick(null,!1)&&this.fireSelectionEvent(t)}},It.prototype.OnActionTooltipClosed=function(t){this._popupJustClosed=!0,this._isInActionPopup=!1,this.CustomTooltipManager.getActionTooltip().containsMenuId(It.CLEAR_SELECTION_ACTION_TYPE)&&(this._prevActionClear=!0),this.CustomTooltipManager.clearActionTooltip(),this.UpdateActionTooltipClosedFeedback(t.target)},It.prototype.OnActionTooltipStarted=function(t){this._isInActionPopup=!0},It.prototype._getTooltipInfo=function(t,e,i,n){var r=null,o=!1;return e&&e.getDatatip&&(r=e.getDatatip(t,i,n))&&(o=!0),!r&&e&&e.getTooltip&&(r=e.getTooltip(t,i,n)),{text:r,isDatatip:o}},It.prototype._processShowTooltip=function(t,e,i,n){if(this.getTooltipsEnabled(e)){var r=this._context.pageToStageCoords(i,n),o=r.x,s=r.y,a=this._getTooltipInfo(t,e,o,s),h=a.isDatatip,l=a.text;if(l){this.CustomTooltipManager.clearActionTooltip();var u=this._getTooltipColor(e,o,s),c=this._context.getTooltipManager();return h?c.showDatatip(i,n,l,u):c.showTooltip(i,n,l,null,!0,u),this._hideTooltipListener||(this._hideTooltipListener=this._keyboardHideTooltip.bind(this),document.documentElement.addEventListener(P.KEYDOWN,this._hideTooltipListener,{capture:!0})),this.TooltipLaunched(l,u),this.DispatchElementEvent("tooltiplaunched"),!0}this.hideTooltip()}else this.hideTooltip();return!1},It.prototype._keyboardHideTooltip=function(t){t.keyCode===P.ESCAPE&&(this.hideTooltip(),t.preventDefault())},It.prototype.hideTooltip=function(){var t=this._context.getTooltipManager();t&&t.hideTooltip(),this.TooltipHidden(),this._hideTooltipListener&&(document.documentElement.removeEventListener(P.KEYDOWN,this._hideTooltipListener,{capture:!0}),this._hideTooltipListener=null)},It.prototype._processActionPopup=function(t,e){return this.CustomTooltipManager.displayActionPopup()?(this.SetupTouchTooltip(t),this.UpdateActionPopupShownFeedback(t),this.CustomTooltipManager.startActionPopupAtPosition(e.x,e.y,t),!0):(this.UpdateActionPopupHiddenFeedback(t),!1)},It.prototype.TooltipLaunched=function(t,e){},It.prototype.TooltipHidden=function(){},It.prototype.SetupTouchTooltip=function(t){var e=this.GetLogicalObject(t),i=this.CustomTooltipManager.getActionTooltip();if(null==i.getTooltipBorderColor()){var n=this._getTooltipColor(e);i.setTooltipBorderColor(n)}},It.prototype.OnClickInternal=function(t){},It.prototype.OnDblClickInternal=function(t){},It.prototype.HandleTouchHoverStartInternal=function(t){},It.prototype.HandleTouchHoverMoveInternal=function(t){},It.prototype.HandleTouchHoverEndInternal=function(t){},It.prototype.HandleTouchHoverOverInternal=function(t){},It.prototype.HandleTouchHoverOutInternal=function(t){},It.prototype.HandleTouchClickInternal=function(t){return!1},It.prototype.HandleTouchDblClickInternal=function(t){},It.prototype.UpdateActionPopupShownFeedback=function(t){},It.prototype.UpdateActionPopupHiddenFeedback=function(t){},It.prototype.UpdateActionTooltipClosedFeedback=function(t){},It.prototype.UpdateActionTooltipLaunchedFeedback=function(t,e){},It.prototype.isInActionPopup=function(){return this._isInActionPopup},It.prototype.GetClearSelectionText=function(){var t=this.getComponent();return t&&t.getOptions().translations.labelClearSelection},It.prototype.addClearAllActionItem=function(){var t=this.CustomTooltipManager.getActionTooltip(),e=t.getMenuItems();t&&e.length>0&&e[e.length-1].getId()===It.CLEAR_SELECTION_ACTION_TYPE||(this.addActionTooltipMenuItem(It.CLEAR_SELECTION_ACTION_TYPE,this.GetClearSelectionText(),this._actionTooltipClearListener,this),t&&t.setTooltipBorderColor(ct.DEFAULT_BORDER_COLOR))},It.prototype.addActionTooltipMenuItem=function(t,e,i,n){this.CustomTooltipManager.getActionTooltip().addMenuItem(new _t(this._context,t,e,i,n))},It.prototype._actionTooltipClearListener=function(t){var e=this.GetLogicalObject(t.target);this.getSelectionHandler(e).processClick(null,!1)&&this.fireSelectionEvent(e)},It.consumeEvent=function(t){t&&(t.preventDefault(),t.stopPropagation())},It.prototype.addComponentKeyboardHandlerAt=function(t,e){e>this._keyboardHandlers.length||t&&(this._keyboardHandlers.splice(e,0,t),e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx++)},It.prototype.removeComponentKeyboardHandler=function(t){if(t){var e=this._findHandler(t);e>-1&&(this._currentKeyboardHandlerIdx==e&&0==e?this._currentKeyboardHandlerIdx=0:e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx--,this._keyboardHandlers.splice(e,1))}},It.prototype._findHandler=function(t){for(var e=-1,i=this._keyboardHandlers.length,n=0;n<i;n++)this._keyboardHandlers[n]===t&&(e=n);return e},It.prototype.setCurrentKeyboardHandler=function(t){var e=this._findHandler(t);e>=0&&(this._currentKeyboardHandlerIdx=e)},It.prototype.IsDragCandidate=function(t){return!0},It.prototype.UpdateActiveElement=function(t,e){if(e||(e=t.getDisplayable?t.getDisplayable():t.getDisplayables?t.getDisplayables()[0]:t),e instanceof Q){if(t.getAriaLabel){var i=t.getAriaLabel();i&&e.setAriaProperty("label",i)}else for(;!e.getAriaRole()&&e.getParent();)e=e.getParent();e!=this.getCtx().getStage()&&this.getCtx().setActiveElement(e)}},It.prototype.getTouchManager=function(){return this.TouchManager},It.prototype.endDrag=function(){return null},It.prototype._hasEventInfo=function(t){return null!=t&&!!t.getNativeEvent()._eventInfo},It.prototype.GetEventInfo=function(t,e){return this._hasEventInfo(t)&&null!=e&&(i=this.StoreInfoByEventType(e)?t.getNativeEvent()._eventInfo[t.type]:t.getNativeEvent()._eventInfo)?i[e]:null;var i},It.prototype.SetEventInfo=function(t,e,i){if(null!=t&&null!=e){var n=t.getNativeEvent();if(n._eventInfo||(n._eventInfo={}),this.StoreInfoByEventType(e)){var r=t.type;n._eventInfo[r]||(n._eventInfo[r]={}),n._eventInfo[r][e]=i}else n._eventInfo[e]=i}},It.prototype.StoreInfoByEventType=function(t){return t!=It._EVENT_INFO_TOOLTIP_DISPLAYED_KEY},It.prototype.ProcessObjectTooltip=function(t,e,i,n,r){this.GetEventInfo(t,It._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||this._processShowTooltip(r,n,e,i)&&this.SetEventInfo(t,It._EVENT_INFO_TOOLTIP_DISPLAYED_KEY,!0)},It.prototype._resetExternalKeyboardFocus=function(){this._handleExternalKeyboardFocus=!1},It.prototype.OnFocus=function(t){this._handleExternalKeyboardFocus=!1,this._bKeyDown||t.isPropagationStopped()||(this._handleExternalKeyboardFocus=!0,this._keyboardFocusTimer||(this._keyboardFocusTimer=new ut(this._context,200,this._resetExternalKeyboardFocus,this,1)),this._keyboardFocusTimer.reset(),this._keyboardFocusTimer.start(),t.stopPropagation())},It.prototype.OnBlur=function(t){this._bKeyDown=!1;var e=this.getFocus();e&&e.isShowingKeyboardFocusEffect()&&e.hideKeyboardFocusEffect()},It.prototype.ProcessRolloverEvent=function(t,e,i){},It.prototype.CreateCategoryRolloverHandler=function(t,e){return new Ot(t,e)},It.prototype.GetTouchResponse=function(){return It.TOUCH_RESPONSE_TOUCH_START},It.prototype.isTouchResponseTouchStart=function(){var t=this.GetTouchResponse();if(t===It.TOUCH_RESPONSE_TOUCH_START)return!0;if(t===It.TOUCH_RESPONSE_TOUCH_HOLD)return!1;for(var e=this.getCtx().getSvgDocument().parentElement.parentElement;e;){var i=window.getComputedStyle(e);if("hidden"!==i.overflow&&(e.scrollWidth>e.clientWidth+It._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==i["overflow-x"]||e.scrollHeight>e.clientHeight+It._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==i["overflow-y"])||window.frameElement&&"IFRAME"==window.frameElement.nodeName)return!1;if("HTML"===e.nodeName)break;e=e.parentElement}return!0},It.prototype._saveTouchStart=function(t,e){this.TouchManager.getTouchIdsForObj(It.TOUCH_RESPONSE_TOUCH_START).length<=1&&(this.TouchManager.saveProcessedTouch(e.identifier,ft.HOVER_TOUCH_KEY,null,ft.HOVER_TOUCH_KEY,ft.HOVER_TOUCH_KEY,this.HandleTouchActionsMove,this.HandleTouchActionsEnd,this),this.HandleTouchActionsStart(t))},It.prototype.HandleTouchActionsStart=function(t){var e=this.GetLogicalObject(t.target),i=t instanceof dt?t.touch:t.touches[0];t instanceof dt||(this._touchMap[i.identifier]||(this._touchMap[i.identifier]={}),this._touchMap[i.identifier][ft.PREV_HOVER_OBJ]=null,e&&this.HandleTouchActionsOver(t),this._touchMap[i.identifier][ft.PREV_HOVER_OBJ]=e),e&&this.ProcessRolloverEvent(t,e,!0),this._processTouchTooltip(t),this._prevActionClear=!1},It.prototype.HandleTouchActionsMove=function(t){var e,i=t instanceof dt?t.touch:t.touches[0];if(t instanceof dt)e=this.GetLogicalObject(t.target);else{t.preventDefault();var n=gt.elementFromTouch(i);e=this.GetLogicalObject(n);var r=this._touchMap[i.identifier][ft.PREV_HOVER_OBJ];if(r!=e){var o;if(r)r.getDisplayable?o=r.getDisplayable():r.getDisplayables&&(o=r.getDisplayables()[0]),o&&(t.target=o,this.HandleTouchActionsOut(t,i));t.target=n,e&&this.HandleTouchActionsOver(t)}this._touchMap[i.identifier][ft.PREV_HOVER_OBJ]=e}e&&this.ProcessRolloverEvent(t,e,!0)},It.prototype.HandleTouchActionsEnd=function(t,e){var i,r;if(t instanceof dt){var o=this.GetLogicalObjectAndDisplayable(t.target);i=o.displayable,r=o.logicalObject,e=t.touch}else{var s;t.preventDefault(),i=gt.elementFromTouch(e),(r=this.GetLogicalObject(i))&&(r.getDisplayable?s=r.getDisplayable():r.getDisplayables&&(s=r.getDisplayables()[0])),s&&(t.target=s,this.HandleTouchActionsOut(t,e)),this._touchMap[e.identifier][ft.PREV_HOVER_OBJ]=null}var a=e.pageX,h=e.pageY;this._processTouchSelection(r),this._processActionPopup(i,new n(a,h))},It.prototype.HandleTouchActionsOver=function(t){var e=this.GetLogicalObject(t.target);e&&this.ProcessRolloverEvent(t,e,!0);var i=this.getSelectionHandler(e);i&&i.processMouseOver(e)},It.prototype.HandleTouchActionsOut=function(t,e){var i=this.GetLogicalObject(t.target);t instanceof dt&&t.touch,i&&this.ProcessRolloverEvent(t,i,!1);var n=this.getSelectionHandler(i);n&&n.processMouseOut(i)},It.prototype.getComponent=function(){return this._component},It.DROP_OFFSET_X_DATA_TYPE="text/_dvtDropOffsetX",It.DROP_OFFSET_Y_DATA_TYPE="text/_dvtDropOffsetY",It.prototype.isDndSupported=function(){return!1},It.prototype.OnDndDragStart=function(t){var e=u.getEventForSyntax(this._context,t),i=e.dataTransfer;if(!(e.dataTransfer.types&&e.dataTransfer.types.length>0)){var n=this._context.pageToStageCoords(t.pageX,t.pageY),r=this.DragSource.getDragTransferable(n.x,n.y),o=this.GetDragSourceType(t);if(null!=r&&null!=o){this._context.getTooltipManager().hideTooltip();var s=this._getDragOptions(t),a=s.dataTypes,h=s.dragStart;if(null!=a||h){var l=this.DragSource.getDragObject();if(this.ProcessSelectionEventHelper(l,!1),l.hideHoverEffect&&l.hideHoverEffect(),null!=a){Array.isArray(a)||(a=[a]);for(var _=this._getDragData(t),p=0;p<a.length;p++)i.setData(a[p],_)}var d=u.getDragFeedback(this.DragSource.getDragOverFeedback(n.x,n.y),this._context.getStage()),g=d.svg,f=this.DragSource.getDragOffset(n.x,n.y);g.style.width=d.width+"px",g.style.height=d.height+"px",g.style.left=t.pageX-f.x+"px",g.style.top=t.pageY-f.y+"px",g.style.position="absolute",g.style.fontFamily=this._context.getDefaultFontFamily(),g.style.fontSize=this._context.getDefaultFontSize(),gt.disableMouseEvents(g),document.body.appendChild(g),c(function(){document.body.removeChild(g)}),i.setDragImage(g,f.x,f.y);var y=this.GetDropOffset(t);if(y&&(i.setData(It.DROP_OFFSET_X_DATA_TYPE,y.x),i.setData(It.DROP_OFFSET_Y_DATA_TYPE,y.y)),h)h(e,this._getDragEventPayload(t))}else this._context.isLastDndEventManager(this)&&t.preventDefault()}else this._context.isLastDndEventManager(this)&&t.preventDefault()}},It.prototype.OnDndDrag=function(t){this._handleDragSourceEvent(t,"drag")},It.prototype.OnDndDragEnd=function(t){this.DragSource.setDragCandidate(null),this._handleDragSourceEvent(t,"dragEnd")},It.prototype.GetDragSourceType=function(t){return null},It.prototype.GetDragDataContexts=function(t){return[]},It.prototype.GetDropOffset=function(t){return null},It.prototype._getDragOptions=function(t){var e=this.GetDragSourceType(t);return this.getComponent().getOptions().dnd.drag[e]},It.prototype._getDragEventPayload=function(t){var e={};return e[this.GetDragSourceType(t)]=this.GetDragDataContexts(),e},It.prototype._getDragData=function(t){return JSON.stringify(this.GetDragDataContexts(!0))},It.prototype._handleDragSourceEvent=function(t,e){if(null!=this.GetDragSourceType(t)){var i=this._getDragOptions(t)[e];if(i)i(u.getEventForSyntax(this._context,t))}},It.prototype.OnDndDragEnter=function(t){this._handleDropTargetEvent(t,"dragEnter",!0)},It.prototype.OnDndDragOver=function(t){this._handleDropTargetEvent(t,"dragOver",!0)},It.prototype.OnDndDragLeave=function(t){this._handleDropTargetEvent(t,"dragLeave",!1)},It.prototype.OnDndDrop=function(t){this._handleDropTargetEvent(t,"drop",!1)},It.prototype.GetDropTargetType=function(t){return null},It.prototype.GetDropEventPayload=function(t){return null},It.prototype.ShowDropEffect=function(t){},It.prototype.ShowRejectedDropEffect=function(t){this.ClearDropEffect()},It.prototype.ClearDropEffect=function(){},It.prototype._getDropOptions=function(t){var e=this.GetDropTargetType(t);return this.getComponent().getOptions().dnd.drop[e]},It.prototype._handleDropTargetEvent=function(t,e,i){var n=this._handleDropTargetEventHelper(t,e);n||t.preventDefault(),!n&&i?this.ShowDropEffect(t):n&&i?this.ShowRejectedDropEffect(t):this.ClearDropEffect()},It.prototype._handleDropTargetEventHelper=function(t,e){if(null==this.GetDropTargetType(t))return!0;var i=u.getEventForSyntax(this._context,t),n=this._getDropOptions(t),r=n[e];if(r){var o=r(i,this.GetDropEventPayload(t));if(t.getNativeEvent().defaultPrevented)return!1;if(null!=o&&!this._context.isCustomElement())return o}var s=n.dataTypes;if(null!=s){Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++)if(i.dataTransfer.types&&i.dataTransfer.types.indexOf(s[a])>=0)return!1}return!0},It.prototype.DispatchElementEvent=function(t,e){this.getCtx().getSvgDocument().dispatchEvent(new CustomEvent(t,{detail:e}))};const Nt=function(t,e,i,n){this._customTooltipManager=e,this.Init(t,i,n)};i.createSubclass(Nt,It),Nt.prototype.OnClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},Nt.prototype.HandleImmediateTouchStartInternal=function(t,e){t.blockTouchHold(),this._handleMenuClick(t.target)},Nt.prototype.HandleTouchClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},Nt.prototype._handleMenuClick=function(t){var e=this._customTooltipManager._actionPopupObj,i=t._menu;i&&(this._customTooltipManager.closeActionTooltip(),i.FireActionTooltipItem(e))};const Rt=function(t,e){this.Init(t,e)};i.createSubclass(Rt,i),Rt.prototype.Init=function(t,e){this._context=t,this._id=e,this._actionTooltip=new ct(this._context,this._id+"ActionPopup")},Rt.prototype.GetRichTooltipManager=function(){if(!this._RichTooltipManager){var t=this._id+"Tooltip";this._RichTooltipManager=new pt(this._context,t),this._RichTooltipManager.InitializeTooltipElem();var e=this._RichTooltipManager.GetStoredContext();if(e)new Nt(e,this,null,null).addListeners(this._actionTooltip)}return this._RichTooltipManager},Rt.prototype.clearActionTooltip=function(){this._actionTooltip&&this._actionTooltip.clearContent()},Rt.prototype.getActionTooltip=function(){return this._actionTooltip},Rt.prototype.hideTooltip=function(){this.clearActionTooltip(),this._RichTooltipManager&&this._RichTooltipManager.hideTooltip()},Rt.prototype.closeActionTooltip=function(){var t=yt.newActionTooltipEvent("actionTooltipClosed",this._actionPopupObj);this.FireListener(t),this._actionPopupObj=null,this.hideTooltip()},Rt.prototype.displayActionPopup=function(){var t=this.getActionTooltip();return!(!t||!t.hasMenuItems())},Rt.prototype.startActionPopupAtPosition=function(t,e,i,n){var r=this.getActionTooltip();if(r){this.GetRichTooltipManager().showRichElementAtPosition(t,e,r,!0,!1);var o=yt.newActionTooltipEvent("actionTooltipStarted",i);this.FireListener(o),this._actionPopupObj=i}},Rt.prototype.addTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},Rt.prototype.removeTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e&&n[r+1]===i){n.splice(r,2);break}},Rt.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},Rt.prototype.FireListener=function(t){var e=this._getListeners(t.type,!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},Rt._formatTextString=function(t){var e="";if(!t)return e;var i=(t=t.replace(/\n/g,"<br>")).split("<br>");if(i){for(var n=new Array,r=0;r<i.length;r++){var o=i[r];null!=o&&""!=o&&n.push(o)}for(r=0;r<n.length;r++)e+=n[r],r<n.length-1&&(e+="\n")}return e};const Dt=function(t,e){this._id="mask"+Dt._uniqueSeed++,this._gradient=t,this._bounds=e};i.createSubclass(Dt,i),Dt._uniqueSeed=0,Dt.prototype.getId=function(){return this._id},Dt.prototype.getGradient=function(){return this._gradient},Dt.prototype.getBounds=function(){return this._bounds};const xt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(xt,Q),xt._uniqueSeed=0,xt.prototype.Init=function(t,e,i,n,r){xt.superclass.Init.call(this,t,"use",r);var o=n.getId();if(o||(o="use"+xt._uniqueSeed++,n.setId(o)),t.existsGlobalDefReference(o))t.increaseGlobalDefReference(o);else{var s=n.getElem();u.setAttrNullNS(s,"id",o),t.appendDefs(s),t.increaseGlobalDefReference(o)}this._targetId=o,u.setHref(this._elem,u.getUrlPathById(o)),this.setX(e).setY(i)},Q.defineProps(xt,{x:{value:0},y:{value:0}}),xt.prototype.destroy=function(){this.getCtx().decreaseGlobalDefReference(this._targetId),xt.superclass.destroy.call(this)};const Mt=function(t,e,i){var n=e?e+"_svg":null;this._root=u.createSvgDocument(n),t.appendChild(this._root),this._parentDiv=t,this.addSizingSvg(),this._appAriaRole=this._parentDiv.getAttribute("role"),this._role=this._appAriaRole,this._referenceDiv=i,this._defs=A.createElement("defs"),u.appendChildElem(this._root,this._defs),this._keyboardFocusArray=[],this._keyboardFocusIndex=0,this._dndEventManagers=[],this.Init(this._root,e),u.appendChildElem(this._root,this._stage.getElem()),this.oj=null};i.createSubclass(Mt,i),Mt._DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif",Mt._DEFAULT_FONT_WEIGHT="400",Mt._id=0,Mt.DEFAULT_FONT_SIZE=j.DEFAULT_FONT_SIZE;const wt=Symbol("componentAriaLabel");Mt.prototype.Init=function(t,e){var i=(e||"_dvt"+Mt._id)+"_stage";this._stage=new tt(this,t,i),Mt._id++,this._normalizedFontFamilyCache={},this.setDefaultFontSize(Mt.DEFAULT_FONT_SIZE),this.setDefaultFontFamily(Mt._DEFAULT_FONT_FAMILY),this.setDefaultFontWeight(Mt._DEFAULT_FONT_WEIGHT),this._tooltipManagers=new Object,this._customTooltipManagers=new Object,this._scheduler=null,this._globalDefsMap={}},Mt.prototype.getDefaultFontFamily=function(){return this._defaultFontFamily},Mt.prototype.setDefaultFontFamily=function(t){t&&(this._defaultFontFamily=this._normalizeFontFamily(t),u.setAttrNullNS(this._stage.getElem(),"font-family",this.getDefaultFontFamily()))},Mt.prototype.isDefaultFontFamily=function(t){return!!t&&this._defaultFontFamily===this._normalizeFontFamily(t)},Mt.prototype.getDefaultFontSize=function(){return this._defaultFontSize},Mt.prototype.getThemeBehavior=function(){return e.parseJSONFromFontFamily("oj-theme-json").behavior},Mt.prototype.setDefaultFontSize=function(t){t&&(this._defaultFontSize=t,u.setAttrNullNS(this._stage.getElem(),"font-size",this.getDefaultFontSize()))},Mt.prototype.getDefaultFontWeight=function(){return this._defaultFontWeight},Mt.prototype.setDefaultFontWeight=function(t){t&&(this._defaultFontWeight=t,u.setAttrNullNS(this._stage.getElem(),"font-weight",this.getDefaultFontWeight()))},Mt.prototype._normalizeFontFamily=function(t){var e=this._normalizedFontFamilyCache[t];return e||(e=t.replace(/, /g,",").replace(/"/g,"'"),this._normalizedFontFamilyCache[t]=e),e},Mt.prototype.getStage=function(){return this._stage},Mt.prototype.isReadyToRender=function(){if(this._destroyed)return!1;if(null!=this._parentDiv.offsetParent)return!0;var t=window.getComputedStyle(this._parentDiv);return!(!t||"fixed"!=t.position)&&"none"!=t.display},Mt.prototype.getSvgDocument=function(){return this._root},Mt.prototype.getSizingSvg=function(){return this._sizingSvg},Mt.prototype.addSizingSvg=function(){this._sizingSvg||"blink"!==r.engine&&"safari"!==r.browser||(this._root.style.position="absolute",this._root.style.left="0px",this._root.style.top="0px",this._root.style.padding="inherit",this._sizingSvg=document.createElementNS(u.SVG_NS,"svg"),this._sizingSvg.style.width="100%",this._sizingSvg.style.height="100%",this.getContainer().appendChild(this._sizingSvg))},Mt.prototype.removeSizingSvg=function(){this._sizingSvg&&(u.removeAttrNullNS(this._root,"style"),this.getContainer().removeChild(this._sizingSvg),this._sizingSvg=null)},Mt.prototype.setReadingDirection=function(t){this._readingDirection=t},Mt.prototype.getReadingDirection=function(){return this._readingDirection},Mt.prototype.existsGlobalDefReference=function(t){return this._globalDefsMap[t]>0},Mt.prototype.increaseGlobalDefReference=function(t){null!=t&&(this._globalDefsMap[t]?this._globalDefsMap[t]++:this._globalDefsMap[t]=1)},Mt.prototype.decreaseGlobalDefReference=function(t){if(null!=t){var e=this._globalDefsMap[t];e&&(1==e?delete this._globalDefsMap[t]:this._globalDefsMap[t]=e-1),this._globalDefsMap[t]||this.removeDefsById(t)}},Mt.prototype.getTooltipManager=function(t){return t||(t="_dvtTooltip"),t+=this.getStage().getId(),this._tooltipManagers[t]||(this._tooltipManagers[t]=new it(this,t)),this._tooltipManagers[t]},Mt.prototype.hideTooltips=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].hideTooltip()},Mt.prototype.releaseTooltipResources=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].releaseTooltipResources()},Mt.prototype.getScheduler=function(){return this._scheduler||(this._scheduler=new et(this)),this._scheduler},Mt.prototype.pageToStageCoords=function(t,e){var i=this.getStageAbsolutePosition(),r=t-i.x,o=e-i.y;return new n(r,o)},Mt.prototype.stageToPageCoords=function(t,e){var i=this.getStageAbsolutePosition(),r=t+i.x,o=e+i.y;return new n(r,o)},Mt.prototype.getStageAbsolutePosition=function(){var t=this._referenceDiv;if(!t){var e=this.getStage().getSVGRoot();t=e.parentNode?e.parentNode:e}var i=r.getElementPosition(t);return new n(parseInt(i.x),parseInt(i.y))},Mt.prototype.isOffscreen=function(t){if(null!=this._bOffscreen&&!t)return this._bOffscreen;var e,i=this.getStage().getSVGRoot();try{var n=i.getBoundingClientRect();e=n.bottom<0||n.right<0||n.top>(window.innerHeight||document.documentElement.clientHeight)||n.left>(window.innerWidth||document.documentElement.clientWidth)}catch(t){e=!0}return t||(this._bOffscreen=e),e},Mt.prototype.resetIsOffscreen=function(){this._bOffscreen=null},Mt.prototype.getCustomTooltipManager=function(t){return t||(t="_dvtCustomTooltip"),t+=this.getStage().getId(),this._customTooltipManagers[t]||(this._customTooltipManagers[t]=new Rt(this,t)),this._customTooltipManagers[t]},Mt.prototype.appendDefs=function(t){u.appendChildElem(this._defs,t)},Mt.prototype.getDefs=function(){return this._defs},Mt.prototype.removeDefs=function(t){t._obj&&t._obj.destroy(),this._defs.removeChild(t)},Mt.prototype.removeDefsById=function(t){for(var e=this._defs.childNodes,i=e.length,n=0;n<i;n++){var r=e[n];if(r.id===t)return void this.removeDefs(r)}},Mt.prototype.getRootAttribute=function(t){return u.getAttrNullNS(this._root,t)},Mt.resetUniqueSeeds=function(){D._counter=0,p._uniqueSeed=0,A._uniqueSeed=0,Dt._uniqueSeed=0,xt._uniqueSeed=0,r._bInitialized=!1},Mt.resetCaches=function(){st.clearCaches()},Mt.prototype.setActiveElement=function(t){this._activeElement&&(u.removeAttrNullNS(this._activeElement.getElem(),"id"),this._activeElement=null);var e=t.getElem(),i=u.getAttrNullNS(e,"id");i||(i=Mt._generateActiveElementId(t),u.setAttrNullNS(e,"id",i),this._activeElement=t),t.applyAriaProperties(),"application"==this._role&&this._parentDiv.setAttribute("aria-activedescendant",i)},Mt._generateActiveElementId=function(t){var e="_dvtActiveElement"+(r.isEnvironmentTest()?"":Math.floor(1e9*Math.random())),i=t.getId();return"string"==typeof i||i instanceof String||"number"==typeof i||i instanceof Number?e+"_"+i:e},Mt.prototype.setAriaLabel=function(t){this._parentDiv.getAttribute("aria-label")&&!this._parentDiv[wt]||(this._parentDiv[wt]=!0,t?this._parentDiv.setAttribute("aria-label",O.processAriaLabel(t)):this._parentDiv.removeAttribute("aria-label"))},Mt.prototype.setAriaRole=function(t){this._appAriaRole||(t?this._parentDiv.setAttribute("role",t):this._parentDiv.removeAttribute("role"),this._role=t)},Mt.prototype.setTooltipAttachedCallback=function(t){this._tooltipAttachedCallback=t},Mt.prototype.getTooltipAttachedCallback=function(){return this._tooltipAttachedCallback},Mt.prototype.resetCurrentKeyboardFocus=function(t){this._keyboardFocusArray&&0!==this._keyboardFocusArray.length&&(t.keyCode==P.TAB&&t.shiftKey?this.setCurrentKeyboardFocus(this._keyboardFocusArray[this._keyboardFocusArray.length-1]):t.keyCode==P.TAB&&this.setCurrentKeyboardFocus(this._keyboardFocusArray[0]))},Mt.prototype.setKeyboardFocusArray=function(t){(this._keyboardFocusArray=t,this._keyboardFocusIndex=0,t.length>0)&&(this._root.parentNode._currentObj=this._keyboardFocusArray[this._keyboardFocusIndex])},Mt.prototype.getCurrentKeyboardFocus=function(){return this._keyboardFocusArray.length<=this._keyboardFocusIndex?null:this._keyboardFocusArray[this._keyboardFocusIndex]},Mt.prototype.setCurrentKeyboardFocus=function(t){var e=this._keyboardFocusArray.indexOf(t);if(-1==e)return!1;var i=this._keyboardFocusArray[e];return this._keyboardFocusIndex=e,this._root.parentNode._currentObj=i,!0},Mt.prototype.nextKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex+1];return t?(this._keyboardFocusIndex++,this._root.parentNode._currentObj=t,t):null},Mt.prototype.previousKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex-1];return t?(this._keyboardFocusIndex--,this._root.parentNode._currentObj=t,t):null},Mt.prototype.getNumberConverter=function(t){var e=this.getLocaleHelpers();return e.createNumberConverter?e.createNumberConverter(t):null},Mt.prototype.getLocaleHelpers=function(){return this._localeHelpers?this._localeHelpers:{}},Mt.prototype.setLocaleHelpers=function(t){this._localeHelpers=t},Mt.requestAnimationFrame=c,Mt.cancelAnimationFrame=_,Mt.prototype.getContainer=function(){return this._parentDiv},Mt.prototype.createOverlayDiv=function(){var t=document.createElement("div");return t.style.top="-100%",t.style.position="relative",t},Mt.prototype.setOverlayAttachedCallback=function(t){this._overlayAttachedCallback=t},Mt.prototype.getOverlayAttachedCallback=function(){return this._overlayAttachedCallback},Mt.prototype.addDndEventManager=function(t){this._dndEventManagers.push(t)},Mt.prototype.removeDndEventManager=function(t){var e=this._dndEventManagers.indexOf(t);this._dndEventManagers.splice(e,1)},Mt.prototype.isLastDndEventManager=function(t){return this._dndEventManagers[this._dndEventManagers.length-1]===t},Mt.prototype.setFixContextCallback=function(t){this._fixContextCallback=t},Mt.prototype.fixRendererContext=function(t){return this._fixContextCallback?this._fixContextCallback(t):t},Mt.prototype.setCustomElement=function(t){this._customElement=t},Mt.prototype.isCustomElement=function(){return this._customElement},Mt.prototype.destroy=function(){this._destroyed=!0},Mt.prototype.setJetProperties=function(t){this._jetProps=t,Object.assign(this,t)},Mt.prototype.getJetProperties=function(){return this._jetProps},Mt.prototype.createContext=function(t,e,i){var n=new Mt(t,e,i);return n.setJetProperties(this.getJetProperties()),n};const Lt=function(){this.Init()};i.createSubclass(Lt,i),Lt.linear=function(t){return t},Lt.quadraticIn=function(t){return Lt.PolyIn(t,2)},Lt.quadraticOut=function(t){return Lt.PolyOut(t,2)},Lt.quadraticInOut=function(t){return Lt.PolyInOut(t,2)},Lt.cubicIn=function(t){return Lt.PolyIn(t,3)},Lt.cubicOut=function(t){return Lt.PolyOut(t,3)},Lt.cubicInOut=function(t){return Lt.PolyInOut(t,3)},Lt.backOut=function(t,e){return e||(e=1.70158),1-(t=1-t)*t*((e+1)*t-e)},Lt.backIn=function(t,e){return e||(e=1.70158),t*t*((e+1)*t-e)},Lt.elasticIn=function(t,e,i){return t<=0||t>=1?t:(i||(i=.45),!e||e<1?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i));var n},Lt.elasticOut=function(t,e,i){return 1-Lt.elasticIn(1-t,e,i)},Lt.PolyIn=function(t,e){return t<0?0:t>1?1:Math.pow(t,e)},Lt.PolyOut=function(t,e){return t<0?0:t>1?1:1-Math.pow(1-t,e)},Lt.PolyInOut=function(t,e){return t<0?0:t>1?1:t<.5?.5*Math.pow(2*t,e):.5*(2-Math.pow(2*(1-t),e))},Lt.prototype.Init=function(){};const Pt=function(){this.Init()};i.createSubclass(Pt,i),Pt.TYPE_NUMBER="typeNumber",Pt.TYPE_MATRIX="typeMatrix",Pt.TYPE_NUMBER_ARRAY="typeNumberArray",Pt.TYPE_COLOR="typeColor",Pt.TYPE_COLOR_ARRAY="typeColorArray",Pt.TYPE_GROW_POLYLINE="typeGrowPolyline",Pt.TYPE_RECTANGLE="typeRectangle",Pt.TYPE_POINT="typePoint",Pt.TYPE_PATH="typePath",Pt.TYPE_GROW_PATH="typeGrowPath",Pt.TYPE_FILL="typeFill",Pt.TYPE_STROKE="typeStroke",Pt.TYPE_POLYLINE="typePolyline",Pt.interpolate=function(t,e,i,n,r){var o=Pt._getInterpolator(e);return o?o(t,i,n,r):n},Pt._getInterpolator=function(t){return Pt._map[t]},Pt.InterpolateNumber=function(t,e,i,n){return S.interpolateNumber(e,i,n)},Pt.InterpolateNumberArray=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var h,l;h=a<r?e[a]:e[r-1],l=a<o?i[a]:i[o-1],s.push(Pt.InterpolateNumber(t,h,l,n))}return s},Pt.InterpolateMatrix=function(t,e,i,n){var r=Pt.InterpolateNumber(t,e.getA(),i.getA(),n),o=Pt.InterpolateNumber(t,e.getB(),i.getB(),n),s=Pt.InterpolateNumber(t,e.getC(),i.getC(),n),a=Pt.InterpolateNumber(t,e.getD(),i.getD(),n),h=Pt.InterpolateNumber(t,e.getTx(),i.getTx(),n),u=Pt.InterpolateNumber(t,e.getTy(),i.getTy(),n);return new l(r,o,s,a,h,u)},Pt.InterpolateColor=function(t,e,i,n){return T.interpolateColor(e,i,n)},Pt.InterpolateColorArray=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var h,l;h=a<r?e[a]:e[r-1],l=a<o?i[a]:i[o-1],s.push(Pt.InterpolateColor(t,h,l,n))}return s},Pt.InterpolateGrowPolyline=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,o=i.length,s=[i[0],i[1]],a=n*Pt.CalcPolylineLength(i),h=0,l=2;l<o-1;l+=2){var u=i[l-2],c=i[l-1],_=i[l],p=i[l+1];if(h+(r=Pt.CalcPolylineLength([u,c,_,p]))>a){var d=(a-h)/r,g=_-u,f=p-c;s.push(u+d*g),s.push(c+d*f);break}h+=r,s.push(_),s.push(p)}return s},Pt.InterpolateGrowPath=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,o,s,a,h,l,u,c,_,p=i.length,d=[],g=n*Pt.CalcPathLength(i),f=0,y=0;y<p;y++){var v,S=i[y];switch(S){case"M":v=[c=o=i[++y],_=s=i[++y],c,_];break;case"L":v=[c,_,o=i[++y],s=i[++y]];break;case"Q":a=i[++y],h=i[++y],v=[c,_,o=i[++y],s=i[++y]];break;case"C":a=i[++y],h=i[++y],l=i[++y],u=i[++y],v=[c,_,o=i[++y],s=i[++y]]}if(f+(r=Pt.CalcPolylineLength(v))>g){var T=(g-f)/r;switch(d.push(S),S){case"Q":d.push(c+T*(a-c),_+T*(h-_));break;case"C":d.push(c+T*(a-c),_+T*(h-_),c+T*(l-c),_+T*(u-_))}d.push(c+T*(o-c),_+T*(s-_));break}switch(f+=r,d.push(S),S){case"Q":d.push(a,h);break;case"C":d.push(a,h,l,u)}d.push(o),d.push(s),c=o,_=s}return d},Pt.CalcPolylineLength=function(t){for(var e,i,n,r,o=0,s=0;s<t.length;s+=2){if(n=t[s],r=t[s+1],s>0)if(n===e)o+=Math.abs(r-i);else if(r===i)o+=Math.abs(n-e);else{var a=Math.abs(n-e),h=Math.abs(r-i);o+=Math.sqrt(a*a+h*h)}e=n,i=r}return o},Pt.CalcPathLength=function(t){for(var e,i,n,r,o=0,s=0;s<t.length;){switch(t[s]){case"M":e=n=t[s+1],i=r=t[s+2],s+=3;continue;case"L":n=t[s+1],r=t[s+2],s+=3;break;case"Q":n=t[s+3],r=t[s+4],s+=5;break;case"C":n=t[s+5],r=t[s+6],s+=7}if(s>0)if(n===e)o+=Math.abs(r-i);else if(r===i)o+=Math.abs(n-e);else{var a=Math.abs(n-e),h=Math.abs(r-i);o+=Math.sqrt(a*a+h*h)}e=n,i=r}return o},Pt.InterpolateRectangle=function(t,e,i,n){var r=Pt.InterpolateNumber(t,e.x,i.x,n),o=Pt.InterpolateNumber(t,e.y,i.y,n),s=Pt.InterpolateNumber(t,e.w,i.w,n),a=Pt.InterpolateNumber(t,e.h,i.h,n);return new m(r,o,s,a)},Pt.InterpolatePoint=function(t,e,i,r){var o=Pt.InterpolateNumber(t,e.x,i.x,r),s=Pt.InterpolateNumber(t,e.y,i.y,r);return new n(o,s)},Pt.InterpolatePath=function(t,e,i,n){var r=e.length,o=i.length;if(r!=o)return i;for(var s=[],a=0,h=0;a<r&&h<o;){var l=e[a],u=i[h],c=!isNaN(l),_=!isNaN(u);c||_?c&&_&&s.push(Pt.InterpolateNumber(t,l,u,n)):l===u&&s.push(l),a++,h++}return s},Pt.InterpolateFill=function(t,e,i,n){if(e instanceof K&&i instanceof K){var r=Pt.InterpolateColor(t,e.getColor(),i.getColor(),n),o=Pt.InterpolateNumber(t,e.getAlpha(),i.getAlpha(),n);return new K(r,o)}return i},Pt.InterpolateStroke=function(t,e,i,n){if(e instanceof z&&i instanceof z){var r=Pt.InterpolateColor(t,e.getColor(),i.getColor(),n),o=Pt.InterpolateNumber(t,e.getAlpha(),i.getAlpha(),n),s=Pt.InterpolateNumber(t,e.getWidth(),i.getWidth(),n);return new z(r,o,s,i.isFixedWidth(),i.getDashProps(),i.getLineProps())}return i},Pt.InterpolatePolyline=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var h,l,u=2;a%2==1&&(u=1),h=a<r?e[a]:e[r-u],l=a<o?i[a]:i[o-u],s.push(Pt.InterpolateNumber(t,h,l,n))}if(o<r){var c=s.length,_=s[c-2],p=s[c-1];for(a=c-4;a>=0;a-=2){var d=s[a],g=s[a+1];if(d!=_||g!=p)break;s.splice(a,2)}}return s},Pt.prototype.Init=function(){},(Pt._map={})[Pt.TYPE_NUMBER]=Pt.InterpolateNumber,Pt._map[Pt.TYPE_MATRIX]=Pt.InterpolateMatrix,Pt._map[Pt.TYPE_NUMBER_ARRAY]=Pt.InterpolateNumberArray,Pt._map[Pt.TYPE_COLOR]=Pt.InterpolateColor,Pt._map[Pt.TYPE_COLOR_ARRAY]=Pt.InterpolateColorArray,Pt._map[Pt.TYPE_GROW_POLYLINE]=Pt.InterpolateGrowPolyline,Pt._map[Pt.TYPE_RECTANGLE]=Pt.InterpolateRectangle,Pt._map[Pt.TYPE_POINT]=Pt.InterpolatePoint,Pt._map[Pt.TYPE_PATH]=Pt.InterpolatePath,Pt._map[Pt.TYPE_GROW_PATH]=Pt.InterpolateGrowPath,Pt._map[Pt.TYPE_FILL]=Pt.InterpolateFill,Pt._map[Pt.TYPE_STROKE]=Pt.InterpolateStroke,Pt._map[Pt.TYPE_POLYLINE]=Pt.InterpolatePolyline;var Ht=function(t,e,i){this.type=t,this.setter=e,this.destVal=i,this.startVal=null};const Ft=function(t,e,i,n){this._context=t,this._scheduler=t.getScheduler(),this._duration=e||.5,this._delay=i||0,this.setEasing(n),this._bRunning=!1,this._startTime=null,this._progress=0,this._state=0,this._onInit=null,this._onInitObj=null,this._onEnd=null,this._onEndObj=null,this._context=t,this._props=new Map};Ft.TYPE_NUMBER=Pt.TYPE_NUMBER,Ft.TYPE_MATRIX=Pt.TYPE_MATRIX,Ft.TYPE_NUMBER_ARRAY=Pt.TYPE_NUMBER_ARRAY,Ft.TYPE_COLOR=Pt.TYPE_COLOR,Ft.TYPE_COLOR_ARRAY=Pt.TYPE_COLOR_ARRAY,Ft.TYPE_GROW_POLYLINE=Pt.TYPE_GROW_POLYLINE,Ft.TYPE_RECTANGLE=Pt.TYPE_RECTANGLE,Ft.TYPE_POINT=Pt.TYPE_POINT,Ft.TYPE_PATH=Pt.TYPE_PATH,Ft.TYPE_GROW_PATH=Pt.TYPE_GROW_PATH,Ft.TYPE_FILL=Pt.TYPE_FILL,Ft.TYPE_STROKE=Pt.TYPE_STROKE,Ft.TYPE_POLYLINE=Pt.TYPE_POLYLINE,Ft.prototype.addProp=function(t,e,i,n,r){var o=this._getPropItem(e,i);o?o.destVal=r:(o=new Ht(t,n,r),this._setPropItem(e,i,o))},Ft.prototype.getDestVal=function(t,e,i){var n=this._getPropItem(t,e);return n?n.destVal:i?e.call(t):null},Ft.prototype.setEasing=function(t){this._easing=t||Lt.cubicInOut},Ft.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},Ft.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null},Ft.prototype.getOnInit=function(){return[this._onInit,this._onInitObj]},Ft.prototype.setOnInit=function(t,e){this._onInit=t,this._onInitObj=e||null},Ft.prototype.isRunning=function(){return this._bRunning},Ft.prototype.play=function(t){t?this._play():this._animationRequestId=Mt.requestAnimationFrame(i.createCallback(this,this._play))},Ft.prototype.processTime=function(t){if(this._bRunning){var e=t-this._startTime;if(e<0)return!1;var i=1e3*this._getTotalDuration(),n=1;0!=i&&(n=e/i),n>1&&(n=1),this._processStep(n);var r=n>=1;return r&&this._processEnd(),r}},Ft.prototype.stop=function(t){this._animationRequestId&&(Mt.cancelAnimationFrame(this._animationRequestId),this._animationRequestId=null),this._scheduler.removeScheduled(this),t&&this._processStep(1),this._processEnd()},Ft.prototype._getPropItem=function(t,e){var i=this._props.get(t);return i?i.get(e):null},Ft.prototype._setPropItem=function(t,e,i){var n=this._props.get(t);n||(n=new Map,this._props.set(t,n)),n.set(e,i)},Ft.prototype._getTotalDuration=function(){return this._delay+this._duration},Ft.prototype._play=function(){this._bRunning||(this._bRunning=!0,this._processPlay(),this._scheduler.addScheduled(this)),this._context.isOffscreen()&&this.stop(!0),this._animationRequestId=null},Ft.prototype._processEnd=function(){this._bRunning&&(this._bRunning=!1,this._progress=1,this._state=1),this._onEnd&&!this._ended&&(this._onEnd.call(this._onEndObj),this._ended=!0)},Ft.prototype._processInitialize=function(){this._onInit&&this._onInit.call(this._onInitObj),this._props.forEach(function(t,e){t.forEach(function(t,i){t.startVal=i.call(e)})}),this._state=1},Ft.prototype._processPlay=function(){if(0==this._state&&this._processInitialize(),1==this._state)this._startTime=(new Date).getTime(),this._bRunning=!0,this._progress=0;else{var t=1e3*this._progress*this._getTotalDuration();this._startTime=(new Date).getTime()-t}this._state=2},Ft.prototype._processStep=function(t){this._progress=t;var e=t;if(this._delay>0){var i=this._delay/this._getTotalDuration(),n=1-i;e=0===n?.5:Math.min(1,(t-i)/n)}if(e>=0){this._easing&&(e=this._easing(e));var r=this._context;this._props.forEach(function(t,i){t.forEach(function(t,n){var o=Pt.interpolate(r,t.type,t.startVal,t.destVal,e);t.setter.call(i,o)})})}};const kt=function(t){this.Init(t)};i.createSubclass(kt,i),kt.appendOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();if(n&&n[0]){t.setOnEnd(function(){n[0].call(n[1]),e.call(i)})}else t.setOnEnd(e,i)}},kt.prependOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();if(n&&n[0]){t.setOnInit(function(){e.call(i),n[0].call(n[1])})}else t.setOnInit(e,i)}},kt.prototype.Init=function(t){this.Context=t,this._onEnd=null,this._onEndObj=null},kt.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null,this.OnEndUpdated()},kt.prototype.CallOnEnd=function(){this._onEnd&&!this._ended&&(this._onEnd.call(this._onEndObj),this._ended=!0)},kt.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},kt.prototype.OnEndUpdated=function(){},kt.prototype.getDuration=function(){return 0},kt.prototype.initialize=function(){},kt.prototype.play=function(t){},kt.prototype.stop=function(t){};const Gt=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=[].slice.call(arguments)).splice(0,1),this.Init(t,e)};i.createSubclass(Gt,kt),Gt.prototype.Init=function(t,e){Gt.superclass.Init.call(this,t),this._runningCounter=0,this._arPlayables=e||[],this._bStarted=!1},Gt.prototype.getDuration=function(){for(var t=0,e=0;e<this._arPlayables.length;e++){var i=this._arPlayables[e];i instanceof kt&&(t=Math.max(t,i.getDuration()))}return t},Gt.prototype.initialize=function(){for(var t=0;t<this._arPlayables.length;t++)this._arPlayables[t]instanceof kt&&this._arPlayables[t].initialize()},Gt.prototype.play=function(t){this._arPlayables.length>0?t?this._play():(this.initialize(),this._animationRequestId=Mt.requestAnimationFrame(i.createCallback(this,this._play))):this._animationRequestId=Mt.requestAnimationFrame(i.createCallback(this,this.DoEnd))},Gt.prototype._play=function(){var t;if(!this._bStarted)for(var e=0;e<this._arPlayables.length;e++)(t=this._arPlayables[e])instanceof kt&&(this._runningCounter++,kt.appendOnEnd(t,this.OnPlayableEnd,this));for(e=0;e<this._arPlayables.length;e++)(t=this._arPlayables[e])instanceof kt&&t.play(!0);this._bStarted=!0,this._animationRequestId=null},Gt.prototype.stop=function(t){if(this._animationRequestId)return Mt.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();for(var e,i=0;i<this._arPlayables.length;i++)(e=this._arPlayables[i])instanceof kt&&e.stop(t)},Gt.prototype.OnPlayableEnd=function(){this._runningCounter--,this._runningCounter<1&&this.DoEnd()},Gt.prototype.DoEnd=function(){this.CallOnEnd(),this._animationRequestId=null};const Bt=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=[].slice.call(arguments)).splice(0,1),this.Init(t,e)};i.createSubclass(Bt,kt),Bt.prototype.Init=function(t,e){Bt.superclass.Init.call(this,t),this._arPlayables=e||[],this._currIndex=-1,this._bStarted=!1},Bt.prototype.getDuration=function(){for(var t=0,e=0;e<this._arPlayables.length;e++){var i=this._arPlayables[e];i instanceof kt&&(t+=i.getDuration())}return t},Bt.prototype.initialize=function(){this._arPlayables.length>0&&this._arPlayables[0]instanceof kt&&this._arPlayables[0].initialize()},Bt.prototype.play=function(t){this._arPlayables&&this._arPlayables.length>0?t?this._play():(this.initialize(),this._animationRequestId=Mt.requestAnimationFrame(i.createCallback(this,this._play))):this._animationRequestId=Mt.requestAnimationFrame(i.createCallback(this,this.DoEnd))},Bt.prototype._play=function(){if(this._bStarted){var t=this._arPlayables[this._currIndex];t instanceof kt&&t.play(!0)}else{var e,i,n;this._arPlayables[0]instanceof kt&&(e=this._arPlayables[0]),this._arPlayables[this._arPlayables.length-1]instanceof kt&&(i=this._arPlayables[this._arPlayables.length-1]);for(var r=0;r<this._arPlayables.length-1;r++)(n=this._arPlayables[r])instanceof kt&&kt.appendOnEnd(n,this.DoSequenceStep,this);i&&kt.appendOnEnd(i,this.DoEnd,this),this._bStarted=!0,this._currIndex=0,e&&e.play(!0),this._animationRequestId=null}},Bt.prototype.DoSequenceStep=function(){var t=this._arPlayables[++this._currIndex];t instanceof kt?t.play(!0):this.DoSequenceStep()},Bt.prototype.stop=function(t){if(this._animationRequestId)return Mt.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();if(this._arPlayables)for(var e,i=this._currIndex;i<this._arPlayables.length;i++)(e=this._arPlayables[i])&&e instanceof kt&&e.stop(t)},Bt.prototype.DoEnd=function(){this.CallOnEnd(),this._animationRequestId=null};const Ut=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Ut,kt),Ut.EASING_LINEAR=1,Ut.EASING_CUBIC_IN_OUT=2,Ut.EASING_CUBIC_IN=3,Ut.EASING_CUBIC_OUT=4,Ut.EASING_QUADRATIC_IN_OUT=5,Ut.EASING_QUADRATIC_IN=6,Ut.EASING_QUADRATIC_OUT=7,Ut.EASING_BOUNCE_IN=8,Ut.EASING_BOUNCE_OUT=9,Ut.EASING_ELASTIC_IN=10,Ut.EASING_ELASTIC_OUT=11,Ut.DIR_C=1,Ut.DIR_N=2,Ut.DIR_NE=3,Ut.DIR_E=4,Ut.DIR_SE=5,Ut.DIR_S=6,Ut.DIR_SW=7,Ut.DIR_W=8,Ut.DIR_NW=9,Ut.AXIS_X=1,Ut.AXIS_Y=2,Ut.ROT_DIR_CLOCKWISE=1,Ut.ROT_DIR_COUNTERCLOCKWISE=2,Ut.GetEasingFunction=function(t){switch(t){case Ut.EASING_LINEAR:return Lt.linear;case Ut.EASING_CUBIC_IN:return Lt.cubicIn;case Ut.EASING_CUBIC_OUT:return Lt.cubicOut;case Ut.EASING_QUADRATIC_IN_OUT:return Lt.quadraticInOut;case Ut.EASING_QUADRATIC_IN:return Lt.quadraticIn;case Ut.EASING_QUADRATIC_OUT:return Lt.quadraticOut;case Ut.EASING_BOUNCE_IN:return Lt.backIn;case Ut.EASING_BOUNCE_OUT:return Lt.backOut;case Ut.EASING_ELASTIC_IN:return Lt.elasticIn;case Ut.EASING_ELASTIC_OUT:return Lt.elasticOut;case Ut.EASING_CUBIC_IN_OUT:default:return Lt.cubicInOut}},Ut.GetCompassPoint=function(t,e){switch(e){case Ut.DIR_N:return new n(t.x+.5*t.w,t.y);case Ut.DIR_NE:return new n(t.x+t.w,t.y);case Ut.DIR_E:return new n(t.x+t.w,t.y+.5*t.h);case Ut.DIR_SE:return new n(t.x+t.w,t.y+t.h);case Ut.DIR_S:return new n(t.x+.5*t.w,t.y+t.h);case Ut.DIR_SW:return new n(t.x,t.y+t.h);case Ut.DIR_W:return new n(t.x,t.y+.5*t.h);case Ut.DIR_NW:return new n(t.x,t.y);case Ut.DIR_C:default:return new n(t.x+.5*t.w,t.y+.5*t.h)}},Ut.GetAlignCompassPoint=function(t,e,i){var r=Ut.GetCompassPoint(e,i);switch(i){case Ut.DIR_N:return new n(r.x-.5*t.w,r.y);case Ut.DIR_NE:return new n(r.x-t.w,r.y);case Ut.DIR_E:return new n(r.x-t.w,r.y-.5*t.h);case Ut.DIR_SE:return new n(r.x-t.w,r.y-t.h);case Ut.DIR_S:return new n(r.x-.5*t.w,r.y-t.h);case Ut.DIR_SW:return new n(r.x,r.y-t.h);case Ut.DIR_W:return new n(r.x,r.y-.5*t.h);case Ut.DIR_NW:return new n(r.x,r.y);case Ut.DIR_C:default:return new n(r.x-.5*t.w,r.y-.5*t.h)}},Ut.prototype.Init=function(t,e,i,n){Ut.superclass.Init.call(this,t),this._context=t,this._arObjects=e instanceof Array?e:[e],this._duration=i||.5,this._delay=n||0,this._easing=Ut.EASING_CUBIC_IN_OUT,this._bInitialized=!1,this._bSaveAndRestoreOriginalMatrices=!1,this._origMatrixArray=null,this._bHideObjectsOnEnd=!1,this.CreateAnimator(t)},Ut.prototype.GetContext=function(){return this._context},Ut.prototype.isRunning=function(){return!!this._animator&&this._animator.isRunning()},Ut.prototype.initialize=function(){this._bInitialized||(this._initializeEndStates(this._arObjects),this._initializeStartStates(this._arObjects),this.InitializePlay(),this._bInitialized=!0)},Ut.prototype.play=function(t){this.initialize(),this._animator&&this._animator.play(t)},Ut.prototype.stop=function(t){this._animator&&this._animator.stop(t)},Ut.prototype.getDuration=function(){return this._duration},Ut.prototype.setEasing=function(t){this._easing=t,this._animator&&this._animator.setEasing(Ut.GetEasingFunction(this._easing))},Ut.prototype.CreateAnimator=function(t){this._animator=new Ft(t,this._duration,this._delay,Ut.GetEasingFunction(this._easing)),this._animator.setOnEnd(this.OnAnimEnd,this)},Ut.prototype.OnAnimEnd=function(){this._bHideObjectsOnEnd&&this.SetObjectsVisible(!1),this._bSaveAndRestoreOriginalMatrices&&this.RestoreOriginalMatrices(),this.CallOnEnd()},Ut.prototype.InitializePlay=function(){},Ut.prototype._initializeStartStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&(this._bSaveAndRestoreOriginalMatrices&&(this._origMatrixArray||(this._origMatrixArray=[]),this._origMatrixArray.push(e.getMatrix())),this.InitStartState(e))},Ut.prototype._initializeEndStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&this.InitEndState(e)},Ut.prototype.InitStartState=function(t){},Ut.prototype.InitEndState=function(t){},Ut.prototype.SetObjectsVisible=function(t){if(this._arObjects)for(var e,i=this._arObjects.length-1;i>=0;i--)(e=this._arObjects[i])&&e.setVisible(t)},Ut.prototype.RestoreOriginalMatrices=function(){if(this._arObjects)for(var t,e=this._arObjects.length-1;e>=0;e--)(t=this._arObjects[e])&&this._origMatrixArray&&t.setMatrix(this._origMatrixArray.pop())};const Yt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Yt,Ut),Yt.prototype.Init=function(t,e,i,n){Yt.superclass.Init.call(this,t,e,i,n)},Yt.prototype.InitStartState=function(t){t.setAlpha(0)},Yt.prototype.InitEndState=function(t){this._animator.addProp(Ft.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1)};const Wt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Wt,Ut),Wt.prototype.Init=function(t,e,i,r,o){this._arOffsets=i instanceof Array?i:i instanceof n?[i]:[new n(0,0)],this._currIndex=0,Wt.superclass.Init.call(this,t,e,r,o)},Wt.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arOffsets.length?this._arOffsets[this._currIndex]:this._arOffsets[this._arOffsets.length-1],this._animator.addProp(Ft.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,t.getTranslateX()+e.x),this._animator.addProp(Ft.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,t.getTranslateY()+e.y),this._currIndex++};const Vt=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(Vt,Yt),Vt.prototype.Init=function(t,e,i,n,r,o,s){this._boundsRect=i,this._direction=n||Ut.DIR_NW,this._minScale=r||.5,Vt.superclass.Init.call(this,t,e,o,s),this._bSaveAndRestoreOriginalMatrices=!0},Vt.prototype.InitStartState=function(t){Vt.superclass.InitStartState.call(this,t);var e=this._minScale*t.getScaleX(),i=this._minScale*t.getScaleY(),n=t.getDimensions(),r=new m(0,0,e*n.w,i*n.h),o=Ut.GetAlignCompassPoint(r,this._boundsRect,this._direction);t.setTranslate(o.x,o.y),t.setScale(e,i)},Vt.prototype.InitEndState=function(t){Vt.superclass.InitEndState.call(this,t);var e=t.getMatrix();this._animator.addProp(Ft.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,e)};const jt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(jt,Ut),jt.prototype.Init=function(t,e,i,n){jt.superclass.Init.call(this,t,e,i,n)},jt.prototype.InitEndState=function(t){this._animator.addProp(Ft.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)};const Kt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Kt,Gt),Kt.prototype.Init=function(t,e,i,n,r){n||(n=.5),r||(r=0);var o=new jt(t,e,n,r),s=new Yt(t,i,n,.5*o.getDuration()+r);Kt.superclass.Init.call(this,t,[o,s])};const zt=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(zt,Gt),zt.prototype.Init=function(t,e,i,n,r,o,s){o||(o=.5),s||(s=0);var a=new Wt(t,e,n,o,s),h=new Wt(t,i,r,o,s);zt.superclass.Init.call(this,t,[a,h])};const Xt=function(t,e,i,n,r,o,s,a,h){this.Init(t,e,i,n,r,o,s,a,h)};i.createSubclass(Xt,Gt),Xt.prototype.Init=function(t,e,i,n,r,o,s,a,h){r||(r=Ut.DIR_NE),o||(o=Ut.DIR_NW),s||(s=.5),a||(a=.5),h||(h=0);var l=new Vt(t,i,n,o,s,a,.3*null.getDuration()+h);Xt.superclass.Init.call(this,t,[null,l])};const qt=function(){};i.createSubclass(qt,i),qt.ALPHA_FADE="alphaFade",qt.SLIDE_TO_RIGHT="slideToRight",qt.SLIDE_TO_LEFT="slideToLeft",qt.ZOOM="zoom",qt.isSupported=function(t){return t==qt.ALPHA_FADE||t==qt.SLIDE_TO_RIGHT||t==qt.SLIDE_TO_LEFT||t==qt.ZOOM},qt.getInAnimation=function(t,e,i,r,o){return e==qt.ALPHA_FADE?new Yt(t,i,o):e==qt.SLIDE_TO_RIGHT?(qt._offsetObjects(i,-r.w,0),new Wt(t,i,new n(r.w,0),o)):e==qt.SLIDE_TO_LEFT?(qt._offsetObjects(i,r.w,0),new Wt(t,i,new n(-r.w,0),o)):e==qt.ZOOM?new Vt(t,i,r,Ut.DIR_C,.5,o):null},qt.getCombinedAnimation=function(t,e,i,r,o,s){return e==qt.ALPHA_FADE?new Kt(t,i,r,s):e==qt.SLIDE_TO_RIGHT?(qt._offsetObjects(r,-o.w,0),new zt(t,i,r,new n(o.w,0),new n(o.w,0),s)):e==qt.SLIDE_TO_LEFT?(qt._offsetObjects(r,o.w,0),new zt(t,i,r,new n(-o.w,0),new n(-o.w,0),s)):e==qt.ZOOM?new Xt(t,i,r,o,Ut.DIR_C,Ut.DIR_C,.5,s):null},qt._offsetObjects=function(t,e,i){if(t.length)for(var n=0;n<t.length;n++)qt._offsetObjects(t[n],e,i);else t&&t.setTranslate(t.getTranslateX()+e,t.getTranslateY()+i)};const Zt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Zt,Ut),Zt.prototype.getAnimator=function(){return this._animator};const Qt=function(t,e){this.Init(t,e)};i.createSubclass(Qt,i),Qt._OVERLAP_RATIO=.4,Qt.prototype.Init=function(t,e){this._context=t,this._deleteContainer=e,this._playables=[]},Qt.prototype.getCtx=function(){return this._context},Qt.prototype.constructAnimation=function(t,e){if(e&&!this._context.isOffscreen()){e=e.slice(0);var i=[];if(t){for(var n=new this._context.ojMap,r=0;r<e.length;r++){(s=e[r])&&s.getId()&&n.set(s.getId(),s)}for(var o=0;o<t.length;o++){var s,a=t[o],h=a?a.getId():void 0;(s=h?n.get(h):void 0)?(i.push(s.getId()),s.animateUpdate(this,a)):a&&a.animateDelete(this,this._deleteContainer)}}for(var l=new this._context.KeySetImpl(i),u=0;u<e.length;u++)!e[u]||e[u].getId()&&l.has(e[u].getId())||e[u].animateInsert(this)}},Qt.prototype.getDeleteContainer=function(){return this._deleteContainer},Qt.prototype.add=function(t,e){if(t){for(e||(e=0);this._playables.length<=e;)this._playables.push(new Array);this._playables[e].push(t)}},Qt.prototype.getAnimation=function(t){for(var e=[],i=0;i<this._playables.length;i++)if(this._playables[i].length>0){var n=new Gt(this._context,this._playables[i]);e.push(n)}if(t){for(var r=[],o=0,s=0;s<e.length;s++){if(o>0){var a=new Zt(this._context,null,o);r.push(new Bt(this._context,[a,e[s]]))}else r.push(e[s]);o+=(1-Qt._OVERLAP_RATIO)*e[s].getDuration()}return new Gt(this._context,r)}return new Bt(this._context,e)},Qt.prototype.getNumPlayables=function(){return this._playables.length};const $t=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass($t,Ut),$t.prototype.Init=function(t,e,i,r,o){this._arPoints=i instanceof Array?i:i instanceof n?[i]:[new n(0,0)],this._currIndex=0,$t.superclass.Init.call(this,t,e,r,o)},$t.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arPoints.length?this._arPoints[this._currIndex]:this._arPoints[this._arPoints.length-1],this._animator.addProp(Ft.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,e.x),this._animator.addProp(Ft.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,e.y),this._currIndex++};const Jt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Jt,Ut),Jt.prototype.Init=function(t,e,i,r,o){this._arScales=i instanceof Array?i:i instanceof n?[i]:[new n(1,1)],this._currIndex=0,Jt.superclass.Init.call(this,t,e,r,o)},Jt.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(Ft.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,e.x),this._animator.addProp(Ft.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,e.y),this._currIndex++};const te=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(te,Ut),te.BackOut=function(t){return Lt.backOut(t,2.5)},te.prototype.Init=function(t,e,i,n,r){this._bCenter=i,this._bCenter&&(this._tempContainers=[],this._currIndex=0),te.superclass.Init.call(this,t,e,n,r)},te.prototype.setEasing=function(t){},te.prototype.CreateAnimator=function(t){te.superclass.CreateAnimator.call(this,t),this._animator.setEasing(te.BackOut),this._bCenter&&kt.appendOnEnd(this._animator,this.RemoveTempContainers,this)},te.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,r=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+r),t.setTranslate(-n,-r);var o=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=o,t.getParent().addChildAt(e,o),e.addChild(t),e.setScale(.01,.01),this._currIndex++}else t.setScale(.01,.01);t.setVisible(!0)},te.prototype.InitEndState=function(t){if(this._bCenter){var e=new J(this._context);this._tempContainers.push(e),this._animator.addProp(Ft.TYPE_NUMBER,e,e.getScaleX,e.setScaleX,1),this._animator.addProp(Ft.TYPE_NUMBER,e,e.getScaleY,e.setScaleY,1)}else this._animator.addProp(Ft.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,1),this._animator.addProp(Ft.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,1)},te.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}};const ee=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(ee,g),ee.prototype.Init=function(t,e,i,n,r){ee.superclass.Init.call(this,e,i,n,r),null===t||isNaN(t)?t=0:Math.abs(t)>360&&(t%=360),this._angle=t},ee.prototype.getAngle=function(){return this._angle},ee.prototype.equals=function(t){return t instanceof ee&&t.getAngle()==this.getAngle()&&ee.superclass.equals.call(this,t)};const ie=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(ie,i),ie.FOCUS_BORDER_RADIUS=1,ie.FOCUS_STROKE_WIDTH=1,ie.FOCUS_STROKE_ALPHA=1,ie.prototype.Init=function(t,e,i,n,r,o){this._container=e,this._focusEffect=new lt(t,i.x,i.y,i.w,i.h,r);var s=this.CreateStroke();this._focusEffect.setStroke(s),this._focusEffect.setRx(ie.FOCUS_BORDER_RADIUS),this._focusEffect.setRy(ie.FOCUS_BORDER_RADIUS),n&&this._focusEffect.setMatrix(n),this._focusEffect.setFill(null),this._appendLast=o},ie.prototype.CreateStroke=function(){var t,e=r.getFocusColor(),i=ie.FOCUS_STROKE_WIDTH;return"safari"===r.browser||"blink"===r.engine?i=2:t={dashArray:i,dashOffset:i},new z(e,ie.FOCUS_STROKE_ALPHA,i,!1,t)},ie.prototype.getEffect=function(){return this._focusEffect},ie.prototype.setEffect=function(t){this._focusEffect=t},ie.prototype.show=function(){this._focusEffect instanceof ot&&(this._appendLast?this._container.addChild(this._focusEffect):this._container.addChildAt(this._focusEffect,0))},ie.prototype.hide=function(){this._focusEffect instanceof ot&&this._container.removeChild(this._focusEffect)};const ne=function(){this.Init()};i.createSubclass(ne,i),ne.prototype.Init=function(){this._data=[]},ne.prototype.get=function(t,e){return this._getInner(t)[e]},ne.prototype.put=function(t,e,i){var n=this._getInner(t),r=n[e];return n[e]=i,r},ne.prototype._getInner=function(t){var e=this._data[t];return e||(e=[],this._data[t]=e),e};const re={};i.createSubclass(re,i),re.position=function(t,e,i,n,o,s){i&&(s=n*o>0?s:0,"start"==e?e=r.isRightToLeft(i.getCtx())?"right":"left":"end"==e&&(e=r.isRightToLeft(i.getCtx())?"left":"right"),"top"==e?(i.setTranslate(t.x+t.w/2-n/2,t.y),t.y+=o+s,t.h-=o+s):"bottom"==e?(i.setTranslate(t.x+t.w/2-n/2,t.y+t.h-o),t.h-=o+s):"left"==e?(i.setTranslate(t.x,t.y+t.h/2-o/2),t.x+=n+s,t.w-=n+s):"right"==e&&(i.setTranslate(t.x+t.w-n,t.y+t.h/2-o/2),t.w-=n+s))},re.align=function(t,e,i,n){if(i){var o=e;"start"==o?o=r.isRightToLeft(i.getCtx())?"right":"left":"end"==o&&(o=r.isRightToLeft(i.getCtx())?"left":"right"),"left"==o?i.setX(t.x):"center"==o?i.setX(t.x+t.w/2-n/2):"right"==o&&i.setX(t.x+t.w-n)}},re.getBubbleSize=function(t,e,i,n,r){if(t<=0)return 0;var o=n*n,s=r*r;if(i/e<s/o){var a=Math.sqrt(o*s),h=Math.sqrt(e*i);if(t==h)return Math.sqrt(a);s=i/h*a,o=e/h*a}var l=o+(t-e)/(i-e)*(s-o);return Math.sqrt(l)};const oe=function(t,e){this.Init(t,e)};i.createSubclass(oe,ne),oe._INITIAL_SIZE=1500,oe.prototype.Init=function(t,e){oe.superclass.Init.call(this),this._innerMap=e,this._innerMap&&(this._innerMap._outerMap=this,this._innerMap._bOuterMap=!0),this._scale=t||1,this._capacity=this._scale*this._scale,this._bInnerMap=null!=this._innerMap,this._bOuterMap=!1;for(var i=oe._INITIAL_SIZE/this._scale,n=0;n<i;n++)for(var r=0;r<i;r++)this.put(n,r,0)},oe.prototype.isObscured=function(t,e,i,n){for(var r=this._adjustForScale(t),o=this._adjustForScale(e),s=this._adjustForScale(i),a=this._adjustForScale(n),h=r;h<=s;h++)for(var l=o;l<=a;l++){if(!0!==this.get(h,l)){if(!this._bInnerMap)return!1;var u=Math.max(t,h*this._scale),c=Math.max(e,l*this._scale),_=Math.min(i,(h+1)*this._scale-1),p=Math.min(n,(l+1)*this._scale-1);if(!this._innerMap.isObscured(u,c,_,p))return!1}}return!0},oe.prototype.obscure=function(t,e,i,n,r){for(var o=this._adjustForScale(t),s=this._adjustForScale(e),a=this._adjustForScale(i),h=this._adjustForScale(n),l=o;l<=a;l++)for(var u=s;u<=h;u++){if(!0!==this.get(l,u))if(this._bInnerMap){var c=Math.max(t,l*this._scale),_=Math.max(e,u*this._scale),p=Math.min(i,(l+1)*this._scale-1),d=Math.min(n,(u+1)*this._scale-1);this._innerMap.obscure(c,_,p,d,r)}else this._increment(l,u,r)}},oe.prototype._increment=function(t,e,i){var n=this._adjustForScale(t),r=this._adjustForScale(e),o=this.get(n,r);(o=null!=o?o+i:i)>=this._capacity&&(o=!0),this.put(n,r,o),!0===o&&this._bOuterMap&&this._outerMap._increment(t,e,this._capacity)},oe.prototype._adjustForScale=function(t){return Math.floor(t/this._scale)};const se={_cache:{}};i.createSubclass(se,i),se.addBubbleEventListener=function(t,e,i){return window.addEventListener?(u.addDomEventListener(t,e,i,!1),!0):!!window.attachEvent&&(t.attachEvent("on"+e,i),!0)},se.loadImage=function(t,e){var i=this._cache[t];if(i){if(!i._image)return e&&e(i),i;se._addListenerToQueue(i._listeners,e)}else this.loadNewImage(t,e);return null},se.loadNewImage=function(t,e){var i=document.createElement("img"),n={_listeners:[],url:t,_image:i};e&&se._addListenerToQueue(n._listeners,e),this._cache[t]=n,se.addBubbleEventListener(i,"load",function(t){var e;n.width=i.width,n.height=i.height,delete n._image;var r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e]&&n._listeners[e](n);delete n._listeners}),i.src=t},se._addListenerToQueue=function(t,e){if(e){for(var i=0;i<t.length;i++)if(t[i]===e)return;t.push(e)}};const ae={};i.createSubclass(ae,i),ae.getDimensions=function(t){if(!t||0===t.length)return new m;for(var e,i,n=Number.MAX_VALUE,r=-1*Number.MAX_VALUE,o=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,a=t.length,h=0;h<a;h++)e=t[h++],i=t[h],n=Math.min(n,e),r=Math.max(r,e),o=Math.min(o,i),s=Math.max(s,i);return new m(n,o,Math.abs(r-n),Math.abs(s-o))},ae.getRegularPolygonPoints=function(t,e,i,n,r,o){for(var s,a=[],h=0;h<i;h++)s=r+h/i*2*Math.PI*(0==o?-1:1),a.push(t+n*Math.sin(s),e-n*Math.cos(s));return a},ae.scale=function(t,e,i){for(var n=[],r=0;r<t.length-1;r+=2)n.push(t[r]*e),n.push(t[r+1]*i);return n},ae.translate=function(t,e,i){for(var n=[],r=0;r<t.length-1;r+=2)n.push(t[r]+e),n.push(t[r+1]+i);return n};const he=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(he,ot),he.prototype.Init=function(t,e,i,n,r){he.superclass.Init.call(this,t,"circle",r),this.setCx(e).setCy(i),this.setRadius(n)},Q.defineProps(he,{r:{name:"radius"},cx:{value:0},cy:{value:0}}),he.prototype.copyShape=function(){return new he(this.getCtx(),this.getCx(),this.getCy(),this.getRadius())},he.prototype.getDimensionsSelf=function(t){var e=new m(this.getCx()-this.getRadius(),this.getCy()-this.getRadius(),2*this.getRadius(),2*this.getRadius());return this.ConvertCoordSpaceRect(e,t)};const le=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(le,ot),le.prototype.Init=function(t,e,i,n,o,s,a){le.superclass.Init.call(this,t,"image",a),e=u.getImageUrl(t,e),"ie"!==r.browser&&"edge"!==r.browser||(u.setAttrNullNS(this._elem,"fill","#FFFFFF"),u.setAttrNullNS(this._elem,"fill-opacity","0")),this.setSrc(e),this.setX(i).setY(n),this.setWidth(o),this.setHeight(s),u.setAttrNullNS(this._elem,"preserveAspectRatio","none"),this.setAriaProperty("hidden","true")},Q.defineProps(le,{x:{},y:{},width:{},height:{}}),le.prototype.getSrc=function(){return this._src},le.prototype.setSrc=function(t){if(t!==this._src){var e=t;this._src=t,u.setHref(this._elem,e)}return this},le.prototype.getDimensions=function(t){if(this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0)return this.getDimensionsSelf(t);var e=this.getElem().getBBox();return e=e.width&&e.height?new m(e.x,e.y,e.width,e.height):new m(e.x,e.y,this.getWidth(),this.getHeight()),this.ConvertCoordSpaceRect(e,t)},le.prototype.__setDimensions=function(t){this.setWidth(t.width),this.setHeight(t.height)},le.prototype.UpdateSelectionEffect=function(){},le.prototype.copyShape=function(){return new le(this.getCtx(),this.getSrc(),this.getX(),this.getY(),this.getWidth(),this.getHeight())},le.prototype.getDimensionsSelf=function(t){var e=new m(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(e,t)},le.prototype.setAriaProperty=function(t,e){le.superclass.setAriaProperty.call(this,t,e),"hidden"!=t&&le.superclass.setAriaProperty.call(this,"hidden",null)};const ue=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(ue,ot),ue.prototype.Init=function(t,e,i,n,r,o){ue.superclass.Init.call(this,t,"line",o),this.setX1(e).setY1(i).setX2(n).setY2(r),this._bHollow=!1},Q.defineProps(ue,{x1:{value:0},x2:{value:0},y1:{value:0},y2:{value:0}}),ue.prototype.setHollow=function(){var t=this._elem.parentNode;if(this._bHollow)this._origElem&&(t.replaceChild(this._origElem,this._elem),u.setAttrNullNS(this._origElem,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{var e;this._origElem=this._elem;var i=this.getX2()-this.getX1(),n=i,o=this.getY1()-i/2,s=this.getStroke();e=A.createElement("rect"),u.setAttrNullNS(e,"x",this.getX1()),u.setAttrNullNS(e,"y",o),u.setAttrNullNS(e,"width",this.getX2()-this.getX1()),u.setAttrNullNS(e,"height",n);var a=s.getColor();if(a){var h=s.getAlpha();"safari"===r.browser&&-1!==a.indexOf("rgba")?(u.setAttrNullNS(e,"stroke",T.getRGB(a)),null!=h?u.setAttrNullNS(e,"stroke-opacity",T.getAlpha(a)*h):u.setAttrNullNS(e,"stroke-opacity",T.getAlpha(a))):(u.setAttrNullNS(e,"stroke",a),null!=h&&u.setAttrNullNS(e,"stroke-opacity",h))}u.setAttrNullNS(e,"fill","#ffffff"),u.setAttrNullNS(e,"fill-opacity","0.001"),u.setAttrNullNS(e,"shape-rendering","crispEdges"),e._obj=this,t.replaceChild(e,this._elem),this._elem=e,u.setAttrNullNS(this._elem,"opacity",this._alpha),this._bHollow=!0}},ue.prototype.getDimensions=function(t){var e=ue.superclass.getDimensions.call(this,t);if(this._childGroupElem&&this._elem){var i=this._childGroupElem.getBBox();if(0==i.x&&0==i.y&&0==i.width&&0==i.height){var n=this._elem.getBBox();e=new m(n.x,n.y,n.width,n.height)}}return e},ue.prototype.copyShape=function(){return new ue(this.getCtx(),this.getX1(),this.getY1(),this.getX2(),this.getY2())},ue.prototype.getDimensionsSelf=function(t){var e=Math.min(this.getX1(),this.getX2()),i=Math.min(this.getY1(),this.getY2()),n=Math.abs(this.getX1()-this.getX2()),r=Math.abs(this.getY1()-this.getY2()),o=new m(e,i,n,r);return this.ConvertCoordSpaceRect(o,t)},ue.prototype._adjustDimensionsForStyle=function(){this.getX1()==this.getX2()?this.setX2(this.getX2()+.001):this.getY1()==this.getY2()&&this.setY2(this.getY2()+.001)},ue.prototype.setStyle=function(t,e){return t&&!e&&this._adjustDimensionsForStyle(),ue.superclass.setStyle.call(this,t)},ue.prototype.setClassName=function(t,e){return t&&!e&&this._adjustDimensionsForStyle(),ue.superclass.setClassName.call(this,t)};const ce=function(t,e,i){this.Init(t,e,i)};i.createSubclass(ce,ot),ce.prototype.Init=function(t,e,i){ce.superclass.Init.call(this,t,"path",i),Array.isArray(e)?this.setCmds(b.getPathString(e)):this.setCmds(e)},ce.prototype.getCmds=function(){return this.GetProperty("d")},ce.prototype.setCmds=function(t){return t&&this.SetSvgProperty("d",t),this.SetProperty("arCmds",null),this},ce.prototype.getCommandsArray=function(){var t=this.GetProperty("arCmds");return t||(t=b.createPathArray(this.getCmds()),this.SetProperty("arCmds",t)),t},ce.prototype.setCommandsArray=function(t){var e=t?b.getPathString(t):null;return this.setCmds(e),this.SetProperty("arCmds",t),this},ce.prototype.copyShape=function(){return new ce(this.getCtx(),this.getCmds())},ce.prototype.GetAriaElem=function(){return r.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),ce.superclass.GetAriaElem.call(this)};const _e=function(t,e,i,n,r,o,s,a,h,l){this.Init(t,e,i,n,r,o,s,a,h,l)};i.createSubclass(_e,ot),_e.CIRCLE="circle",_e.ELLIPSE="ellipse",_e.SQUARE="square",_e.RECTANGLE="rectangle",_e.DIAMOND="diamond",_e.TRIANGLE_UP="triangleUp",_e.TRIANGLE_DOWN="triangleDown",_e.PLUS="plus",_e.HUMAN="human",_e.STAR="star",_e._CIRCLE_ELEM="circle",_e._ELLIPSE_ELEM="ellipse",_e._RECT_ELEM="rect",_e._PATH_ELEM="path",_e._POLYGON_ELEM="polygon",(_e._SHAPE_ELEM_MAP={})[_e.CIRCLE]=_e._CIRCLE_ELEM,_e._SHAPE_ELEM_MAP[_e.ELLIPSE]=_e._ELLIPSE_ELEM,_e._SHAPE_ELEM_MAP[_e.SQUARE]=_e._PATH_ELEM,_e._SHAPE_ELEM_MAP[_e.RECTANGLE]=_e._PATH_ELEM,_e._SHAPE_ELEM_MAP[_e.DIAMOND]=_e._POLYGON_ELEM,_e._SHAPE_ELEM_MAP[_e.TRIANGLE_UP]=_e._POLYGON_ELEM,_e._SHAPE_ELEM_MAP[_e.TRIANGLE_DOWN]=_e._POLYGON_ELEM,_e._SHAPE_ELEM_MAP[_e.PLUS]=_e._POLYGON_ELEM,_e._SHAPE_ELEM_MAP[_e.HUMAN]=_e._PATH_ELEM,_e._SHAPE_ELEM_MAP[_e.STAR]=_e._POLYGON_ELEM,_e.DEFAULT_BORDER_RADIUS="6",_e._HUMAN_CMDS="M 306.40625 386.78125 C 304.19988 386.78125 302.40625 389.07579 302.40625 391.90625 C 302.40625 394.73671 304.19988 397.03125 306.40625 397.03125 C 308.61263 397.03125 310.40625 394.73671 310.40625 391.90625 C 310.40625 389.07579 308.61263 386.78125 306.40625 386.78125 z M 301.78125 396.0625 C 300.43025 397.2945 298.28125 400.28125 298.90625 403.15625 C 302.41725 405.79925 309.20225 406.154 314.03125 403 C 314.21825 399.828 312.68325 397.5635 310.90625 396.0625 C 308.65625 400.7185 304.28125 399.7815 301.78125 396.0625 z ",_e._SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8],_e.prototype.Init=function(t,e,i,n,r,o,s,a,h,l){h&&(i=Math.round(i),n=Math.round(n),r=Math.round(r),o=(o=Math.round(o))%2==1?o+1:o,r=r%2==1?r+1:r),this._bMaintainAspectRatio=!0,!1===a&&(this._bMaintainAspectRatio=!1,e==_e.CIRCLE&&(e=_e.ELLIPSE)),s&&"0"!=s&&(this._borderRadius=s),this._shape=e||_e.RECTANGLE,this._dataColor="#000000";var u=e?_e._SHAPE_ELEM_MAP[e]:_e._PATH_ELEM;null==u&&(this._isCustomShape=!0,this._path=new ce(t,e),u=_e._PATH_ELEM),_e.superclass.Init.call(this,t,u,l),this._shape!=_e.SQUARE&&this._shape!=_e.RECTANGLE||(this._path=this._getBorderRadiusPath(t,i,n,r,o,s)),this._shape==_e.HUMAN&&(this._path=new ce(t,_e._HUMAN_CMDS)),this._propertyChange={},this.setCenter(i,n,!0).setSize(r,o)},_e.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},_e.prototype.getCenterDimensions=function(){return new m(this._cx,this._cy,this._width,this._height)},_e.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},_e.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},_e.prototype._updateSvgProperties=function(){if(this._propertyChange.width||this._propertyChange.height){var t=Math.min(this._width,this._height);this._propertyChange.s=this._s!=t,this._s=t}if(this._shape!=_e.RECTANGLE&&this._shape!=_e.SQUARE||this._borderRadius)this._shape==_e.CIRCLE||this._shape==_e.ELLIPSE?(this._propertyChange.cx&&u.setAttrNullNS(this._elem,"cx",this._cx,0),this._propertyChange.cy&&u.setAttrNullNS(this._elem,"cy",this._cy,0),this._shape==_e.CIRCLE?this._propertyChange.s&&u.setAttrNullNS(this._elem,"r",this._s/2,0):(this._propertyChange.width&&u.setAttrNullNS(this._elem,"rx",this._width/2,0),this._propertyChange.height&&u.setAttrNullNS(this._elem,"ry",this._height/2,0))):this._isPolygon()?(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setPolygon(this._getPolygonArray()):this._isPath()&&(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy)&&this._setCmds(this._getCmds());else if(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy){var e=b.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height);this._setCmds(e)}return this.UpdateSelectionEffect(),this._propertyChange={},this},_e.prototype.getCx=function(){return this._cx},_e.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},_e.prototype.getCy=function(){return this._cy},_e.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},_e.prototype.getSize=function(){return this._s},_e.prototype.getWidth=function(){return this._width},_e.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},_e.prototype.getHeight=function(){return this._height},_e.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},_e.prototype._getPolygonArray=function(){var t=[],e=this._cx,i=this._cy,n=this.getMaintainAspectRatio()?this._s/2:this._width/2,r=this.getMaintainAspectRatio()?this._s/2:this._height/2,o=this.getMaintainAspectRatio()?this._s/6:this._width/6,s=this.getMaintainAspectRatio()?this._s/6:this._height/6;return this._shape==_e.TRIANGLE_UP?t=[e-n,i+r,e,i-r,e+n,i+r]:this._shape==_e.TRIANGLE_DOWN?t=[e-n,i-r,e,i+r,e+n,i-r]:this._shape==_e.DIAMOND?t=[e-n,i,e,i-r,e+n,i,e,i+r]:this._shape==_e.PLUS?t=[e-n,i-s,e-o,i-s,e-o,i-r,e+o,i-r,e+o,i-s,e+n,i-s,e+n,i+s,e+o,i+s,e+o,i+r,e-o,i+r,e-o,i+s,e-n,i+s]:this._shape==_e.STAR&&(t=_e._SHAPE_STAR_CMDS,t=ae.scale(t,this.getMaintainAspectRatio()?this._s/100:this._width/100,this.getMaintainAspectRatio()?this._s/100:this._height/100),t=ae.translate(t,e,i)),t},_e.prototype._setPolygon=function(t){u.setAttrNullNS(this._elem,"points",A.convertPointsArray(t))},_e.prototype._getCmds=function(){var t=q.getDimForced(this.getCtx(),this._path),e=Math.max(t.w,t.h),i=this.getMaintainAspectRatio();this._shape==_e.RECTANGLE&&(i=!1);var n=i?this._s/e:this._width/t.w,r=i?this._s/e:this._height/t.h,o=this._cx-t.x*n-t.w*n/2,s=this._cy-t.y*r-t.h*r/2;return b.transformPath(this._path.getCommandsArray(),o,s,n,r)},_e.prototype._setCmds=function(t){u.setAttrNullNS(this._elem,"d",t)},_e.prototype.getType=function(){return this._shape},_e.prototype._isPolygon=function(){return _e._SHAPE_ELEM_MAP[this._shape]==_e._POLYGON_ELEM},_e.prototype._isPath=function(){return _e._SHAPE_ELEM_MAP[this._shape]==_e._PATH_ELEM||this._isCustomShape},_e.prototype.GetStrokeWidth=function(){var t=this.getStroke();return t?t.getWidth():0},_e.prototype._getBorderRadiusPath=function(t,e,i,n,r,o){if(this._shape==_e.SQUARE||this._shape==_e.RECTANGLE){var s=Math.min(n,r),a=this._shape==_e.SQUARE?s:n,h=this._shape==_e.SQUARE?s:r,l=e-a/2,u=i-h/2,c=b.rectangleWithBorderRadius(l,u,a,h,o,s,"0");return new ce(t,c)}return null},_e.prototype._getBorderRadius=function(){return this._borderRadius},_e.prototype.setDataColor=function(t,e){if(this._dataColor=t,!e){var i=rt.getHoverBorderColor(t);this.setHoverStroke(new z("#FFFFFF",1,1,!0),new z(i,1,3.5,!0)),this.setSelectedStroke(new z("#FFFFFF",1,1.5,!0),new z("#5A5A5A",1,4.5,!0)),this.setSelectedHoverStroke(new z("#FFFFFF",1,1.5,!0),new z(i,1,4.5,!0))}},_e.prototype.getDataColor=function(){return this._dataColor},_e.prototype.setHollow=function(t){var e=this.GetStrokeWidth();e=e||1,_e.superclass.setHollow.call(this,t,e)},_e.prototype.setText=function(t){this._markerText=t},_e.prototype.setAlpha=function(t){_e.superclass.setAlpha.call(this,t),t!==this.getAlpha()&&(this._markerText&&this._markerText.setAlpha(t),this.UpdateSelectionEffect())},_e.prototype.copyShape=function(){return new _e(this.getCtx(),this._shape,this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this.getMaintainAspectRatio())},_e.prototype.getDimensions=function(t){return this.getDimensionsSelf(t)},_e.prototype.getDimensionsSelf=function(t){var e=this.getCx()-this.getWidth()/2,i=this.getCy()-this.getHeight()/2,n=new m(e,i,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(n,t)},_e.prototype.setMaintainAspectRatio=function(t){this._bMaintainAspectRatio=t},_e.prototype.getMaintainAspectRatio=function(){return this._bMaintainAspectRatio};const pe=function(t,e,i,n,r,o,s,a,h,l,u){this.Init(t,e,i,n,r,o,s,a,h,l,u)};i.createSubclass(pe,ot),pe.prototype.Init=function(t,e,i,n,o,s,a,h,l,c,_){pe.superclass.Init.call(this,t,"image",_),this._setMarkerImageStates(a,h,l,c);var p=this._getImage();this._setSource(p),this._propertyChange={},this.setCenter(e,i,!0).setSize(n,o),this._updateBorder(s),"ie"!==r.browser&&"edge"!==r.browser||(u.setAttrNullNS(this._elem,"fill","#FFFFFF"),u.setAttrNullNS(this._elem,"fill-opacity","0"))},pe.prototype.setPreserveAspectRatio=function(t){u.setAttrNullNS(this._elem,"preserveAspectRatio",t,"xMidYMid")},pe.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},pe.prototype.getCenterDimensions=function(){return new m(this._cx,this._cy,this._width,this._height)},pe.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},pe.prototype.getSize=function(){return Math.max(this.getWidth(),this.getHeight())},pe.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},pe.prototype._updateSvgProperties=function(){return(this._propertyChange.cx||this._propertyChange.width)&&u.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||this._propertyChange.height)&&u.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&u.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&u.setAttrNullNS(this._elem,"height",this._height,0),this._updateBorder(this._borderRadius),this.UpdateSelectionEffect(),this._propertyChange={},this},pe.prototype.getCx=function(){return this._cx},pe.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},pe.prototype.getCy=function(){return this._cy},pe.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},pe.prototype.getWidth=function(){return this._width},pe.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},pe.prototype.getHeight=function(){return this._height},pe.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},pe.prototype._setSource=function(t){u.setHref(this._elem,u.getImageUrl(this.getCtx(),t))},pe.prototype._setMarkerImageStates=function(t,e,i,n){var r=t;this._imageStates=[r],this._imageStates.push(e||r),this._imageStates.push(i||r),this._imageStates.push(n||this._imageStates[1])},pe.prototype._getImage=function(){return this._imageStates[0]},pe.prototype._getImageSelected=function(){return this._imageStates[1]},pe.prototype._getImageHover=function(){return this._imageStates[2]},pe.prototype._getImageHoverSelected=function(){return this._imageStates[3]},pe.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.isSelected()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageHover())},pe.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._setSource(this._getImageSelected()):this._setSource(this._getImage())},pe.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,t?this.isHoverEffectShown()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageSelected()):this._setSource(this._getImage()))},pe.prototype._updateBorder=function(t){if(t||this._borderPath){if(t&&"0"!=t){var e=b.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height,t,Math.min(this._width,this._height),"0"),i=new p;i.addPath(e),this.setClipPath(i)}if(this._borderPath){var n=b.rectangleWithBorderRadius(this._cx-this._width/2+this._borderWidth/2,this._cy-this._height/2+this._borderWidth/2,this._width-this._borderWidth,this._height-this._borderWidth,t,Math.min(this._width,this._height),"0");this._borderPath.setCmds(n)}}this._borderRadius=t},pe.prototype._getBorderRadius=function(){return this._borderRadius},pe.prototype.setStroke=function(t){if(!t||t.getWidth()<=0)return this._borderWidth=0,void(this._borderPath&&(this.removeChild(this._borderPath),this._borderPath=null));var e=t.getWidth();if(!this._borderPath||e!=this._borderWidth){var i=b.rectangleWithBorderRadius(this._cx-this._width/2+e/2,this._cy-this._height/2+e/2,this._width-e,this._height-e,this._borderRadius,Math.min(this._width,this._height),"0");this._borderPath?this._borderPath.setCmds(i):(this._borderPath=new ce(this.getCtx(),i),this._borderPath.setInvisibleFill(),this.addChild(this._borderPath))}this._borderWidth=e,this._borderPath.setStroke(t)},pe.prototype.setHollow=function(t,e){pe.superclass.setHollow.call(this,t,e);var i=this.isHollow();i?(this._imageContainer=this._elem.parentNode,this._imageContainer.removeChild(this._elem)):!i&&this._imageContainer&&this._imageContainer.appendChild(this._elem)},pe.prototype.copyShape=function(){return new pe(this.getCtx(),this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this._getImage(),this._getImageSelected(),this._getImageHover(),this._getImageHoverSelected(),null)},pe.prototype.getDimensionsSelf=function(t){var e=this.getCx()-this.getWidth()/2,i=this.getCy()-this.getHeight()/2,n=new m(e,i,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(n,t)};const de=function(){};i.createSubclass(de,ot),de.prototype.Init=function(t,e,i,n){de.superclass.Init.call(this,t,e,n),i&&this.setPoints(i)},de.prototype.getPoints=function(){return this.GetProperty("arPoints")},de.prototype.setPoints=function(t){return this.SetProperty("arPoints",t),this.SetSvgProperty("points",A.convertPointsArray(t))},de.prototype.getDimensionsSelf=function(t){var e=ae.getDimensions(this.getPoints());return this.ConvertCoordSpaceRect(e,t)};const ge=function(t,e,i){this.Init(t,e,i)};i.createSubclass(ge,de),ge.prototype.Init=function(t,e,i){ge.superclass.Init.call(this,t,"polygon",e,i)},ge.prototype.copyShape=function(){return new ge(this.getCtx(),this.getPoints())},ge.prototype.GetAriaElem=function(){return r.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),ge.superclass.GetAriaElem.call(this)};const fe=function(t,e,i){this.Init(t,e,i)};i.createSubclass(fe,de),fe.prototype.Init=function(t,e,i){fe.superclass.Init.call(this,t,"polyline",e,i),u.setAttrNullNS(this._elem,"fill","none")},fe.prototype.copyShape=function(){return new fe(this.getCtx(),this.getPoints())},fe.prototype.requiresStrokeAdjustmentForShadow=function(){return!0};const ye=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(ye,J),ye._PADDING=.15,ye.prototype.Init=function(t,e,i,n,r,o){ye.superclass.Init.call(this,t,"g",o),this.TextInstance=this.CreateTextInstance(t,e,i,n,o),this._backgroundRect=null,r&&this.setCSSStyle(r),this.addChild(this.TextInstance)},ye.prototype.getTextString=function(){return this.TextInstance.getTextString()},ye.prototype.setTextString=function(t){return this.TextInstance.setTextString(t),this},ye.prototype.isTruncated=function(){return this.TextInstance.isTruncated()},ye.prototype.getUntruncatedTextString=function(){return this.TextInstance.getUntruncatedTextString()},ye.prototype.setUntruncatedTextString=function(t){this.TextInstance.setUntruncatedTextString(t)},ye.prototype.getX=function(){return this.TextInstance.getX()},ye.prototype.setX=function(t){return this.TextInstance=this.TextInstance.setX(t),this._realignBackground(),this},ye.prototype.getY=function(){return this.TextInstance.getY()},ye.prototype.setY=function(t){return this.TextInstance=this.TextInstance.setY(t),this._realignBackground(),this},ye.prototype.setFontSize=function(t){this.TextInstance.setFontSize(t),this._style.setFontSize(j.FONT_SIZE,String(t),this.getCtx()),this._realignBackground()},ye.prototype.getHorizAlignment=function(){return this.TextInstance.getHorizAlignment()},ye.prototype.setHorizAlignment=function(t){this.TextInstance.setHorizAlignment(t),this._realignBackground()},ye.prototype.getVertAlignment=function(){return this.TextInstance.getVertAlignment()},ye.prototype.setVertAlignment=function(t){this.TextInstance.setVertAlignment(t),this._realignBackground()},ye.prototype.alignLeft=function(){this.TextInstance.alignLeft(),this._realignBackground()},ye.prototype.alignCenter=function(){this.TextInstance.alignCenter(),this._realignBackground()},ye.prototype.alignRight=function(){this.TextInstance.alignRight(),this._realignBackground()},ye.prototype.alignTop=function(){this.TextInstance.alignTop(),this._realignBackground()},ye.prototype.alignMiddle=function(){this.TextInstance.alignMiddle(),this._realignBackground()},ye.prototype.alignBottom=function(){this.TextInstance.alignBottom(),this._realignBackground()},ye.prototype.alignAuto=function(){this.TextInstance.alignAuto(),this._realignBackground()},ye.prototype.setCSSStyle=function(t){t.getStyle(j.BACKGROUND_COLOR)&&!t.getStyle(j.COLOR)&&t.setStyle(j.COLOR,T.getContrastingTextColor(t.getStyle(j.BACKGROUND_COLOR))),this.TextInstance&&this.TextInstance.setCSSStyle(t),(this._backgroundRect||ye._hasBackgroundStyles(t))&&(this._backgroundRect||(this._backgroundRect=this.CreateBackground(this.getCtx(),this.TextInstance),this.addChildAt(this._backgroundRect,0)),this._setBackgroundCSSStyle(this._backgroundRect,t)),this._style=t},ye.prototype.getCSSStyle=function(){return this._style},ye.prototype.setMatrix=function(t){this.TextInstance.setMatrix(t),this._backgroundRect&&this._backgroundRect.setMatrix(t)},ye.prototype.getMatrix=function(){return this.TextInstance.getMatrix()},ye.prototype.getTextDimensions=function(t){return this.TextInstance.getDimensions(t)},ye.prototype.getDimensions=function(t){var e=this.TextInstance.getDimensions(),i=e.h*ye._PADDING;return e.x-=i,e.w+=2*i,this.ConvertCoordSpaceRect(e,t)},ye.prototype.getDimensionsWithStroke=function(){return this.GetElemDimensionsWithStroke()},ye.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},ye.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensions(),e=(this._backgroundRect?this._backgroundRect:this.TextInstance).getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},ye.prototype.copyShape=function(){return this.TextInstance.copyShape()},ye.prototype.CreateTextInstance=function(t,e,i,n,r){return new at(t,e,i,n,r)},ye.prototype.CreateBackground=function(t,e){var i=e.getDimensions(),n=i.h*ye._PADDING;return new lt(t,i.x-n,i.y,i.w+2*n,i.h)},ye.prototype._realignBackground=function(){if(this._backgroundRect){var t=this.TextInstance.getDimensions(),e=.15*t.h,i=this.getHorizAlignment(),n=this.getVertAlignment();i==at.H_ALIGN_LEFT?this._backgroundRect.setX(this.getX()-e):i==at.H_ALIGN_CENTER?this._backgroundRect.setX(this.getX()-.5*t.w-e):i==at.H_ALIGN_RIGHT&&this._backgroundRect.setX(this.getX()-t.w-e);var o=parseFloat(this._style.getFontSize());isNaN(o)&&(o=0);var s=0;"blink"===r.engine&&n==at.V_ALIGN_MIDDLE?s=.12*o:"ie"!==r.browser&&"edge"!==r.browser||n!=at.V_ALIGN_BOTTOM||(s=.4*-o);var a=this.GetTextDimensionsForRealign(t);n==at.V_ALIGN_TOP?this._backgroundRect.setY(this.getY()):n==at.V_ALIGN_MIDDLE?this._backgroundRect.setY(this.getY()-.5*a-s):n==at.V_ALIGN_CENTRAL?this._backgroundRect.setY(this.getY()-.5*a):n==at.V_ALIGN_BOTTOM?this._backgroundRect.setY(this.getY()-a-s):n==at.V_ALIGN_AUTO&&this._backgroundRect.setY(t.y),this._backgroundRect.setWidth(t.w+2*e),this._backgroundRect.setHeight(t.h)}},ye.prototype._setBackgroundCSSStyle=function(t,e){if(e){var i=e.getStyle(j.BACKGROUND_COLOR);null!=i?t.setSolidFill(i):t.setInvisibleFill();var n=e.getStyle(j.BORDER_COLOR),r=e.getStyle(j.BORDER_WIDTH),o=e.getStyle(j.BORDER_RADIUS);if(n||r||o){var s=new j;s.setStyle(j.BORDER_COLOR,n),s.setStyle(j.BORDER_WIDTH,r),s.setStyle(j.BORDER_RADIUS,o),t.setCSSStyle(s)}}else t.setInvisibleFill();t.setMouseEnabled(!1)},ye.prototype.GetTextDimensionsForRealign=function(t){return t.h},ye._hasBackgroundStyles=function(t){return!!t&&t.hasBackgroundStyles()},ye.prototype.includeChildSubtree=function(){return!1},ye.prototype.isMultiline=function(){return!1},ye.prototype.hasBackground=function(){return!0};const ve=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(ve,ye),ve.prototype.Init=function(t,e,i,n,r,o,s){this._preserveNewLine=s||!1,ve.superclass.Init.call(this,t,e,i,n,r,o)},ve.prototype.wrapText=function(t,e,i,n){return this.TextInstance.wrapText(t,e,i,n)},ve.prototype.CreateTextInstance=function(t,e,i,n,r){return new mt(t,e,i,n,r,this._preserveNewLine)},ve.prototype.GetTextDimensionsForRealign=function(){return this.getLineHeight()},ve.prototype.getDimensions=function(t){var e=this.TextInstance.getDimensions(),i=e.h*ye._PADDING/this.getLineCount();return e.x-=i,e.w+=2*i,this.ConvertCoordSpaceRect(e,t)},ve.prototype.__fitText=function(t,e,i){return this.TextInstance.__fitText(t,e,i)},ve.prototype._getTextLines=function(){return this.TextInstance._getTextLines()},ve.prototype.getLineHeight=function(){return this.TextInstance.getLineHeight()},ve.prototype.getLineCount=function(){return this.TextInstance.getLineCount()},ve.prototype.getYAlignCoord=function(){return this.TextInstance.getYAlignCoord()},ve.prototype.setWrapEnabled=function(t){this.TextInstance.setWrapEnabled(t)},ve.prototype.isWrapEnabled=function(){return this.TextInstance.isWrapEnabled()},ve.prototype.UpdateSelectionEffect=function(){},ve.prototype.isMultiline=function(){return!0};const Se=function(){this.Init()};i.createSubclass(Se,i),Se.FONT_SIZE_11=(Se.FONT_SIZE="font-size: ")+"11px;",Se.FONT_SIZE_12=Se.FONT_SIZE+"12px;",Se.FONT_SIZE_13=Se.FONT_SIZE+"13px;",Se.FONT_SIZE_14=Se.FONT_SIZE+"14px;",Se.FONT_WEIGHT_BOLD="font-weight: bold;",Se.FONT_FAMILY_ALTA_11=(Se.FONT_FAMILY_ALTA="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")+Se.FONT_SIZE_11,Se.FONT_FAMILY_ALTA_12=Se.FONT_FAMILY_ALTA+Se.FONT_SIZE_12,Se.FONT_FAMILY_ALTA_13=Se.FONT_FAMILY_ALTA+Se.FONT_SIZE_13,Se.FONT_FAMILY_ALTA_14=Se.FONT_FAMILY_ALTA+Se.FONT_SIZE_14,Se.FONT_FAMILY_ALTA_BOLD_11=(Se.FONT_FAMILY_ALTA_BOLD=Se.FONT_FAMILY_ALTA+Se.FONT_WEIGHT_BOLD)+Se.FONT_SIZE_11,Se.FONT_FAMILY_ALTA_BOLD_12=Se.FONT_FAMILY_ALTA_BOLD+Se.FONT_SIZE_12,Se.FONT_FAMILY_ALTA_BOLD_13=Se.FONT_FAMILY_ALTA_BOLD+Se.FONT_SIZE_13,Se.FONT_FAMILY_ALTA_BOLD_14=Se.FONT_FAMILY_ALTA_BOLD+Se.FONT_SIZE_14,Se._SKINS=[j.SKIN_ALTA],Se.prototype.Init=function(t,e){this._defaults=t||{},this._context=e,this.constructor.defaultsCache||(this.constructor.defaultsCache={})},Se.prototype.getBaseSkinName=function(){return j.SKIN_ALTA},Se.prototype.calcOptions=function(t){var e=t?t.skin:null,i=this.getDefaults(e);if(!t)return i;var n=this.getNoCloneObject();if(this._context&&this._context.dataProviderProps)for(var r=this._context.dataProviderProps,o=0;o<r.length;o++)n[r[o]]=!0;var s=Et.merge(t,i,n);return 0==this.getAnimationDuration(s)&&(s.animationOnDataChange="none",s.animationOnDisplay="none"),s},Se.prototype.getDefaults=function(t){if(t||(t=this.getBaseSkinName()),this.constructor.defaultsCache[t])return Et.clone(this.constructor.defaultsCache[t]);for(var e=Math.max(Se._SKINS.indexOf(t),0),i=Et.clone(this._defaults[Se._SKINS[0]]),n=1;n<=e;n++)i=Et.merge(this._defaults[Se._SKINS[n]],i);return this.constructor.defaultsCache[t]=Et.clone(i),i},Se.prototype.getNoCloneObject=function(){return{}},Se.prototype.getAnimationDuration=function(t){return t.styleDefaults?t.styleDefaults.animationDuration:null};const Te=function(t,e,i,n){Te.superclass.Init.call(this,t),this._callback=e,this._callbackObj=i,this._dragTarget=n};i.createSubclass(Te,J),Te._THUMB_MIN_SIZE=12,Te.prototype.render=function(t,e,i){this._width=e,this._height=i,this._globalMin=t.min,this._globalMax=t.max,this._isHoriz=t.isHorizontal,this._isReversed=t.isReversed;var n=new lt(this.getCtx(),0,0,e,i);n.setSolidFill(t.backgroundColor),n.setPixelHinting(!0),this.addChild(n),this._thumb=new lt(this.getCtx(),0,0,e,i),this._thumb.setSolidFill(t.color),this._thumb.setPixelHinting(!0),this.addChild(this._thumb),this._thumbMin=this._globalMin,this._thumbMax=this._globalMax,this._renderedThumbMin=this._thumbMin,this._renderedThumbMax=this._thumbMax;var o=r.isTouchDevice()?8:4,s=new lt(this.getCtx(),-o,-o,this._width+2*o,this._height+2*o);s.setInvisibleFill(),this.addChild(s);var a=null!=this._dragTarget;gt.addDragListeners(a?this._dragTarget:this,this._onDragStart,this._onDragMove,this._onDragEnd,this,!a),r.isTouchDevice()||a||this.addEvtListener(F.CLICK,this._onClick,!1,this),this._dragged=!1},Te.prototype.setViewportRange=function(t,e,i,n){null!=i&&(this._globalMin=i),null!=n&&(this._globalMax=n),this._thumbMin=t,this._thumbMax=e;var r=e-t,o=this._globalMax-this._globalMin,s=Math.min(Te._THUMB_MIN_SIZE/(this._isHoriz?this._width:this._height)*o,o);r<s&&(e+=(s-r)/2,(t-=(s-r)/2)<this._globalMin&&(t=this._globalMin,e=this._globalMin+s),e>this._globalMax&&(e=this._globalMax,t=this._globalMax-s)),this._renderedThumbMin=t,this._renderedThumbMax=e;var a=this._getCoord(t),h=this._getCoord(e);this._isHoriz?(this._thumb.setX(Math.min(a,h)),this._thumb.setWidth(Math.abs(h-a))):(this._thumb.setY(Math.min(a,h)),this._thumb.setHeight(Math.abs(h-a)))},Te.prototype._getCoord=function(t){var e=(t-this._globalMin)/(this._globalMax-this._globalMin);return this._isReversed&&(e=1-e),this._isHoriz?e*this._width:e*this._height},Te.prototype._getValue=function(t,e){var i=this.stageToLocal(this.getCtx().pageToStageCoords(t,e)),n=this._isHoriz?i.x/this._width:i.y/this._height;return this._isReversed&&(n=1-n),n=Math.min(Math.max(n,0),1),this._globalMin+n*(this._globalMax-this._globalMin)},Te.prototype._onClick=function(t){var e=this._getValue(t.pageX,t.pageY);if(!(e>=this._renderedThumbMin&&e<=this._renderedThumbMax)){var i=this._thumbMax-this._thumbMin;this._setViewportRange(e-i/2,e+i/2,"end")}},Te.prototype._onDragStart=function(t){var e;if(t.touches){if(1!=t.touches.length)return!1;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);return!!(this._dragTarget||e>=this._renderedThumbMin&&e<=this._renderedThumbMax)&&(this._prevVal=Math.min(Math.max(e,this._thumbMin),this._thumbMax),this._dragged=!0,!0)},Te.prototype._onDragMove=function(t){if(this._dragged){var e;if(t.touches){if(1!=t.touches.length)return;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);var i=e-this._prevVal;this._dragTarget&&(i*=-1),this._setViewportRange(this._thumbMin+i,this._thumbMax+i,"move"),this._prevVal=e,t.preventDefault()}},Te.prototype._onDragEnd=function(t){if(this._dragged){if(t.touches)this._setViewportRange(this._thumbMin,this._thumbMax,"end");else{var e=this._getValue(t.pageX,t.pageY)-this._prevVal;this._setViewportRange(this._thumbMin+e,this._thumbMax+e,"end")}this._dragged=!1}},Te.prototype._setViewportRange=function(t,e,i){var n=e-t;if(t<this._globalMin&&(t=this._globalMin,e=this._globalMin+n),e>this._globalMax&&(e=this._globalMax,t=this._globalMax-n),this.setViewportRange(t,e),this._callback){var r=yt.newSimpleScrollbarEvent(i,t,e);this._callback.call(this._callbackObj,r,this)}};const Ee=function(t,e,i,n,o){Ee.superclass.Init.call(this,t),this._contentSize=o?e:i,this._width=e,this._height=i,this._background=new lt(t,0,0,e,i),this._background.setInvisibleFill(),this.addChild(this._background),this._container=new J(t),this.addChild(this._container),this._isHorizontalScrolling=o,this._isScrollbarVisible=!1,this.scrolling=n,r.isTouchDevice()||this.addEvtListener(F.MOUSEWHEEL,this._onMouseWheel,!1,this)};i.createSubclass(Ee,J),Ee._SCROLLBAR_WIDTH=3,Ee._SCROLLBAR_GAP=2,Ee.prototype.getScrollingPane=function(){return this._container},Ee.prototype.prepareContentPane=function(){var t=this._container.getDimensions();if(this._isHorizontalScrolling?this._contentSize=t.w+t.x:this._contentSize=t.h+t.y,this.hasScrollingContent()){if(this._isHorizontalScrolling?this._contentSize+=t.x:this._contentSize+=t.y,!this._maskContainer){var e=new m(0,0,this._width,this._height);this._fadeTop=new Dt(new ee(this._isHorizontalScrolling?0:270,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),e),this._fadeBottom=new Dt(new ee(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),e),this._fadeTopBottom=new Dt(new ee(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0,1,1,0],[0,.1,.9,1]),e),this._maskContainer=new J(this.getCtx()),this.addChild(this._maskContainer);var i=new p;i.addRect(0,0,this._width,this._height),this._container.setClipPath(i),this._maskContainer.addChild(this._container),this._scrollbar=new Te(this.getCtx(),this._handleScrollbar,this,this),this._scrollbarTimer=new ut(this.getCtx(),100,this._hideScrollbar,this)}this._maskContainer.setMask(this._fadeBottom);var n={color:"#9E9E9E",backgroundColor:"#F0F0F0",isHorizontal:this._isHorizontalScrolling,isReversed:!1,min:0,max:this._contentSize};this._isHorizontalScrolling?(this._scrollbar.render(n,this._getScrollbarWidth(),Ee._SCROLLBAR_WIDTH),this._scrollbar.setTranslate(Ee._SCROLLBAR_GAP,this._height-(Ee._SCROLLBAR_WIDTH+Ee._SCROLLBAR_GAP))):(this._scrollbar.render(n,Ee._SCROLLBAR_WIDTH,this._getScrollbarWidth()),this._scrollbar.setTranslate(r.isRightToLeft(this.getCtx())?Ee._SCROLLBAR_GAP:this._width-(Ee._SCROLLBAR_WIDTH+Ee._SCROLLBAR_GAP),Ee._SCROLLBAR_GAP)),this._scrollbar.setViewportRange(0,this._getAvailSize()),r.isEnvironmentTest()||this._scrollbar.setAlpha(0),this.addChild(this._scrollbar),"always"===this.scrolling&&this._showScrollbar()}else this.addChild(this._container),this.removeChild(this._maskContainer),this.removeChild(this._scrollbar)},Ee.prototype._getScrollbarWidth=function(){return(this._isHorizontalScrolling?this._width:this._height)-2*Ee._SCROLLBAR_GAP},Ee.prototype._getAvailSize=function(){return this._isHorizontalScrolling?this._width:this._height},Ee.prototype._hideScrollbar=function(t){this._isScrollbarVisible&&"always"!==this.scrolling&&(this._isScrollbarVisible=!1,this._scrollbarTimer.reset(),this._fadeOutAnim=new jt(this.getCtx(),this._scrollbar,.2),this._fadeOutAnim.play())},Ee.prototype._showScrollbar=function(t){this._isScrollbarVisible?(this._scrollbarTimer.reset(),this._scrollbarTimer.start()):(this._fadeOutAnim&&(this._fadeOutAnim.stop(!0),this._fadeOutAnim=null),this._scrollbar.setAlpha(1),this._isScrollbarVisible=!0,this._scrollbarTimer.start())},Ee.prototype._updateFade=function(t){0==t?this._maskContainer.setMask(this._fadeBottom):t+this._getAvailSize()>=this._contentSize?this._maskContainer.setMask(this._fadeTop):this._maskContainer.setMask(this._fadeTopBottom)},Ee.prototype._onMouseWheel=function(t){if(this.hasScrollingContent()){this._showScrollbar();var e=null!=t.wheelDelta?t.wheelDelta:0,i=-1*(this._isHorizontalScrolling?this._container.getTranslateX():this._container.getTranslateY())-4*e,n=Math.max(this._contentSize-this._getAvailSize(),0),r=Math.max(Math.min(i,n),0);this._isHorizontalScrolling?(this._container.setTranslateX(-1*r),this._scrollbar.setViewportRange(r+this._width,r)):(this._container.setTranslateY(-1*r),this._scrollbar.setViewportRange(r,r+this._height)),this._updateFade(r),t.preventDefault()}},Ee.prototype._handleScrollbar=function(t){this._showScrollbar(),this._isHorizontalScrolling?this._container.setTranslateX(-1*t.newMin):this._container.setTranslateY(-1*t.newMin),this._updateFade(t.newMin)},Ee.prototype.getWidth=function(){return this._width},Ee.prototype.getHeight=function(){return this._height},Ee.prototype.scrollIntoView=function(t){if(this.hasScrollingContent()){var e,i=t.getDimensions(t.getParent()),n=this._container.getDimensions();if(this._isHorizontalScrolling){var r=-1*this._container.getTranslateX(),o=i.x-n.x,s=i.x+i.w-this._width+n.x;r<s?(this._container.setTranslateX(-1*s),this._scrollbar.setViewportRange(s+this._width,s),e=s):r>o&&(this._container.setTranslateX(-1*o),this._scrollbar.setViewportRange(o+this._width,o),e=o)}else{var a=-1*this._container.getTranslateY(),h=i.y-n.y,l=i.y+i.h-this._height+n.y;a<l?(this._container.setTranslateY(-1*l),this._scrollbar.setViewportRange(l,l+this._height),e=l):a>h&&(this._container.setTranslateY(-1*h),this._scrollbar.setViewportRange(h,h+this._height),e=h)}null!=e&&this._updateFade(e)}},Ee.prototype.hasScrollingContent=function(){return this._contentSize>this._getAvailSize()};const me=function(t,e,i,n,r,o,s,a){this.Init(t,e,i,n,r,o,s,a)};i.createSubclass(me,J),me.STATE_ENABLED=0,me.STATE_OVER=1,me.STATE_DOWN=2,me.STATE_DISABLED=3,me.NO_EVENT_LISTENERS=!0,me.prototype.Init=function(t,e,i,n,r,o,s,a){me.superclass.Init.call(this,t,null,o),this.setCallback(s,a),this._bDuringInit=!0,this.setUpState(e),this.setOverState(i),this.setDownState(n),r&&this.setDisabledState(r),this.setEnabled(!0),this.drawUpState(),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bDuringInit=!1},me.prototype.isEnabled=function(){return this._enabled},me.prototype.setEnabled=function(t){if(this._enabled!=t){this._enabled=t;var e=r.isTouchDevice(),i=e?L.TOUCHSTART:F.CLICK,n=e?{capture:!1,passive:!1}:{capture:!1};t?(this.addEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.addEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.addEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.addEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.addEvtListener(i,this.OnClick,n,this),this.setCursor(rt.getSelectingCursor())):(this.removeEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.removeEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.removeEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.removeEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.removeEvtListener(i,this.OnClick,n,this),this.setCursor(null)),this.initState()}},me.prototype.OnMouseOver=function(t){this._bToggled?this.drawOverDownState():this.drawOverState()},me.prototype.OnMouseOut=function(t){this._bToggled?this.drawDownState():this.drawUpState()},me.prototype.OnMouseDown=function(t){this.drawDownState()},me.prototype.OnMouseUp=function(t){this._bToggled?r.isTouchDevice()?this.drawDownState():this.drawOverDownState():r.isTouchDevice()?this.drawUpState():this.drawOverState()},me.prototype.OnClick=function(t){this._bToggleEnabled&&(this._bToggled=!this._bToggled,this._bToggled?r.isTouchDevice()?this.drawDownState():this.drawOverDownState():r.isTouchDevice()?this.drawUpState():this.drawOverState()),this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},me.prototype.drawUpState=function(){this._enableButton(this.upState,!0),this._enableButton(this.downState,!1),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},me.prototype.drawOverState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!1),this._enableButton(this.overState,!0),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},me.prototype.drawDownState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!0),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},me.prototype.drawDisabledState=function(){this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!0),this._enableButton(this.overDownState,!1)},me.prototype.drawOverDownState=function(){this.overDownState?(this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!0)):this.drawDownState()},me.prototype._enableButton=function(t,e){t&&t.setAlpha(e?1:0)},me.prototype._enableMouseEvents=function(t,e){t.setMouseEnabled&&t.setMouseEnabled(e);for(var i=t.firstChild;null!=i;)this._enableMouseEvents(i,e),i=i.nextSibling},me.prototype.setUpState=function(t){if(!this.upState||this.upState!=t){var e=!1;if(this.upState)e=this._isButtonEnabled(this.upState),this.removeChild(this.upState);else if(!this._bDuringInit){var i=!1,n=!1,r=!1;this.downState&&(i=this._isButtonEnabled(this.downState)),this.overState&&(n=this._isButtonEnabled(this.overState)),this.disabledState&&(r=this._isButtonEnabled(this.disabledState)),i||n||r||(e=!0)}t&&this.addChild(t),this.upState=t,this._enableButton(this.upState,e)}},me.prototype.setDownState=function(t){if(!this.downState||this.downState!=t){var e=!1;this.downState&&(e=this._isButtonEnabled(this.downState),this.removeChild(this.downState)),t&&this.addChild(t),this.downState=t,this._enableButton(this.downState,e)}},me.prototype.setOverState=function(t){if(!this.overState||this.overState!=t){var e=!1;this.overState&&(e=this._isButtonEnabled(this.overState),this.removeChild(this.overState)),t&&this.addChild(t),this.overState=t,this._enableButton(this.overState,e)}},me.prototype.setDisabledState=function(t){if(!this.disabledState||this.disabledState==t){var e=!1;this.disabledState&&(e=this._isButtonEnabled(this.disabledState),this.removeChild(this.disabledState)),t&&this.addChild(t),this.disabledState=t,this._enableButton(this.disabledState,e)}},me.prototype.setOverDownState=function(t){if(!this.overDownState||this.overDownState==t){var e=!1;this.overDownState&&(e=this._isButtonEnabled(this.overDownState),this.removeChild(this.overDownState)),t&&this.addChild(t),this.overDownState=t,this._enableButton(this.overDownState,e)}},me.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},me.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},me.prototype.getTooltip=function(){return this._tooltip},me.prototype.initState=function(){this.isEnabled()?this.drawUpState():this.drawDisabledState()},me.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t},me.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._bToggled?this.drawDownState():this.drawUpState())},me.prototype.isToggled=function(){return this._bToggled},me.prototype._isButtonEnabled=function(t){var e=!1;return t&&(e=t.getAlpha()>0),e},me.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},me.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},me.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},me.prototype.CreateKeyboardFocusEffect=function(){return new ie(this.getCtx(),this,this.getDimensions(),null,null,!0)},me.prototype.handleKeyboardEvent=function(t){var e=t.keyCode;e!=P.ENTER&&e!=P.SPACE||this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())};const be=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(be,J),be.prototype.Init=function(t,e,i,n,r,o,s){be.superclass.Init.call(this,t,null,r),this.setCallback(o,s),this._chroming=e,n||(n=this._createDefaultBackground(i.size));var a=n.copyShape();a.setClassName("oj-dvt-button-background"),this.addChild(a),this.addChild(n);var h=at.createIcon(this.getCtx(),i);this.addChild(h),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bMouseOver=!1,this._bMouseDown=!1,this.setEnabled(!0)},be.prototype._createDefaultBackground=function(t){var e=b.roundedRectangle(-4,-4,t+8,t+8,4,4,4,4),i=new ce(this.getCtx(),e);return i.setPixelHinting(r.getDevicePixelRatio()>1),i},be.prototype.isEnabled=function(){return this._enabled},be.prototype.setEnabled=function(t){if(this._enabled!=t){this._enabled=t;var e=r.isTouchDevice(),i=e?L.TOUCHSTART:F.CLICK,n=e?{capture:!1,passive:!1}:{capture:!1};t?(this.addEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.addEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.addEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.addEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.addEvtListener(i,this.OnClick,n,this),this.setCursor(rt.getSelectingCursor())):(this.removeEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.removeEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.removeEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.removeEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.removeEvtListener(i,this.OnClick,n,this),this.setCursor(null),this._bMouseOver=!1,this._bMouseDown=!1),this._updateClasses()}},be.prototype.OnMouseOver=function(t){this._bMouseOver=!0,this._updateClasses()},be.prototype.OnMouseOut=function(t){this._bMouseOver=!1,this._updateClasses()},be.prototype.OnMouseDown=function(t){this._bMouseDown=!0,this._updateClasses()},be.prototype.OnMouseUp=function(t){this._bMouseDown=!1,this._updateClasses()},be.prototype.OnClick=function(t){this._bToggleEnabled&&this.setToggled(!this._bToggled),this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},be.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},be.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},be.prototype.getTooltip=function(){return this._tooltip},be.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t,this._updateClasses()},be.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._updateClasses())},be.prototype.isToggled=function(){return this._bToggled},be.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},be.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},be.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},be.prototype.CreateKeyboardFocusEffect=function(){return new ie(this.getCtx(),this,this.getDimensions(),null,null,!0)},be.prototype.handleKeyboardEvent=function(t){var e=t.keyCode;e!=P.ENTER&&e!=P.SPACE||this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},be.prototype._updateClasses=function(){this.getElem();var t=!1,e=!1,i=!1,n=this._bToggleEnabled&&this._bToggled,r=this._bToggleEnabled&&!this._bToggled;this._enabled?(e=this._bMouseOver,i=this._bMouseDown):t=!0,this.setClassName(`oj-dvt-button-${this._chroming}${n?" oj-selected":""}${r?" oj-unselected":""}${t?" oj-disabled":""}${e?" oj-hover":""}${i?" oj-active":""}`)};const Ce=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Ce,be),Ce._DEFAULT_RADIUS=15.5,Ce.prototype.Init=function(t,e,i,n,o){var s=Ce._DEFAULT_RADIUS,a=new he(t,s,s,s);Ce.superclass.Init.call(this,t,"outlined",{style:e,size:i,pos:{x:s,y:s}},a,null,o,n);var h=t.getStage();h.addEvtListener(H.FOCUS,this._onFocus,!0,this),h.addEvtListener(H.BLUR,this._onBlur,!0,this),r.isTouchDevice()||("ie"===r.browser||"edge"===r.browser?(h.addEvtListener("mouseenter",this._onMouseOver,!1,this),h.addEvtListener("mouseleave",this._onMouseOut,!1,this)):(h.addEvtListener(F.MOUSEOVER,this._onMouseOver,!1,this),h.addEvtListener(F.MOUSEOUT,this._onMouseOut,!1,this)))},Ce.prototype.show=function(){this.setAlpha(1)},Ce.prototype.hide=function(){this.setAlpha(0)},Ce.prototype._onFocus=function(t){this._isFocused=!0,this.show()},Ce.prototype._onBlur=function(t){this._isFocused=!1,this._isMouseOver||this.hide()},Ce.prototype._onMouseOver=function(t){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),this._isMouseOver=!0,this.show()},Ce.prototype._onMouseOut=function(t){this._mouseOutTimer||(this._mouseOutTimer=new ut(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start()},Ce.prototype._onMouseOutTimerEnd=function(){this._isMouseOver=!1,this._isFocused||this.hide()},Ce.prototype.OnMouseDown=function(t){Ce.superclass.OnMouseDown.call(this,t),t.stopPropagation()},Ce.prototype.OnMouseUp=function(t){Ce.superclass.OnMouseUp.call(this,t),t.stopPropagation()};const Ae=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Ae,i),Ae.prototype.Init=function(t,e,i,n){this._tooltipManager=t,this._tooltipFunc=e,this._datatipColor=i,this._dataContext=n},Ae.prototype.getDatatip=function(t){return this._tooltipManager.getCustomTooltip(this._tooltipFunc,this._dataContext)},Ae.prototype.getDatatipColor=function(t){return this._datatipColor};const Oe=function(t){};i.createSubclass(Oe,i),Oe.TOOLTIP_SUBID="tooltip",Oe.prototype.getSubIdForDomElement=function(t){var e=Oe._findDisplayable(t);return!e||e instanceof Array?t&&this.IsTooltipElement(t)?Oe.TOOLTIP_SUBID:null:this.GetSubIdForDomElement(e)},Oe.prototype.GetSubIdForDomElement=function(t){return null},Oe.prototype.getDomElementForSubId=function(t){return null},Oe._findDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null},Oe.prototype.GetTooltipElement=function(t,e){if(t){var i=t.getCtx().getTooltipManager(e).getTooltipElem();return"hidden"==i.style.visibility?null:i}return null},Oe.prototype.IsTooltipElement=function(t){var e=t.getAttribute("id");return!(!e||0!=e.indexOf(it._TOOLTIP_DIV_ID))};const Ie=function(t){this.Init(t)};i.createSubclass(Ie,i),Ie.prototype.Init=function(t){this._eventManager=t},Ie.prototype.processKeyDown=function(t){var e=this._eventManager.getFocus();return e&&(this.isNavigationEvent(t)||this.isMultiSelectEvent(t))?(It.consumeEvent(t),e.getNextNavigable(t)):null},Ie.getNextNavigable=function(t,e,i,n,r){var o=null,s=0,a=0,h=e.keyCode;if(!t)return!i||i.length<1?null:i[0];for(var l,u=t.getKeyboardBoundingBox(r),c=0;c<i.length;c++){var _=i[c];t!==_&&(l=_.getKeyboardBoundingBox(r),(n||Ie._isInBounds(u,l,h))&&(a=Ie._computeDelta(u,l,h),((h==P.UP_ARROW||h==P.LEFT_ARROW)&&a<0&&(!o||a>s)||(h==P.DOWN_ARROW||h==P.RIGHT_ARROW)&&a>0&&(!o||a<s))&&(o=_,s=a)))}return o||t},Ie.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,n=t[0],o=n.getKeyboardBoundingBox(),s=1;s<t.length;s++)(((i=(e=t[s]).getKeyboardBoundingBox()).x==o.x&&i.y<o.y||i.x<o.x)&&!r.isRightToLeft(this._eventManager.getCtx())||(i.x+i.w==o.x+o.w&&i.y<o.y||i.x+i.w>o.x+o.w)&&r.isRightToLeft(this._eventManager.getCtx()))&&(o=(n=e).getKeyboardBoundingBox());return n},Ie.prototype.isNavigationEvent=function(t){switch(t.keyCode){case P.UP_ARROW:case P.DOWN_ARROW:case P.LEFT_ARROW:case P.RIGHT_ARROW:return!0}return!1},Ie.prototype.isSelectionEvent=function(t){return!1},Ie.prototype.isMultiSelectEvent=function(t){return!1},Ie._isInBounds=function(t,e,i){if(i==P.UP_ARROW||i==P.DOWN_ARROW){var n=t.x,r=n+t.w,o=e.x;return!(n>=o+e.w||r<=o)}if(i==P.LEFT_ARROW||i==P.RIGHT_ARROW){var s=t.y,a=s+t.h,h=e.y;return!(s>=h+e.h||a<=h)}},Ie._computeDelta=function(t,e,i){var n=0,r=t.getCenter().x,o=t.getCenter().y,s=e.getCenter().x,a=e.getCenter().y;return i==P.UP_ARROW||i==P.DOWN_ARROW?n=a-o:i!=P.LEFT_ARROW&&i!=P.RIGHT_ARROW||(n=s-r),n},Ie.getNextAdjacentNavigable=function(t,e,i){var n=e.keyCode;if(!i)return null;if(!t)return i[0];for(var r=t,o=Number.MAX_VALUE,s=!1,a=!1,h=0;h<i.length;h++){var l=i[h];if(l!==t){if(Ie._isValidDestination(l,t,n)){var u=Ie._calcInContact(l,t,n);if(!s||u){var c=Ie._calcDistanceAngleWeighted(l,t,n);(0!=c||a)&&(!s&&u||c<o&&(s&&u||!s))&&(o=c,r=l,s=u)}}}else a=!0}return r},Ie._calcInContact=function(t,e,i){var n=t.getKeyboardBoundingBox(),r=e.getKeyboardBoundingBox();switch(i){case P.UP_ARROW:return Ie._isVerticallyAligned(n,r)&&(r.y<=n.y+n.h||Ie._areEqualWithinTolerance(r.y,n.y+n.h));case P.DOWN_ARROW:return Ie._isVerticallyAligned(n,r)&&(n.y<=r.y+r.h||Ie._areEqualWithinTolerance(n.y,r.y+r.h));case P.RIGHT_ARROW:return Ie._isHorizontallyAligned(n,r)&&(n.x<=r.x+r.w||Ie._areEqualWithinTolerance(n.x,r.x+r.w));case P.LEFT_ARROW:return Ie._isHorizontallyAligned(n,r)&&(r.x<=n.x+n.w||Ie._areEqualWithinTolerance(r.x,n.x+n.w))}return!1},Ie._isVerticallyAligned=function(t,e){return t.x>=e.x&&t.x<=e.x+e.w||e.x>=t.x&&e.x<=t.x+t.w},Ie._isHorizontallyAligned=function(t,e){return t.y>=e.y&&t.y<=e.y+e.h||e.y>=t.y&&e.y<=t.y+t.h},Ie._calcDistanceAngleWeighted=function(t,e,i){var n=15/180*Math.PI,r=40/180*Math.PI,o=t.getKeyboardBoundingBox(),s=o.x+o.w/2,a=o.y+o.h/2,h=e.getKeyboardBoundingBox(),l=h.x+h.w/2,u=h.y+h.h/2,c=Math.abs(s-l),_=Math.abs(a-u),p=Math.atan2(_,c),d=Math.sqrt(c*c+_*_);return(p>n&&(i==P.RIGHT_ARROW||i==P.LEFT_ARROW)||p<S.HALF_PI-n&&(i==P.UP_ARROW||i==P.DOWN_ARROW))&&(p>r&&(i==P.RIGHT_ARROW||i==P.LEFT_ARROW)||p<S.HALF_PI-r&&(i==P.UP_ARROW||i==P.DOWN_ARROW)?d*=6:d*=2),d},Ie._isValidDestination=function(t,e,i){var n=t.getKeyboardBoundingBox(),r=e.getKeyboardBoundingBox();switch(i){case P.UP_ARROW:return n.y<r.y||Ie._areEqualWithinTolerance(n.y,r.y);case P.DOWN_ARROW:return n.y>r.y||Ie._areEqualWithinTolerance(n.y,r.y);case P.RIGHT_ARROW:return n.x>r.x||Ie._areEqualWithinTolerance(n.x,r.x);case P.LEFT_ARROW:return n.x<r.x||Ie._areEqualWithinTolerance(n.x,r.x)}return!0},Ie._areEqualWithinTolerance=function(t,e){return Math.abs(t-e)<=1e-7};const Ne=function(t,e,i,n,r,o,s,a,h){this.Init(t,e,i,n,r,o,s,a,h)};i.createSubclass(Ne,i),Ne.prototype.Init=function(t,e,i,n,r,o,s,a,h){this._context=t.getCtx(),this._container=t,this._bounds=e,this._fill=n,this._stroke=r,this._strokeWidth=1,this._allowHoriz=null==o||o,this._allowVert=null==s||s,this._horizBounds=a,this._vertBounds=h,this._glassPane=new lt(this._context,i.x,i.y,i.w,i.h),this._glassPane.setInvisibleFill(),this._marqueeOn=!1,this._marqueeDrawn=!1,this._resizeHoriz=!1,this._resizeVert=!1},Ne.prototype.processDragStart=function(t,e){if(!this._marqueeOn){if(this._origPt=this._container.stageToLocal(t),this._resizeHoriz=this._allowHoriz,this._resizeVert=this._allowVert,!this._bounds.containsPoint(this._origPt.x,this._origPt.y))if(this._vertBounds&&this._vertBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeHoriz=!1;else{if(!this._horizBounds||!this._horizBounds.containsPoint(this._origPt.x,this._origPt.y))return null;this._resizeVert=!1}return this._marqueeOn=!0,this._marquee=null,this._marqueeInnerArea=null,this._createMarqueeEvent("start",e)}return null},Ne.prototype.processDragMove=function(t,e){if(!this._marqueeOn)return null;this._marqueeDrawn||(this._container.addChild(this._glassPane),this._marquee=new lt(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._marqueeInnerArea=new lt(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._marquee.getElem().setAttribute("pointer-events","none"),this._marqueeInnerArea.getElem().setAttribute("pointer-events","none"),this._resizeHoriz&&(this._marquee.setX(this._origPt.x),this._marquee.setWidth(0),this._marqueeInnerArea.setX(this._origPt.x),this._marqueeInnerArea.setWidth(0)),this._resizeVert&&(this._marquee.setY(this._origPt.y),this._marquee.setHeight(0),this._marqueeInnerArea.setY(this._origPt.y),this._marqueeInnerArea.setHeight(0)),this._marquee.setClassName("oj-dvt-marquee"),this._marquee.setStyle({stroke:this._stroke.getColor(),fill:this._fill.getColor()}),this._marquee.setPixelHinting(!0),this._glassPane.addChild(this._marquee),this._marqueeInnerArea.setClassName("oj-dvt-marquee-inner-area"),this._marqueeInnerArea.setPixelHinting(!0),this._glassPane.addChild(this._marqueeInnerArea),this._marqueeDrawn=!0);var i=this._container.stageToLocal(t);if(i.x=Math.max(i.x,this._bounds.x),i.x=Math.min(i.x,this._bounds.x+this._bounds.w),i.y=Math.max(i.y,this._bounds.y),i.y=Math.min(i.y,this._bounds.y+this._bounds.h),this._resizeHoriz){var n=Math.abs(i.x-this._origPt.x),r=i.x<this._origPt.x?i.x:this._origPt.x;this._marquee.setWidth(n),this._marquee.setX(r);var o=n-2*this._strokeWidth;this._marqueeInnerArea.setWidth(Math.max(0,o)),this._marqueeInnerArea.setX(r+this._strokeWidth)}if(this._resizeVert){var s=Math.abs(i.y-this._origPt.y),a=i.y<this._origPt.y?i.y:this._origPt.y;this._marquee.setHeight(s),this._marquee.setY(a);var h=s-2*this._strokeWidth;this._marqueeInnerArea.setHeight(Math.max(0,h)),this._marqueeInnerArea.setY(a+this._strokeWidth)}return this._createMarqueeEvent("move",e)},Ne.prototype.processDragEnd=function(t,e){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._glassPane.removeChild(this._marqueeInnerArea),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,this._createMarqueeEvent("end",e)):null},Ne.prototype.cancelMarquee=function(){return!(!this._marqueeOn||(this._marqueeOn=!1,!this._marqueeDrawn))&&(this._glassPane.removeChild(this._marquee),this._glassPane.removeChild(this._marqueeInnerArea),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,!0)},Ne.prototype._createMarqueeEvent=function(t,e){var i=null,n=null,r=null,o=null;return this._resizeHoriz&&(i=this._marquee?this._marquee.getX():this._origPt.x,r=this._marquee?this._marquee.getWidth():0),this._resizeVert&&(n=this._marquee?this._marquee.getY():this._origPt.y,o=this._marquee?this._marquee.getHeight():0),new yt.newMarqueeEvent(t,i,n,r,o,e)},Ne.prototype.getCursor=function(t){var e=this._container.stageToLocal(t),i=this._bounds.containsPoint(e.x,e.y),n=this._vertBounds&&this._vertBounds.containsPoint(e.x,e.y),r=this._horizBounds&&this._horizBounds.containsPoint(e.x,e.y);return i||n||r?"crosshair":"inherit"},Ne.prototype.getGlassPane=function(){return this._glassPane};const Re=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Re,i),Re.prototype.Init=function(t,e,i,n){this._context=t.getCtx(),this._container=t,this._bounds=e,this._zoomRate=n,this._glassPane=new lt(this._context,i.x,i.y,i.w,i.h),this._glassPane.setInvisibleFill(),this._panOn=!1,this._glassPaneDrawn=!1,this._pinchOn=!1},Re.prototype.processDragStart=function(t){return this._panOn?null:(this._origPt=this._container.stageToLocal(t),this._lastPt=this._origPt,this._bounds.containsPoint(this._origPt.x,this._origPt.y)?(this._panOn=!0,yt.newPanZoomEvent("panStart",0,0,0,0,0,0,0,0)):null)},Re.prototype.processDragMove=function(t){if(!this._panOn)return null;this._glassPaneDrawn||(this._container.addChild(this._glassPane),this._glassPaneDrawn=!0);var e=this._container.stageToLocal(t),i=e.x-this._lastPt.x,n=e.y-this._lastPt.y,r=e.x-this._origPt.x,o=e.y-this._origPt.y;return this._lastPt=e,yt.newPanZoomEvent("panMove",-i,-i,-n,-n,-r,-r,-o,-o)},Re.prototype.processDragEnd=function(t){if(this._panOn&&(this._panOn=!1,this._glassPaneDrawn)){this._container.removeChild(this._glassPane),this._glassPaneDrawn=!1;var e=t?this._container.stageToLocal(t):this._lastPt,i=e.x-this._lastPt.x,n=e.y-this._lastPt.y,r=e.x-this._origPt.x,o=e.y-this._origPt.y;return this._lastPt=null,yt.newPanZoomEvent("panEnd",-i,-i,-n,-n,-r,-r,-o,-o)}return null},Re.prototype.processMouseWheel=function(t,e){var i=this._container.stageToLocal(t);if(!this._bounds.containsPoint(i.x,i.y))return null;var n=(e*=this._zoomRate)*(i.x-this._bounds.x),r=-e*(this._bounds.x+this._bounds.w-i.x),o=e*(i.y-this._bounds.y),s=-e*(this._bounds.y+this._bounds.h-i.y);return yt.newPanZoomEvent("zoom",n,r,o,s,n,r,o,s)},Re.prototype.processPinchStart=function(t,e){return this._pinchOn?null:(this._origPt1=this._container.stageToLocal(t),this._origPt2=this._container.stageToLocal(e),this._lastPt1=this._origPt1,this._lastPt2=this._origPt2,this._bounds.containsPoint(this._origPt1.x,this._origPt1.y)&&this._bounds.containsPoint(this._origPt2.x,this._origPt2.y)?(this._pinchOn=!0,yt.newPanZoomEvent("pinchStart",0,0,0,0,0,0,0,0)):null)},Re.prototype.processPinchMove=function(t,e){if(!this._pinchOn)return null;var i=this._container.stageToLocal(t),n=this._container.stageToLocal(e),r=this._computePinchDeltas(i,n,this._lastPt1,this._lastPt2),o=this._computePinchDeltas(i,n,this._origPt1,this._origPt2);return this._lastPt1=i,this._lastPt2=n,yt.newPanZoomEvent("pinchMove",r.dxMin,r.dxMax,r.dyMin,r.dyMax,o.dxMin,o.dxMax,o.dyMin,o.dyMax)},Re.prototype.processPinchEnd=function(){if(this._pinchOn){this._pinchOn=!1;var t=this._computePinchDeltas(this._lastPt1,this._lastPt2,this._origPt1,this._origPt2);return this._lastPt1=null,this._lastPt2=null,yt.newPanZoomEvent("pinchEnd",0,0,0,0,t.dxMin,t.dxMax,t.dyMin,t.dyMax)}return null},Re.prototype._computePinchDeltas=function(t,e,i,n){var r=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y),s=Math.abs(i.x-n.x),a=Math.abs(i.y-n.y),h=r>o/2?s/r:1,l=o>r/2?a/o:1,u=(t.x+e.x)/2,c=(t.y+e.y)/2,_=u-(i.x+n.x)/2,p=c-(i.y+n.y)/2,d=(1-h)*(u-this._bounds.x),g=(h-1)*(this._bounds.x+this._bounds.w-u),f=(1-l)*(c-this._bounds.y),y=(l-1)*(this._bounds.y+this._bounds.h-c);return{dxMin:d-=_,dxMax:g-=_,dyMin:f-=p,dyMax:y-=p}},Re.prototype.zoomBy=function(t){var e=(1/t-1)/2,i=-e*this._bounds.w,n=e*this._bounds.w,r=-e*this._bounds.h,o=e*this._bounds.h;return yt.newPanZoomEvent("zoom",i,n,r,o,i,n,r,o)},Re.prototype.panBy=function(t,e){var i=t*this._bounds.w*(r.isRightToLeft(this._context)?-1:1),n=e*this._bounds.h;return yt.newPanZoomEvent("panEnd",i,i,n,n,i,i,n,n)},Re.prototype.getCursor=function(t){return null==t||this.isWithinBounds(t)?this._panOn?u.getGrabbingCursor():u.getGrabCursor():"inherit"},Re.prototype.isWithinBounds=function(t){var e=this._container.stageToLocal(t);return this._bounds.containsPoint(e.x,e.y)},t.Agent=r,t.AnimFadeIn=Yt,t.AnimFadeOut=jt,t.AnimMoveBy=Wt,t.AnimMoveTo=$t,t.AnimPopIn=te,t.AnimScaleFadeIn=Vt,t.AnimScaleTo=Jt,t.Animator=Ft,t.AriaUtils=O,t.Array2D=ne,t.ArrayUtils=d,t.Automation=Oe,t.BackgroundMultilineText=ve,t.BackgroundOutputText=ye,t.BaseAnimation=Ut,t.BaseComponent=Ct,t.BaseComponentCache=St,t.BaseComponentDefaults=Se,t.BaseEvent=M,t.BlackBoxAnimationHandler=qt,t.Button=me,t.CSSGradient=U,t.CSSStyle=j,t.Cache=v,t.CategoryRolloverHandler=Ot,t.Circle=he,t.ClipPath=p,t.ColorUtils=T,t.CombinedAnimMoveBy=zt,t.ComponentTouchEvent=dt,t.Container=J,t.Context=Mt,t.CustomAnimation=Zt,t.CustomDatatipPeer=Ae,t.DataAnimationHandler=Qt,t.Dimension=h,t.Displayable=Q,t.DisplayableUtils=q,t.DomEventFactory=k,t.DragAndDropUtils=s,t.DragSource=a,t.Easing=Lt,t.EventFactory=yt,t.EventManager=It,t.GradientFill=g,t.GradientParser=V,t.HtmlKeyboardListenerUtils=G,t.HtmlTooltipManager=it,t.IconButton=be,t.Image=le,t.ImageLoader=se,t.ImageMarker=pe,t.JsonUtils=Et,t.KeyboardEvent=P,t.KeyboardFocusEffect=ie,t.KeyboardHandler=Ie,t.LayoutUtils=re,t.Line=ue,t.LinearGradientFill=ee,t.Map2D=vt,t.MarqueeHandler=Ne,t.Mask=Dt,t.Math=S,t.Matrix=l,t.MouseEvent=F,t.MultilineText=mt,t.Obj=i,t.OutputText=at,t.PanZoomHandler=Re,t.ParallelPlayable=Gt,t.Path=ce,t.PathUtils=b,t.PatternFill=y,t.PixelMap=oe,t.Playable=kt,t.Point=n,t.Polygon=ge,t.PolygonUtils=ae,t.Polyline=fe,t.Rect=lt,t.Rectangle=m,t.ResourceUtils=Tt,t.SelectionEffectUtils=rt,t.SelectionHandler=At,t.SequentialPlayable=Bt,t.Shadow=N,t.Shape=ot,t.SimpleMarker=_e,t.SimpleObjPeer=bt,t.SimpleScrollableContainer=Ee,t.SimpleScrollbar=Te,t.SolidFill=K,t.Stroke=z,t.SvgDocumentUtils=gt,t.SvgShapeUtils=A,t.TextUtils=st,t.Timer=ut,t.ToolkitUtils=u,t.Touch=w,t.TouchEvent=L,t.TouchManager=ft,t.TransientButton=Ce,t.Use=xt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdvt-toolkit.js.map;
vanilla.define('ojtranslations/nls/localeElements',{
    root: {
        supplemental: {
            defaultRegion: {
                ar: '001',
                as: 'IN',
                be: 'BY',
                bg: 'BG',
                bn: 'BD',
                bo: 'CN',
                brx: 'IN',
                bs: 'BA',
                ca: 'ES',
                cs: 'CZ',
                da: 'DK',
                de: 'DE',
                el: 'GR',
                en: 'US',
                es: 'ES',
                et: 'EE',
                fi: 'FI',
                fr: 'FR',
                ga: 'IE',
                gu: 'IN',
                he: 'IL',
                hi: 'IN',
                hr: 'HR',
                hu: 'HU',
                id: 'ID',
                is: 'IS',
                it: 'IT',
                ja: 'JP',
                kn: 'IN',
                ko: 'KR',
                kok: 'IN',
                ks: 'IN',
                'ks-Arab': 'IN',
                lt: 'LT',
                lv: 'LV',
                mk: 'MK',
                ml: 'IN',
                mr: 'IN',
                ms: 'MY',
                mt: 'MT',
                nb: 'NO',
                ne: 'NP',
                nl: 'NL',
                nn: 'NO',
                no: 'NO',
                or: 'IN',
                pa: 'IN',
                'pa-Guru': 'IN',
                'pa-Arab': 'PK',
                pl: 'PL',
                pt: 'BR',
                ro: 'RO',
                ru: 'RU',
                sk: 'SK',
                sl: 'SI',
                sq: 'AL',
                sr: 'RS',
                'sr-Cyrl': 'RS',
                'sr-Latn': 'RS',
                sv: 'SE',
                ta: 'IN',
                te: 'IN',
                th: 'TH',
                tr: 'TR',
                uk: 'UA',
                ur: 'PK',
                vi: 'VN',
                zh: 'CN',
                'zh-Hans': 'CN',
                'zh-Hant': 'TW'
            },
            weekData: {
                firstDay: {
                    '001': 1,
                    AE: 6,
                    BH: 6,
                    BR: 0,
                    DZ: 6,
                    EG: 6,
                    IQ: 6,
                    JO: 6,
                    KW: 6,
                    LB: 1,
                    LY: 6,
                    MA: 6,
                    OM: 6,
                    QA: 6,
                    SA: 0,
                    SD: 6,
                    SY: 6,
                    TN: 0,
                    YE: 0,
                    BY: 1,
                    BG: 1,
                    ES: 1,
                    CZ: 1,
                    DK: 1,
                    AT: 1,
                    CH: 1,
                    DE: 1,
                    LU: 1,
                    CY: 1,
                    GR: 1,
                    AU: 0,
                    CA: 0,
                    GB: 1,
                    IE: 0,
                    IN: 0,
                    MT: 0,
                    NZ: 0,
                    PH: 0,
                    SG: 0,
                    US: 0,
                    ZA: 0,
                    AR: 0,
                    CL: 1,
                    CO: 0,
                    CR: 1,
                    DO: 0,
                    EC: 1,
                    GT: 0,
                    HN: 0,
                    MX: 0,
                    NI: 0,
                    PA: 0,
                    PE: 0,
                    PR: 0,
                    PY: 0,
                    SV: 0,
                    UY: 1,
                    VE: 0,
                    EE: 1,
                    FI: 1,
                    BE: 1,
                    FR: 1,
                    IL: 0,
                    HR: 1,
                    HU: 1,
                    ID: 0,
                    IS: 1,
                    IT: 1,
                    JP: 0,
                    KR: 0,
                    LT: 1,
                    LV: 1,
                    MK: 1,
                    MY: 1,
                    NO: 1,
                    NL: 1,
                    PL: 1,
                    PT: 1,
                    RO: 1,
                    RU: 1,
                    SK: 1,
                    SI: 1,
                    AL: 1,
                    BA: 1,
                    ME: 1,
                    RS: 1,
                    SE: 1,
                    TH: 0,
                    TR: 1,
                    UA: 1,
                    VN: 1,
                    CN: 0,
                    HK: 0,
                    MO: 0,
                    TW: 0
                },
                weekendStart: {
                    '001': 6,
                    AE: 5,
                    BH: 5,
                    DZ: 5,
                    EG: 5,
                    IQ: 5,
                    JO: 5,
                    KW: 5,
                    LY: 5,
                    MA: 5,
                    OM: 5,
                    QA: 5,
                    SA: 5,
                    SD: 5,
                    SY: 5,
                    TN: 5,
                    YE: 5,
                    IN: 0,
                    IL: 5
                },
                weekendEnd: {
                    '001': 0,
                    AE: 6,
                    BH: 6,
                    DZ: 6,
                    EG: 6,
                    IQ: 6,
                    JO: 6,
                    KW: 6,
                    LY: 6,
                    MA: 6,
                    OM: 6,
                    QA: 6,
                    SA: 6,
                    SD: 6,
                    SY: 6,
                    TN: 6,
                    YE: 6,
                    IL: 6
                }
            },
            prefferedHours: {
                '001': 'H',
                AE: 'h',
                BH: 'h',
                DZ: 'h',
                EG: 'h',
                IQ: 'h',
                JO: 'h',
                KW: 'h',
                LB: 'h',
                LY: 'h',
                MA: 'H',
                OM: 'h',
                QA: 'h',
                SA: 'h',
                SD: 'h',
                SY: 'h',
                TN: 'h',
                YE: 'h',
                BG: 'H',
                ES: 'H',
                CZ: 'H',
                DK: 'H',
                AT: 'H',
                CH: 'H',
                DE: 'H',
                LU: 'H',
                CY: 'h',
                GR: 'h',
                AU: 'h',
                CA: 'h',
                GB: 'H',
                IE: 'H',
                IN: 'h',
                NZ: 'h',
                PH: 'h',
                SG: 'h',
                US: 'h',
                ZA: 'h',
                AR: 'H',
                BO: 'H',
                CL: 'H',
                CO: 'h',
                CR: 'H',
                CU: 'H',
                DO: 'h',
                EC: 'H',
                GT: 'H',
                HN: 'H',
                MX: 'H',
                NI: 'H',
                PA: 'h',
                PE: 'H',
                PR: 'h',
                SV: 'H',
                UY: 'H',
                VE: 'h',
                EE: 'H',
                FI: 'H',
                BE: 'H',
                FR: 'H',
                IL: 'H',
                HR: 'H',
                ID: 'H',
                IS: 'H',
                IT: 'H',
                JP: 'H',
                KR: 'h',
                LT: 'H',
                LV: 'H',
                MK: 'H',
                MY: 'h',
                NL: 'H',
                PT: 'H',
                RO: 'H',
                RU: 'H',
                SK: 'H',
                SI: 'H',
                AL: 'h',
                BA: 'H',
                ME: 'H',
                RS: 'H',
                SE: 'H',
                TR: 'H',
                UA: 'H',
                CN: 'h',
                HK: 'h',
                MO: 'h',
                TW: 'h'
            },
            plurals: {
                ar: function(r) {
                    return 0 === r
                        ? 'zero'
                        : 1 === r
                        ? 'one'
                        : 2 === r
                        ? 'two'
                        : r % 100 === Math.floor(r % 100) && r % 100 >= 3 && r % 100 <= 10
                        ? 'few'
                        : r % 100 === Math.floor(r % 100) && r % 100 >= 11 && r % 100 <= 99
                        ? 'many'
                        : 'other';
                },
                as: function(r) {
                    return 0 === Math.floor(Math.abs(r)) || 1 === r ? 'one' : 'other';
                },
                be: function(r) {
                    return r % 10 == 1 && r % 100 != 11
                        ? 'one'
                        : r % 10 === Math.floor(r % 10) &&
                          r % 10 >= 2 &&
                          r % 10 <= 4 &&
                          !(r % 100 >= 12 && r % 100 <= 14)
                        ? 'few'
                        : r % 10 == 0 ||
                          (r % 10 === Math.floor(r % 10) && r % 10 >= 5 && r % 10 <= 9) ||
                          (r % 100 === Math.floor(r % 100) && r % 100 >= 11 && r % 100 <= 14)
                        ? 'many'
                        : 'other';
                },
                bg: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                bn: function(r) {
                    return 0 === Math.floor(Math.abs(r)) || 1 === r ? 'one' : 'other';
                },
                bo: function(r) {
                    return 'other';
                },
                brx: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                bs: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length,
                        e = parseInt(r.toString().replace(/^[^.]*.?/, ''), 10);
                    return 0 === n &&
                        t % 10 == 1 &&
                        (t % 100 != 11 || (e % 10 == 1 && e % 100 != 11))
                        ? 'one'
                        : 0 === n &&
                          t % 10 === Math.floor(t % 10) &&
                          t % 10 >= 2 &&
                          t % 10 <= 4 &&
                          (!(t % 100 >= 12 && t % 100 <= 14) ||
                              (e % 10 === Math.floor(e % 10) &&
                                  e % 10 >= 2 &&
                                  e % 10 <= 4 &&
                                  !(e % 100 >= 12 && e % 100 <= 14)))
                        ? 'few'
                        : 'other';
                },
                ca: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                cs: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n
                        ? 'one'
                        : t === Math.floor(t) && t >= 2 && t <= 4 && 0 === n
                        ? 'few'
                        : 0 !== n
                        ? 'many'
                        : 'other';
                },
                da: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = parseInt(r.toString().replace(/^[^.]*.?|0+$/g, ''), 10);
                    return 1 === r || (0 !== n && (0 === t || 1 === t)) ? 'one' : 'other';
                },
                de: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                el: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                en: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                es: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                et: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                fi: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                fr: function(r) {
                    var t = Math.floor(Math.abs(r));
                    return 0 === t || 1 === t ? 'one' : 'other';
                },
                ga: function(r) {
                    return 1 === r
                        ? 'one'
                        : 2 === r
                        ? 'two'
                        : r === Math.floor(r) && r >= 3 && r <= 6
                        ? 'few'
                        : r === Math.floor(r) && r >= 7 && r <= 10
                        ? 'many'
                        : 'other';
                },
                gu: function(r) {
                    return 0 === Math.floor(Math.abs(r)) || 1 === r ? 'one' : 'other';
                },
                he: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n
                        ? 'one'
                        : 2 === t && 0 === n
                        ? 'two'
                        : 0 !== n || (r >= 0 && r <= 10) || r % 10 != 0
                        ? 'other'
                        : 'many';
                },
                hi: function(r) {
                    return 0 === Math.floor(Math.abs(r)) || 1 === r ? 'one' : 'other';
                },
                hr: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length,
                        e = parseInt(r.toString().replace(/^[^.]*.?/, ''), 10);
                    return 0 === n &&
                        t % 10 == 1 &&
                        (t % 100 != 11 || (e % 10 == 1 && e % 100 != 11))
                        ? 'one'
                        : 0 === n &&
                          t % 10 === Math.floor(t % 10) &&
                          t % 10 >= 2 &&
                          t % 10 <= 4 &&
                          (!(t % 100 >= 12 && t % 100 <= 14) ||
                              (e % 10 === Math.floor(e % 10) &&
                                  e % 10 >= 2 &&
                                  e % 10 <= 4 &&
                                  !(e % 100 >= 12 && e % 100 <= 14)))
                        ? 'few'
                        : 'other';
                },
                hu: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                id: function(r) {
                    return 'other';
                },
                is: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = parseInt(r.toString().replace(/^[^.]*.?|0+$/g, ''), 10);
                    return 0 !== n || t % 10 != 1 || (t % 100 == 11 && 0 === n) ? 'other' : 'one';
                },
                it: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                ja: function(r) {
                    return 'other';
                },
                kn: function(r) {
                    return 0 === Math.floor(Math.abs(r)) || 1 === r ? 'one' : 'other';
                },
                ko: function(r) {
                    return 'other';
                },
                kok: function(r) {
                    return 'other';
                },
                ks: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                lt: function(r) {
                    var t = parseInt(r.toString().replace(/^[^.]*.?/, ''), 10);
                    return r % 10 != 1 || (r % 100 >= 11 && r % 100 <= 19)
                        ? r % 10 === Math.floor(r % 10) &&
                          r % 10 >= 2 &&
                          r % 10 <= 9 &&
                          !(r % 100 >= 11 && r % 100 <= 19)
                            ? 'few'
                            : 0 !== t
                            ? 'many'
                            : 'other'
                        : 'one';
                },
                lv: function(r) {
                    var t = r.toString().replace(/^[^.]*.?/, '').length,
                        n = parseInt(r.toString().replace(/^[^.]*.?/, ''), 10);
                    return r % 10 == 0 ||
                        (r % 100 === Math.floor(r % 100) && r % 100 >= 11 && r % 100 <= 19) ||
                        (2 === t &&
                            n % 100 === Math.floor(n % 100) &&
                            n % 100 >= 11 &&
                            n % 100 <= 19)
                        ? 'zero'
                        : r % 10 == 1 &&
                          (r % 100 != 11 ||
                              (2 === t &&
                                  n % 10 == 1 &&
                                  (n % 100 != 11 || (2 !== t && n % 10 == 1))))
                        ? 'one'
                        : 'other';
                },
                mk: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length,
                        e = parseInt(r.toString().replace(/^[^.]*.?/, ''), 10);
                    return 0 !== n || (t % 10 != 1 && e % 10 != 1) ? 'other' : 'one';
                },
                ml: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                mr: function(r) {
                    return 0 === Math.floor(Math.abs(r)) || 1 === r ? 'one' : 'other';
                },
                ms: function(r) {
                    return 'other';
                },
                mt: function(r) {
                    return 1 === r
                        ? 'one'
                        : 0 === r ||
                          (r % 100 === Math.floor(r % 100) && r % 100 >= 2 && r % 100 <= 10)
                        ? 'few'
                        : r % 100 === Math.floor(r % 100) && r % 100 >= 11 && r % 100 <= 19
                        ? 'many'
                        : 'other';
                },
                nb: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                ne: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                nl: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                nn: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                no: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                or: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                pa: function(r) {
                    return r === Math.floor(r) && r >= 0 && r <= 1 ? 'one' : 'other';
                },
                pl: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n
                        ? 'one'
                        : 0 === n &&
                          t % 10 === Math.floor(t % 10) &&
                          t % 10 >= 2 &&
                          t % 10 <= 4 &&
                          !(t % 100 >= 12 && t % 100 <= 14)
                        ? 'few'
                        : 0 === n &&
                          1 !== t &&
                          ((t % 10 === Math.floor(t % 10) && t % 10 >= 0 && t % 10 <= 1) ||
                              (0 === n &&
                                  ((t % 10 === Math.floor(t % 10) && t % 10 >= 5 && t % 10 <= 9) ||
                                      (0 === n &&
                                          t % 100 === Math.floor(t % 100) &&
                                          t % 100 >= 12 &&
                                          t % 100 <= 14))))
                        ? 'many'
                        : 'other';
                },
                pt: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length,
                        e = parseInt(r.toString().replace(/^[^.]*.?|0+$/g, ''), 10);
                    return 1 === t && (0 === n || (0 === t && 1 === e)) ? 'one' : 'other';
                },
                'pt-PT': function(r) {
                    var t = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === r && 0 === t ? 'one' : 'other';
                },
                ro: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n
                        ? 'one'
                        : 0 !== n ||
                          0 === r ||
                          (1 !== r &&
                              r % 100 === Math.floor(r % 100) &&
                              r % 100 >= 1 &&
                              r % 100 <= 19)
                        ? 'few'
                        : 'other';
                },
                ru: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 0 === n && t % 10 == 1 && t % 100 != 11
                        ? 'one'
                        : 0 === n &&
                          t % 10 === Math.floor(t % 10) &&
                          t % 10 >= 2 &&
                          t % 10 <= 4 &&
                          !(t % 100 >= 12 && t % 100 <= 14)
                        ? 'few'
                        : 0 === n &&
                          (t % 10 == 0 ||
                              (0 === n &&
                                  ((t % 10 === Math.floor(t % 10) && t % 10 >= 5 && t % 10 <= 9) ||
                                      (0 === n &&
                                          t % 100 === Math.floor(t % 100) &&
                                          t % 100 >= 11 &&
                                          t % 100 <= 14))))
                        ? 'many'
                        : 'other';
                },
                sk: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n
                        ? 'one'
                        : t === Math.floor(t) && t >= 2 && t <= 4 && 0 === n
                        ? 'few'
                        : 0 !== n
                        ? 'many'
                        : 'other';
                },
                sl: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 0 === n && t % 100 == 1
                        ? 'one'
                        : 0 === n && t % 100 == 2
                        ? 'two'
                        : 0 === n &&
                          ((t % 100 === Math.floor(t % 100) && t % 100 >= 3 && t % 100 <= 4) ||
                              0 !== n)
                        ? 'few'
                        : 'other';
                },
                sq: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                sr: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length,
                        e = parseInt(r.toString().replace(/^[^.]*.?/, ''), 10);
                    return 0 === n &&
                        t % 10 == 1 &&
                        (t % 100 != 11 || (e % 10 == 1 && e % 100 != 11))
                        ? 'one'
                        : 0 === n &&
                          t % 10 === Math.floor(t % 10) &&
                          t % 10 >= 2 &&
                          t % 10 <= 4 &&
                          (!(t % 100 >= 12 && t % 100 <= 14) ||
                              (e % 10 === Math.floor(e % 10) &&
                                  e % 10 >= 2 &&
                                  e % 10 <= 4 &&
                                  !(e % 100 >= 12 && e % 100 <= 14)))
                        ? 'few'
                        : 'other';
                },
                sv: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                ta: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                te: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                th: function(r) {
                    return 'other';
                },
                tr: function(r) {
                    return 1 === r ? 'one' : 'other';
                },
                uk: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 0 === n && t % 10 == 1 && t % 100 != 11
                        ? 'one'
                        : 0 === n &&
                          t % 10 === Math.floor(t % 10) &&
                          t % 10 >= 2 &&
                          t % 10 <= 4 &&
                          !(t % 100 >= 12 && t % 100 <= 14)
                        ? 'few'
                        : 0 === n &&
                          (t % 10 == 0 ||
                              (0 === n &&
                                  ((t % 10 === Math.floor(t % 10) && t % 10 >= 5 && t % 10 <= 9) ||
                                      (0 === n &&
                                          t % 100 === Math.floor(t % 100) &&
                                          t % 100 >= 11 &&
                                          t % 100 <= 14))))
                        ? 'many'
                        : 'other';
                },
                ur: function(r) {
                    var t = Math.floor(Math.abs(r)),
                        n = r.toString().replace(/^[^.]*.?/, '').length;
                    return 1 === t && 0 === n ? 'one' : 'other';
                },
                vi: function(r) {
                    return 'other';
                },
                zh: function(r) {
                    return 'other';
                }
            },
            currencyData: {
                fractions: {
                    IDR: {_rounding: '0', _digits: '0'},
                    JPY: {_rounding: '0', _digits: '0'},
                    KRW: {_rounding: '0', _digits: '0'}
                }
            }
        }
    },
    'en-US': 1,
    __noOverlay: !0,
    __defaultNoOverlayLocale: 'en-US'
});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojlocaledata',["exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/localeElements"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a=n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r={};t._registerLegacyNamespaceProp("LocaleData",r),r.setBundle=function(e){r._bundle=e},r.getFirstDayOfWeek=function(){return r._getWeekData("firstDay")},r.getWeekendStart=function(){return r._getWeekData("weekendStart")},r.getWeekendEnd=function(){return r._getWeekData("weekendEnd")},r.getDayNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=r._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},r.getMonthNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=r._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},r.isMonthPriorToYear=function(){var e=r._getCalendarData().dateFormats.long.toUpperCase();return e.indexOf("M")<e.indexOf("Y")},r._getWeekData=function(e){var t=r.__getBundle(),n=r._getRegion()||"001",a=t.supplemental.weekData[e],o=a[n];return void 0===o&&(o=a["001"]),o},r._getCalendarData=function(){var e=r.__getBundle().main;return e[Object.keys(e)[0]].dates.calendars.gregorian},r._getRegion=function(){var e=t.Config.getLocale();if(e){var n=e.toUpperCase().split(/-|_/);if(n.length>=2){var a=n[1];if(4!==a.length)return a;if(n.length>=3)return n[2]}}return r.__getBundle().supplemental.defaultRegion[e]},r.__getBundle=function(){var e=r._bundle;return e||a},r.__updateBundle=function(e){a=e};const o=r.getDayNames,d=r.getFirstDayOfWeek,u=r.getMonthNames,l=r.getWeekendEnd,i=r.getWeekendStart,s=r.isMonthPriorToYear,g=r.setBundle,f=r.__getBundle,_=r._getCalendarData;e.__getBundle=f,e._getCalendarData=_,e.getDayNames=o,e.getFirstDayOfWeek=d,e.getMonthNames=u,e.getWeekendEnd=l,e.getWeekendStart=i,e.isMonthPriorToYear=s,e.setBundle=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojlocaledata.js.map;
/**
 * Copyright (c) 2015, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
!function(){function a(){"use strict";function a(a,b,e){f[a]={deps:b.map(c),module:e,resolve:d}}function b(a,b){var c=e(a);b.apply(null,c)}function c(a){return 0===a.indexOf("./")?a.substr(2):a}function d(){if(!this._resolvedModule){var a=e(this.deps),b=this.module;this._resolvedModule="function"==typeof b?b.apply(null,a):b}return this._resolvedModule}function e(a){return a.map(function(a){return f[a].resolve()})}var f={};return{define:a,require:b}}var b=a(),c=b.define,d=b.require;c("dataTransfer",[],function(){"use strict";function a(a,b){function c(a){if("protected"!==p()){var b=f(a);return b&&m.hasOwnProperty(b)?m[b]:null}return""}function d(a,b){if("readwrite"===p()){var c=f(a);c&&(m[c]=b.toString())}}function e(a){if("readwrite"===p()){var b=f(a);b?m.hasOwnProperty(b)&&delete m[b]:m={}}}function f(a){return a?a.toString().toLowerCase():null}function g(b,c,d){a&&a(b,c,d)}function h(){var a=Object.keys(m);return a.item=function(b){return b>=0&&b<a.length?a[b]:null},a.contains=function(b){return a.indexOf(b)>=0},a}function i(){return n}function j(a){a=a.toLowerCase(),q.indexOf(a)>=0&&(n=a)}function k(){return o}function l(a){a=a.toLowerCase(),r.indexOf(a)>=0&&(o=a)}var m={},n="none",o="uninitialized",p=b||function(){return"readwrite"},q=["none","copy","link","move"],r=["uninitialized","none","copy","copylink","copymove","link","linkmove","move","all"];this.files={},this.items={},this.getData=c,this.setData=d,this.clearData=e,this.setDragImage=g,Object.defineProperty(this,"types",{get:h}),Object.defineProperty(this,"dropEffect",{get:i,set:j}),Object.defineProperty(this,"effectAllowed",{get:k,set:l})}return a}),c("dragImage",[],function(){"use strict";function a(a,b,c){function d(a){var b=0;if(a.children)for(var c=0;c<a.children.length;c++){var e=a.children[c],f=window.getComputedStyle(e);b="static"===f.position||"auto"===f.zIndex||isNaN(f.zIndex)?Math.max(b,d(e)):Math.max(b,f.zIndex)}return b}function e(a){var b=null!=a.parentNode,c=a.style.position,e=a.style.top;b||(a.style.position="fixed",a.style.top="10000px",document.body.appendChild(a));var f=a.cloneNode(!0);return f.id=a.id+"_dragimage",f.style.opacity=.7,f.style.position="fixed",f.style.width=a.offsetWidth+"px",f.style.height=a.offsetHeight+"px",f.style.zIndex=d(document.body)+1,f.style.visibility="hidden",b||(document.body.removeChild(a),a.style.position=c,a.style.top=e),f}function f(){document.body.appendChild(j),j.scrollLeft=m,j.scrollTop=n}function g(){document.body.removeChild(j),j=null}function h(a,b){j.style.left=a-k+m+"px",j.style.top=b-l+n+"px"}function i(a){j.style.visibility=a?"visible":"hidden"}var j=e(a),k=b,l=c,m=a.scrollLeft,n=a.scrollTop;this.start=f,this.end=g,this.move=h,this.show=i}return a}),c("eventDispatcher",[],function(){"use strict";function a(a,c,d){var e=b(a,c,d);return!c.target.dispatchEvent(e)}function b(a,b,d){var e;if(window.Event&&"function"==typeof window.Event){var g={bubbles:h[a].bubbles,cancelable:h[a].cancelable};e=new window.Event(a,g)}else e=document.createEvent("Event"),e.initEvent(a,h[a].bubbles,h[a].cancelable);return e.view=document.defaultView,e.detail=0,f(e,b),e.getModifierState=function(a){return c(a,b)},e.dataTransfer=d,e.__isPseudo=!0,e}function c(a,b){return"Alt"===a?b.altKey:"Control"===a?b.ctrlKey:"Meta"===a?b.metaKey:"Shift"===a&&b.shiftKey}function d(a){return a||0}function e(a){return a||!1}function f(a,b){var c=b.target.getBoundingClientRect();a.screenX=d(b.screenX),a.screenY=d(b.screenY),a.clientX=d(b.clientX),a.clientY=d(b.clientY),a.offsetX=b.clientX-c.left,a.offsetY=b.clientY-c.top,a.pageX=d(b.pageX),a.pageY=d(b.pageY),a.altKey=e(b.altKey),a.ctrlKey=e(b.ctrlKey),a.metaKey=e(b.metaKey),a.shiftKey=e(b.shiftKey),a.button=d(b.button),a.buttons=d(b.buttons),a.relatedTarget=b.relatedTarget?b.relatedTarget:null}function g(a){return{screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey,button:a.button,buttons:a.buttons}}var h={dragstart:{bubbles:!0,cancelable:!0},drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!1},dragenter:{bubbles:!0,cancelable:!0},dragover:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},drop:{bubbles:!0,cancelable:!0}};return{dispatch:a,getMouseEventProps:g}}),c("autoScroller",[],function(){"use strict";function a(a,c,d){for(var e=a;null!=e&&!b(e,c,d);)e=e.parentNode;return e}function b(a,b,f){if(!c(a))return!1;var g,h,i=a.scrollLeft,j=a.scrollTop;if(a===document.documentElement)i=i||document.body.scrollLeft,j=j||document.body.scrollTop;else{var k=a.getBoundingClientRect();b-=Math.round(k.left),f-=Math.round(k.top)}return g=d(a.clientWidth,a.scrollWidth,b,i),h=d(a.clientHeight,a.scrollHeight,f,j),!(!g&&!h)&&(e(a,i+g,j+h),!0)}function c(a){if(a===document.body)return!1;if(a===document.documentElement)return!0;if(1===a.nodeType){var b=window.getComputedStyle(a,null);return("auto"===b.overflow||"scroll"===b.overflow)&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight)}return!1}function d(a,b,c,d){var e=12,f=15;if(c>a-e&&c<a){if(d+a<b)return f}else if(c>=0&&c<e&&d>0)return-Math.min(d,f);return 0}function e(a,b,c){a.scrollLeft=b,a.scrollTop=c,a===document.documentElement&&(document.body.scrollLeft=b,document.body.scrollTop=c)}return{checkAutoScroll:a}}),c("dragController",["./dataTransfer","./dragImage","./eventDispatcher","./autoScroller"],function(a,b,c,d){"use strict";function e(){function e(b,c,d){var e=new a(m,f);return g("dragstart",b,d,e)?{dragState:"canceled"}:j(e,c)?k(e,b,d):{dataTransfer:e}}function f(){return Q}function g(a,b,d,e,f){return Q=h(a),"dragstart"!==a&&(e.dropEffect=i(a,e.effectAllowed)),d||(d={}),d.target=b,d.relatedTarget=f,c.dispatch(a,d,e)}function h(a){return"dragstart"===a?"readwrite":"drop"===a?"readonly":"protected"}function i(a,b){return"drag"===a||"dragleave"===a?"none":"dragenter"===a||"dragover"===a?"none"===b?"none":"move"===b?"move":0===b.indexOf("link")?"link":"copy":U}function j(a,b){return 0!==a.types.length&&(!b||b(a,M))}function k(a,b,c){return L=a,N=b,P=document.body.style.cursor,l(b,c),{dragState:"started",dataTransfer:a}}function l(a,b){if(null==M){var c=a.getBoundingClientRect(),d=b?b.clientX:c.left,e=b?b.clientY:c.top;m(a,d-c.left,e-c.top)}}function m(a,c,d){M&&(M.end(),M=null),a&&a.cloneNode&&(R={x:c,y:d},M=new b(a,c,d),M.start())}function n(a){if(a&&o()){if(M.show(!1),p(a))return D(a),!0;try{var b=q(a);r(b,a),s(b,a),v(b,a),B(b,a)}finally{M.show(!0)}}return!1}function o(){return null!=L}function p(a){return g("drag",N,a,L)}function q(a){var b=a.clientX,c=a.clientY;return b===S&&c===T?O:document.elementFromPoint(b,c)}function r(a,b){a!==O&&(a&&g("dragenter",a,b,L,O),O&&(z(O),g("dragleave",O,b,L,a)))}function s(a,b){if(a){t(g("dragover",a,b,L))}}function t(a){if(a){var b=L.effectAllowed;U="uninitialized"===b||"all"===b||b.indexOf(L.dropEffect)>=0?L.dropEffect:"none"}else U=u(O)?"copy":"none"}function u(a){return a&&("TEXTAREA"===a.nodeName||"INPUT"===a.nodeName&&"text"===a.type)}function v(a,b){w(b),x(a),A(a,b)}function w(a){M.move(a.clientX,a.clientY)}function x(a){var b;b="none"===U?"not-allowed":"copy"===U?"copy":"link"===U?"alias":"default",b!==document.body.style.cursor&&(document.body.style.cursor=b),y(a,b)}function y(a,b){a.style.cursor!==b&&(void 0===a._dndSavedCursor&&(a._dndSavedCursor=a.style.cursor),a.style.cursor=b)}function z(a){void 0!==a._dndSavedCursor&&(a.style.cursor=a._dndSavedCursor,delete a._dndSavedCursor)}function A(a,b){d.checkAutoScroll(a,b.clientX,b.clientY)&&(S=-1,T=-1)}function B(a,b){O=a,S=b.clientX,T=b.clientY}function C(a){E(a,!1)}function D(a){E(a,!0)}function E(a,b){if(o()){M.show(!1);var c=q(a);c&&(z(c),F(c,a,b),G(c,a,b)),g("dragend",N,a,L),J()}}function F(a,b,c){H(c)||g("dragleave",a,b,L)}function G(a,b,c){if(H(c)){var d=g("drop",a,b,L);return d?U=L.dropEffect:u(a)?I(a):U="none",d}return!0}function H(a){return!a&&"none"!==U}function I(a){var b=L.getData("text");if(b&&""!==b){var c=a.value,d=a.selectionEnd;a.value=c.substring(0,d)+b+c.substring(d)}}function J(){m(null,0,0),L=null,N=null,O=null,U="none",document.body.style.cursor=P,P=null}function K(a){var b=a.target,d=a.relatedTarget,e=c.getMouseEventProps(a);switch(a.type){case"drag":M&&M.show(!0),g("drag",b,e,L);break;case"dragenter":g("dragenter",b,e,L,d);break;case"dragleave":g("dragleave",b,e,L,d);break;case"dragover":var f=R.x>0?e.clientX-V:e.clientX+W,h=e.clientY;M.move(f,h);var i=g("dragover",b,e,L);t(i),i&&a.preventDefault();break;case"dragend":M&&M.show(!1),g("dragend",b,e,L,d),J(),a.dataTransfer.clearData();break;case"drop":M&&M.show(!1),i=G(b,e,!1),i&&a.preventDefault()}}var L,M,N,O,P,Q,R,S=-1,T=-1,U="none",V=50,W=10;this.start=e,this.drag=n,this.end=C,this.cancel=D,this.handleDndEvent=K}return e}),c("args",[],function(){"use strict";function a(a,c){if(b(a,c),"string"!=typeof c)throw new Error("argument '"+a+"' must be a string")}function b(a,b){if(!b)throw new Error("required argument '"+a+"' not specified")}return{requiredString:a,required:b}}),c("glassPane",["./eventDispatcher"],function(a){"use strict";function b(b,c){function d(a){l=a,document.body.addEventListener("mouseenter",h,!0),document.body.addEventListener("mousemove",i,!0),document.body.addEventListener("mouseup",j,!0),k=window.setInterval(g,200)}function e(){k&&(window.clearInterval(k),k=null),document.body.removeEventListener("mouseenter",h,!0),document.body.removeEventListener("mousemove",i,!0),document.body.removeEventListener("mouseup",j,!0)}function f(){return l}function g(){try{b(l)}finally{}}function h(b){b.target===document.body&&b.buttons!==m&&(l=a.getMouseEventProps(b),c(l,!0))}function i(b){void 0===m&&(m=b.buttons),b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),g()}function j(b){b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),c(l,!1)}var k,l,m;this.start=d,this.end=e,this.getLastInputProps=f}return b}),c("desktopDragDriver",["./args","./glassPane","./eventDispatcher"],function(a,b,c){"use strict";function d(d,e){function f(){var a=navigator.userAgent.toLowerCase();(a.indexOf("trident")>0||a.indexOf("edge")>0||a.indexOf("phantomjs")>0)&&(e.addEventListener("dragstart",i,!0),e.addEventListener("drag",v,!0),e.addEventListener("dragover",v,!0),e.addEventListener("dragend",v,!0),e.addEventListener("dragenter",v,!0),e.addEventListener("dragleave",v,!0),e.addEventListener("drop",v,!0),e.addEventListener("pointerdown",h,!0))}function g(){e.removeEventListener("dragstart",i,!0),e.removeEventListener("drag",v,!0),e.removeEventListener("dragover",v,!0),e.removeEventListener("dragend",v,!0),e.removeEventListener("dragenter",v,!0),e.removeEventListener("dragleave",v,!0),e.removeEventListener("drop",v,!0),e.removeEventListener("pointerdown",h,!0)}function h(a){x=a.pointerType}function i(a){if("touch"===x){var b=a.target;b.style.visibility="hidden",u(a),setTimeout(function(){b.style.visibility="visible"},0)}else j(a)}function j(a){var b,e=c.getMouseEventProps(a);a.stopPropagation(),g();try{b=d.start(a.target,k,e)}finally{f()}"canceled"===b.dragState?a.preventDefault():"started"===b.dragState?o(a,b,e):m(b.dataTransfer,a)}function k(a,b){return null!=b||l(a)}function l(a){var b=a.types;if(0===b.length)return!1;for(var c=0;c<b.length;c++){var d=b[c].toLowerCase();if("text"!==d&&"url"!==d)return!0}return!1}function m(a,b){n(a,b,"text"),n(a,b,"url")}function n(a,b,c){var d=a.getData(c);d&&b.dataTransfer.setData(c,d)}function o(a,b,c){a.preventDefault(),p(c)}function p(a){w=new b(r,s),w.start(a),document.body.addEventListener("keydown",t,!0)}function q(){w&&(w.end(),w=null),document.body.removeEventListener("keydown",t,!0)}function r(a){var b=d.drag(a);return b&&q(),b}function s(a,b){q(),b?d.cancel(a):d.end(a)}function t(a){if(a.stopPropagation(),a.preventDefault(),"Esc"===a.key||27===a.keyCode){var b=w.getLastInputProps();q(),d.cancel(b)}}function u(a){if(!a.__isPseudo){a.stopPropagation();for(var b=a.target;b&&!b.draggable;)b=b.parentNode;if(b){y=b;var e=c.getMouseEventProps(a);"started"!==d.start(y,null,e).dragState&&(a.preventDefault(),y=null)}}}function v(a){a.__isPseudo||y&&(a.stopPropagation(),d.handleDndEvent(a),"dragend"===a.type&&(y=null))}a.required("controller",d);var w,x,y;this.install=f,this.remove=g}return d}),c("touchDragDriver",["./args"],function(a){"use strict";function b(b,c){function d(){c.addEventListener("touchstart",g,{passive:!0,capture:!0}),c.addEventListener("touchmove",h,{passive:!1,capture:!0})}function e(){c.removeEventListener("touchstart",g,{passive:!0,capture:!0}),c.removeEventListener("touchmove",h,{passive:!1,capture:!0})}function f(a){return a.hasAttribute&&a.hasAttribute("draggable")&&a.draggable}function g(a){for(var b=a.target;b&&!f(b);)b=b.parentNode;b&&i(b)}function h(){}function i(a){a.addEventListener("touchstart",k,{passive:!0}),a.addEventListener("touchmove",l,{passive:!1}),a.addEventListener("touchend",m,{passive:!0}),a.addEventListener("touchcancel",n,{passive:!0})}function j(a){a.removeEventListener("touchstart",k,{passive:!0}),a.removeEventListener("touchmove",l,{passive:!1}),a.removeEventListener("touchend",m,{passive:!0}),a.removeEventListener("touchcancel",n,{passive:!0})}function k(a){q=a.currentTarget,r=!1}function l(a){if(a.preventDefault(),a.stopPropagation(),!r){if("started"!==b.start(q,null,p(a)).dragState)return void j(a.currentTarget);r=!0}b.drag(p(a))&&j(a.currentTarget)}function m(a){o(a,!1)}function n(a){o(a,!0)}function o(a,c){var d=a.currentTarget;c?b.cancel(p(a)):b.end(p(a)),q=null,r=!1,j(d)}function p(a){return{screenX:Math.round(a.changedTouches[0].screenX),screenY:Math.round(a.changedTouches[0].screenY),clientX:Math.round(a.changedTouches[0].clientX),clientY:Math.round(a.changedTouches[0].clientY),pageX:Math.round(a.changedTouches[0].pageX),pageY:Math.round(a.changedTouches[0].pageY),altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey}}a.required("controller",b);var q=null,r=!1;this.install=d,this.remove=e}return b}),c("bootstrap",["./dragController","./desktopDragDriver","./touchDragDriver"],function(a,b,c){"use strict";function d(){if(!g()){e(new a,-1!==navigator.userAgent.toLowerCase().indexOf("edge")?[b]:[b,c])}}function e(a,b){for(var c=document.documentElement,d=0;d<b.length;d++){var e=b[d],f=new e(a,c);f.install(),h.push(f)}}function f(){h.forEach(function(a){a.remove()}),h=[]}function g(){return h.length>0}var h=[];return{init:d,destroy:f}}),d(["bootstrap"],function(a){a.init()})}();
vanilla.define("ojdnd", function(){});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdvt-base',["ojs/ojcore-base","ojs/ojdvt-toolkit","ojs/ojcontext","ojs/ojconfig","ojs/ojmap","ojs/ojlocaledata","ojs/ojcomponentcore","jquery","ojs/ojkeysetimpl","ojs/ojdomutils","ojs/ojattributegrouphandler","ojs/ojlogger","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojdnd"],function(e,t,n,r,i,s,o,a,l,h,c,d,u,p,_,f){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;const m=function(e,t){this._path=t,this._root=e,this._delimiter="/"};m.prototype._resolveLeafObjectAndProperty=function(e,t,n,r){for(var i={};e&&t.indexOf(n)>-1;){var s=t.substring(0,t.indexOf(n));r&&void 0===e[s]&&(e[s]={}),e=e[s],t=t.substring(t.indexOf(n)+1,t.length)}return e&&(i.object=e,i.parameter=t),i},m.prototype._resolvePath=function(e){if(void 0===this._leaf){var t=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,e);this._leaf=t.object,this._param=t.parameter}},m.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},m.prototype.setValue=function(e,t){this._resolvePath(!0),!t&&this._leaf[this._param]||(this._leaf[this._param]=e)};const v=function(e){this._styleCache={},this._context=e,this._letterSpacing=null,this._wordSpacing=null,this._fontVariantNumeric=null};v.styleTypes={TEXT:function(e){var t={};return e&&(e.hasClass("oj-gauge-metric-label")?(t["font-size"]=!0,t.color=!0):e.hasClass("oj-treemap-node-header")&&(t["font-weight"]=!0)),v._buildTextCssPropertiesObject(e,t)},BACKGROUND:function(e,t,n,r){return v._buildCssBackgroundPropertiesObject(e)},ANIM_DUR:function(e){var t=e.css("animation-duration");if(t)return"ms"===t.slice(-2)?t=parseInt(t.slice(0,-2),10):"s"===t.slice(-1)&&(t=1e3*parseFloat(t.slice(0,-1))),t}},v._INHERITED_FONT_COLOR="rgb(254, 0, 254)",v._INHERITED_FONT_FAMILY="Times",v._INHERITED_FONT_SIZE="1px",v._INHERITED_FONT_WEIGHT="1",v._INHERITED_FONT_STYLE="normal",v._FONT_SIZE_BUFFER=4,v.defaultStyleProcessor=function(e,t){return e.css(t)},v._buildCssBackgroundPropertiesObject=function(e){var t={};return e.css("border-top-color")&&(t.borderColor=e.css("border-top-color")),e.css("border-width")&&e.css("border-style")&&"none"!==e.css("border-style")&&(t.borderWidth=e.css("border-width")),e.css("background-color")&&(t.backgroundColor=e.css("background-color")),t},v._buildTextCssPropertiesObject=function(e,t){var n={},r=e.css("font-family");return r&&r!==v._INHERITED_FONT_FAMILY&&(n.fontFamily=r.replace(/"/g,"'")),!(r=e.css("font-size"))||r.indexOf("px")>-1&&parseFloat(r)<v._FONT_SIZE_BUFFER||t["font-size"]||(n.fontSize=r),(r=e.css("font-weight"))&&r!==v._INHERITED_FONT_WEIGHT&&!t["font-weight"]&&(n.fontWeight=r),(r=e.css("color"))&&r!==v._INHERITED_FONT_COLOR&&!t.color&&(n.color=r),(r=e.css("font-style"))&&r!==v._INHERITED_FONT_STYLE&&(n.fontStyle=r),n},v.prototype.processStyles=function(e,t,n,r){var i,s=null,o=null,l=e.data("no-style-cache"),h="";for(i=0;i<n.length;i++)h=h+n[i]+" ";var c,d={},u={},p=Object.keys(r);for(i=0;i<p.length;i++){var _=r[c=p[i]];_ instanceof Array||(_=[_]);var f=this._hasUncachedProperty(c,_)||l;o||s||!f||((s=a(document.createElement("div"))).css("display","none"),e.append(s),s.attr("class",h),(o=a(document.createElement("div"))).css("font-size",v._INHERITED_FONT_SIZE),o.css("color",v._INHERITED_FONT_COLOR),o.css("font-weight",v._INHERITED_FONT_WEIGHT),o.css("font-style",v._INHERITED_FONT_STYLE),s.append(o)),d[c]=_,f&&(u[c]=this._createStyleDivs(o,c,_))}if(!this._letterSpacing||!this._wordSpacing||!this._fontVariantNumeric){var m=window.getComputedStyle(e[0]);this._context.letterSpacing=m.letterSpacing,this._context.wordSpacing=m.wordSpacing,this._context.fontVariantNumeric=m.fontVariantNumeric,this._letterSpacing=m.letterSpacing,this._wordSpacing=m.wordSpacing,this._fontVariantNumeric=m.fontVariantNumeric}for(i=0;i<p.length;i++)c=p[i],this._processStyle(u[c],t,c,d[c],l);s&&s.remove()},v.prototype._createStyleDivs=function(e,t,n){this._styleCache[t]||(this._styleCache[t]={});for(var r=null,i=0;i<n.length;i++){var s=n[i].property;if(s)void 0===this._styleCache[t][s]&&(r||("oj-dvt-color-ramp"===t?r=c.ColorAttributeGroupHandler.__createAttrDiv():(r=a(document.createElement("div"))).addClass(t),e.append(r)))}return r},v.prototype._processStyle=function(e,t,n,r,i){for(var s=0;s<r.length;s++){var o=r[s],a=o.property;if(a){var l=this._styleCache[n][a];if(void 0===l&&e&&(l="oj-dvt-color-ramp"===n?c.ColorAttributeGroupHandler.__processAttrDiv(e):v._resolveStyle(e,a),i||(this._styleCache[n][a]=l)),null!=l){var h=o.path,d=new m(t,h),u=d.getValue(),p="object"==typeof u&&!Array.isArray(u);if(p&&u)for(var _=Object.keys(l),f=0;f<_.length;f++){var y=_[f];void 0===u[y]&&(u[y]=l[y])}else d.setValue(l,p)}}}},v._resolveStyle=function(e,t){var n=v.styleTypes[t],r=n?n(e):v.defaultStyleProcessor(e,t);return null==r||"string"==typeof r&&""===r.replace(/^\s+/g,"")?null:r},v.prototype._hasUncachedProperty=function(e,t){var n=this._styleCache[e];if(!n)return!0;for(var r=0;r<t.length;r++){var i=t[r].property;if(i)if(void 0===n[i])return!0}return!1},v.populateOptions=function(e,t){for(var n,r=Object.keys(t),i=0;i<r.length;i++){var s=t[r[i]];s instanceof Array||(s=[s]);for(var o=0;o<s.length;o++){var a=(n=s[o]).path,l="TEXT"===n.property||"BACKGROUND"===n.property;if(l||a.indexOf("/")>-1)l||(a=a.substring(0,a.lastIndexOf("/"))),new m(e,a).setValue({})}}};const y=function(e,t){this._component=e,this._configMap=t,this._init()};e.Object.createSubclass(y,e.Object,"DataProviderHandler"),y.prototype._init=function(){this._dataProviderEventListeners={},this._keyDataMap={},this._fetchedData={},this._eventListeners=[]},y.prototype._fetchCollection=function(e,t,n,r,i,s){var o=this,a={data:[],keys:[]};if(s<=-1)return Promise.resolve(a);this._clientId=this._clientId||Symbol();var l={clientId:this._clientId,size:-1},h=e.fetchFirst(l)[Symbol.asyncIterator](),c=this.isTreeDataProvider(e),d=function(e){for(var s=[],l=0;l<e.value.data.length;l++){var u=t({data:e.value.data[l],key:e.value.metadata[l].key},i);s.push(u)}return Promise.all(s).then(function(e){for(var t=0;t<e.length;t++){var s=e[t].data,l=e[t].key;a.data.push(s),a.keys.push(l),o._keyDataMap[n].set(c?l.value:l,{data:s,key:l,parentKey:r,depth:i})}}).then(function(){return e.done?Promise.resolve(a):h.next().then(d)})};return h.next().then(d)},y.prototype._getDPPostProcessor=function(e,t,n,r){var i=this,s=this.isTreeDataProvider(e);r=null==r?Number.MAX_VALUE:r;var o=function(s,a){var l={value:s.data},h={value:s.key};if(a<r&&n&&n.has(h.value)){var c=e.getChildDataProvider(h.value);if(c)return i._fetchCollection(c,o,t,h.value,a+1).then(function(e){return l.children=e.data,h.children=e.keys,{data:l,key:h}})}return Promise.resolve({data:l,key:h})};return s?o:function(e){return Promise.resolve(e)}},y.prototype.fetchAllData=function(e,t,n){if(n&&this._fetchedData[t])return Promise.resolve(this._fetchedData[t]);var r=this._configMap[t];return this.clear(t,!0),this._fetchCollection(e,this._getDPPostProcessor(e,t,r.expandedKeySet,r.maxFetchDepth),t,null,0,r.maxFetchDepth).then(function(r){return n&&(this._fetchedData[t]=r,this._addDPEventListeners(e,t)),r}.bind(this))},y.prototype._getDataProviderEventHandler=function(e){var t=this,n=function(e,t,n){if(!t)return[];var r=new l(t),i=new Map,s=function(e){for(var t=0;t<e.length;t++){var o=n?e[t].value:e[t],a=r.get(o);a!==r.NOT_A_KEY&&i.set(a,t),n&&e[t].children&&s(e[t].children)}};s(e.keys);var o=[];return t.forEach(function(e){o.push(i.get(e))}),o},r=function(n){var r=t._component._GetThrottlePromise();Promise.all([n,r]).then(function(n){t._fireEvent("clearState",{dataProperty:e}),t._fetchedData[e]=n[0],t._fireEvent("dataUpdated",{data:n[0]})})};return function(i){t._fireEvent("notReady",{event:i});var s=this,o=t.isTreeDataProvider(s),a=t._keyDataMap[e];if("refresh"===i.type)r(t.fetchAllData(s,e));else if("mutate"===i.type){var h=i.detail.update,c=i.detail.remove,d=i.detail.add,u=t._fetchedData[e];if(c){var p=c.keys;if(d){var _=new l(d.keys);p=new Set([...p].filter(e=>!_.has(e)))}t._fireEvent("removeKeys",{keys:p})}var f,m=function(n,r,i,l){var h=0,c=[],d=1===i&&!l;return r.keys.forEach(function(n){var i,u=l?null:r.data[h];if(o)if(d){var p=a.get(n);p&&(p.data.value=u,i=Promise.resolve({data:p.data,key:a.get(n).key}))}else{var _={value:u},f={value:n},m=s.getChildDataProvider(n);if(m&&!l)i=t.fetchAllData(m,e).then(function(e){return _.children=e.data,f.children=e.keys,{data:_,key:f}});else i=Promise.resolve({data:_,key:f});if(!l){var v=r.parentKeys?r.parentKeys[h]:null;a.set(f.value,{data:_,key:f,parentKey:v})}}else i=Promise.resolve({data:u,key:n}),a.set(n,{data:u,key:n});c.push(i),h+=1}),Promise.all(c).then(function(e){for(var t=0;t<e.length;t++){var r,s,h,c=o?e[t].key.value:e[t].key,p=a.get(c).parentKey;if(p){var _=a.get(p);_.data.children||d||(_.data.children=[],_.key.children=[]),r=_.data.children,s=_.key.children}else r=u.data,s=u.keys;if(l)h=n[t]-t,r.splice(h,i),s.splice(h,i);else{if(d)h=n[t];else h=0===n.length||null==n[t]?r.length:n[t];r.splice(h,i,e[t].data),s.splice(h,i,e[t].key)}}return u})},v=function(e){return s.fetchByKeys({keys:e}).then(function(t){var n=[];return t.results.size>0&&e.forEach(function(e){n.push(t.results.get(e).data)}),n})},y=Promise.resolve();h&&(f=h.indexes||n(u,h.keys,o),y=Array.isArray(h.data)?m(f,h,1):v(h.keys).then(function(e){var t=Object.create(h,{data:{value:e}});return m(f,t,1)})),y.then(function(){return c?(f=c.indexes||n(u,c.keys,o),m(f,c,1,!0)):Promise.resolve()}).then(function(){return d?(f=d.indexes||n(u,d.addBeforeKeys?d.addBeforeKeys:d.afterKeys,o),Array.isArray(d.data)?m(f,d,0):v(d.keys).then(function(e){var t=Object.create(d,{data:{value:e}});return m(f,t,0)})):Promise.resolve()}).then(function(){r(Promise.resolve(u))})}}},y.prototype._addDPEventListeners=function(e,t){if(!this._dataProviderEventListeners[t]){var n=this._getDataProviderEventHandler(t);e.addEventListener("mutate",n),e.addEventListener("refresh",n),this._dataProviderEventListeners[t]={dataProvider:e,listener:n}}},y.prototype.release=function(e){var t=function(e){var t=this._dataProviderEventListeners[e];if(t){var n=t.dataProvider,r=t.listener;n.removeEventListener("mutate",r),n.removeEventListener("refresh",r),this._dataProviderEventListeners[e]=null}}.bind(this);if(e)t(e),this.clear(e);else{for(var n=Object.keys(this._dataProviderEventListeners),r=0;r<n.length;r++)t(n[r]);this.clear()}},y.prototype.fetchChildrenData=function(e,t,n,r){var i=function(t,n,r){this._keyDataMap[e].get(t).data.children=n,this._keyDataMap[e].get(t).key.children=r}.bind(this),s=t.getChildDataProvider(n);if(s){var o=this._configMap[e].maxFetchDepth,a=this._keyDataMap[e].get(n).depth,l=this._getDPPostProcessor(t,e,r,o);return this._fetchCollection(s,l,e,n,a,o).then(function(e){return i(n,e.data,e.keys),e})}return Promise.resolve({data:[],keys:[]})},y.prototype.clear=function(e,t){e&&t?(this._keyDataMap[e]=this._keyDataMap[e]||new i,this._fireEvent("reset",{dataProperty:e})):e?this._fetchedData[e]=null:(this._fetchedData={},this._keyDataMap={})},y.prototype.isDataProvider=function(t){return e.DataProviderFeatureChecker.isDataProvider(t)},y.prototype.isTreeDataProvider=function(t){return e.DataProviderFeatureChecker.isTreeDataProvider(t)},y.prototype.addEventListener=function(e){this._eventListeners.push(e)},y.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})};const g=function(e,t,n){this._component=e,this._configMap=t,this._useObjectAssign=n,this._init()};e.Object.createSubclass(g,e.Object,"TemplateHandler"),g.prototype._init=function(){this._templateEnginePromise=null,this._templates=this.getTemplates(),this._templateResults={},this._templateNodeData={},this._componentResults={},this._eventListeners=[],this._queueNextEvent=!0,this._eventUpdates=[],this._templatePropertyMap={},this._propertyValidatorMap={}},g.prototype.getTemplateEngine=function(){return this._templateEnginePromise||(this._templateEnginePromise=new Promise(function(e){r.__getTemplateEngine().then(function(t){e(t)},function(e){throw new Error("Error loading template engine: "+e)})})),this._templateEnginePromise},g.prototype.getDataSet=function(e){var t=this.getTemplate(e);return t&&t.dataset},g.prototype.getTemplate=function(e){return this._templates[e]&&this._templates[e][0]},g.prototype.getDataSetBoolean=function(e,t){var n=this.getDataSet(e),r=p.AttributeUtils.attributeToPropertyName(t),i=n&&n[r];return null!=i&&p.AttributeUtils.coerceBooleanValue(this.getTemplate(e),t,i,"Boolean")},g.prototype.getTemplates=function(){return p.CustomElementUtils.getSlotMap(this._component.element[0])},g.prototype._getPropertyValidator=function(t,n){if(!t)return null;var r=this._propertyValidatorMap[n];if(r)return r;var i=e.CustomElementBridge.getMetadata(n),s=t.content?t.content.children[0]:t.childNodes[1],o={};return r=function(n,r){var a=n.join("."),l=o[a];if(!l){l=i;for(var h=0;h<n.length;h++)l=l.properties[n[h]];o[a]=l}try{_.checkEnumValues(s,a,r,l)}catch(e){throw new p.JetElementError(t,e.message)}null!=r&&e.BaseCustomElementBridge.checkType(s,a,r,l)},this._propertyValidatorMap[n]=r,r},g.prototype._processAliasedPropertyNames=function(e,t,n){var r=this._configMap[e].getAliasedPropertyNames;if(r)for(var i=r(t),s=Object.keys(i),o=0;o<s.length;o++){var a=s[o];n[i[a]]=n[a],n[a]=void 0}return n},g.prototype._getTemplateElementProperties=function(e){var t=this._templatePropertyMap[e];return t||(t=this._component.getElementPropertyNames(e),this._templatePropertyMap[e]=t),t},g.prototype.processNodeTemplate=function(t,n,r,s,o,a,l){var h=r.getAttribute("slot"),c=this._component.options.as,d=this._component.element[0],u=this._getTemplateElementProperties(s),p=this._getPropertyValidator(r,s),_=l?t:h,f=function(n){return function(r){var i=this._processAliasedPropertyNames(t,s,r),o=this._templateNodeData[_];e.CollectionUtils.copyInto(o.get(n).data,i),this._eventUpdates.push({key:a,data:i}),this._queueNextEvent&&(this._fireEvent("notReady"),this._component._GetThrottlePromise().then(function(){this._fireEvent("dataUpdated",{dataProperty:t,templateName:h,data:this._eventUpdates.slice(0)}),this._queueNextEvent=!0,this._eventUpdates=[]}.bind(this))),this._queueNextEvent=!1}.bind(this)}.bind(this),m=n.resolveProperties(d,r,s,u,o,c,p);m.subscribe(f(a));var v={data:this._processAliasedPropertyNames(t,s,m.peek()),node:m,context:o};return this._templateNodeData[_]||(this._templateNodeData[_]=new i),this._templateNodeData[_].set(a,v),v.data},g.prototype.processTemplates=function(e,t,n,r,i,s,o){if(s&&this._templateResults[e])return this._templateResults[e];var a,l,h=this._configMap[e],c=this;if(h){a=[],l=[];var u="string"==typeof h.templateName?function(){return h.templateName}:h.templateName,p="string"==typeof h.templateElementName?function(){return h.templateElementName}:h.templateElementName,_=h.resultPath,f=this._component.element[0],m=h.processChildrenData,v=h.processOptionData||function(e){return e},y=c._templateNodeData[e];if(u&&p&&_){var g,C=function(t,r,i,s,o){var a;try{s?a=c.processNodeTemplate(e,n,s,o,i,r,!0):(c._useObjectAssign?(a=Object.assign({},t),Object.defineProperties(a,{_noTemplate:{value:!0,enumerable:!1},_dvtNoClone:{value:!0,enumerable:!1}})):((a=Object.create(t))._noTemplate=!0,a._dvtNoClone=!0),y.set(r,{data:a,context:i})),a.id=r,a._itemData=t}catch(e){d.error(e)}return a},D=function(e,t,n){for(var i=e.data,s=e.keys,o=[],a=0;a<i.length;a++){var l=r?i[a].value:i[a],h=r?s[a].value:s[a],d={data:l,key:h,index:a,componentElement:f};r&&(d.parentData=t,d.parentKey=n);var v=u(i[a]),y=p(i[a]),g=c.getTemplate(v),P=C(l,h,d,g,y);if(r&&i[a].children){var b=t.slice(0);b.push(l);var E={data:i[a].children,keys:s[a].children},T=D(E,b,h);m?m(P,i[a],T):P[_]=T}o.push(P)}return o};a.push(_),i&&y.has(i)&&(g=y.get(i).context.parentData.concat(y.get(i).context.data));var P=D(t,g||[],i);l.push(v(P))}o&&(y.get(i).data[_]=l[0])}var b={paths:a,values:l};return s&&(this._templateResults[e]=b),b},g.prototype.release=function(e){var t;if(e){var n=this._configMap[e].derivedTemplates;t=n?[e].concat(n):[e]}else t=Object.keys(this._templateNodeData);for(var r=0;r<t.length;r++){var s=this._templateNodeData[t[r]];s&&(s.forEach(function(e){e.node&&e.node.dispose()}),this._templateNodeData[t[r]]=new i)}this.clear(e)},g.prototype.clear=function(e,t){if(e)for(var n,r=this._configMap[e].derivedTemplates,s=r?[e].concat(r):[e],o=0;o<s.length;o++)n=s[o],t?this._templateNodeData[n]=this._templateNodeData[n]||new i:(this._templateResults[n]=null,this._componentResults[n]=null);else this._templateResults={},this._componentResults={},this._templateNodeData={}},g.prototype.getComponentResults=function(e){return this._componentResults[e]},g.prototype.setComponentResults=function(e,t){this._componentResults[e]=t},g.prototype.addEventListener=function(e){this._eventListeners.push(e)},g.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})},e.__registerWidget("oj.dvtBaseComponent",a.oj.baseComponent,{options:{trackResize:"on"},_ComponentCreate:function(){this._super(),this._renderCount=0,this._numDeferredObjs=0,this._optionsCopy=null,this._dataValuePromise={},this._templateMap={},this._TemplateHandler=new g(this,this._GetSimpleDataProviderConfigs(),this._UseObjectAssignForShapedData()),this._DataProviderHandler=new y(this,this._GetSimpleDataProviderConfigs()),this._DataProviderHandler.addEventListener(this._GetDPEventHandler()),this._TemplateHandler.addEventListener(this._GetDPEventHandler());for(var n=this._GetComponentStyleClasses(),r=0;r<n.length;r++)this.element.addClass(n[r]);this._referenceDiv=a(document.createElement("div")),this._referenceDiv.css("visibility","hidden"),this.element.append(this._referenceDiv),t.Agent.setAgentInfo(e.AgentUtils.getAgentInfo());var h=this.element[0].parentElement;h&&h._dvtcontext?this._context=h._dvtcontext:this._context=new t.Context(this.element[0],null,this._referenceDiv[0]);var c=Object.keys(this._GetSimpleDataProviderConfigs()),d={oj:e,KeySetImpl:l,ojMap:i,LocaleData:s,dataProviderProps:c};if(this._context.setJetProperties(d),this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(o.subtreeAttached),this._context.setOverlayAttachedCallback(o.subtreeAttached),this._context.setFixContextCallback(this._FixRendererContext.bind(this)),this._context.setCustomElement(this._IsCustomElement()),a(document.body).hasClass("oj-hicontrast")&&t.Agent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),t.Agent.isEnvironmentTest()){var u=this.element[0].getAttribute("data-oj-dvt-test-id");u&&u.length>0&&this._component.setId(u)}this._context.getStage().addChild(this._component),this._LoadResources(),this.options._widgetConstructor=o.__GetWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),"off"!==this.options.trackResize&&this._addResizeListener(),this._ProcessOptions(),this._Render()},_SetLocaleHelpers:function(e,n){if(!1!==t.requireJS){var r={createNumberConverter:function(t){return new e.IntlNumberConverter(t)},isoToDateConverter:function(e){if("string"==typeof e){var t=n.IntlConverterUtils.isoToDate(e),r=t.toJSON()?n.IntlConverterUtils.dateToLocalIso(t):e;return n.IntlConverterUtils.isoToLocalDate(r)}return e},dateToIsoWithTimeZoneConverter:function(e){if(e instanceof Date){var t=-1*e.getTimezoneOffset(),r=t>=0?"+":"-",i=Math.floor(Math.abs(t)/60),s=Math.abs(t)%60,o=r+(2!==i.toString().length?"0"+i:i)+":"+(2!==s.toString().length?s+"0":s);return n.IntlConverterUtils.dateToLocalIso(e)+o}return e}};this._context.setLocaleHelpers(r)}},refresh:function(){this._super(),this._styleProcessor=null,this._context.setReadingDirection(this._GetReadingDirection()),this._Render()},getNodeBySubId:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=this._ConvertLocatorToSubId(e);return t.getDomElementForSubId(n)}return null},getSubIdByNode:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=t.getSubIdForDomElement(e);return n?this._ConvertSubIdToLocator(n):null}return null},_ConvertLocatorToSubId:function(e){return null},_ConvertSubIdToLocator:function(e){return null},_ProcessStyles:function(e){this._styleProcessor=this._styleProcessor?this._styleProcessor:new v(this._component.getCtx()),this._styleProcessor.processStyles(this.element,e,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){var e={"oj-dvt-no-data-message":{path:"_statusMessageStyle",property:"TEXT"}};return e},_GetEventTypes:function(){return[]},_VerifyConnectedForSetup:function(){return!0},_ReleaseResources:function(){this._super(),this._renderNeeded=!0,this._context.hideTooltips(),this._context.releaseTooltipResources(),this._removeResizeListener(),this._CleanAllTemplates(),this._MakeReady(),this._DataProviderHandler.release(),this._TemplateHandler.release(),this._dataValuePromise={}},_destroy:function(){var e=this.element[0].parentElement;e&&e._dvtcontext&&(e._dvtcontext=null),this._component.destroy&&this._component.destroy(),this._component=null,this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex").removeAttr("aria-activedescendant");for(var t=this._GetComponentStyleClasses(),n=0;n<t.length;n++)this.element.removeClass(t[n]);this._super(),this._context.destroy(),this._context=null},_setOptions:function(e,t){this._superApply(arguments),this._OptionChangeHandler(e);var n=this.options.trackResize;if("off"===n&&this._resizeListener?this._removeResizeListener():"off"===n||this._resizeListener||this._addResizeListener(),this._ProcessOptions(),!this._bUserDrivenChange){var r=!1,i=this._GetEventTypes(),s=["highlightedCategories","selection","dataCursorPosition","scrollPosition"];a.each(e,function(e){if(i.indexOf(e)<0&&s.indexOf(e)<0)return r=!0,!1}),r?this._Render():(void 0!==e.highlightedCategories&&this._component.highlight(e.highlightedCategories),void 0!==e.selection&&this._component.select(e.selection),void 0!==e.dataCursorPosition&&this._component.positionDataCursor&&this._component.positionDataCursor(e.dataCursorPosition),void 0!==e.scrollPosition&&this._component.scroll(e.scrollPosition))}},_CreateDvtComponent:function(e,t,n){return null},_HandleEvent:function(e){var t=e.type;"selection"===t?this._UserOptionChange("selection",e.selection):"categoryHide"===t||"categoryShow"===t?this._UserOptionChange("hiddenCategories",e.hiddenCategories):"categoryHighlight"===t?this._UserOptionChange("highlightedCategories",e.categories):"optionChange"===t?this._UserOptionChange(e.key,e.value,e.optionMetadata):"touchHoldRelease"===t&&this._GetContextMenu()?this._OpenContextMenu(a.Event(e.nativeEvent),"touch"):"dvtRender"===t?this._Render():"ready"===t&&0===this._numDeferredObjs&&this._MakeReady()},_addResizeListener:function(){this._resizeListener||(this._resizeListener=this._handleResize.bind(this),h.addResizeListener(this.element[0],this._resizeListener,250))},_removeResizeListener:function(){this._resizeListener&&(h.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null)},_handleResize:function(e,t){var n=this.element.width(),r=this.element.height();(null==this._width||null==this._height||Math.abs(n-this._width)+Math.abs(r-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(e){this._context.hideTooltips(),this._NotReady(),!this._context.isReadyToRender()||this._renderNeeded&&e?(this._renderNeeded=!0,this._MakeReady()):(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this._context.setDefaultFontFamily(this._referenceDiv.css("font-family")),this._context.setDefaultFontSize(this._referenceDiv.css("font-size")),this.options._width=this._width,this.options._height=this._height,this.options._locale=t.Agent.isEnvironmentTest()&&this.options._locale?this.options._locale:r.getLocale(),this._IsDraggable()&&this.element.attr("draggable",!0),v.populateOptions(this.options,this._GetChildStyleClasses()),e?0===this._numDeferredObjs&&(this._renderCount+=1,this._RenderComponent(this._optionsCopy,e)):(this._renderCount+=1,this._resolveDeferredDataItems()&&this._RenderComponent(this._optionsCopy)),this._renderNeeded=!1)},_IsDraggable:function(){return!!this.options.dnd},_NotifyShown:function(){this._super(),this._notifyShownAttached()},_NotifyAttached:function(){this._super(),this._notifyShownAttached()},_NotifyDetached:function(){this._super(),this._notifyHiddenDetached()},_NotifyHidden:function(){this._super(),this._notifyHiddenDetached()},_notifyShownAttached:function(){this._renderNeeded&&this._Render()},_notifyHiddenDetached:function(){this._context.hideTooltips(),this._MakeReady()},_UserOptionChange:function(e,t,n){this._bUserDrivenChange=!0,this.option(e,t,{_context:{writeback:!0,optionMetadata:n,internalSet:!0,skipEvent:"_"===e.charAt(0)}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(e,t,n){if("touch"!==n)if("keyboard"===n){var r=this.element[0].getBoundingClientRect(),i=this._component.getKeyboardFocus()?this._component.getKeyboardFocus().getBoundingClientRect():null,s=i?"left+"+(i.left+.5*i.width-r.left)+" top+"+(i.top+.5*i.height-r.top):"center";this._OpenContextMenu(t,n,{position:{at:s}})}else this._super(e,t,n)},_GetDvtComponent:function(e){var t=o.__GetWidgetConstructor(e)("instance");return t?t._component:null},_GetStringFromIndexPath:function(e){for(var t="",n=0;n<e.length;n++)t+="["+e[n]+"]";return t},_GetIndexPath:function(e){for(var t=[],n=0;e.indexOf("[",n)>0;){var r=e.indexOf("[",n)+1,i=e.indexOf("]",n);t.push(Number(e.substring(r,i))),n=i+1}return t},_GetFirstIndex:function(e){return Number(this._GetFirstBracketedString(e))},_GetFirstBracketedString:function(e){var t=e.indexOf("[")+1,n=e.indexOf("]");return e.substring(t,n)},_GetComponentDeferredDataPaths:function(){return{}},_GetComponentNoClonePaths:function(){if(!this._noClonePaths){this._noClonePaths={};var e=this,t=this._GetComponentDeferredDataPaths().root;t&&t.forEach(function(t){e._noClonePaths[t]=!0})}return this._noClonePaths},_resolveDocumentFonts:function(){var e=document.fonts;if(e&&"loading"===e.status){this._numDeferredObjs+=1;var t=this._renderCount;e.ready.then(function(){this._renderDeferredData(t,null,[])}.bind(this))}},_resolveDeferredDataItems:function(){this._optionsCopy=t.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this._ProcessStyles(this._optionsCopy),this._numDeferredObjs=0,this._FixCustomRenderers(this._optionsCopy),this._resolveDocumentFonts();for(var e=this,n=this._GetComponentDeferredDataPaths(),r=Object.keys(n),i=0;i<r.length;i++){var s=r[i];n[s].forEach(function(t){if("root"===s)e._resolveDeferredDataItem.bind(e)(e.options,e._optionsCopy,t);else{var n=e.options[s];if(n&&n instanceof Array)for(var r=0;r<n.length;r++)e._resolveDeferredDataItem.bind(e)(n[r],e._optionsCopy[s][r],t)}})}return 0===this._numDeferredObjs},_resolveDeferredDataItem:function(e,t,n){var r=new m(e,n),i=r.getValue(),s=this;if(i instanceof Function?i=Promise.resolve(i(this._GetDataContext(e))):this._IsCustomElement()&&Array.isArray(i)&&(i=Promise.resolve(i),r.setValue(i,!0)),i&&this._DataProviderHandler.isDataProvider(i)){var o=this._DataProviderHandler.isTreeDataProvider(i);i=s._dataValuePromise[n]||new Promise(function(e){var t=s._TemplateHandler.getTemplateEngine(),r=s._DataProviderHandler.fetchAllData(i,n,!0);Promise.all([t,r]).then(function(t){if(i===s._dataValuePromise[n]){var r=t[0],a=t[1],l=s._ProcessTemplates(n,a,r,o,null,!0);s._dataValuePromise[n]=null,e(l)}},function(){s._dataValuePromise[n]=null})}),s._dataValuePromise[n]=i}if(i instanceof Promise){var a=this._renderCount;i.then(function(e){var r=[n],i=[e];e.paths&&(r=e.paths,i=e.values),s._renderDeferredData(a,t,r,i)},function(){s._renderDeferredData(a,t,[n],[[]])}),this._numDeferredObjs+=1}},_renderDeferredData:function(e,t,n,r){if(this._context&&e===this._renderCount){this._numDeferredObjs-=1;for(var i=0;i<n.length;i++)new m(t,n[i]).setValue(r[i],!0);0===this._numDeferredObjs&&(this._RenderComponent(this._optionsCopy),this._optionsCopy=null)}},_ClearDataProviderState:function(e){this._DataProviderHandler.clear(e),this._TemplateHandler.release(e),this._dataValuePromise[e]=null},_OptionChangeHandler:function(e){for(var t=Object.keys(this._GetSimpleDataProviderConfigs()),n=0;n<t.length;n++){var r=t[n];Object.prototype.hasOwnProperty.call(e,r)&&this._ClearDataProviderState(r)}},getElementPropertyNames:function(t){var n=e.CustomElementBridge.getMetadata(t).properties,r=Object.keys(n).filter(function(e){return!n[e]._eventListener}),i=new Set;return r.forEach(function(e){i.add(e)}),i},_ProcessTemplates:function(e,t,n,r,i,s,o){return this._TemplateHandler.processTemplates(e,t,n,r,i,s,o)},_GetSimpleDataProviderConfigs:function(){return{}},_UseObjectAssignForShapedData:function(){return!1},_GetDPEventHandler:function(){return function(e){"notReady"===e.type?this._NotReady():"dataUpdated"===e.type?this._Render():"clearState"===e.type?this._ClearDataProviderState(e.detail.dataProperty):"reset"===e.type?this._TemplateHandler.clear(e.detail.dataProperty,!0):"removeKeys"===e.type&&this._RemoveKeys(e.detail.keys)}.bind(this)},_RemoveKeys:function(e){var t,n,r=this.options.selection,i=new l(e);if(r&&r.length>0){for(var s=(n=r.slice(0)).length-1;s>=0;s--)i.has(n[s])&&(t=!0,n.splice(s,1));t&&this._UserOptionChange("selection",n)}},_getFetchDataHandler:function(e){var t=this._GetSimpleDataProviderConfigs()[e].resultPath;return function(n,r,i,s){var o=this._DataProviderHandler.fetchChildrenData(e,n,s,r),a=this._TemplateHandler.getTemplateEngine();return Promise.all([o,a]).then(function(n){var r=this._ProcessTemplates(e,{data:n[0].data,keys:n[0].keys},n[1],!0,s,!1,!0).values[0];i&&(i[t]=r)}.bind(this))}.bind(this)},_RenderComponent:function(e,t){if(this._context.isReadyToRender()){this._CleanAllTemplates();var n=this._IsFlowingLayoutSupported()&&this._resizeListener;n&&this._removeResizeListener(),this._component.render(t?null:e,this._width,this._height),n&&this._addResizeListener(),this.element.attr("role")?this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex",0):this.element.attr("tabindex",null)}else this._renderNeeded=!0,this._MakeReady()},_GetDataContext:function(e){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var e=this;this._promise=new Promise(function(t){e._promiseResolve=t})}return this._promise},_NotReady:function(){if(this._ready=!1,0===this._numDeferredObjs&&!this._readyResolveFunc){var e=n.getContext(this.element[0]).getBusyContext(),t={description:"The component identified by '"+this.element.attr("id")+"' is being loaded."};this._readyResolveFunc=e.addBusyState(t)}},_MakeReady:function(){this._promiseResolve&&(this._promiseResolve(!0),this._promiseResolve=null),this._ready=!0,this._promise=null,this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_ProcessOptions:function(){t.Agent.isEnvironmentTest()&&(this.options=Object.assign(this.options,this.element[0].__dvtToolkit));var e=this.options.tooltip;e&&e._renderer&&(this.options.tooltip={renderer:this._GetTemplateRenderer(e._renderer,"tooltip")})},_WrapCustomElementRenderer:function(e){var t=this;return e?function(n){n._dvtcontext=t._context;var r=e(n);if(n._templateName&&n._templateCleanup&&t._AddTemplate(n._templateName,n._templateCleanup),r&&!0!==r.preventDefault&&r.insert){var i=r.insert;return i.classList&&i.classList.contains("oj-dvtbase")?t._GetDvtComponent(i):i}return null}:null},_FixCustomRenderers:function(e){if(this._IsCustomElement())for(var t=this._GetComponentRendererOptions(),n=0;n<t.length;n++){var r=t[n].path,i=t[n].slot,s=this._TemplateHandler.getTemplates();if(i&&s[i]&&s[i][0])this._ProcessInlineTemplateRenderer(e,r,s[i][0],i);else{var o=new m(e,r),a=o.getValue();a&&o.setValue(this._WrapCustomElementRenderer(a),!0)}}},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"}]},_GetTemplateRenderer:function(e,t){var n=this;return function(r){var i=document.createElement("div");i.style.display="none",e({parentElement:i,context:r});var s=i.children[0];return s?(n._AddTemplate(t,function(){a(i).remove()}),i.removeChild(s),a(i).remove(),s):null}},_GetTemplateDataRenderer:function(e,t){var n=this;return function(r){var i=document.createElement("div");i.style.display="none",i._dvtcontext=n._context,n.element.append(i),e({parentElement:i,data:r.data});var s=i.children[0];return s?(n._AddTemplate(t,function(){a(i).remove()}),"http://www.w3.org/2000/svg"===s.namespaceURI?(i.removeChild(s),a(i).remove(),s):n._GetDvtComponent(s)):null}},_WrapInlineTemplateRenderer:function(e,t,n){return e},_ProcessInlineTemplateRenderer:function(e,t,n,r){var i=this._renderCount;this._numDeferredObjs+=1,this._TemplateHandler.getTemplateEngine().then(function(s){var o=function(e){var t=s.execute(this.element[0],n,e);return t&&t.length>0?(Object.defineProperty(e,"_templateCleanup",{value:function(){t.forEach(function(e){s.clean(e)})},enumerable:!1}),Object.defineProperty(e,"_templateName",{value:r,enumerable:!1}),{insert:t}):{preventDefault:!0}}.bind(this);o=this._WrapInlineTemplateRenderer(o,r,t),this._renderDeferredData(i,e,[t],[this._WrapCustomElementRenderer(o)])}.bind(this))},_CleanAllTemplates:function(){for(var e=Object.keys(this._templateMap),t=0;t<e.length;t++){var n=e[t];this._CleanTemplate(n)}this._templateMap={}},_CleanTemplate:function(e){if(this._templateMap[e]){for(var t=this._templateMap[e].length,n=0;n<t;n++)this._templateMap[e][n]();this._templateMap[e]=[]}},_AddTemplate:function(e,t){this._templateMap[e]||(this._templateMap[e]=[]),this._templateMap[e].push(t)},_CompareOptionValues:function(t,n,r){switch(t){case"hiddenCategories":case"highlightedCategories":case"selection":return e.Object.compareValues(n,r);default:return this._super(t,n,r)}}},!0),e._registerLegacyNamespaceProp("AttributeGroupHandler",c.AttributeGroupHandler),e._registerLegacyNamespaceProp("ColorAttributeGroupHandler",c.ColorAttributeGroupHandler),e._registerLegacyNamespaceProp("ShapeAttributeGroupHandler",c.ShapeAttributeGroupHandler);const C={_SHAPE_REGEXP:/\d/,_SHAPE_ENUMS:{circle:!0,ellipse:!0,square:!0,rectangle:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,star:!0},shapeParseFunction:function(e,t){var n=t||C._SHAPE_ENUMS;return function(t,r,i,s){if(e[r]){if(C._SHAPE_REGEXP.test(t))return t;if(n[t])return t;throw new Error("Found: '"+t+"'. Expected one of the following: "+Object.keys(n).toString())}return s(t)}}};return C});
//# sourceMappingURL=ojdvt-base.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojlegend-toolkit',["exports","ojs/ojdvt-toolkit"],function(e,t){"use strict";const i=function(e,t){var i=null,n=null!=t.getOptions().data;return e.categories&&e.categories.length>0?i=e.categories[0]:n||(i=e.id?e.id:e.text),i},n=function(e,t){var i=t.getOptions().hiddenCategories;return!(!i||i.length<=0)&&-1!==i.indexOf(e)},o=function(e,t){var i=t.getOptions();return"off"==e.expanded||0==e.expanded||i.expanded&&0==i.expanded.has(e.id)};var s=function(e,t,i,n,o,s){this.Init(e,t,i,n,o,s)};t.Obj.createSubclass(s,t.Obj),s.prototype.Init=function(e,n,o,s,r,a){if(this._legend=e,this._displayables=n,this._item=o,this._category=i(this._item,this._legend),this._id=this._category?this._category:o.title,this._drillable=a,this._tooltip=s,this._datatip=r,this._isShowingKeyboardFocusEffect=!1,this._hoverBorderRadius=parseInt(e.getOptions()._hoverBorderRadius),this._drillable)for(var l=0;l<this._displayables.length;l++)this._displayables[l].setCursor(t.SelectionEffectUtils.getSelectingCursor())},s.associate=function(e,t,i,n,o,r){if(!e||!i)return null;var a=new s(t,e,i,n,o,r);t.__registerObject(a);for(var l=0;l<e.length;l++)t.getEventManager().associate(e[l],a);return a},s.prototype.getData=function(){return this._item},s.prototype.getColor=function(){return this._item.color},s.prototype.getId=function(){return this._id},s.prototype.getDisplayables=function(){return this._displayables},s.prototype.getCategories=function(e){return null!=this._category?[this._category]:null},s.prototype.isDrillable=function(){return this._drillable},s.prototype.getAriaLabel=function(){var e=[],i=this._legend.getOptions().translations,s=this._legend.getOptions().hideAndShowBehavior,r=n(this._category,this._legend),a=this.getData();return this._displayables[0]instanceof t.IconButton?(e.push(i[o(a,this._legend)?"stateCollapsed":"stateExpanded"]),t.Displayable.generateAriaLabel(a.title,e)):("off"!=s&&"none"!=s&&e.push(i[r?"stateHidden":"stateVisible"]),this.isDrillable()&&e.push(i.stateDrillable),null!=a.shortDesc?t.Displayable.generateAriaLabel(a.shortDesc,e):e.length>0?t.Displayable.generateAriaLabel(a.text,e):null)},s.prototype.updateAriaLabel=function(){!t.Agent.deferAriaCreation()&&this._displayables[0]&&this._displayables[0].setAriaProperty("label",this.getAriaLabel())},s.prototype.getNextNavigable=function(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._legend.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!0,this._legend)},s.prototype.getKeyboardBoundingBox=function(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)},s.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},s.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this._displayables[0]&&(this._displayables[0]instanceof t.IconButton?this._displayables[0].showKeyboardFocusEffect():this._displayables[0].setSolidStroke(t.Agent.getFocusColor()))},s.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._displayables[0]&&(this._displayables[0]instanceof t.IconButton?this._displayables[0].hideKeyboardFocusEffect():this._displayables[0].setStroke(null))},s.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},s.prototype.getTooltip=function(e){return this._tooltip},s.prototype.getDatatip=function(e){return this._datatip},s.prototype.getDatatipColor=function(e){return this._item.color},s.prototype.isDragAvailable=function(e){return!0},s.prototype.getDragTransferable=function(e,t){return[this.getId()]},s.prototype.getDragFeedback=function(e,t){return this.getDisplayables()},s.prototype.showHoverEffect=function(){this._displayables[0]&&(this._displayables[0]instanceof t.Rect&&this._displayables[0].setClassName("oj-legend-hover"),this._displayables[0].setRx(this._hoverBorderRadius))},s.prototype.hideHoverEffect=function(){this._displayables[0]&&this._displayables[0]instanceof t.Rect&&(this._displayables[0].setClassName(),this._displayables[0].setRx(0))};var r=function(e){this._legend=e,this._options=this._legend.getOptions()};t.Obj.createSubclass(r,t.Automation),r.prototype.GetSubIdForDomElement=function(e){var t=this._legend.getEventManager().GetLogicalObject(e);if(t&&t instanceof s){var i=t.getData(),n=this._getIndicesFromItem(i,this._options);if(n)return"section"+n}return null},r.prototype._getIndicesFromItem=function(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){if(t.sections[i]==e)return"["+i+"]";var n=this._getIndicesFromItem(e,t.sections[i]);if(n)return"["+i+"]"+n}return null}if(t.items&&t.items.length>0){for(var o=0;o<t.items.length;o++)if(t.items[o]==e)return":item["+o+"]";return null}},r.prototype.getIndicesFromSeries=function(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){var n=this.getIndicesFromSeries(e,t.sections[i]);if(n)return"["+i+"]"+n}return null}if(t.items&&t.items.length>0){for(var o=0;o<t.items.length;o++)if(t.items[o].text==e.name)return":item["+o+"]";return null}},r.prototype.getLegendItem=function(e,t){var i=t.indexOf("["),n=t.indexOf("]");if(i>=0&&n>=0){var o=t.substring(i+1,n),s=t.indexOf(":"),r=(t=t.substring(n+1)).indexOf("["),a=t.indexOf("]");return r>=0&&a>=0?this.getLegendItem(e.sections[o],t):0==s?e.items[o]:e.sections[o]}},r.prototype.getDomElementForSubId=function(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._legend);for(var i=this.getLegendItem(this._options,e),n=this._legend.__getObjects(),o=0;o<n.length;o++){if(i==n[o].getData())return n[o].getDisplayables()[0].getElem()}return null},r.prototype.getTitle=function(){return this._options.title},r.prototype.getItem=function(e){var t,i=e.shift(),n=this._options;if(!n.sections||0===n.sections.length)return null;for(;null!=i;)e.length>0?n=n.sections[i]:t=n.items[i],i=e.shift();return t?{text:t.text?t.text:null}:null},r.prototype.getSection=function(e){var t,i=e.shift(),n=this._options;if(!n.sections||0===n.sections.length)return null;for(;null!=i;)e.length>0?n=n.sections[i]:t=n.sections[i],i=e.shift();return{title:t.title?t.title:null,items:t.items?this._generateItemObjects(t.items):null,sections:t.sections?this._generateSectionObjects(t.sections):null}},r.prototype._generateItemObjects=function(e){for(var t=[],i=0;i<e.length;i++)t.push({text:e[i].text});return t},r.prototype._generateSectionObjects=function(e){for(var t=[],i=0;i<e.length;i++)t.push({title:e[i].title?e[i].title:null,items:e[i].items?this._generateItemObjects(e[i].items):null,sections:e[i].sections?this._generateSectionObjects(e[i].sections):null});return t};var a=function(e){this.Init({alta:a.SKIN_ALTA},e)};t.Obj.createSubclass(a,t.BaseComponentDefaults),a.SKIN_ALTA={skin:t.CSSStyle.SKIN_ALTA,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),_sectionTitleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),titleHalign:"start",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",dnd:{drag:{series:{}},drop:{legend:{}}},_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24},isLayout:!1},a.getGapSize=function(e,i){var n=Math.min(t.TextUtils.getTextStringHeight(e.getCtx(),e.getOptions().textStyle)/14,1);return Math.ceil(i*n)},a.prototype.getNoCloneObject=function(e){return{sections:{items:{_getDataContext:!0}}}};var l=function(e){this.Init(e.getCtx(),e.processEvent,e,e),this._legend=e};t.Obj.createSubclass(l,t.EventManager),l.prototype.OnClick=function(e){l.superclass.OnClick.call(this,e);var t=this.GetLogicalObject(e.target);if(t){var i=this.processHideShowEvent(t),n=this.handleClick(t,e);(i||n)&&e.stopPropagation()}},l.prototype.OnMouseOver=function(e){l.superclass.OnMouseOver.call(this,e);var t=this.GetLogicalObject(e.target);t&&this.UpdateActiveElement(t)},l.prototype.HandleTouchClickInternal=function(e){var t=this.GetLogicalObject(e.target);if(t){var i=e.touchEvent,n=this.processHideShowEvent(t),o=this.handleClick(t,e);(n||o)&&i&&i.preventDefault()}},l.prototype.processHideShowEvent=function(e){var i=this._legend.getOptions().hideAndShowBehavior;if("none"==i||"off"==i)return!1;var o=e.getCategories?e.getCategories():null;if(!o||o.length<=0)return!1;var s=e.getCategories()[0],r=this._legend.getOptions().hiddenCategories||[];r=r.slice();for(var a=e.getDisplayables(),l=0;l<a.length;l++){var h=a[l];h instanceof t.SimpleMarker?h.setHollow(e.getColor()):h instanceof t.Rect&&e.updateAriaLabel()}var g,c=o[0];return n(s,this._legend)?(r.splice(r.indexOf(s),1),g=t.EventFactory.newCategoryShowEvent(c,r)):(r.push(s),g=t.EventFactory.newCategoryHideEvent(c,r)),this._legend.getOptions().hiddenCategories=r,this.FireEvent(g,this._legend),!0},l.prototype.handleClick=function(e,i){if(e instanceof s&&e.isDrillable()){var n=e.getId();return this.FireEvent(t.EventFactory.newDrillEvent(n),this._legend),!0}var o=e instanceof t.SimpleObjPeer?e.getParams():null;return!(!o||!o.isCollapsible)&&(this.toggleSectionCollapse(i,o.id),!0)},l.prototype.ProcessRolloverEvent=function(e,i,n){var o=this._legend.getOptions();if(("none"!==o.hoverBehavior||"none"!==o.hideAndShowBehavior&&"off"!==o.hideAndShowBehavior)&&!(i.getDisplayables&&i.getDisplayables()[0]instanceof t.IconButton)){if("none"!==o.hoverBehavior){var s=i.getCategories?i.getCategories():[];o.highlightedCategories=n&&s?s.slice():null;var r=t.EventFactory.newCategoryHighlightEvent(o.highlightedCategories,n),a=t.CSSStyle.getTimeMilliseconds(o.hoverBehaviorDelay);this.RolloverHandler.processEvent(r,this._legend.__getObjects(),a,!0)}"none"!==o.hideAndShowBehavior&&"off"!==o.hideAndShowBehavior&&(n?i.showHoverEffect&&i.showHoverEffect():i.hideHoverEffect&&i.hideHoverEffect())}},l.prototype.onCollapseButtonClick=function(e,t){var i=t.getId();this.toggleSectionCollapse(e,i)},l.prototype.toggleSectionCollapse=function(e,i){for(var n=this._legend.getOptions(),o=n.expanded,s=this._legend.getOptions(),r=null,a=0;a<i.length;a++)s=s.sections[i[a]];if(o?o.has(s.id)?(n.expanded=o.delete([s.id]),r=!1):(n.expanded=o.add([s.id]),r=!0):s.expanded="off"==s.expanded?"on":"off",e.type==t.MouseEvent.CLICK){var l=this.GetLogicalObject(e.target);l.getNextNavigable&&this.setFocusObj(l.getNextNavigable(e))}var h=this._legend.getKeyboardFocus(),g=!!h&&h.isShowingKeyboardFocusEffect();if(this._legend.render(),h&&this._legend.setKeyboardFocus(h,g),this.hideTooltip(),null!=r){e=new t.EventFactory.newExpandCollapseEvent(r?"expand":"collapse",s.id,s,this._legend.getOptions()._widgetConstructor,n.expanded);this.FireEvent(e,this._legend)}},l.prototype.GetTouchResponse=function(){return this._legend.getOptions()._isScrollingLegend?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:t.EventManager.TOUCH_RESPONSE_TOUCH_START},l.prototype.isDndSupported=function(){return!0},l.prototype.GetDragSourceType=function(e){var t=this.DragSource.getDragObject();return t instanceof s&&null!=t.getData()._getDataContext?"series":null},l.prototype.GetDragDataContexts=function(e){var i=this.DragSource.getDragObject();if(i instanceof s){var n=i.getData()._getDataContext();return e&&(n=t.JsonUtils.clone(n,null,{component:!0,componentElement:!0}),t.ToolkitUtils.cleanDragDataContext(n)),[n]}return[]},l.prototype.GetDropTargetType=function(e){var t=this._legend.stageToLocal(this.getCtx().pageToStageCoords(e.pageX,e.pageY)),i=this._legend.getOptions().dnd.drop,n=this._legend.__getBounds();return Object.keys(i.legend).length>0&&n.containsPoint(t.x,t.y)?"legend":null},l.prototype.GetDropEventPayload=function(e){return{}},l.prototype.ShowDropEffect=function(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getOptions()._dropColor,i=this._legend.getCache().getFromCache("background");i&&(i.setSolidFill(t),i.setClassName("oj-active-drop"))}},l.prototype.ClearDropEffect=function(){var e=this._legend.getCache().getFromCache("background");if(e){var i=this._legend.getOptions().backgroundColor;i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}},l.prototype.ShowRejectedDropEffect=function(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getCache().getFromCache("background");t&&t.setClassName("oj-invalid-drop")}};var h=function(e,t){this.Init(e,t)};t.Obj.createSubclass(h,t.KeyboardHandler),h.prototype.Init=function(e,t){h.superclass.Init.call(this,e),this._legend=t},h.prototype.processKeyDown=function(e){var i=e.keyCode,n=this._eventManager.getFocus(),o=n&&n.getDisplayables()[0]instanceof t.IconButton,s=null;if(null==n&&i==t.KeyboardEvent.TAB){var r=this._legend.__getKeyboardObjects();r.length>0&&(t.EventManager.consumeEvent(e),s=this.getDefaultNavigable(r))}else n&&(i==t.KeyboardEvent.TAB?(t.EventManager.consumeEvent(e),s=n):i==t.KeyboardEvent.ENTER||i==t.KeyboardEvent.SPACE?(i==t.KeyboardEvent.ENTER&&this._eventManager.handleClick(n,e),o?this._eventManager.onCollapseButtonClick(e,n.getDisplayables()[0]):this._eventManager.processHideShowEvent(n),t.EventManager.consumeEvent(e)):!o||i!=t.KeyboardEvent.LEFT_ARROW&&i!=t.KeyboardEvent.RIGHT_ARROW?s=h.superclass.processKeyDown.call(this,e):(this._eventManager.onCollapseButtonClick(e,n.getDisplayables()[0]),t.EventManager.consumeEvent(e)));return s&&this._legend.container.scrollIntoView(s.getDisplayables()[0]),s};var g=new Object;t.Obj.createSubclass(g,t.Obj),g._DEFAULT_LINE_WIDTH_WITH_MARKER=2,g._LINE_MARKER_SIZE_FACTOR=.6,g._DEFAULT_SYMBOL_SIZE=10,g._BUTTON_SIZE=12,g._FOCUS_GAP=2,g.render=function(e,i){var n=e.getOptions(),o=e.getCtx(),s=t.Agent.isRightToLeft(o);e.__setBounds(i),n.isLayout||g._renderBackground(e,i);var r="redwood"===o.getThemeBehavior()?"always":"asNeeded",l=new t.SimpleScrollableContainer(o,i.w,i.h,r),h=new t.Container(o);l.getScrollingPane().addChild(h),e.addChild(l),e.container=l;var c=a.getGapSize(e,n.layout.outerGapWidth),u=a.getGapSize(e,n.layout.outerGapHeight);if(i.x+=c,i.y+=u,i.w-=2*c,i.h-=2*u,i.w<=0||i.h<=0)return new t.Dimension(0,0);var p=g._renderContents(e,h,new t.Rectangle(i.x,i.y,i.w,i.h));if(0==p.w||0==p.h)return new t.Dimension(0,0);l.prepareContentPane(),p.h>i.h?(p.h=i.h,n._isScrollingLegend=!0):n._isScrollingLegend=!1;var d=0,f=0,_=null!=n.hAlign?n.hAlign:n.halign;"center"==_?d=i.x-p.x+(i.w-p.w)/2:"end"==_&&(d=s?i.x-p.x:i.x-p.x+i.w-p.w);var y=null!=n.vAlign?n.vAlign:n.valign;"middle"==y?f=i.y-p.y+(i.h-p.h)/2:"bottom"==y&&(f=i.y-p.y+i.h-p.h);var v=new t.Rectangle(p.x+d-c,p.y+f-u,p.w+2*c,p.h+2*u);if(n.isLayout)return v;(d||f)&&h.setTranslate(d,f);for(var b=e.__getTitles(),m=0;m<b.length;m++)t.LayoutUtils.align(p,b[m].halign,b[m].text,b[m].text.getDimensions().w);return v},g._renderContents=function(e,t,i){var n=e.getOptions();i=i.clone();var o=g._renderTitle(e,t,n.title,i,null,!0);if(o){var s=o.getDimensions(),r=a.getGapSize(e,n.layout.titleGapHeight);i.y+=s.h+r,i.h-=Math.floor(s.h+r)}var l=g._renderSections(e,t,n.sections,i,[]);return o?s.getUnion(l):l},g._renderBackground=function(e,i){var n=e.getOptions(),o=n.backgroundColor,s=n.borderColor,r=n.dnd?n.dnd.drop.legend:{},a=n.dnd?n.dnd.drag.series:{};if(o||s||Object.keys(r).length>0||Object.keys(a).length>0){var l=new t.Rect(e.getCtx(),i.x,i.y,i.w,i.h);o?l.setSolidFill(o):l.setInvisibleFill(),s&&(l.setSolidStroke(s),l.setPixelHinting(!0)),e.addChild(l),e.getCache().putToCache("background",l)}},g._renderTitle=function(e,i,n,o,s,r,a,l){var h=e.getOptions(),g=i.getCtx(),c=t.Agent.isRightToLeft(g);if(!n)return null;var u=new t.OutputText(g,n,o.x,o.y),p=h.titleStyle;if(s){var d=h._sectionTitleStyle.clone();p=s.titleStyle?d.merge(new t.CSSStyle(s.titleStyle)):d}if(u.setCSSStyle(p),t.TextUtils.fitText(u,o.w,1/0,i)){if(c&&u.setX(o.x+o.w-u.getDimensions().w),h.isLayout)i.removeChild(u);else{var f={id:a,button:l};if(f.isCollapsible=s&&("on"==s.collapsible||1==s.collapsible),e.getEventManager().associate(u,new t.SimpleObjPeer(u.getUntruncatedTextString(),null,null,f)),r){var _=s&&s.titleHalign?s.titleHalign:h.titleHalign;e.__registerTitle({text:u,halign:_})}}return u}return null},g._renderSections=function(e,i,n,s,r){if(!n||0==n.length)return new t.Rectangle(0,0,0,0);var l=e.getOptions();l.symbolWidth||l.symbolHeight?(l.symbolWidth?l.symbolHeight||(l.symbolHeight=l.symbolWidth):l.symbolWidth=l.symbolHeight,l.symbolWidth=parseInt(l.symbolWidth),l.symbolHeight=parseInt(l.symbolHeight)):(l.symbolWidth=g._DEFAULT_SYMBOL_SIZE,l.symbolHeight=g._DEFAULT_SYMBOL_SIZE);for(var h,c=a.getGapSize(e,l.layout.sectionGapHeight),u=a.getGapSize(e,l.layout.titleGapHeight),p=a.getGapSize(e,l.layout.sectionGapWidth),d=g._getRowHeight(e),f="vertical"!=l.orientation,_=null,y=s.clone(),v=0;v<n.length;v++){var b=r.concat([v]),m=o(n[v],e)?u:c;f?(h=g._renderHorizontalSection(e,i,n[v],y,d)).w>y.w?(y.w<s.w&&(s.y+=h.h+m,s.h-=h.h+m),h=h.w<=s.w?g._renderHorizontalSection(e,i,n[v],s,d):g._renderVerticalSection(e,i,n[v],s,d,b,!0),s.y+=h.h+m,s.h-=h.h+m,y=s.clone()):(y.w-=h.w+p,t.Agent.isRightToLeft(e.getCtx())||(y.x+=h.w+p)):(h=g._renderVerticalSection(e,i,n[v],s,d,b,!1),s.y+=h.h+m,s.h-=h.h+m),_=_?_.getUnion(h):h}return _},g._createButton=function(e,i,n,o,r,a,l,h,c,u,p){var d=t.ToolkitUtils.getIconStyle(e,o[r]),f=new t.IconButton(e,"borderless",{style:d,size:g._BUTTON_SIZE},null,c,u,p);f.setTranslate(a,l);var _=s.associate([f],i,n,h,null,!1);return f.setAriaRole("button"),_.updateAriaLabel(),f},g._renderVerticalSection=function(e,i,n,s,r,l,h){if(n){var c,u=e.getOptions(),p=a.getGapSize(e,u.layout.symbolGapWidth),d=a.getGapSize(e,u.layout.rowGap),f=a.getGapSize(e,u.layout.columnGap),_=e.getCtx(),y=t.Agent.isRightToLeft(_),v=null!=n.sections&&n.sections.length>0,b=null!=n.items&&n.items.length>0,m=s.clone();"off"!=u.scrolling&&(m.h=1/0);var C,S="on"==n.collapsible||1==n.collapsible;if(S){var x=y?m.x+m.w-g._BUTTON_SIZE:m.x;if(!u.isLayout){var O=o(n,e),w=O?"closed":"open",E=u.translations[O?"tooltipExpand":"tooltipCollapse"],T=e.getEventManager();C=g._createButton(_,e,n,u._resources,w,x,m.y,E,l,T.onCollapseButtonClick,T),i.addChild(C)}c=new t.Rectangle(x,m.y,g._BUTTON_SIZE,g._BUTTON_SIZE);var D=a.getGapSize(e,u.layout.symbolGapWidth);y||(m.x+=g._BUTTON_SIZE+D),m.w-=g._BUTTON_SIZE+D}var A=g._renderTitle(e,i,n.title,m,n,!S&&l.length<=1,l,C),I=A?A.getDimensions():new t.Rectangle(y?m.x+m.w:m.x,m.y,0,0),M=c?I.getUnion(c):I;if(!b&&!v||o(n,e))return M;if(M.h>0){var L=a.getGapSize(e,u.layout.titleGapHeight);m.y+=M.h+L,m.h-=M.h+L}if(v){var F=g._renderSections(e,i,n.sections,m,l);M=M.getUnion(F)}if(!b)return M;var R=g._calcColumns(e,m,r,n.items,h),G=R.numCols,k=R.numRows,H=R.width,B=m.y;if(0==k||0==G)return M;var N=k*(r+d)-d,j=Math.min(G*(H+f)-f,m.w),P=new t.Rectangle(y?m.x+m.w-j:m.x,m.y,j,N);if(M=M.getUnion(P),u.isLayout)return M;for(var U=H-u.symbolWidth-p,W=0,K=1,z=n.items.length,V=0;V<z;V++){var Z=n.items[V];if(g._createLegendItem(e,i,Z,m,U,r,V),m.y+=r+d,++W===k&&K!==G&&(m.y=B,m.w-=H+f,y||(m.x+=H+f),W=0,K++),W===k)break}return M}},g._renderHorizontalSection=function(e,i,n,o,s){if(n){var r=e.getOptions(),l=r.symbolWidth,h=a.getGapSize(e,r.layout.symbolGapWidth),c=a.getGapSize(e,r.layout.columnGap),u=a.getGapSize(e,r.layout.titleGapWidth),p=null!=n.items&&n.items.length>0,d=t.Agent.isRightToLeft(e.getCtx()),f=o.clone(),_=g._renderTitle(e,i,n.title,o,n,!1),y=_?_.getDimensions():new t.Rectangle(d?o.x+o.w:o.x,o.y,0,0);if(!p)return y;y.w>0&&(f.w-=y.w+u,d||(f.x+=y.w+u));var v,b,m,C=[],S=o.w-f.w,x=n.items.length;for(m=0;m<x;m++)v=n.items[m],S+=(b=Math.ceil(t.TextUtils.getTextStringWidth(e.getCtx(),v.text,r.textStyle)))+l+h+c,C.push(b);x>0&&(S-=c);var O,w=new t.Rectangle(d?o.x+o.w-S:o.x,o.y,S,Math.max(s,y.h));if(r.isLayout||S>o.w)return i.removeChild(_),w;if(_){e.getCache().putToCache("horizRowAlign",!0),e.getCache().putToCache("sectionRect",w);var E=_.getDimensions(),T=w.y+w.h/2-E.h/2-E.y;_.setTranslate(0,T)}for(m=0;m<x;m++)v=n.items[m],g._createLegendItem(e,i,v,f,C[m],s,m),O=C[m]+l+h,f.w-=O+c,d||(f.x+=O+c);return e.getCache().putToCache("horizRowAlign",!1),e.getCache().putToCache("sectionRect",null),w}},g._calcColumns=function(e,i,n,o,s){for(var r=e.getOptions(),l=[],h=0;h<o.length;h++)l.push(o[h].text);var g,c,u,p=t.TextUtils.getMaxTextStringWidth(e.getCtx(),l,r.textStyle),d=r.symbolWidth,f=a.getGapSize(e,r.layout.symbolGapWidth),_=a.getGapSize(e,r.layout.rowGap),y=a.getGapSize(e,r.layout.columnGap),v=Math.ceil(d+f+p);s?(u=Math.min(Math.max(Math.floor((i.w+y)/(v+y)),1),o.length),g=Math.min(Math.floor((i.h+_)/(n+_)),Math.ceil(o.length/u)),u=Math.ceil(o.length/g),g=Math.ceil(o.length/u)):i.h==1/0?(u=1,g=o.length):(g=Math.min(Math.floor((i.h+_)/(n+_)),o.length),u=Math.ceil(o.length/g),g=Math.ceil(o.length/u));var b=(i.w-y*(u-1))/u;return(c=Math.min(v,b))<d?{width:0,numCols:0,numRows:0}:{width:c,numCols:u,numRows:g}},g._getRowHeight=function(e){var i=e.getOptions(),n=t.TextUtils.getTextStringHeight(e.getCtx(),i.textStyle),o=i.symbolHeight+a.getGapSize(e,i.layout.symbolGapHeight);return Math.ceil(Math.max(n,o))},g._createLegendItem=function(e,o,r,l,h,c,u){var p,d=e.getOptions(),f=e.getCtx(),_=t.Agent.isRightToLeft(f),y=d.symbolWidth,v=a.getGapSize(e,d.layout.symbolGapWidth),b=_?l.x+l.w-y:l.x,m=_?l.x+l.w-y-v:l.x+y+v,C=g._createLegendSymbol(e,b,l.y,c,r,u),S=r.text;if(null!=S){var x=d.textStyle;(p=g._createLegendText(o,h,S,x))&&(p.setX(m),t.TextUtils.centerTextVertically(p,l.y+c/2),_&&p.alignRight());var O=e.getCache().getFromCache("sectionRect");if(e.getCache().getFromCache("horizRowAlign")&&O&&"vertical"!=d.orientation){var w=p.getDimensions().h,E=O.y+O.h/2-Math.max(d.symbolHeight,w)/2-l.y;C.setTranslate(0,E),p.setTranslate(0,E)}}o.addChild(C);var T=new t.Rect(f,_?m-h-g._FOCUS_GAP:b-g._FOCUS_GAP,l.y-g._FOCUS_GAP,y+v+h+2*g._FOCUS_GAP,c+2*g._FOCUS_GAP);T.setInvisibleFill();var D=d.hideAndShowBehavior;"none"!=D&&"off"!=D&&T.setCursor("pointer"),o.addChild(T);var A=[T,C];null!=p&&A.push(p);var I=s.associate(A,e,r,null!=p?p.getUntruncatedTextString():null,r.shortDesc,g._isItemDrillable(e,r));n(i(r,e),e)&&(C.setHollow(I.getColor()),C.setStyle().setClassName()),("none"!=D&&"off"!=D||null!=r.shortDesc)&&(T.setAriaRole("img"),I.updateAriaLabel())},g._isItemDrillable=function(e,t){return"on"==t.drilling||"off"!=t.drilling&&"on"==e.getOptions().drilling},g._createLegendText=function(e,i,n,o){var s=new t.OutputText(e.getCtx(),n);return s.setCSSStyle(o),s=t.TextUtils.fitText(s,i,1/0,e)?s:null},g._createLegendSymbol=function(e,o,s,r,a,l){var h=e.getOptions(),c=e.getCtx(),u=null!=a.type?a.type:a.symbolType;a.markerShape||(a.markerShape=h._markerShape),a.color||(a.color=h._color),a.lineWidth||(a.lineWidth="lineWithMarker"==u?g._DEFAULT_LINE_WIDTH_WITH_MARKER:h._lineWidth);var p,d=h.symbolWidth,f=h.symbolHeight,_=s+r/2,y=o+d/2;if("line"==u)p=g._createLine(c,o,s,d,r,a);else if("lineWithMarker"==u)p=g._createLine(c,o,s,d,r,a),n(i(a,e),e)||p.addChild(g._createMarker(e,y,_,d*g._LINE_MARKER_SIZE_FACTOR,f*g._LINE_MARKER_SIZE_FACTOR,a));else if("image"==u)p=g._createImage(e,o,s,d,f,r,a);else if("_verticalBoxPlot"==u)f=Math.max(4*Math.round(f/4),4),(p=new t.Container(c)).addChild(g._createMarker(e,y,_+f/4,d,f/2,g._getBoxPlotOptions(a,"q2"))),p.addChild(g._createMarker(e,y,_-f/4,d,f/2,g._getBoxPlotOptions(a,"q3")));else if("_horizontalBoxPlot"==u){var v=t.Agent.isRightToLeft(c),b=(d=Math.max(4*Math.round(d/4),4))/4*(v?1:-1);(p=new t.Container(c)).addChild(g._createMarker(e,y+b,_,d/2,f,g._getBoxPlotOptions(a,"q2"))),p.addChild(g._createMarker(e,y-b,_,d/2,f,g._getBoxPlotOptions(a,"q3")))}else p=g._createMarker(e,y,_,d,f,a);return p},g._createImage=function(e,i,n,o,s,r,a){var l=e.getCtx(),h=n+r/2,g=i+o/2;return new t.ImageMarker(l,g,h,o,s,null,a.source)},g._createMarker=function(e,i,n,o,s,r){var a,l=e.getCtx(),h=(e.getOptions(),r.markerShape),g=r.symbolType&&"lineWithMarker"==r.symbolType&&r.markerColor?r.markerColor:r.color,c=r.markerStyle||r.markerSvgStyle?r.markerStyle||r.markerSvgStyle:r.style||r.svgStyle,u=r.markerClassName||r.markerSvgClassName?r.markerClassName||r.markerSvgClassName:r.className||r.svgClassName,p=r.pattern;if(p&&"none"!=p?((a=new t.SimpleMarker(l,h,0,0,o,s,null,null,!0)).setFill(new t.PatternFill(p,g,"#FFFFFF")),a.setTranslate(i,n)):(a=new t.SimpleMarker(l,h,i,n,o,s,null,null,!0)).setSolidFill(g),r.borderColor){var d=r._borderWidth?r._borderWidth:1;a.setSolidStroke(r.borderColor,null,d)}return"square"!=h&&"rectangle"!=h||a.setPixelHinting(!0),a.setClassName(u).setStyle(c),a},g._createLine=function(e,i,n,o,s,r){var a=n+s/2;o=o%2==1?o+1:o;var l,h=new t.Line(e,i,Math.round(a),i+o,Math.round(a)),g=r.lineStyle;"dashed"==g?l={dashArray:"4,2,4"}:"dotted"==g&&(l={dashArray:"2"});var c=new t.Stroke(r.color,1,r.lineWidth,!1,l);return h.setClassName(r.className||r.svgClassName).setStyle(r.style||r.svgStyle),h.setStroke(c),h.setPixelHinting(!0),h},g._getBoxPlotOptions=function(e,t){return{markerShape:"rectangle",color:e._boxPlot[t+"Color"],pattern:e._boxPlot["_"+t+"Pattern"],className:e._boxPlot[t+"ClassName"]||e._boxPlot[t+"svgClassName"],style:e._boxPlot[t+"Style"]||e._boxPlot[t+"svgStyle"]}};const c=function(){};t.Obj.createSubclass(c,t.BaseComponent),c.newInstance=function(e,t,i){var n=new c;return n.Init(e,t,i),n},c.getDefaults=function(e){return(new a).getDefaults(e)},c.prototype.Init=function(e,t,i){c.superclass.Init.call(this,e,t,i),this.setId("legend1000"+Math.floor(1e9*Math.random())),this.Defaults=new a(e),this.EventManager=new l(this),this.EventManager.addListeners(this),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[]},c.prototype.SetOptions=function(e){this.getOptionsCache().clearCache(),e?(this.Options=this.Defaults.calcOptions(e),this._transferVisibilityProperties(this.Options.sections)):this.Options||(this.Options=this.GetDefaults())},c.prototype.getPreferredSize=function(e,i,n){this.SetOptions(e),this.getOptions().isLayout=!0;var o=new t.Rectangle(0,0,i,n),s=g.render(this,o);return this.getOptions().isLayout=!1,new t.Dimension(s.w,s.h)},c.prototype.render=function(e,i,n){this.getCache().clearCache(),this.SetOptions(e),isNaN(i)||isNaN(n)||(this.Width=i,this.Height=n),this.getOptions().isLayout=!1;for(var o=this.getNumChildren(),s=0;s<o;s++){this.getChildAt(s).destroy()}this.removeChildren(),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[],t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new h(this.EventManager,this)),this.UpdateAriaAttributes();var r=new t.Rectangle(0,0,this.Width,this.Height);this._contentDimensions=g.render(this,r);var a=this.getOptions().highlightedCategories;return a&&a.length>0&&this.highlight(a),this.RenderComplete(),this._contentDimensions},c.prototype.highlight=function(e){this.getOptions().highlightedCategories=e&&e.length>0?e.slice():null,t.CategoryRolloverHandler.highlight(e,this.__getObjects(),!0)},c.prototype.processEvent=function(e,i){if("categoryHighlight"==e.type&&"dim"==this.getOptions().hoverBehavior){var n=this.__getObjects();this!=i&&this.highlight(e.categories);for(var o=0;o<n.length;o++)if(t.Obj.compareValues(this.getCtx(),n[o].getId(),e.categories)){this.container.scrollIntoView(n[o].getDisplayables()[0]);break}}this==i&&this.dispatchEvent(e)},c.prototype.__registerObject=function(e){if(e.getDisplayables()[0]instanceof t.IconButton)this._navigablePeers.push(e);else{var i=this.getOptions().hideAndShowBehavior;(null!=e.getDatatip()||e.isDrillable()||"none"!=i&&"off"!=i)&&this._navigablePeers.push(e),this._peers.push(e)}},c.prototype.__getObjects=function(){return this._peers},c.prototype.__getKeyboardObjects=function(){return this._navigablePeers},c.prototype.__setBounds=function(e){this._bounds=e.clone()},c.prototype.__getBounds=function(){return this._bounds},c.prototype.__registerTitle=function(e){this._titles.push(e)},c.prototype.__getTitles=function(){return this._titles},c.prototype.getAutomation=function(){return new r(this)},c.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},c.prototype.setKeyboardFocus=function(e,i){if(null!=this.EventManager){for(var n=this.__getKeyboardObjects(),o=0;o<n.length;o++)if(t.Obj.compareValues(this.getCtx(),n[o].getId(),e.getId())){this.EventManager.setFocusObj(n[o]),i&&n[o].showKeyboardFocusEffect();break}var s=this.getKeyboardFocus();if(s){var r=s.getDisplayables()[0];r.setAriaProperty("label",s.getAriaLabel()),this.getCtx().setActiveElement(r)}}},c.prototype.getDimensions=function(e){var i=new t.Rectangle(0,0,this.Width,this.Height);return e&&e!==this?this.ConvertCoordSpaceRect(i,e):i},c.prototype.getContentDimensions=function(e){return e&&e!==this?this.ConvertCoordSpaceRect(this._contentDimensions,e):this._contentDimensions},c.prototype._transferVisibilityProperties=function(e){if(e&&!(e.length<=0))for(var t=this.getOptions().hiddenCategories,n=0;n<e.length;n++){var o=e[n];o.sections&&this._transferVisibilityProperties(o.sections);var s=o.items;if(s&&!(s.length<=0))for(var r=0;r<s.length;r++){var a=s[r],l=i(a,this);"hidden"==a.categoryVisibility&&t.indexOf(l)<0&&t.push(l),a.categoryVisibility=null}}},c.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var e=this.getOptions(),i=e.translations,n=e.hideAndShowBehavior;("off"!=n&&"none"!=n||"dim"==e.hoverBehavior)&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,t.AriaUtils.processAriaLabel(this.GetComponentDescription())])))}},c.prototype.isNavigable=function(){return this._navigablePeers.length>0},c.getItemCount=function(e){var t=e.getOptionsCache().getFromCache("itemsCount");if(null!=t)return t;t=0;for(var i=e.getOptions().sections,n=0;n<i.length;n++){var o=i[n];t+=c.getSectionItemsCount(o)}return e.getOptionsCache().putToCache("itemsCount",t),t},c.getSectionItemsCount=function(e){var t=0;if(e.items&&(t+=e.items.length),e.sections)for(var i=e.sections,n=0;n<i.length;n++)t+=c.getSectionItemsCount(i[n]);return t},e.Legend=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojlegend-toolkit.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojkeyset',["exports","ojs/ojcore-base","ojs/ojkeysetimpl"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r=function(){};t._registerLegacyNamespaceProp("KeySet",r),t.Object.createSubclass(r,t.Object,"KeySet"),r.prototype.SetInternal=function(e){this._keys=e},r.prototype.AddOrDeleteInternal=function(e,t){var n,r;return null==(n=e?this._add(t):this._remove(t))?this:((r=Object.create(Object.getPrototypeOf(this))).SetInternal(n),r)},r.prototype._add=function(e){var t=this,n=null;return e.forEach(function(e){e!==t.NOT_A_KEY&&t.get(e)===t.NOT_A_KEY&&(null==n&&(n=t.Clone()),n.add(e))}),n},r.prototype._remove=function(e){var t,n=this,r=null;return 0===this._keys.size?null:(e.forEach(function(e){(t=n.get(e))!==n.NOT_A_KEY&&(null==r&&(r=n.Clone()),r.delete(t))}),r)},r.prototype.GetInternalSize=function(){return this._keys.size},r.prototype.Clone=function(){return new Set(this._keys)},n.call(r.prototype);var o=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("ExpandedKeySet",o),t.Object.createSubclass(o,r,"ExpandedKeySet"),o.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},o.prototype.addAll=function(){return new i},o.prototype.isAddAll=function(){return!1},o.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},o.prototype.clear=function(){return 0===this.GetInternalSize()?this:new o},o.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},o.prototype.values=function(){return this.Clone()};var i=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("ExpandAllKeySet",i),t.Object.createSubclass(i,r,"ExpandAllKeySet"),i.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},i.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new i},i.prototype.isAddAll=function(){return!0},i.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},i.prototype.clear=function(){return new o},i.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},i.prototype.deletedValues=function(){return this.Clone()};var l=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("KeySetImpl",l),t.Object.createSubclass(l,r,"KeySetImpl"),l.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},l.prototype.addAll=function(){return new u},l.prototype.isAddAll=function(){return!1},l.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},l.prototype.clear=function(){return 0===this.GetInternalSize()?this:new l},l.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},l.prototype.values=function(){return this.Clone()};var u=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("AllKeySetImpl",u),t.Object.createSubclass(u,r,"AllKeySetImpl"),u.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},u.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new u},u.prototype.isAddAll=function(){return!0},u.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},u.prototype.clear=function(){return new l},u.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},u.prototype.deletedValues=function(){return this.Clone()};var a={toArray:function(e){var t,n=e.isAddAll()?e.deletedValues():e.values();return Array.from?t=Array.from(n):(t=[],n.forEach(function(e){t.push(e)})),t.inverted=e.isAddAll(),t},toKeySet:function(e){return e.inverted?(new u).delete(e):(new l).add(e)}};e.AllKeySetImpl=u,e.ExpandAllKeySet=i,e.ExpandedKeySet=o,e.KeySet=r,e.KeySetImpl=l,e.KeySetUtils=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojkeyset.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojlegend',["ojs/ojcore-base","ojs/ojcomponentcore","ojs/ojdvt-base","jquery","ojs/ojlegend-toolkit","ojs/ojkeyset"],function(e,t,n,i,o,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var s={properties:{as:{type:"string",value:""},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"11.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},drilling:{type:"string",enumValues:["off","on"],value:"off"},expanded:{type:"KeySet",writeback:!0},halign:{type:"string",enumValues:["center","end","start"],value:"start"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["off","on"],value:"off"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},hoverBehaviorDelay:{type:"number",value:200},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sections:{type:"Array<Object>"},symbolHeight:{type:"number",value:0},symbolWidth:{type:"number",value:0},textStyle:{type:"object",value:{}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipCollapse:{type:"string"},tooltipExpand:{type:"string"}}},valign:{type:"string",enumValues:["bottom","middle","top"],value:"top"}},methods:{getContextByNode:{},getItem:{},getPreferredSize:{},getProperty:{},getSection:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{}},extension:{}};s.extension._WIDGET_NAME="ojLegend",e.CustomElementBridge.register("oj-legend",{metadata:s});var a={properties:{borderColor:{type:"string",value:""},categories:{type:"Array<string>",value:[]},categoryVisibility:{type:"string",enumValues:["hidden","visible"],value:"visible"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerShape:{type:"string",value:"square"},markerSvgClassName:{type:"string",value:""},markerSvgStyle:{type:"object"},pattern:{type:"string",enumValues:["largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","none","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"none"},shortDesc:{type:"string",value:""},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object"},symbolType:{type:"string",enumValues:["image","line","lineWithMarker","marker"],value:"marker"},text:{type:"string",value:""}},extension:{}};!function(){a.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-legend-item",{metadata:a,parseFunction:n.shapeParseFunction({"marker-shape":!0},{circle:!0,ellipse:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,rectangle:!0,star:!0,square:!0})})}();var l={properties:{collapsible:{type:"string",enumValues:["off","on"],value:"off"},text:{type:"string",value:""},textHalign:{type:"string",enumValues:["center","end","start"],value:"start"},textStyle:{type:"object",value:{}}},extension:{}};l.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-legend-section",{metadata:l}),e.__registerWidget("oj.ojLegend",i.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,drilling:"off",halign:"start",hiddenCategories:[],hideAndShowBehavior:"off",highlightedCategories:[],hoverBehavior:"none",hoverBehaviorDelay:200,orientation:"vertical",scrolling:"asNeeded",sections:null,symbolHeight:0,symbolWidth:0,textStyle:{},valign:"top",drill:null},_CreateDvtComponent:function(e,t,n){return o.Legend.newInstance(e,t,n)},_InitOptions:function(e,t){this._super(e,t);var n=this.options.expanded;this.options.expanded=n},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-legend-item"===t?(t="section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-legend-tooltip"===t&&(t="tooltip"),t},_ConvertSubIdToLocator:function(e){var t={};if(e.indexOf(":item")>0){var n=e.indexOf(":item"),i=e.substring(0,n),o=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(i),t.itemIndex=this._GetFirstIndex(o)}else"tooltip"===e&&(t.subId="oj-legend-tooltip");return t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-legend"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-legend"]={path:"textStyle",property:"TEXT"},e["oj-legend-section-title"]={path:"_sectionTitleStyle",property:"TEXT"},e["oj-legend-hover"]={path:"_hoverBorderRadius",property:"border-radius"},e},_GetEventTypes:function(){return["drill","expand","collapse"]},_HandleEvent:function(e){var t=e.type;"drill"===t?this._trigger("drill",null,{id:e.id}):"expand"===t||"collapse"===t?this._UserOptionChange("expanded",e.expanded):this._super(e)},_RemoveKeys:function(e){var t;this._super(e);var n=this.options.expanded;n&&!n.isAddAll()&&(e.forEach(function(e){n.has(e)&&(n=n.delete([e]),t=!0)}),t&&this._UserOptionChange("expanded",n))},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources,t="rtl"===this._GetReadingDirection();e.closed="oj-fwk-icon oj-fwk-icon-arrow-"+(t?"w":"e"),e.open="oj-fwk-icon oj-fwk-icon-arrow-"+(t?"sw":"se")},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:function(e){return e&&e.children?"sectionTemplate":"itemTemplate"},templateElementName:function(e){return e&&e.children?"oj-legend-section":"oj-legend-item"},resultPath:"sections",getAliasedPropertyNames:function(e){return"oj-legend-section"===e?{text:"title",textHalign:"titleHalign",textStyle:"titleStyle"}:{}},processChildrenData:function(e,t,n){e.sections=[],e.items=[];for(var i=0;i<n.length;i++){var o=n[i];t.children[i].children?e.sections.push(o):e.items.push(o)}},expandedKeySet:new r.AllKeySetImpl,processOptionData:function(e){for(var t={sections:[],items:[]},n=0;n<e.length;n++)e[n].items||e[n].sections?t.sections.push(e[n]):t.items.push(e[n]);return t.items.length>0?[t]:e}}}},_Render:function(){this._super()},getTitle:function(){return this._component.getAutomation().getTitle()},getSection:function(e){var t=this._component.getAutomation().getSection(e);return t&&(t.getSection=function(e){return t.sections?t.sections[e]:null},t.getItem=function(e){return t.items?t.items[e]:null}),t},getItem:function(e){return this._component.getAutomation().getItem(e)},getPreferredSize:function(e,t){var n=!1;if(this.options.data&&this._DataProviderHandler.isDataProvider(this.options.data))n=!0;else for(var i=this.options.sections?this.options.sections:[],o=0;o<i.length;o++){var r=i[o].items;r&&r.then&&(n=!0)}var s=n?null:this.options,a=this._component.getPreferredSize(s,e,t);return{width:a.w,height:a.h}},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-legend-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{sections:["items"],root:["data"]}},_GetComponentNoClonePaths:function(){var e=this._super();return e.sections={items:!0},e}}),t.setDefaultOptions({ojLegend:{expanded:t.createDynamicPropertyGetter(function(e){return e.isCustomElement&&e.element.getAttribute("data")?new r.AllKeySetImpl:null})}})});
//# sourceMappingURL=ojlegend.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojconverterutils',["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class o{}return o.getConverterInstance=function(o){let r="",a={},n=null;if(o&&("object"==typeof o&&(o.parse&&"function"==typeof o.parse||o.format&&"function"==typeof o.format?n=o:(r=o.type,a=o.options||{})),!n&&(r=r||o,r&&"string"==typeof r))){if(e.Validation&&e.Validation.converterFactory)return e.Validation.converterFactory(r).createConverter(a);t.error('oj.Validation.converterFactory is not available and it is needed to support the deprecated json format for the converters property. Please include the backward compatibility "ojvalidation-base" module.')}return n},o});
//# sourceMappingURL=ojconverterutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojvalidation-error',["exports","ojs/ojcore","ojs/ojmessaging"],function(e,r,t){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o=function(e,r){var o={summary:e,detail:r,severity:t.SEVERITY_LEVEL.ERROR};this.Init(o)};o.prototype=new Error,r._registerLegacyNamespaceProp("ValidatorError",o),o.prototype.Init=function(e){var r=e.detail,t=e.summary;this._message=e,this.name="Validator Error",this.message=r||t},o.prototype.getMessage=function(){return this._message};const s=function(e,r){var o={summary:e,detail:r,severity:t.SEVERITY_LEVEL.ERROR};this.Init(o)};s.prototype=new Error,r._registerLegacyNamespaceProp("ConverterError",s),s.prototype.Init=function(e){var r=e.detail,t=e.summary;this._message=e,this.name="Converter Error",this.message=r||t},s.prototype.getMessage=function(){return this._message},e.ConverterError=s,e.ValidatorError=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojvalidation-error.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojconverterutils-i18n',["exports","ojs/ojcore-base","ojs/ojtranslation","jquery","ojs/ojconverterutils","ojs/ojvalidation-error","ojs/ojlogger"],function(e,t,r,n,a,o,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const s={numeringSystems:{latn:"0123456789",arab:"",thai:""},regexTrim:/^\s+|\s+$|\u200f|\u200e/g,regexTrimNumber:/\s+|\u200f|\u200e/g,regexTrimRightZeros:/0+$/g,zeros:["0","00","000"],_ISO_DATE_REGEXP:/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,getLocalTimeZoneOffset:function(){var e=(new Date).getTimezoneOffset();return s.getTimeStringFromOffset("Etc/GMT",e,!1,!1)},dateToLocalIso:function(e){var t=e;"number"==typeof t&&(t=new Date(t));var r=s.padZeros(t.getFullYear(),4)+"-"+s.padZeros(t.getMonth()+1,2)+"-"+s.padZeros(t.getDate(),2)+"T"+s.padZeros(t.getHours(),2)+":"+s.padZeros(t.getMinutes(),2)+":"+s.padZeros(t.getSeconds(),2);return t.getMilliseconds()>0&&(r+="."+s.trimRightZeros(s.padZeros(t.getMilliseconds(),3))),r},partsToIsoString:function(e){var t=s.padZeros(e[0],4)+"-"+s.padZeros(e[1],2)+"-"+s.padZeros(e[2],2)+"T"+s.padZeros(e[3],2)+":"+s.padZeros(e[4],2)+":"+s.padZeros(e[5],2);return e[6]>0&&(t+="."+s.trimRightZeros(s.padZeros(e[6],3))),t},isoToLocalDate:function(e){return e&&"string"==typeof e?this._isoToLocalDateIgnoreTimezone(e):null},_isoToLocalDateIgnoreTimezone:function(e){var t=s._IsoStrParts(e),r=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return r.setFullYear(t[0]),r},_IsoStrParts:function(e){!1===s._ISO_DATE_REGEXP.test(e)&&s._throwInvalidISOStringSyntax(e);var t,r=e.split("T"),n=e.indexOf("T"),a=new Date,o=!1,i=[a.getFullYear(),a.getMonth()+1,a.getDate(),0,0,0,0];if(""!==r[0]){s.startsWith(r[0],"-")&&(r[0]=r[0].substr(1),o=!0);var u=r[0].split("-");for(t=0;t<u.length;t++){var l=parseInt(u[t],10);if(1===t&&(l<1||l>12)&&s._throwInvalidISOStringRange(e,"month",l,1,12),2===t){var g=s._getDaysInMonth(i[0],i[1]-1);(l<1||l>g)&&s._throwInvalidISOStringRange(e,"day",l,1,g)}i[t]=l}o&&(i[0]=-i[0])}if(-1!==n){var p=r[1].split("."),f=p[0].split(":");for(t=0;t<f.length;t++){var d=parseInt(f[t],10);0===t&&(d<0||d>24)&&s._throwInvalidISOStringRange(e,"hour",d,0,24),1===t&&(d<0||d>59)&&s._throwInvalidISOStringRange(e,"minute",d,0,59),2===t&&(d<0||d>59)&&s._throwInvalidISOStringRange(e,"second",d,0,59),i[3+t]=d}2===p.length&&p[1]&&(i[6]=parseInt(s.zeroPad(p[1],3,!1),10))}return i},getISOStrFormatInfo:function(e){var t={format:null,dateTime:null,timeZone:"",isoStrParts:null},r=s._ISO_DATE_REGEXP.exec(e);if(null===r&&s._throwInvalidISOStringSyntax(e),void 0===r[1]&&void 0===r[2])return t.format="local",t.dateTime=e,t.isoStrParts=s._IsoStrParts(t.dateTime),t;t.timeZone=void 0!==r[1]?r[1]:r[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";var n=e.length,a=t.timeZone.length;return t.dateTime=e.substring(0,n-a),t.isoStrParts=s._IsoStrParts(t.dateTime),t},getISOStrFormatType:function(e){let t;const r=s._ISO_DATE_REGEXP.exec(e);if(null===r&&s._throwInvalidISOStringSyntax(e),void 0===r[1]&&void 0===r[2])return t="local",t;return t="Z"===(void 0!==r[1]?r[1]:r[2])?"zulu":"offset",t},_isLeapYear:function(e){return e%400==0||e%100!=0&&e%4==0},_getDaysInMonth:function(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return s._isLeapYear(e)?29:28;default:return 30}},_throwInvalidISOStringRange:function(e,t,r,n,a){var o=new RangeError("The string "+e+" is not a valid ISO 8601 string: "+r+" is out of range.  Enter a value between "+n+" and "+a+" for "+t),i={errorCode:"isoStringOutOfRange",parameterMap:{isoString:e,value:r,minValue:n,maxValue:a,propertyName:t}};throw o.errorInfo=i,o},_throwInvalidISOStringSyntax:function(e){var t=new Error("The string "+e+" is not a valid ISO 8601 string syntax."),r={errorCode:"invalidISOString",parameterMap:{isoStr:e}};throw t.errorInfo=r,t},trim:function(e){return(e+"").replace(s.regexTrim,"")},trimRightZeros:function(e){return(e+"").replace(s.regexTrimRightZeros,"")},trimNumber:function(e){return(e+"").replace(s.regexTrimNumber,"")},startsWith:function(e,t){return 0===e.indexOf(t)},toUpper:function(e){return e.split("").join(" ").toUpperCase()},padZeros:function(e,t){var r=e+"",n=!1;return e<0&&(r=r.substr(1),n=!0),t>1&&r.length<t&&(r=(r=s.zeros[t-2]+r).substr(r.length-t,t)),n&&(r="-"+r),r},zeroPad:function(e,t,r){for(var n=""+e,a=n.length;a<t;a+=1)n=r?"0"+n:n+"0";return n},getTimeStringFromOffset:function(e,t,r,n){var a=r?t>=0:t<0,o=Math.abs(t),i=Math.floor(o/60),u=o%60,l=a?"-":"+";n&&(i=s.zeroPad(i,2,!0));var g=e+l+i;return(u>0||n)&&(g+=":"+s.zeroPad(u,2,!0)),g},getNumberingSystemKey:function(e,t){if(void 0===t)return"latn";var r=s.getNumberingExtension(t),n="symbols-numberSystem-"+r;return void 0===e.numbers[n]&&(r="latn"),r},getBCP47Lang:function(e){return e.split("-")[0]},getBCP47Region:function(e){var t=e.split("-");return 3===t.length?t[2]:2===t.length&&2===t[1].length?t[1]:"001"},getNumberingExtension:function(e){var t=e||"en-US",r=t.indexOf("-u-nu-"),n="latn";return-1!==r&&(n=t.substr(r+6,4)),n},haveSamePropertiesLength:function(e){return Object.keys(e).length},getLocaleElementsMainNode:function(e){var t=e.main;return t[Object.keys(t)[0]]},getLocaleElementsMainNodeKey:function(e){var t=e.main;return Object.keys(t)[0]},_toBoolean:function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e},getGetOption:function(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(r,n,a,o){if(void 0!==e[r]){var i=e[r];switch(n){case"boolean":i=s._toBoolean(i);break;case"string":i=String(i);break;case"number":i=Number(i);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==a&&-1===a.indexOf(i)){for(var u=[],l=0;l<a.length;l++)u.push(a[l]);var g="The value '"+e[r]+"' is out of range for '"+t+"' options property '"+r+"'. Valid values: "+u,p=new RangeError(g),f={errorCode:"optionOutOfRange",parameterMap:{propertyName:r,propertyValue:e[r],propertyValueValid:u,caller:t}};throw p.errorInfo=f,p}return i}return o}},matchString:function(e,t,r,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var a=s.getGetOption(n,"OraI18nUtils.matchString");n.usage=a("usage","string",["sort","search"],"sort"),n.sensitivity=a("sensitivity","string",["base","accent","case","variant"],"base");for(var o=e.length,i=t.length-1,u=0;u<o;u++)for(var l=0;l<3;l++){var g=o-u;if(g=Math.min(g,i+l),0===e.substr(u,g).localeCompare(t,r,n))return[u,u+(g-1)]}return null}};var u={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3},timeZone:{pos:7}};s.isoToDate=function(e){return new Date(this._normalizeIsoString(e))},s._copyTimeOver=function(e,t){if(!e||!t)throw new Error("Provided invalid arguments");var r=this._normalizeIsoString(t),n=e.indexOf("T"),a=r.indexOf("T");return r.substring(0,a)+(-1!==n?e.substring(n):"T00:00:00.000")},s._clearTime=function(e){return this._dateTime(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},s._dateTime=function(e,t,r){if(!e||!t)throw new Error("Invalid argument invocation");var a,o,i=null,s=u,l=this.padZeros,g=this._normalizeIsoString(e),p=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(g);if(!p)throw new Error("Unable to capture anything");if(p=p.slice(1),Array.isArray(t)){i={};for(var f=0,d=t.length;f<d;f++){var c=t[f];if(c in s){if(o=p[a=s[c].pos],r&&"timeZone"===c)throw new Error("Dude you tried to ask timezone to be parsed");if(r){var m=parseInt(o,10);i[c]=1===a?m-1:m}else i[c]=o}}}else if(n.isPlainObject(t)){for(var v=Object.keys(t),h=0;h<v.length;h++){var y=v[h],S=s[y];a=S.pos,o=t[y],1===a&&"number"==typeof o&&(o+=1),p[a]=S.pad?l(o,S.pad):o}i=p[0]+"-"+p[1]+"-"+p[2]+"T"+p[3]+":"+p[4]+":"+p[5]+(p.length>6&&p[6]?"."+p[6]+(8===p.length&&p[7]?p[7]:""):"")}return i},s._normalizeIsoString=function(e){if(!e)throw new Error("Provided invalid arguments");var t,r=(new Date).toISOString(),n=r.substring(0,r.indexOf("T")),a=e.indexOf("T"),o=-1===a?e:e.substring(0,a);return(o=o||n)+(-1!==a?(t=e.substring(a)).split(":").length>1?t:t+":00":"T00:00:00.000")},s.formatString=function(e,t){for(var r=t.length,n=e,a=0;a<r;a++){var o="{"+a+"}";n=n.replace(o,t[a])}return n},s.getInitials=function(e,t){var r,n=0,a=0;if(void 0!==e&&e.length>0&&(n=e.charCodeAt(0)),n>=1536&&n<=1791)return"";if(n>=2304&&n<=2431)return e.charAt(0);if(n>=3584&&n<=3711)return e.charAt(0);if(n>=4352&&n<=4607||n>=12592&&n<=12687||n>=43360&&n<=43391||n>=44032&&n<=55295)return e;if(void 0!==t&&t.length>0&&(n=t.charCodeAt(0)),n>=11904&&n<=12255||n>=12288&&n<=12591||n>=12688&&n<=12799||n>=13056&&n<=19903||n>=19968&&n<=40959||n>=63744&&n<=64255)return t;if(n>=55296&&n<=56319){if(t.length<2)return"";if((a=t.charCodeAt(1))<56320||a>57343)return"";if((r=1024*(n-55296)+(a-56320)+65536)>=110592&&r<=110847||r>=127488&&r<=127743||r>=131072&&r<=173791||r>=173824&&r<=177983||r>=177984&&r<=178207||r>=178208&&r<=183983||r>=194560&&r<=195103)return t}return n="",a="",void 0!==e&&e.length>0&&(n=e.charAt(0).toUpperCase()),void 0!==t&&t.length>0&&(a=t.charAt(0).toUpperCase()),n+a};const l={isoToDate:function(e){return s.isoToDate(e)},isoToLocalDate:function(e){return s.isoToLocalDate(e)},dateToLocalIso:function(e){return s.dateToLocalIso(e)},getLocalTimeZoneOffset:function(){return s.getLocalTimeZoneOffset()},getConverterInstance:function(e){return a.getConverterInstance(e)},_minMaxIsoString:function(e,t){if(e){var r=(t=t||this.dateToLocalIso(new Date)).indexOf("T");0===e.indexOf("T")&&r>0&&(e=t.substring(0,r)+e)}return e},_getISOStrFormatType:function(e){return s.getISOStrFormatType(e)},_verifyValueMinMax:function(e,t,r){let n,a,o;if(e)try{n=l._getISOStrFormatType(e)}catch(e){i.warn("value must be an iso string: "+e)}if(t)try{a=l._getISOStrFormatType(t)}catch(e){i.warn("min must be an iso string: "+e)}if(r)try{o=l._getISOStrFormatType(r)}catch(e){i.warn("max must be an iso string: "+e)}e&&t&&r&&(n!==a||n!==o)&&i.warn(`min and max must be in the same iso string format as value.\n    value is in ${n} format.`),e&&t&&n!==a&&i.warn(`min must be in the same iso string format as value.\n    value is in ${n} format.`),e&&r&&n!==o&&i.warn(`max must be in the same iso string format as value.\n      value is in ${n} format.`),t&&r&&a!==o&&i.warn(`min and max must be in the same iso string format.\n      min is in ${a} format and max is in ${o} format.`)},__getConverterOptionError:function(e,n){t.Assert.assertObject(n);var a,i="",s="",u=n.propertyName;if("optionTypesMismatch"===e){var g=n.requiredPropertyName;a=n.requiredPropertyValueValid,i=r.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:u,propertyValue:n.propertyValue,requiredPropertyName:g}),s=l._getOptionValueDetailMessage(g,a)}else"optionTypeInvalid"===e?(u=n.propertyName,a=n.propertyValueValid,i=r.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:u}),s=l._getOptionValueDetailMessage(u,a)):"optionOutOfRange"===e?(i=r.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:u,propertyValue:n.propertyValue}),a=n.propertyValueValid,s=l._getOptionValueDetailMessage(u,a)):"optionValueInvalid"===e&&(i=r.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:u,propertyValue:n.propertyValue}),a=n.propertyValueHint,s=l._getOptionValueDetailMessage(u,a));return new o.ConverterError(i,s)},_getOptionValueDetailMessage:function(e,t){var n;return t?("string"==typeof t?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",t=t.join(r.getTranslatedString("oj-converter.plural-separator"))),r.getTranslatedString(n,{propertyName:e,propertyValueValid:t})):""},_copyTimeOver:function(e,t){return s._copyTimeOver(e,t)},_clearTime:function(e){return s._clearTime(e)},_dateTime:function(e,t,r){return s._dateTime(e,t,r)},_normalizeIsoString:function(e){return s._normalizeIsoString(e)},getInitials:function(e,t){return s.getInitials(e,t)}};e.IntlConverterUtils=l,e.OraI18nUtils=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojconverterutils-i18n.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojconverter',["ojs/ojcore-base","jquery"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const o=function(t){this.Init(t)};return t.Object.createSubclass(o,t.Object,"oj.Converter"),o.prototype.Init=function(t){o.superclass.Init.call(this),this._options=t},o.prototype.getOptions=function(){return this._options||{}},o.prototype.resolvedOptions=function(){var t={};return e.extend(t,this._options),t},o});
//# sourceMappingURL=ojconverter.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojconverter-number',["exports","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojlocaledata","ojs/ojconverter","ojs/ojtranslation","ojs/ojconfig","ojs/ojcore-base","ojs/ojvalidation-error"],function(e,r,t,n,i,a,o,s,u){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const l=function(){var e,n=/^[+-]?infinity$/i,i=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,a=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,o=/([\^$.*+?|\[\](){}])/g,s=/(^0\.0*)([^0].*$)/,u=/^0+$/,l={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},c={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},m={HALF_UP:"ceil",CEILING:"ceil",UP:"ceil",HALF_DOWN:"floor",FLOOR:"floor",DOWN:"floor",DEFAULT:"round"};function p(e,r,t){var n;for(n=e.length;n<r;n+=1)e=t?"0"+e:e+"0";return e}function g(e,r,t,n,i){var a=e[r];return void 0!==a?(a=Number(a),(isNaN(a)||a<t||a>n)&&function(e,r,t,n){var i=new RangeError(e+" is out of range.  Enter a value between "+r+" and "+t+" for "+n),a={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:r,maxValue:t,propertyName:n}};throw i.errorInfo=a,i}(a,t,n,r),Math.floor(a)):i}function v(e){var r=e||"en-US",t=r.indexOf("-u-nu-"),n="latn";return-1!==t&&(n=r.substr(t+6,4)),n}function d(e,n,i,a){var o,s=n,u=t.OraI18nUtils.getLocaleElementsMainNode(e),l=function(e,r){if(void 0===r)return"latn";var t=v(r),n="symbols-numberSystem-"+t;return void 0===e.numbers[n]&&(t="latn"),t}(u,a);s.numberingSystemKey=l,s.numberingSystem="symbols-numberSystem-"+l;var c=i.lenientParse;if(s.lenientParse=c||"full",s.style=i.style,void 0!==i.pattern&&i.pattern.length>0)o=i.pattern;else{var m;switch(s.style){case"decimal":m="decimalFormats-numberSystem-";break;case"currency":m="currencyFormats-numberSystem-";break;case"percent":m="percentFormats-numberSystem-";break;default:m="decimalFormats-numberSystem-"}m+=s.numberingSystemKey,o=u.numbers[m].standard}var p=i.decimalFormat;void 0===p&&(p=i.currencyFormat),void 0===p||"decimal"!==s.style&&"currency"!==s.style||(s.shortDecimalFormat=u.numbers["decimalFormats-numberSystem-latn"][p].decimalFormat);var d=u.numbers[s.numberingSystem].decimal,y=u.numbers[s.numberingSystem].group,h=i.separators;if(void 0!==h){s.separators=h;var b=h.decimal,F=h.group;void 0!==b&&""!==b&&(d=h.decimal),void 0!==F&&(y=h.group)}var S=t.OraI18nUtils.getLocaleElementsMainNodeKey(e),x=S.split("-")[0];if(s.plurals=e.supplemental.plurals,s.lang=x,s.pat=o,s.minusSign=u.numbers[s.numberingSystem].minusSign,s.decimalSeparator=d,s.exponential=u.numbers[s.numberingSystem].exponential,s.groupingSeparator=y,s.currencyDisplay=i.currencyDisplay,void 0!==i.currency&&(s.currencyCode=i.currency.toUpperCase()),void 0!==i.unit&&(s.unit=i.unit.toLowerCase()),function(e,r,t,n){for(var i,a=n,o=!1,s=!1,u=0,l=0,c=!0,m=1;m>=0&&l<r.length;--m){var p=!1,g="",v="",d=-1,y=1,h=0,b=0,F=0,S=-1,x=-1,D=0;c=!0;for(var O=l;O<r.length;++O){var P=r.charAt(O);switch(D){case 0:case 2:if(p){if("'"===P){O+1<r.length&&"'"===r.charAt(O+1)?(O+=1,c?g=g.concat("''"):v=v.concat("''")):p=!1;continue}}else{if("#"===P||"0"===P||","===P||"."===P){D=1,O-=1;continue}if(""===P){void 0===e.currency&&f("style"),a.style="currency";var j=O+1<r.length&&""===r.charAt(O+1);j&&(O+=1),c?g=g.concat(j?"'":"'"):v=v.concat(j?"'":"'");continue}if("'"===P){if("'"===P){O+1<r.length&&"'"===r.charAt(O+1)?(O+=1,c?g=g.concat("''"):v=v.concat("''")):p=!0;continue}}else{if(";"===P){0!==D&&0!==m||M(r),l=O+1,O=r.length;continue}if("%"===P){a.style="percent",1!==y&&M(r),a.isPercent=!0,y=100,c?g=g.concat("'%"):v=v.concat("'%");continue}if(""===P){1!==y&&M(r),a.style="perMill",a.isPerMill=!0,y=1e3,c?g=g.concat("'"):v=v.concat("'");continue}if("-"===P){c?g=g.concat("'-"):v=v.concat("'-");continue}}}c?g=g.concat(P):v=v.concat(P);break;case 1:if(1!==m){0===(u-=1)&&(D=2,c=!1);continue}if(u+=1,"#"===P)b>0?F+=1:h+=1,S>=0&&d<0&&(S+=1);else if("0"===P)F>0&&M(r),b+=1,S>=0&&d<0&&(S+=1);else if(","===P)x=S,S=0;else{if("."!==P){if(A=O,T="E",$=void 0,void 0,$=r.substr(A,T.length),null!==new RegExp(T,"i").exec($)){for(s&&M(r),s=!0,i=0,O+="E".length;O<r.length&&"0"===r.charAt(O);)i+=1,u+=1,O+=1;(h+b<1||i<1)&&M(r),D=2,c=!1,O-=1;continue}D=2,c=!1,O-=1,u-=1;continue}d>=0&&M(r),d=h+b+F}}}if(0===b&&h>0&&d>=0){var _=d;0===_&&(_+=1),F=h-_,h=_-1,b=1}if((d<0&&F>0||d>=0&&(d<h||d>h+b)||0===S||p)&&M(r),1===m){U=I=g,E=N=v;var C=h+b+F,L=d>=0?d:C;a.minimumIntegerDigits=L-h,a.maximumIntegerDigits=s?h+a.minimumIntegerDigits:2147483647,a.maximumFractionDigits=d>=0?C-d:0,a.minimumFractionDigits=d>=0?h+b-d:0,a.groupingSize=S>0?S:0,a.groupingSize0=x}else U=g,E=v,o=!0}var A,T,$;0===r.length&&(I="",N="",a.minimumIntegerDigits=0,a.maximumIntegerDigits=2147483647,a.minimumFractionDigits=0,a.maximumFractionDigits=2147483647);a.useExponentialNotation=s,a.minExponentDigits=i,(!o||0===U.localeCompare(I)&&0===E.localeCompare(N))&&("currency"===a.style&&"ar"===a.lang?(E=N+"'-",U=I):(E=N,U="'-"+I));!function(e,r){var t=r,n={};null!==I&&(t.positivePrefix=w(I,e,t,n));null!==N&&(t.positiveSuffix=w(N,e,t,n));null!==U&&(t.negativePrefix=w(U,e,t,n));null!==E&&(t.negativeSuffix=w(E,e,t,n));void 0!==n.name&&(t.positiveSuffix=""+n.name,t.positivePrefix="","ar"===t.lang?(t.negativeSuffix=e.numbers[t.numberingSystem].minusSign+""+n.name,t.negativePrefix=""):(t.negativeSuffix=""+n.name,t.negativePrefix=e.numbers[t.numberingSystem].minusSign))}(t,a)}(i,o,u,s),void 0===i.pattern&&(s.minimumIntegerDigits=g(i,"minimumIntegerDigits",1,21,s.minimumIntegerDigits),void 0!==i.maximumFractionDigits&&(s.maximumFractionDigits=g(i,"maximumFractionDigits",0,20,s.maximumFractionDigits),s.maximumFractionDigits<s.minimumFractionDigits&&(s.minimumFractionDigits=s.maximumFractionDigits)),void 0!==i.minimumFractionDigits&&(s.minimumFractionDigits=g(i,"minimumFractionDigits",0,20,s.minimumFractionDigits)),s.maximumFractionDigits<s.minimumFractionDigits&&(s.maximumFractionDigits=s.minimumFractionDigits,r.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===s.style&&void 0===i.minimumFractionDigits&&(void 0===p||"standard"===p))){var D=e.supplemental.currencyData.fractions[i.currency];if(void 0!==D){var O=parseInt(D._digits,10);s.minimumFractionDigits=O,s.maximumFractionDigits=O}}}function f(e){var r=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw r.errorInfo=t,r}function y(e,r){var n=t.OraI18nUtils.getGetOption(e,r),i=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===i||"currency"===i){var a="decimal"===i?"decimalFormat":"currencyFormat";i=n(a,"string",["standard","short","long"]),"OraNumberConverter.parse"===r&&void 0!==i&&"standard"!==i&&function(e){var r=new Error("long and short "+e+" are not supported for parsing"),t={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw r.errorInfo=t,r}(a)}var o=n("currency","string");"currency"===i&&void 0===o&&f("style"),o=n("unit","string"),"unit"===i&&void 0===o&&function(e){var r=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is "byte" or "bit".'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw r.errorInfo=t,r}("style"),i=n("roundingMode","string",["UP","DOWN","FLOOR","CEILING","HALF_UP","HALF_DOWN","HALF_EVEN"])}function h(e,r,n){var i=n.groupingSize,a=n.groupingSize0,o=n.decimalSeparator,s=e+"",l=s.split(/e/i),c=l.length>1?parseInt(l[1],10):0,m=(l=(s=l[0]).split(".")).length>1?l[1]:"",g=Math.min(n.maximumFractionDigits,m.length-c);l.length>1&&m.length>c&&(e=b(e,g,r.roundingMode||"DEFAULT"));c=(l=(s=Math.abs(e)+"").split(/e/i)).length>1?parseInt(l[1],10):0,l=(s=l[0]).split("."),s=l[0],m=l.length>1?l[1]:"",c>0?(s+=(m=p(m,c,!1)).slice(0,c),m=m.substr(c)):c<0&&(m=(s=p(s,(c=-c)+1,!0)).slice(-c,s.length)+m,s=s.slice(0,-c)),g>0&&m.length>0?(m=m.length>g?m.slice(0,g):p(m,g,!1),!0===u.test(m)&&(m=m.slice(0,n.minimumFractionDigits)),m=o+m):m=n.minimumFractionDigits>0?o:"",m=p(m=t.OraI18nUtils.trimRightZeros(m),o.length+n.minimumFractionDigits,!1);var v=n.groupingSeparator,d="";!1===r.useGrouping&&void 0===r.pattern&&(v="");var f=(s=p(s,n.minimumIntegerDigits,!0)).length-1;for(m=m.length>1?m:"";f>=0;){if(0===i||i>f)return s.slice(0,f+1)+(d.length?v+d+m:m);d=s.slice(f-i+1,f+1)+(d.length?v+d:""),f-=i,a>0&&(i=a)}return s.slice(0,f+1)+v+d+m}function b(e,r,t){var n,i=t,a=function(e){var r=e.toString(),t=!1;"-"===(r=r.replace("E","e")).charAt(0)&&(t=!0,r=r.substring(1));var n=r.split("e"),i=n[0],a=Number(n[1]);if(a>0)if((r=i.substr(0,1)+i.substr(2)).length-1<a)for(var o=a+1-r.length;o>0;)r+="0",o-=1;else r.length-1>a&&(r=r.substr(0,a+1)+"."+r.substr(a+1));else if(a<0){var s=i.substr(0,1)+i.substr(2);r="0.";for(var u=a;u<-1;u++)r+="0";r+=s}return t&&(r="-"+r),r}(e);if(void 0===(a=a.split("."))[1])return Math.abs(e);if("DEFAULT"!==t){if("HALF_UP"===t||"HALF_EVEN"===t||"HALF_DOWN"===t){if("5"===a[1][r]){var o=a[1].substr(r);(o=parseInt(o,10))>5&&(i="HALF_UP")}else i="DEFAULT";e=Math.abs(e)}n=function(e,r,t){if(0===r)return Math[t](e);var n=e.toString().split("e"),i=n[0],a=n[1],o=i+"e"+(a?parseInt(a,10)-r:-r),s=parseFloat(o),u=Math[t](s);return n=u.toString().split("e"),i=n[0],a=n[1],o=i+"e"+(a?parseInt(a,10)+r:r),s=parseFloat(o)}(e,-r,i=function(e,r,t,n){var i=m[r];if("HALF_EVEN"===r){var a;if(0===t){var o=e[0].length;a=parseInt(e[0][o-1],10)}else a=parseInt(e[1][t-1],10);i=a%2==0?m.HALF_DOWN:m.HALF_UP}else"UP"===r&&n<0?i=m.DOWN:"DOWN"===r&&n<0&&(i=m.UP);return i}(a,i,r,e))}else{var s=Math.pow(10,r);if(n=Math.round(e*s)/s,!isFinite(n))return e}return Math.abs(n)}function F(e,r,n,i,a){var o=t.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(e))return e===1/0||e===-1/0?o.numbers[i.numberingSystem].infinity:"NaN";var u=e;!0===i.isPercent||"percent"===i.style?u*=100:!0===i.isPerMill&&(u*=1e3);var m=r.decimalFormat;void 0===m&&(m=r.currencyFormat);var g=i.style;u="decimal"!==g&&"currency"!==g||void 0===m||"standard"===m?!0===i.useExponentialNotation?function(e,r){var t=e+"",n=0,i=t.split(/e/i),a=i[0];s.lastIndex=0;var o=s.exec(a);null!==o?(n=o[1].length-1,a=o[2]):a=a.replace(".","");var u=i.length>1?parseInt(i[1],10):0,l=parseInt(a,10),c=r.minimumIntegerDigits+r.maximumFractionDigits;if(a.length>c){c-=a.length;var m=Math.pow(10,c);l=Math.round(l*m)}var g=r.minimumIntegerDigits+r.minimumFractionDigits;l=p(l+="",g,!1),-1!==t.indexOf(".")?u-=r.minimumIntegerDigits-t.indexOf(".")+n:u-=g-a.length-r.minimumFractionDigits;var v=Math.abs(u);v=p(v+"",r.minExponentDigits,!0),u<0&&(v=r.minusSign+v);var d=l.slice(0,r.minimumIntegerDigits);return l.slice(r.minimumIntegerDigits).length>0?d+=r.decimalSeparator+l.slice(r.minimumIntegerDigits)+r.exponential+v:d+=r.exponential+v,d}(u,i):"unit"===g?function(e,r,n,i){var a,o,s=Math.abs(e);s>=1099511627776?(a="digital-tera",o=s/1099511627776):s>=1073741824?(a="digital-giga",o=s/1073741824):s>=1048576?(a="digital-mega",o=s/1048576):s>=1024?(a="digital-kilo",o=s/1024):(a="digital-",o=s),a+=n.unit;var u=n.lang,l=n.plurals[u](o);l="unitPattern-count-"+l,e<0&&(o=-o);var c=h(o,r,n),m=i.units.narrow[a][l];return c=t.OraI18nUtils.formatString(m,[c])}(u,r,i,o):h(u,r,i):function(e,r,t){var n,i,a,o=Math.abs(e),s=function(e){for(var r=Object.keys(l),t=0;t<r.length;t++)for(var n=r[t],i=l[n].length,a=0;a<i;a++)if(l[n][a]<=e)return[n,l[n][a]];return[e,null]}(o),u="";if(null!==s[1]){var m=t.lang,p=t.plurals[m](Math.floor(o/c[s[0]]));if(n=s[1]+"-count-"+p,void 0===(n=t.shortDecimalFormat[n])&&(p="other",n=s[1]+"-count-"+p,n=t.shortDecimalFormat[n]),a=(i=function(e){var r=0,t=0,n=0,i="";if("0"!==e[0]){for(;"0"!==e[r]&&r<e.length;)r+=1;i=e.substr(0,r),n=r}for(r=n;r<e.length&&"0"===e[r];r++)t+=1;return[i,t]}(n))[1],u=i[0],a<n.length){var g=1*Math.pow(10,a);o/=g=s[1]/g*10}}var v="";return void 0!==n&&(v=n.substr(a+i[0].length)),e<0&&(o=-o),v=u+h(o,r,t)+(v=v.replace(/'\.'/g,"."))}(u,r,i);var d="";d+=e<0&&u-0!=0?i.negativePrefix+u+i.negativeSuffix:i.positivePrefix+u+i.positiveSuffix;var f=v(a);if(void 0===t.OraI18nUtils.numeringSystems[f]&&(f="latn"),"latn"!==f){var y,b=[];for(y=0;y<d.length;y++)d[y]>="0"&&d[y]<="9"?b.push(t.OraI18nUtils.numeringSystems[f][d[y]]):b.push(d[y]);return b.join("")}return d}function S(e,r){var n=r.groupingSeparator,i=r.decimalSeparator,o=r.minusSign,s="",u="",l=t.OraI18nUtils.toUpper(r.exponential),c=t.OraI18nUtils.toUpper(e),m=n;c=(c=c.split(l).join("E")).split(m).join("");var p=m.replace(/\u00A0/g," ");m!==p&&(c=c.split(p).join("")),"."===(c=c.split(i).join(".")).charAt(0)&&(c=c.substr(1),u="."),c=c.replace(o,"-");var g=u+a.exec(c)[2];return t.OraI18nUtils.startsWith(g,"-")?(g=g.substr("-".length),s="-"):t.OraI18nUtils.startsWith(c,"+")&&(g=g.substr("+".length),s="+"),[s,g]}function x(e,r,n,i){return isNaN(e)&&D(n.style,n,i),!0===n.isPercent||"percent"===n.style?e/=100:!0===n.isPerMill&&(e/=1e3),t.OraI18nUtils.getGetOption(r,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(e=function(e,r,t){var n=r.maximumFractionDigits,i=e<0,a=t.roundingMode||"DEFAULT",o=b(e,n,a);return i?-o:o}(e,n,r)),e}function D(e,r,t){var n,i="Enter a number in this format:"+r.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var a=new Error(i),o={errorCode:n,parameterMap:{value:t,format:r.pat}};throw a.errorInfo=o,a}function O(e,r,a,s){var u=t.OraI18nUtils.getLocaleElementsMainNode(r),l={},c=function(e,r){var n,i=v(r);if(void 0===t.OraI18nUtils.numeringSystems[i])return e;var a=[];for(n=0;n<e.length;n++){var o=t.OraI18nUtils.numeringSystems[i].indexOf(e[n]);-1!==o?a.push(o):a.push(e[n])}return a.join("")}(e,s);d(r,l,a,s);var m=NaN,p=c.replace(/ /g,"");if(n.test(p))return m=parseFloat(c);var g=function(e,r,n,i){var a,s=t.OraI18nUtils.trimNumber(e),u="",l=!1,c=i.numbers[n.numberingSystem].plusSign,m=new RegExp("^"+c.replace(o,"\\$1"));s=s.replace(m,"");var p=t.OraI18nUtils.trimNumber(n.positivePrefix),g=t.OraI18nUtils.trimNumber(n.positiveSuffix),v=t.OraI18nUtils.trimNumber(n.negativePrefix),d=t.OraI18nUtils.trimNumber(n.negativeSuffix),f=new RegExp("^"+(p||"").replace(o,"\\$1")),y=new RegExp((g||"").replace(o,"\\$1")+"$"),h=new RegExp("^"+(v||"").replace(o,"\\$1")),b=new RegExp((d||"").replace(o,"\\$1")+"$");if(!0===h.test(s)&&!0===b.test(s))s=(s=s.replace(h,"")).replace(b,""),u="-",l=!0;else if(!0===f.test(s)&&!0===y.test(s))s=(s=s.replace(f,"")).replace(y,""),u="+",l=!0;else if("currency"===n.style){var F,x=n.currencyCode,O=x;if(void 0!==i.numbers.currencies[x]&&(O=i.numbers.currencies[x].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?F=O:"code"===n.currencyDisplay&&(F=x),void 0!==F){var I=(p||"").replace(F,""),N=(g||"").replace(F,""),U=(v||"").replace(F,""),E=(d||"").replace(F,"");f=new RegExp(("^"+I).replace(o,"\\$1")),y=new RegExp(N.replace(o,"\\$1")+"$"),h=new RegExp(("^"+U).replace(o,"\\$1")),b=new RegExp(E.replace(o,"\\$1")+"$"),!0===h.test(s)&&!0===b.test(s)?(s=(s=s.replace(h,"")).replace(b,""),u="-",l=!0):!0===f.test(s)&&!0===y.test(s)&&(s=(s=s.replace(f,"")).replace(y,""),u="+",l=!0)}}return l?a=[u,s]:"full"===n.lenientParse?(a=S(s,n))[2]=!0:D(n.style,n,e),a}(c,0,l,u),f=g[0],y=g[1];if(f=f||"+",g[2])return x(m=parseFloat(f+y),a,l,e);var h=function(e,r){var n,i,a={},o=r.decimalSeparator,s=r.groupingSeparator,u=e.replace(/ /g,""),l=r.exponential,c=u.indexOf(l.toLowerCase());c<0&&(c=u.indexOf(t.OraI18nUtils.toUpper(l))),c<0?(i=u,a.exponent=null):(i=u.substr(0,c),a.exponent=u.substr(c+l.length));var m=o,p=i.indexOf(m);p<0?(n=i,a.fraction=null):(n=i.substr(0,p),a.fraction=i.substr(p+m.length)),n=n.split(s).join("");var g=s.replace(/\u00A0/g," ");return s!==g&&(n=n.split(g).join("")),a.integer=n,a}(y,l),b=h.integer,F=h.fraction,O=h.exponent,I=f+b;if(null!==F&&(I+="."+F),null!==O){var N=function(e,r){var n,i=r.minusSign,a=r.plusSign,o=t.OraI18nUtils.trimNumber(e);return i=t.OraI18nUtils.trimNumber(i),a=t.OraI18nUtils.trimNumber(a),t.OraI18nUtils.startsWith(o,i)?n=["-",o.substr(i.length)]:t.OraI18nUtils.startsWith(o,t.OraI18nUtils.trimNumber(a))&&(n=["+",o.substr(a.length)]),n||["",o]}(O,l);I+="e"+(N[0]||"+")+N[1]}return i.test(I)?m=parseFloat(I):"full"===l.lenientParse?(I=S(c,l),m=parseFloat(I[0]+I[1])):D(l.style,l,e),x(m,a,l,e)}var I,N,U,E;function M(e){var r=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "#,##0.###".'),t={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:"#,##0.###"}};throw r.errorInfo=t,r}function w(e,r,t,n){for(var i="",a=0;a<e.length;){var o=e.charAt(a);if(a+=1,"'"!==o){switch(o){case"":var s=t.currencyCode,u=s,l=s;void 0!==r.numbers.currencies[s]&&(u=r.numbers.currencies[s].displayName,l=r.numbers.currencies[s].symbol),void 0===t.currencyDisplay||"symbol"===t.currencyDisplay?o=l:"code"===t.currencyDisplay?o=s:(o=u,n.name=o);break;case"%":o=r.numbers[t.numberingSystem].percentSign;break;case"":o=r.numbers[t.numberingSystem].perMille;break;case"-":o=r.numbers[t.numberingSystem].minusSign}i=i.concat(o)}}return i}function P(e,r,n){var i={};return y(r,"OraNumberConverter.resolvedOptions"),d(e,i,r,n),i.numberingSystemKey=v(n),void 0===t.OraI18nUtils.numeringSystems[i.numberingSystemKey]&&(i.numberingSystemKey="latn"),i}function j(e,r,t){var n={locale:t,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===r.useGrouping||r.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==r.decimalFormat&&(n.decimalFormat=r.decimalFormat),"currency"===e.style&&void 0!==r.currencyFormat&&(n.currencyFormat=r.currencyFormat),"currency"===e.style&&(n.currency=r.currency,n.currencyDisplay=void 0===r.currencyDisplay?"symbol":r.currencyDisplay),void 0!==r.unit&&(n.unit=r.unit),void 0!==r.pattern&&(n.pattern=r.pattern);var i=r.roundingMode,a=r.roundDuringParse;void 0!==i&&(n.roundingMode=i),void 0!==a&&(n.roundDuringParse=a);var o=e.lenientParse;void 0!==o&&(n.lenientParse=o);var s=e.separators;return void 0!==s&&(n.separators=s),n.virtualKeyboardHint=function(e,r){var t="text";switch(r.style){case"unit":t="text";break;case"currency":case"percent":t=void 0===r.pattern?"text":_(e,r);break;default:t=void 0===r.pattern?"short"===r.decimalFormat||"long"===r.decimalFormat?"text":function(e,r){if(void 0===r.useGrouping||r.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,r):_(e,r)}return t}(e,r),n}function _(e,r){var t;if(t=r.pattern,/[^0-9.#]/i.test(t))return"text";var n=function(e){if(-1!==e.indexOf(","))return!0;return!1}(r.pattern),i=function(e){if(-1!==e.indexOf("."))return!0;return!1}(r.pattern);if(n&&i){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return i&&!n&&"."!==e.decimalSeparator||!i&&n&&""!==e.groupingSeparator?"text":"number"}return{getInstance:function(){return e||(e={format:function(e,r,t,n){(arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),y(t,"OraNumberConverter.format");var i={};return d(r,i,t,n),F(e,t,r,i,n)},parse:function(e,r,t,n){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),y(t,"OraNumberConverter.parse"),O(e,r,t,n))},resolvedOptions:function(e,r,n){(arguments.length<3||void 0===n)&&(n=t.OraI18nUtils.getLocaleElementsMainNodeKey(e)),(arguments.length<2||void 0===r)&&(r={useGrouping:!0,style:"decimal"});var i=P(e,r,n);return j(i,r,n)}}),e}}}(),c=function(){this.Init()};oj.Object.createSubclass(c,i,"oj.NumberConverter"),c.prototype.Init=function(e){c.superclass.Init.call(this,e)},c.prototype.format=function(e){return c.superclass.format.call(this,e)},c.prototype.parse=function(e){return c.superclass.parse.call(this,e)};const m=function(e){this.Init(e)};s.Object.createSubclass(m,c,"oj.IntlNumberConverter"),m.prototype.Init=function(e){m.superclass.Init.call(this,e)},m.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=l.getInstance()),this._wrapped},m.prototype.format=function(e){if(null==e||"string"==typeof e&&0===s.StringUtils.trim(""+e).length||"number"==typeof e&&isNaN(e))return"";var t,i=o.getLocale(),u=n.__getBundle(),l=this.resolvedOptions();try{t=this._getWrapped().format(e,u,l,i)}catch(r){throw this._processConverterError(r,e)}if("NaN"===t){var c=a.getTranslatedString("oj-converter.number.invalidNumberFormat.summary",{value:e}),m=a.getTranslatedString("oj-converter.number.invalidNumberFormat.detail");r.error(c+" "+m)}return t},m.prototype.getHint=function(){return null},m.prototype.getOptions=function(){return m.superclass.getOptions.call(this)},m.prototype.parse=function(e){var r,t,i;if(null==e||""===e)return null;r=o.getLocale(),t=n.__getBundle(),i=this.resolvedOptions();try{return this._getWrapped().parse(s.StringUtils.trim(e),t,i,r)}catch(r){throw this._processConverterError(r,e)}},m.prototype.resolvedOptions=function(){var e,t=o.getLocale();if(t!==this._locale||!this._resolvedOptions){e=n.__getBundle();try{if(!e)return r.error("locale bundle for the current locale %s is unavailable",t),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,this.getOptions(),t),this._locale=t}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},m.prototype._processConverterError=function(e,r){var n,i,o,l,c=e.errorInfo;if(c){var m=c.errorCode,p=c.parameterMap;switch(s.Assert.assertObject(p),m){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":n=t.IntlConverterUtils.__getConverterOptionError(m,p);break;case"decimalFormatMismatch":o="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":o="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":o="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":l=a.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),i=a.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),n=new u.ConverterError(l,i)}o&&(l=a.getTranslatedString(o,{value:r||p.value,format:p.format}),i=a.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),n=new u.ConverterError(l,i))}return n||(l=e.message,i=e.message,n=new u.ConverterError(l,i)),n},m.prototype._getHintValue=function(){var e="";try{e=this.format(12345.98765)}catch(t){t instanceof u.ConverterError&&(e="",r.error("error retrieving hint value in format"))}return e},e.IntlNumberConverter=m,e.NumberConverter=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojconverter-number.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdvt-axis',["exports","ojs/ojconverter-number"],function(t,i){"use strict";const a=function(){};a.MINIMUM_AXIS_BUFFER=10,a.prototype.Init=function(t,i,a){this._context=t,this.Position=i.position,this._radius=i._radius,"top"===this.Position||"bottom"===this.Position?(this.StartCoord=a.x,this.EndCoord=a.x+a.w):"left"===this.Position||"right"===this.Position?(this.StartCoord=a.y,this.EndCoord=a.y+a.h):"radial"===this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"===this.Position&&(i.isRTL?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI)),this.MinValue=null,this.MaxValue=null,this.GlobalMin=null,this.GlobalMax=null,this.DataMin=null,this.DataMax=null,this.StartOverflow=0,this.EndOverflow=0,null==i.leftBuffer&&(i.leftBuffer=1/0),null==i.rightBuffer&&(i.rightBuffer=1/0),this.Options=i},a.prototype.getCtx=function(){return this._context},a.prototype.getOptions=function(){return this.Options},a.prototype.getValueAt=function(t){if(null==t)return null;var i=Math.min(this.StartCoord,this.EndCoord),a=Math.max(this.StartCoord,this.EndCoord);return t<i||t>a?null:this.getUnboundedValueAt(t)},a.prototype.getCoordAt=function(t){return null==t||t<this.MinValue||t>this.MaxValue?null:this.getUnboundedCoordAt(t)},a.prototype.getBoundedValueAt=function(t){if(null==t)return null;var i=t,a=Math.min(this.StartCoord,this.EndCoord),n=Math.max(this.StartCoord,this.EndCoord);return t<a?i=a:t>n&&(i=n),this.getUnboundedValueAt(i)},a.prototype.getBoundedCoordAt=function(t){if(null==t)return null;var i=t;return t<this.MinValue?i=this.MinValue:t>=this.MaxValue&&(i=this.MaxValue),this.getUnboundedCoordAt(i)},a.prototype.getUnboundedValueAt=function(t){return null},a.prototype.getUnboundedCoordAt=function(t){return null};const n=function(t,i,a,n,o,e){this.Init(t,i,a,n,o,e)};n.SCALE_NONE="none",n.SCALE_AUTO="auto",n.SCALE_THOUSAND="thousand",n.SCALE_MILLION="million",n.SCALE_BILLION="billion",n.SCALE_TRILLION="trillion",n.SCALE_QUADRILLION="quadrillion",n.SCALING_FACTOR_DIFFERENCE=3,n.prototype.Init=function(t,i,a,n,o,e){this._translations=e,this._scales={},this._scalesOrder=[],this._factorToScaleMapping={},this.InitScales(),this.InitFormatter(t,i,a,n,o)},n.prototype.InitScales=function(){var t=function(t,i,a){var n;a&&(n=this._translations?this._translations[a]:null);var o={scaleFactor:i,localizedSuffix:n};this._scales[t]=o,this._scalesOrder.push(o),this._factorToScaleMapping[i]=o},i=n.SCALING_FACTOR_DIFFERENCE;t.call(this,n.SCALE_NONE,0*i),t.call(this,n.SCALE_THOUSAND,1*i,"labelScalingSuffixThousand"),t.call(this,n.SCALE_MILLION,2*i,"labelScalingSuffixMillion"),t.call(this,n.SCALE_BILLION,3*i,"labelScalingSuffixBillion"),t.call(this,n.SCALE_TRILLION,4*i,"labelScalingSuffixTrillion"),t.call(this,n.SCALE_QUADRILLION,5*i,"labelScalingSuffixQuadrillion"),this._scalesOrder.sort(function(t,i){return t.scaleFactor<i.scaleFactor?-1:t.scaleFactor>i.scaleFactor?1:0})},n.prototype.InitFormatter=function(t,i,a,n,o){var e,s,r=!1,l=!1;if("off"!==o&&(l=!0),"number"!=typeof(s=this._getScaleFactor(n))&&(r=!0),r){var h=Math.max(Math.abs(t),Math.abs(i)),M=this._getPowerOfTen(h);s=this._findNearestLEScaleFactor(M)}if(!0===l)if(0===a&&t===i){var u=s-this._getPowerOfTen(i);e=u<=0?Math.max(u+3,0):Math.max(u,4)}else{var c=this._getPowerOfTen(a);e=Math.max(s-c,0)}this._useAutoPrecision=l,this._scaleFactor=s,this._decimalPlaces=e},n.prototype._findNearestLEScaleFactor=function(t){var i=0;if(t<=this._scalesOrder[0].scaleFactor)i=this._scalesOrder[0].scaleFactor;else if(t>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)i=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var a=this._scalesOrder.length-1;a>=0;a--)if(this._scalesOrder[a].scaleFactor<=t){i=this._scalesOrder[a].scaleFactor;break}return i},n.prototype._getScaleFactor=function(t){var i,a=t||n.SCALE_AUTO,o=this._scales[a];return o&&(i=o.scaleFactor),i},n.prototype.format=function(t,a){var n=null!=t?parseFloat(t):t;if("number"==typeof n){var o=Math.pow(10,this._scaleFactor),e={style:"decimal",decimalFormat:"unit"===(a&&a.getOptions&&a.getOptions()&&a.getOptions().style)?"standard":"short",nu:"latn",useGrouping:!1},s=new i.IntlNumberConverter(e).format(o,e),r=/(\d+)(.*$)/.exec(s),l=r[2],h=Number(r[1])/o*n;if(a&&a.format)h=a.format(h);else{var M={style:"decimal",minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces};h=new i.IntlNumberConverter(M).format(h,M)}return"string"==typeof l&&0!==t&&(h+=l),h}return t},n.prototype._formatFraction=function(t){var i=t.toString();if(-1!==i.indexOf("e"))return i;if(this._decimalPlaces>0){-1===i.indexOf(".")&&(i+=".");for(var a=i.substring(i.indexOf(".")+1).length;a<this._decimalPlaces;)i+="0",a+=1}return i},n.prototype._getPowerOfTen=function(t){var i=t>=0?t:-t,a=0;if(i<1e-15)return 0;if(i===1/0)return Number.MAX_VALUE;if(i>=10)for(;i>=10;)a+=1,i/=10;else if(i<1)for(;i<1;)a-=1,i*=10;return a},n.prototype.getDecimalPlaces=function(){return this._decimalPlaces},t.BaseAxisInfo=a,t.DataAxisInfoMixin=function(){this.MAX_NUMBER_OF_GRIDS_AUTO=10,this.MINOR_TICK_COUNT=2,this.MAJOR_TICK_INCREMENT_BUFFER=1e-10,this.MIN_BAR_SIZE_IN_LOG=10,this.MixinInit=function(t){"top"===this.Position||"bottom"===this.Position?("off"!==t.tickLabel.rendered&&"off"!==t.rendered&&(this.StartOverflow=Math.max(a.MINIMUM_AXIS_BUFFER-t.leftBuffer,0),this.EndOverflow=Math.max(a.MINIMUM_AXIS_BUFFER-t.rightBuffer,0)),t.isRTL?(this.MinCoord=this.EndCoord-this.EndOverflow,this.MaxCoord=this.StartCoord+this.StartOverflow):(this.MinCoord=this.StartCoord+this.StartOverflow,this.MaxCoord=this.EndCoord-this.EndOverflow)):"tangential"===this.Position||"radial"===this.Position?(this.MinCoord=this.StartCoord,this.MaxCoord=this.EndCoord):(this.MinCoord=this.EndCoord,this.MaxCoord=this.StartCoord),this.DataMin=t.dataMin,this.DataMax=t.dataMax,this.utilsLogOptions=t._utils&&"log"===t.scale,this.IsLog=this.utilsLogOptions||"log"===t.scale&&this.DataMin>0&&this.DataMax>0,this.LinearGlobalMin=this.actualToLinear(t.min),this.LinearGlobalMax=this.actualToLinear(t.max),this.LinearMinValue=null==t.viewportMin?this.LinearGlobalMin:this.actualToLinear(t.viewportMin),this.LinearMaxValue=null==t.viewportMax?this.LinearGlobalMax:this.actualToLinear(t.viewportMax),this._dataMin=this.actualToLinear(this.DataMin),this._dataMax=this.actualToLinear(this.DataMax),this.MajorIncrement=this.actualToLinear(t.step),this.MinorIncrement=this.actualToLinear(t.minorStep),this._minMajorIncrement=this.actualToLinear(t.minStep),this.MajorTickCount=t._majorTickCount,this.MinorTickCount=t._minorTickCount,this.LogScaleUnit=t._logScaleUnit,this.ZeroBaseline=!this.IsLog&&"zero"===t.baselineScaling,this._continuousExtent=this.Options?"on"===this.Options._continuousExtent:null,this.Converter=null,null!=t.tickLabel&&(this.Converter=t.tickLabel.converter),this._calcAxisExtents(),this.GlobalMin=this.linearToActual(this.LinearGlobalMin),this.GlobalMax=this.linearToActual(this.LinearGlobalMax),this.MinValue=this.linearToActual(this.LinearMinValue),this.MaxValue=this.linearToActual(this.LinearMaxValue)},this.getBaselineCoord=function(){return this.IsLog?this.MinCoord:this.getBoundedCoordAt(0)},this.getUnboundedValueAt=function(t){if(null==t)return null;var i=(t-this.MinCoord)/(this.MaxCoord-this.MinCoord),a=this.LinearMinValue+i*(this.LinearMaxValue-this.LinearMinValue);return this.linearToActual(a)},this.getUnboundedCoordAt=function(t){return this.GetUnboundedCoordAt(this.actualToLinear(t))},this.GetUnboundedCoordAt=function(t){if(null==t)return null;var i=this.LinearMaxValue===this.LinearMinValue?0:(t-this.LinearMinValue)/(this.LinearMaxValue-this.LinearMinValue);return i=Math.max(Math.min(1e3,i),-1e3),this.MinCoord+i*(this.MaxCoord-this.MinCoord)},this.CalcMajorMinorIncr=function(t){this.MajorIncrement||(this.MajorTickCount?this.MajorIncrement=(this.LinearMaxValue-this.LinearMinValue)/this.MajorTickCount:this.MajorIncrement=Math.max(t,this._minMajorIncrement)),this.MajorTickCount||(this.MajorTickCount=(this.LinearMaxValue-this.LinearMinValue)/this.MajorIncrement,Math.ceil(this.MajorTickCount)-this.MajorTickCount<this.MAJOR_TICK_INCREMENT_BUFFER&&(this.MajorTickCount=Math.ceil(this.MajorTickCount))),this.MinorTickCount||(this.MinorIncrement?this.MinorTickCount=this.MajorIncrement/this.MinorIncrement:this.IsLog?this.MinorTickCount=this.MajorIncrement:this.MinorTickCount=this.MINOR_TICK_COUNT),this.MinorIncrement||(this.MinorIncrement=this.MajorIncrement/this.MinorTickCount)},this._calcAxisExtents=function(){this.ZeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var t=null!=this.LinearGlobalMax?this.LinearGlobalMax:this._dataMax,i=null!=this.LinearGlobalMin?this.LinearGlobalMin:this._dataMin,a=Math.max(this._calcAxisScale(i,t),this._minMajorIncrement);this._dataMin===this._dataMax&&(0===this._dataMin?this._dataMax+=5*a:(this._dataMin-=2*a,this._dataMax+=2*a)),null==this.LinearGlobalMin&&(this.ZeroBaseline&&this._dataMin>=0?this.LinearGlobalMin=0:this._continuousExtent?this.LinearGlobalMin=this._dataMin-.1*(this._dataMax-this._dataMin):this.ZeroBaseline||null==this.LinearGlobalMax?this.LinearGlobalMin=(Math.ceil(this._dataMin/a)-1)*a:(this.LinearGlobalMin=this.LinearGlobalMax,this.LinearGlobalMin-=a*(Math.floor((this.LinearGlobalMin-this._dataMin)/a)+1)),this._dataMin>=0&&!this.IsLog&&(this.LinearGlobalMin=Math.max(this.LinearGlobalMin,0))),null==this.LinearGlobalMax&&(this.MajorTickCount?(this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*a,this.LinearGlobalMax<this._dataMax&&(a=Math.max(this._calcAxisScale(i,t+a),this._minMajorIncrement),this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*a)):this.ZeroBaseline&&this._dataMax<=0?this.LinearGlobalMax=0:this._continuousExtent?this.LinearGlobalMax=this._dataMax+.1*(this._dataMax-this._dataMin):this.ZeroBaseline?this.LinearGlobalMax=(Math.floor(this._dataMax/a)+1)*a:(this.LinearGlobalMax=this.LinearGlobalMin,this.LinearGlobalMax+=a*(Math.floor((this._dataMax-this.LinearGlobalMax)/a)+1)),this._dataMax<=0&&(this.LinearGlobalMax=Math.min(this.LinearGlobalMax,0))),this.LinearGlobalMax===this.LinearGlobalMin&&(this.LinearGlobalMax=100,this.LinearGlobalMin=0,a=(this.LinearGlobalMax-this.LinearGlobalMin)/this.MAX_NUMBER_OF_GRIDS_AUTO),null==this.LinearMinValue&&(this.LinearMinValue=this.LinearGlobalMin),null==this.LinearMaxValue&&(this.LinearMaxValue=this.LinearGlobalMax);var n=Math.abs(this.GetUnboundedCoordAt(this.LinearGlobalMin)-this.GetUnboundedCoordAt(this._dataMin));(this.IsLog&&n<this.MIN_BAR_SIZE_IN_LOG||this.utilsLogOptions)&&(this.LinearGlobalMin-=a,this.LinearMinValue=this.LinearGlobalMin),this.LinearMinValue===this.LinearGlobalMin&&this.LinearMaxValue===this.LinearGlobalMax||(a=this._calcAxisScale(this.LinearMinValue,this.LinearMaxValue)),this.LinearGlobalMin>this.LinearMinValue&&(this.LinearGlobalMin=this.LinearMinValue),this.LinearGlobalMax<this.LinearMaxValue&&(this.LinearGlobalMax=this.LinearMaxValue),this.CalcMajorMinorIncr(a)},this._calcAxisScale=function(t,i){if(this.MajorIncrement)return this.MajorIncrement;var a,n=i-t;if(this.IsLog){var o=Math.floor(n/8)+1;return(!this.LogScaleUnit||this.LogScaleUnit<o)&&(this.LogScaleUnit=o),this.LogScaleUnit}if(0===n)return 0===t?10:Math.pow(10,Math.floor(Math.log10(t))-1);if(this.MajorTickCount){var e=n/this.MajorTickCount,s=e/(a=Math.pow(10,Math.ceil(Math.log10(e)-1)));return(s=s>1&&s<=1.5?1.5:s>5?10:Math.ceil(s))*a}var r=Math.log10(n);a=Math.pow(10,Math.ceil(r)-2);var l=Math.round(n/a);return(l>=10&&l<=14?2:l>=15&&l<=19?3:l>=20&&l<=24?4:l>=25&&l<=45?5:l>=46&&l<=80?10:20)*a},this.linearToActual=function(t){return null==t?null:this.IsLog?Math.pow(10,t):t},this.actualToLinear=function(t){return null==t?null:this.IsLog?t>0?Math.log10(t):null:t},this.getAxisData=function(){return{isLog:this.IsLog,max:this.LinearGlobalMax,min:this.LinearGlobalMin,step:this.MajorIncrement,numSteps:this.MajorTickCount}}},t.LinearScaleAxisValueFormatter=n,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdvt-axis.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojdvt-overview',["exports","ojs/ojdvt-toolkit"],function(t,i){"use strict";var e=function(){this.Init({alta:e.VERSION_1})};i.Obj.createSubclass(e,i.BaseComponentDefaults),e.VERSION_1={overviewPosition:"below",style:{currentTimeIndicatorColor:"#c000d1",handleFillColor:"#ffffff",handleTextureColor:"#b3c6db",leftFilterPanelAlpha:.7,leftFilterPanelColor:"#ffffff",overviewBackgroundColor:"#e6ecf3",rightFilterPanelAlpha:.7,rightFilterPanelColor:"#ffffff",timeAxisBarColor:"#e5e5e5",timeAxisBarAlpha:1,timeIndicatorColor:"#bcc7d2",windowBackgroundAlpha:1,windowBackgroundColor:"#ffffff",windowBorderBottomColor:"#4f4f4f",windowBorderBottomStyle:"solid",windowBorderLeftColor:"#4f4f4f",windowBorderLeftStyle:"solid",windowBorderRightColor:"#4f4f4f",windowBorderRightStyle:"solid",windowBorderTopColor:"#4f4f4f",windowBorderTopStyle:"solid"}};var n=function(t){this.Init(t.getCtx(),t.processEvent,t),this._overview=t};i.Obj.createSubclass(n,i.EventManager),n.prototype.addListeners=function(t){i.SvgDocumentUtils.addDragListeners(this._overview,this._onDragStart,this._onDragMove,this._onDragEnd,this)},n.prototype._onDragStart=function(t){return i.Agent.isTouchDevice()?this._onTouchDragStart(t):this._onMouseDragStart(t)},n.prototype._onDragMove=function(t){return i.Agent.isTouchDevice()?this._onTouchDragMove(t):this._onMouseDragMove(t)},n.prototype._onDragEnd=function(t){return i.Agent.isTouchDevice()?this._onTouchDragEnd(t):this._onMouseDragEnd(t)},n.prototype._getRelativePosition=function(t,e){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new i.Point(t-this._stageAbsolutePosition.x,e-this._stageAbsolutePosition.y)},n.prototype._onMouseDragStart=function(t){if(t.button!==i.MouseEvent.RIGHT_CLICK_BUTTON){var e=this._getRelativePosition(t.pageX,t.pageY);return this._overview.beginDragPan(t,e.x,e.y)}return!1},n.prototype._onMouseDragMove=function(t){var i=this._getRelativePosition(t.pageX,t.pageY);return this._overview.contDragPan(t,i.x,i.y),!0},n.prototype._onMouseDragEnd=function(t){this._overview.endDragPan(),this._stageAbsolutePosition=null},n.prototype._onTouchDragStart=function(t){var i=t.touches;if(t.stopPropagation(),1===i.length){var e=this._getRelativePosition(i[0].pageX,i[0].pageY);return t.preventDefault(),this._overview.beginDragPan(t,e.x,e.y)}return!1},n.prototype._onTouchDragMove=function(t){var i=t.touches;if(1===i.length){var e=this._getRelativePosition(i[0].pageX,i[0].pageY);this._overview.contDragPan(t,e.x,e.y),t.preventDefault()}t.stopPropagation()},n.prototype._onTouchDragEnd=function(t){this._overview.endDragPan(),i.EventManager.consumeEvent(t),this._stageAbsolutePosition=null};const o=function(t){this.Init(t)};i.Obj.createSubclass(o,i.Obj),o.prototype.Init=function(t){this._view=t},o.prototype.parse=function(t){var i=t;return this.ParseRootAttributes(i)},o.prototype.ParseRootAttributes=function(t){var e=new Object;return e.animationOnClick=t.animationOnClick,null!=t.xMin&&(e.xMin=t.xMin),null!=t.xMax&&(e.xMax=t.xMax),null!=t.x1&&(e.x1=t.x1),null!=t.x2&&(e.x2=t.x2),null!=t.yMin&&(e.yMin=t.yMin),null!=t.yMax&&(e.yMax=t.yMax),null!=t.y1&&(e.y1=t.y1),null!=t.y2&&(e.y2=t.y2),null!=t.currentTime&&(e.currentTime=t.currentTime),e.orientation="horizontal",null!=t.orientation&&(e.orientation=t.orientation),e.featuresOff=t.featuresOff,e.minimumWindowSize=t.minimumWindowSize,e.leftMargin=t.leftMargin,e.rightMargin=t.rightMargin,e.overviewPosition="below",e.selectionMode="none",e.isRtl=i.Agent.isRightToLeft(this._view.getCtx()).toString(),null!=t.rtl&&(e.isRtl=t.rtl.toString()),e},o.prototype.calculateWidth=function(t,i,e,n,o){var r=o*(i-t),s=n-e;return 0==r||0==s?0:r/s};var r=new Object;i.Obj.createSubclass(r,i.Obj),r._DEFAULT_AXIS_LABEL_PADDING=5,r._DEFAULT_WINDOW_BORDER_WIDTH=1,r.getHandleFillColor=function(t){return null!=t._hfc?t._hfc:t.style.handleFillColor},r.getHandleTextureColor=function(t){return null!=t._htc?t._htc:t.style.handleTextureColor},r.getHandleBackgroundClass=function(t,i){return i?null!=t._vhbc?t._vhbc:t.style.vertHandleBackgroundClass:null!=t._hbc?t._hbc:t.style.handleBackgroundClass},r.getHandleSize=function(t,i){return i?null!=t._vhs?t._vhs:t.style.vertHandleSize:null!=t._hs?t._hs:t.style.handleSize},r.getBorderTopColor=function(t){return null!=t._btc?t._btc:t.style.borderTopColor},r.getBorderTopStyle=function(t){return null!=t._bts?t._bts:t.style.borderTopStyle},r.getWindowBackgroundColor=function(t){return null!=t._wbc?t._wbc:t.style.windowBackgroundColor},r.getWindowBackgroundAlpha=function(t){return t.style.windowBackgroundAlpha},r.getWindowBorderTopStyle=function(t){return null!=t._wbts?t._wbts:t.style.windowBorderTopStyle},r.getWindowBorderRightStyle=function(t){return null!=t._wbrs?t._wbrs:t.style.windowBorderRightStyle},r.getWindowBorderBottomStyle=function(t){return null!=t._wbbs?t._wbbs:t.style.windowBorderBottomStyle},r.getWindowBorderLeftStyle=function(t){return null!=t._wbls?t._wbls:t.style.windowBorderLeftStyle},r.getWindowBorderTopColor=function(t){return null!=t._wbtc?t._wbtc:t.style.windowBorderTopColor},r.getWindowBorderRightColor=function(t){return null!=t._wbrc?t._wbrc:t.style.windowBorderRightColor},r.getWindowBorderBottomColor=function(t){return null!=t._wbbc?t._wbbc:t.style.windowBorderBottomColor},r.getWindowBorderLeftColor=function(t){return null!=t._wblc?t._wblc:t.style.windowBorderLeftColor},r.getOverviewBackgroundColor=function(t){return null!=t._obc?t._obc:t.style.overviewBackgroundColor},r.getCurrentTimeIndicatorColor=function(t){return null!=t._ctic?t._ctic:t.style.currentTimeIndicatorColor},r.getTimeAxisBarColor=function(t){return null!=t._tabc?t._tabc:t.style.timeAxisBarColor},r.getTimeAxisBarAlpha=function(t){return null!=t._tabo?t._tabo:t.style.timeAxisBarAlpha},r.getTimeIndicatorColor=function(t){return null!=t._tic?t._tic:t.style.timeIndicatorColor},r.getLeftFilterPanelColor=function(t){return t.style.leftFilterPanelColor},r.getLeftFilterPanelAlpha=function(t){return t.style.leftFilterPanelAlpha},r.getRightFilterPanelColor=function(t){return t.style.rightFilterPanelColor},r.getRightFilterPanelAlpha=function(t){return t.style.rightFilterPanelAlpha};const s=new Object;s.supportsTouch=function(){return i.Agent.isTouchDevice()},i.Obj.createSubclass(s,i.Obj),s.getDatePosition=function(t,i,e,n){var o=(e-t)*n,r=i-t;return 0==o||0==r?0:o/r},s.getPositionDate=function(t,i,e,n){var o=e*(i-t);return 0===o||0===n?t:o/n+t};var a=new Object;i.Obj.createSubclass(a,i.Obj),a.renderOverview=function(t){t.isBackgroundRendered()&&a._renderBackground(t);var i=null!=t._callback||null!=t._callbackObj;i&&a._renderSlidingWindow(t),a._renderTimeAxis(t),a._parseFilledTimeRanges(t),a._updateCurrentTime(t),t.renderData(t.Width,t.Height),i&&(a._createBorderAroundSlidingWindow(t),a._updateSlidingWindow(t))},a._renderBackground=function(t){var e=new i.Rect(t.getCtx(),0,0,t.Width,t.Height,"bg");e.setSolidFill(t._overviewBackgroundColor),e.setPixelHinting(!0),t.addChild(e)},a._renderSlidingWindow=function(t){var e=t.Width,n=t.Height,o=new i.Rect(t.getCtx(),0,0,e,n,"window");if(o.setSolidFill(t._windowBackgroundColor,t._windowBackgroundAlpha),o.setPixelHinting(!0),!t.isFeatureOff("zoom")){var r=t.getHandleSize(),s=t.getHandleStart(),l=t.getGrippySize();if(t.isVerticalScrollingEnabled()){var h=t.getSlidingWindowWidth(),d=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(3,6,8,8)+i.PathUtils.lineTo(28,8)+i.PathUtils.quadTo(33,6,36,0);i.PathUtils.closePath();var g=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(3,-6,8,-8)+i.PathUtils.lineTo(28,-8)+i.PathUtils.quadTo(33,-6,36,0);i.PathUtils.closePath();var u=new i.Rect(t.getCtx(),0,0,h,r,"thb"),c=new i.Rect(t.getCtx(),0,0,h,r,"bhb");if(C="row-resize",t._vertHandleBackgroundClass)var p=a._createGrippyImage(t,h,l,!0),_=a._createGrippyImage(t,h,l,!0);else p=a._createGrippy(t,!0),_=a._createGrippy(t,!0);u.setSolidFill(t._windowBackgroundColor,0),c.setSolidFill(t._windowBackgroundColor,0),u.setPixelHinting(!0),c.setPixelHinting(!0);var f=new i.Path(t.getCtx(),d,"th"),w=new i.Path(t.getCtx(),g,"bh");f.setSolidFill(t._handleFillColor),f.setSolidStroke(t._handleFillColor),w.setSolidFill(t._handleFillColor),w.setSolidStroke(t._handleFillColor),t._windowBackgroundColor===t._handleFillColor&&(f.setPixelHinting(!0),w.setPixelHinting(!0)),u.setCursor(C),c.setCursor(C),f.setCursor(C),w.setCursor(C),p.setCursor(C),_.setCursor(C),o.addChild(u),t._windowTopHandleBackground=u,o.addChild(f),t._windowTopHandle=f,o.addChild(p),t._windowTopGrippy=p,o.addChild(c),t._windowBottomHandleBackground=c,o.addChild(w),t._windowBottomHandle=w,o.addChild(_),t._windowBottomGrippy=_}if(t.isHorizontalScrollingEnabled()){var m=t.getSlidingWindowHeight(),v=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(6,3,8,8)+i.PathUtils.lineTo(8,28)+i.PathUtils.quadTo(6,33,0,36);i.PathUtils.closePath();var P=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(-6,3,-8,8)+i.PathUtils.lineTo(-8,28)+i.PathUtils.quadTo(-6,33,0,36);i.PathUtils.closePath();var S=new i.Rect(t.getCtx(),0-s,0,r,m,"lhb"),y=new i.Rect(t.getCtx(),s,0,r,m,"rhb"),C="col-resize";if(t._horHandleBackgroundClass)var x=a._createGrippyImage(t,l,m,!1),T=a._createGrippyImage(t,l,m,!1);else x=a._createGrippy(t,!1),T=a._createGrippy(t,!1);S.setSolidFill(t._windowBackgroundColor,0),y.setSolidFill(t._windowBackgroundColor,0),S.setPixelHinting(!0),y.setPixelHinting(!0);var W=new i.Path(t.getCtx(),v,"lh"),M=new i.Path(t.getCtx(),P,"rh");W.setSolidFill(t._handleFillColor),W.setSolidStroke(t._handleFillColor),M.setSolidFill(t._handleFillColor),M.setSolidStroke(t._handleFillColor),t._windowBackgroundColor===t._handleFillColor&&(W.setPixelHinting(!0),M.setPixelHinting(!0)),S.setCursor(C),y.setCursor(C),W.setCursor(C),M.setCursor(C),x.setCursor(C),T.setCursor(C),o.addChild(S),t._windowLeftHandleBackground=S,o.addChild(W),t._windowLeftHandle=W,o.addChild(x),t._windowLeftGrippy=x,o.addChild(y),t._windowRightHandleBackground=y,o.addChild(M),t._windowRightHandle=M,o.addChild(T),t._windowRightGrippy=T}}o.setCursor("move"),t.addChild(o),a._renderTimeAxisTopBar(t),a._renderLeftAndRightFilters(t,s)},a._createGrippyImage=function(t,e,n,o){var r,s=t.getCtx();if(o){var a=n/2,l=i.ToolkitUtils.getIconStyle(s,t._vertHandleBackgroundClass);(r=i.OutputText.createIcon(s,{style:l,size:t._vertHandleSize,pos:{x:0,y:a}})).setId("vgrpy")}else{var h=e/2,d=i.ToolkitUtils.getIconStyle(s,t._horHandleBackgroundClass);(r=i.OutputText.createIcon(s,{style:d,size:t._horHandleSize,pos:{x:h,y:0}})).setId("hgrpy")}r.setMouseEnabled(!1);var g=new i.Container(s);return g.addChild(r),g},a._createGrippy=function(t,e){var n=t._handleTextureColor;if(e){for(var o=new i.Container(t.getCtx(),"vgrpy"),r=8,s=3,a=0;a<9;a++){var l=new i.Line(t.getCtx(),r+2*a,s,r+2*a+1,s,"dot1"+a);l.setSolidStroke(n),o.addChild(l),s+=2,(l=new i.Line(t.getCtx(),r+1+2*a,s,r+1+2*a+1,s,"dot2"+a)).setSolidStroke(n),o.addChild(l),s+=2,(l=new i.Line(t.getCtx(),r+2*a,s,r+2*a+1,s,"dot3"+a)).setSolidStroke(n),o.addChild(l),s=3}(l=new i.Line(t.getCtx(),r+18,s,r+18+1,s,"dot4")).setSolidStroke(n),o.addChild(l),s+=4,(l=new i.Line(t.getCtx(),r+18,s,r+18+1,s,"dot5")).setSolidStroke(n),o.addChild(l)}else{for(o=new i.Container(t.getCtx(),"hgrpy"),r=3,s=8,a=0;a<9;a++)(l=new i.Line(t.getCtx(),r,s+2*a,r,s+2*a+1,"dot1"+a)).setSolidStroke(n),o.addChild(l),r+=2,(l=new i.Line(t.getCtx(),r,s+1+2*a,r,s+1+2*a+1,"dot2"+a)).setSolidStroke(n),o.addChild(l),r+=2,(l=new i.Line(t.getCtx(),r,s+2*a,r,s+2*a+1,"dot3"+a)).setSolidStroke(n),o.addChild(l),r=3;(l=new i.Line(t.getCtx(),r,s+18,r,s+18+1,"dot4")).setSolidStroke(n),o.addChild(l),r+=4,(l=new i.Line(t.getCtx(),r,s+18,r,s+18+1,"dot5")).setSolidStroke(n),o.addChild(l)}return o.setPixelHinting(!0),o},a._createBorderAroundSlidingWindow=function(t){var e=t.Width,n=t.Height,o=t.getSlidingWindow(),s=r._DEFAULT_WINDOW_BORDER_WIDTH/2;if(t.isVertical())var a=o.getY(),l=a+s,h=a+o.getHeight(),d=h-s,g=0,u=s,c=e,p=c-s,_=new i.Line(t.getCtx(),g,l,e,l,"lh"),f=new i.Line(t.getCtx(),g,d,e,d,"rh"),w=new i.Line(t.getCtx(),u,0,u,a,"ltb"),m=new i.Line(t.getCtx(),u,h,u,n,"rtb"),v=new i.Line(t.getCtx(),p,a,p,h,"bb"),P=new i.Line(t.getCtx(),u,a,u,h,"tb");else l=(a=0)+s,d=(h=n)-s,u=(g=o.getX())+s,p=(c=g+o.getWidth())-s,_=new i.Line(t.getCtx(),u,a,u,h,"lh"),f=new i.Line(t.getCtx(),p,a,p,h,"rh"),w=new i.Line(t.getCtx(),0,l,g+1,l,"ltb"),m=new i.Line(t.getCtx(),c-1,l,e,l,"rtb"),v=new i.Line(t.getCtx(),g,d,c,d,"bb"),P=new i.Line(t.getCtx(),g,l,c,l,"tb");_.setPixelHinting(!0),f.setPixelHinting(!0),w.setPixelHinting(!0),m.setPixelHinting(!0),v.setPixelHinting(!0),P.setPixelHinting(!0),"none"!==t._windowBorderLeftStyle&&_.setSolidStroke(t._windowBorderLeftColor),t.addChild(_),t._leftHandle=_,"none"!==t._windowBorderRightStyle&&f.setSolidStroke(t._windowBorderRightColor),t.addChild(f),t._rightHandle=f,"none"!==t._borderTopStyle&&t._borderTopColor&&(w.setSolidStroke(t._borderTopColor),m.setSolidStroke(t._borderTopColor)),t.addChild(w),t.addChild(m),"none"!==t._windowBorderBottomStyle&&v.setSolidStroke(t._windowBorderBottomColor),t.addChild(v),"none"!==t._windowBorderTopStyle&&P.setSolidStroke(t._windowBorderTopColor),t.addChild(P)},a._updateBorderAroundSlidingWindow=function(t){var i=t.getSlidingWindow(),e=r._DEFAULT_WINDOW_BORDER_WIDTH/2,n=t.getLeftHandle(),o=t.getRightHandle(),s=t.getLeftTopBar(),a=t.getRightTopBar(),l=t.getBottomBar(),h=t.getTopBar();if(t.isVertical()){if(t.isHorizontalScrollingEnabled()){var d=i.getWidth(),g=t.getSlidingWindowPosX(i),u=g+e,c=g+d-e;t.setLinePosX(n,u,c),t.setLinePosX(o,u,c),t.setLinePosX(h,u,u),t.setLinePosX(l,c,c)}if(t.isVerticalScrollingEnabled()){var p=i.getHeight(),_=t.getSlidingWindowPosY(i),f=_+e,w=_+p-e;t.setLinePosY(n,f,f),t.setLinePosY(o,w,w),t.setLinePosY(h,f,w),t.setLinePosY(l,f,w)}}else t.isHorizontalScrollingEnabled()&&(d=i.getWidth(),u=(g=t.getSlidingWindowPosX(i))+e,c=g+d-e,t.setLinePosX(n,u,u),t.setLinePosX(o,c,c),t.setLinePosX(h,u,c),t.setLinePosX(l,u,c)),t.isVerticalScrollingEnabled()&&(p=i.getHeight(),f=(_=t.getSlidingWindowPosY(i))+e,w=_+p-e,t.setLinePosY(n,f,w),t.setLinePosY(o,f,w),t.setLinePosY(h,f,f),t.setLinePosY(l,w,w));t.setLinePos(s,-1,t.getSlidingWindowPos(i)),t.setLinePos(a,t.getLinePos1(o),-1)},a._updateSlidingWindow=function(t){var i=t.getSlidingWindow(),e=t.Width,n=t.Height;if(t.isHorizontalScrollingEnabled()){var o=Math.max(t.getMinimumPositionX(),s.getDatePosition(t._xMin,t._xMax,t._x1,e)),r=Math.max(t.getMinimumPositionX(),s.getDatePosition(t._xMin,t._xMax,t._x2,e)),l=Math.min(t.getMaximumPositionX(),r);t.isRTL()?t.setSlidingWindowPosX(i,e-l):t.setSlidingWindowPosX(i,o),a._setSlidingWindowWidth(t,i,l-o)}else a._setSlidingWindowWidth(t,i,e);if(t.isVerticalScrollingEnabled()){var h=Math.max(t.getMinimumPositionY(),s.getDatePosition(t._yMin,t._yMax,t._y1,n)),d=Math.max(t.getMinimumPositionY(),s.getDatePosition(t._yMin,t._yMax,t._y2,n)),g=Math.min(t.getMaximumPositionY(),d);t.setSlidingWindowPosY(i,h),a._setSlidingWindowHeight(t,i,g-h)}else a._setSlidingWindowHeight(t,i,n);a._updateBorderAroundSlidingWindow(t)},a._setSlidingWindowWidth=function(t,i,e){if(e=Math.min(t.getMaximumWindowWidth(),Math.max(t.getMinimumWindowWidth(),e)),i.setWidth(e),t.isLeftAndRightFilterRendered()){var n=t.getSlidingWindowPosX(i)+e,o=t.getRightBackground();if(o.setX(n),o.setWidth(Math.max(0,t.Width-n)),s.supportsTouch()&&!t.isFeatureOff("zoom"))t.getRightBackgroundHandle().setX(n)}if(!t.isFeatureOff("zoom")){if(t.isHorizontalScrollingEnabled()){var r=t._windowRightHandleBackground,a=t._windowRightHandle,l=t._windowRightGrippy;a.setTranslateX(e),r.setTranslateX(e-t.getHandleSize()),l.setTranslateX(e-t.getGrippySize())}if(t.isVerticalScrollingEnabled()){var h=(i.getWidth()-36)/2;if(t._vertHandleBackgroundClass)var d=e/2;else d=h;var g=t._windowTopHandleBackground,u=t._windowTopHandle,c=t._windowTopGrippy;u.setTranslateX(h),g.setWidth(e),c.setTranslateX(d);var p=t._windowBottomHandleBackground,_=t._windowBottomHandle,f=t._windowBottomGrippy;_.setTranslateX(h),p.setWidth(e),f.setTranslateX(d)}}},a._setSlidingWindowHeight=function(t,i,e){if(e=Math.min(t.getMaximumWindowHeight(),Math.max(t.getMinimumWindowHeight(),e)),i.setHeight(e),!t.isFeatureOff("zoom")){if(t.isHorizontalScrollingEnabled()){var n=(e-36)/2;if(t._horHandleBackgroundClass)var o=e/2;else o=n;var r=t._windowLeftHandleBackground,s=t._windowLeftHandle,a=t._windowLeftGrippy;s.setTranslateY(n),r.setHeight(e),a.setTranslateY(o);var l=t._windowRightHandleBackground,h=t._windowRightHandle,d=t._windowRightGrippy;h.setTranslateY(n),l.setHeight(e),d.setTranslateY(o)}if(t.isVerticalScrollingEnabled()){var g=t._windowBottomHandleBackground,u=t._windowBottomHandle,c=t._windowBottomGrippy;u.setTranslateY(e),g.setTranslateY(e-t.getHandleSize()),c.setTranslateY(e-t.getGrippySize())}}},a._renderTimeAxisTopBar=function(t){var e=t.Width,n=t.Height;if(t.isVertical())if(t.isRTL())var o=new i.Line(t.getCtx(),t.getTimeAxisWidth(),0,t.getTimeAxisWidth(),n,"tab");else o=new i.Line(t.getCtx(),e-t.getTimeAxisWidth(),0,e-t.getTimeAxisWidth(),n,"tab");else o=t.isOverviewAbove()?new i.Line(t.getCtx(),0,t.getTimeAxisHeight(),e,t.getTimeAxisHeight(),"tab"):new i.Line(t.getCtx(),0,n-t.getTimeAxisHeight(),e,n-t.getTimeAxisHeight(),"tab");o.setSolidStroke(t._timeAxisBarColor,t._timeAxisBarOpacity),o.setPixelHinting(!0),t._timeAxisTopBar=o,t.addChild(o)},a._renderLeftAndRightFilters=function(t,e){var n=t.Width,o=t.Height;if(t.isLeftAndRightFilterRendered()){if(t.isVertical())var r=new i.Rect(t.getCtx(),0,0,n,0,"lbg"),a=new i.Rect(t.getCtx(),0,0,n,0,"rbg");else r=new i.Rect(t.getCtx(),0,0,0,o,"lbg"),a=new i.Rect(t.getCtx(),0,0,0,o,"rbg");if(r.setSolidFill(t._leftFilterPanelColor,t._leftFilterPanelAlpha),t.addChild(r),a.setSolidFill(t._rightFilterPanelColor,t._rightFilterPanelAlpha),t.addChild(a),s.supportsTouch()&&null!=e){if(t.isVertical())var l=new i.Rect(t.getCtx(),0,0,n,e,"lbgrh"),h=new i.Rect(t.getCtx(),0,0,n,e,"rbgrh");else l=new i.Rect(t.getCtx(),0,0,e,o,"lbgrh"),h=new i.Rect(t.getCtx(),0,0,e,o,"rbgrh");l.setSolidFill(t._leftFilterPanelColor,0),t.addChild(l),h.setSolidFill(t._rightFilterPanelColor,0),t.addChild(h)}}},a._renderTimeAxis=function(t){if(null!=t._ticks)for(var i=t.Width,e=t.Height,n=t.isVertical(),o=t.getOverviewSize(),s=0;s<t._ticks.length;s++){var l=t._ticks[s],h=parseInt(l.time,10);if(n)var d=t.getDateYPosition(h);else d=t.getDateXPosition(h);var g=l.label,u=0;if(s+1<t._ticks.length){var c=parseInt(t._ticks[s+1].time,10);if(n)var p=t.getDateYPosition(c);else p=t.getDateXPosition(c);u=p-d}else u=o-d;t.isHorizontalRTL()&&(d=o-d),n&&(u=i),u-=2*r._DEFAULT_AXIS_LABEL_PADDING,a._addTick(t,d,i,e,"tick"+s),a._addLabel(t,d,g,e,u,"label"+s,t._labelStyle)}},a._addTick=function(t,e,n,o,r){if(t.isVertical())var s=new i.Line(t.getCtx(),0,e,n,e,r);else s=new i.Line(t.getCtx(),e,0,e,o,r);var a=new i.Stroke(t._timeIndicatorColor,1,1,!1,{dashArray:"3"});s.setStroke(a),s.setPixelHinting(!0),t.addChild(s)},a._addLabel=function(t,e,n,o,s,a,l){if(t.isVertical()){var h=new i.OutputText(t.getCtx(),n,4,e,a);if(h.setCSSStyle(l),t.isRTL()){var d=h.getDimensions();h.setX(Math.max(4,t.Width-d.w-4))}}else{if(t.isOverviewAbove())var g=2;else g=o-t.getTimeAxisHeight()+2;var u=r._DEFAULT_AXIS_LABEL_PADDING;(h=new i.OutputText(t.getCtx(),n,e+u,g,a)).setCSSStyle(l),t.isHorizontalRTL()&&(d=h.getDimensions(),h.setX(e-Math.min(d.w,s)-u))}i.TextUtils.fitText(h,s,1/0,t),h._rawText=h.getUntruncatedTextString()},a._parseFilledTimeRanges=function(t){if(null!=t._formattedTimeRanges)for(var i=0;i<t._formattedTimeRanges.length;i++){var e=t._formattedTimeRanges[i];a._addFilledTimeRange(t,e,t.Width,t.Height)}},a._addFilledTimeRange=function(t,e,n,o){var r=parseInt(e.rs,10),s=parseInt(e.re,10);if(null!=r&&null!=s){var a=e.c,l=t.getOverviewSize();if(t.isVertical())h=t.getDateYPosition(r),d=t.getDateYPosition(s);else var h=t.getDateXPosition(r),d=t.getDateXPosition(s);var g,u=d-h;if(t.isHorizontalRTL()&&(h=l-h-u),t.isVertical())g=new i.Rect(t.getCtx(),0,h,n-t.getTimeAxisWidth(),u,"ftr");else{var c=t.isOverviewAbove()?t.getTimeAxisHeight():0;g=new i.Rect(t.getCtx(),h,c,u,o-t.getTimeAxisHeight(),"ftr")}null!=a&&g.setSolidFill(a,.4),g.setCursor("move"),g.setPixelHinting(!0),t.addChild(g)}},a._updateCurrentTime=function(t){var e=t.Width,n=t.Height;if(!(null==t._currentTime||isNaN(t._currentTime)||t._currentTime<t._xMin||t._currentTime>t._xMax)){if(t.isVertical())var o=t.getDateYPosition(t._currentTime),r=new i.Line(t.getCtx(),0,o,e,o,"ocd");else o=t.getDateXPosition(t._currentTime),t.isRTL()&&(o=e-o),r=new i.Line(t.getCtx(),o,0,o,n,"ocd");r.setSolidStroke(t._currentTimeIndicatorColor),r.setPixelHinting(!0),t.addChild(r)}};const l=function(t,i,e){this.Init(t,i,e)};i.Obj.createSubclass(l,i.Container),l.MIN_WINDOW_SIZE=10,l.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40,l.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20,l.HANDLE_PADDING_SIZE=20,l.prototype.Init=function(t,e,o){l.superclass.Init.call(this,t),this.initDefaults(),this._callback=e,this._callbackObj=o,this._lastChildIndex=6,(null!=this._callback||null!=this._callbackObj)&&(this.EventManager=new n(this,t,e,o),this.EventManager.addListeners(this),s.supportsTouch()?(this.addEvtListener(i.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(i.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(i.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.addEvtListener(i.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(i.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this)))},l.prototype.initDefaults=function(){this.Defaults=new e},l.prototype.setViewportRange=function(t,i,e,n){if(null!=t&&null!=i){var o=this.getDateXPosition(t),r=this.getDateXPosition(i);if(r>o){o<this.getMinimumPositionX()&&(o=this.getMinimumPositionX()),r>this.getMaximumPositionX()&&(r=this.getMaximumPositionX());var s=Math.max(r-o,this.getMinimumWindowWidth()),l=this.getSlidingWindow();this.isRTL()?this.setSlidingWindowPosX(l,this.Width-(o+s)):this.setSlidingWindowPosX(l,o),a._setSlidingWindowWidth(this,l,s)}}if(null!=e&&null!=n){var h=this.getDateYPosition(e),d=this.getDateYPosition(n);if(d>h){h<this.getMinimumPositionY()&&(h=this.getMinimumPositionY()),d>this.getMaximumPositionY()&&(d=this.getMaximumPositionY());var g=Math.max(d-h,this.getMinimumWindowHeight());l=this.getSlidingWindow(),this.setSlidingWindowPosY(l,h),a._setSlidingWindowHeight(this,l,g)}}a._updateBorderAroundSlidingWindow(this)},l.prototype.isFeatureOff=function(t){return null!=this._featuresOff&&-1!==this._featuresOff.indexOf(t)},l.prototype.isAnimationOnClick=function(){return"off"!==this._animationOnClick},l.prototype.render=function(t,i,e){if(null!=i&&null!=e&&(this.Width=i,this.Height=e),null==t){var n=this.getSlidingWindow();if(this._xMin&&this._xMax){var o=this.getSlidingWindowPosX(n);null!=n&&0!==o&&(this._x1=s.getPositionDate(this._xMin,this._xMax,o,this.Width))}this._yMin&&this._yMax&&(o=this.getSlidingWindowPosY(n),null!=n&&0!==o&&(this._y1=s.getPositionDate(this._yMin,this._yMax,o,this.Height))),this.removeChildren()}else{this.SetOptions(t);var r=this.Parse(this.Options);this._applyParsedProperties(r)}a.renderOverview(this)},l.prototype.SetOptions=function(t){this.Options=this.Defaults.calcOptions(t)},l.prototype.getParser=function(t){return new o(this)},l.prototype.Parse=function(t){return this.getParser(t).parse(t)},l.prototype._applyParsedProperties=function(t){this._xMin=t.xMin,this._xMax=t.xMax,this._x1=t.x1,this._x2=t.x2,this._yMin=t.yMin,this._yMax=t.yMax,this._y1=t.y1,this._y2=t.y2,this._currentTime=t.currentTime,this._animationOnClick=t.animationOnClick,this._leftMargin=Math.max(0,t.leftMargin),this._rightMargin=Math.max(0,t.rightMargin),isNaN(this._leftMargin)&&(this._leftMargin=0),isNaN(this._rightMargin)&&(this._rightMargin=0),this._orientation=t.orientation,this._isRtl=t.isRtl,null!=t.featuresOff&&(this._featuresOff=t.featuresOff.split(" ")),null!=t.minimumWindowSize&&t.minimumWindowSize>0&&(this._minimumWindowSize=t.minimumWindowSize),this._timeAxisInfo=t.timeAxisInfo,null!=t.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks),this._formattedTimeRanges=t.formattedTimeRanges,this._borderTopStyle=r.getBorderTopStyle(this.Options),this._borderTopColor=r.getBorderTopColor(this.Options),this._windowBackgroundColor=r.getWindowBackgroundColor(this.Options),this._windowBackgroundAlpha=r.getWindowBackgroundAlpha(this.Options),this._windowBorderTopStyle=r.getWindowBorderTopStyle(this.Options),this._windowBorderRightStyle=r.getWindowBorderRightStyle(this.Options),this._windowBorderBottomStyle=r.getWindowBorderBottomStyle(this.Options),this._windowBorderLeftStyle=r.getWindowBorderLeftStyle(this.Options),this._windowBorderTopColor=r.getWindowBorderTopColor(this.Options),this._windowBorderRightColor=r.getWindowBorderRightColor(this.Options),this._windowBorderBottomColor=r.getWindowBorderBottomColor(this.Options),this._windowBorderLeftColor=r.getWindowBorderLeftColor(this.Options),this._handleTextureColor=r.getHandleTextureColor(this.Options),this._handleFillColor=r.getHandleFillColor(this.Options),this._horHandleBackgroundClass=r.getHandleBackgroundClass(this.Options,!1),this._horHandleSize=r.getHandleSize(this.Options,!1),this._vertHandleBackgroundClass=r.getHandleBackgroundClass(this.Options,!0),this._vertHandleSize=r.getHandleSize(this.Options,!0),this._overviewBackgroundColor=r.getOverviewBackgroundColor(this.Options),this._currentTimeIndicatorColor=r.getCurrentTimeIndicatorColor(this.Options),this._timeIndicatorColor=r.getTimeIndicatorColor(this.Options),this._timeAxisBarColor=r.getTimeAxisBarColor(this.Options),this._timeAxisBarOpacity=r.getTimeAxisBarAlpha(this.Options),this._leftFilterPanelColor=r.getLeftFilterPanelColor(this.Options),this._leftFilterPanelAlpha=r.getLeftFilterPanelAlpha(this.Options),this._rightFilterPanelColor=r.getRightFilterPanelColor(this.Options),this._rightFilterPanelAlpha=r.getRightFilterPanelAlpha(this.Options),this._labelStyle=new i.CSSStyle("font-weight:bold")},l.prototype.getDateXPosition=function(t){return Math.max(this.getMinimumPositionX(),s.getDatePosition(this._xMin,this._xMax,t,this.getOverviewWidth())+this._leftMargin)},l.prototype.getDateYPosition=function(t){return Math.max(this.getMinimumPositionY(),s.getDatePosition(this._yMin,this._yMax,t,this.getOverviewHeight()))},l.prototype.getXPositionDate=function(t){return s.getPositionDate(this._xMin,this._xMax,Math.max(this.getMinimumPositionX()-this._leftMargin,t-this._leftMargin),this.getOverviewWidth())},l.prototype.getYPositionDate=function(t){return s.getPositionDate(this._yMin,this._yMax,Math.max(this.getMinimumPositionY(),t),this.getOverviewHeight())},l.prototype.isRTL=function(){return"true"===this._isRtl},l.prototype.isHorizontalRTL=function(){return this.isRTL()&&!this.isVertical()},l.prototype.isVertical=function(){return"vertical"===this._orientation},l.prototype.isOverviewAbove=function(){return"above"===this.Options.overviewPosition},l.prototype.setMargins=function(t,i){!isNaN(t)&&null!=t&&t>0&&(this._leftMargin=t),!isNaN(i)&&null!=i&&i>0&&(this._rightMargin=i)},l.prototype.getOverviewSize=function(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin},l.prototype.getOverviewWidth=function(){return this.Width-this._leftMargin-this._rightMargin},l.prototype.getOverviewHeight=function(){return this.Height},l.prototype.getMinimumPositionX=function(){return this._leftMargin},l.prototype.getMinimumPositionY=function(){return 0},l.prototype.getMaximumPositionX=function(){return this.Width-this._rightMargin},l.prototype.getMaximumPositionY=function(){return this.Height},l.prototype.getMinimumWindowWidth=function(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=s.getDatePosition(this._xMin,this._xMax,this._xMin+this._minimumWindowSize,this.getOverviewWidth()),this._minWinSize):l.MIN_WINDOW_SIZE},l.prototype.getMinimumWindowHeight=function(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=s.getDatePosition(this._yMin,this._yMax,this._yMin+this._minimumWindowSize,this.getOverviewHeight()),this._minWinSize):l.MIN_WINDOW_SIZE},l.prototype.getMaximumWindowWidth=function(){return this.Width},l.prototype.getMaximumWindowHeight=function(){return this.Height},l.prototype.getGrippySize=function(){return 10},l.prototype.getHandleStart=function(){return s.supportsTouch()?this.getHandleSize()/2:0},l.prototype.getHandleSize=function(){return s.supportsTouch()?30:10},l.prototype.isHandle=function(t){var i=t.getId();return"lh"===i||"rh"===i||"lhb"===i||"rhb"===i||"th"===i||"bh"===i||"thb"===i||"bhb"===i||"hgrpy"===i||"vgrpy"===i||"lbgrh"===i||"rbgrh"===i||null!=t.getParent()&&("hgrpy"===t.getParent().getId()||"vgrpy"===t.getParent().getId())},l.prototype.isLeftOrRightHandle=function(t){var i=t.getId();return"lh"===i||"rh"===i||"lhb"===i||"rhb"===i||"hgrpy"===i||"lbgrh"===i||"rbgrh"===i||null!=t.getParent()&&"hgrpy"===t.getParent().getId()},l.prototype.isTopOrBottomHandle=function(t){var i=t.getId();return"th"===i||"bh"===i||"thb"===i||"bhb"===i||"vgrpy"===i||null!=t.getParent()&&"vgrpy"===t.getParent().getId()},l.prototype.getTimeAxisWidth=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var t=parseInt(this._timeAxisInfo.width,10);!isNaN(t)&&t<this.Width?this._timeAxisWidth=t:this._timeAxisWidth=l.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth},l.prototype.getTimeAxisHeight=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var t=parseInt(this._timeAxisInfo.height,10);!isNaN(t)&&t<this.Height?this._timeAxisHeight=t:this._timeAxisHeight=l.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight},l.prototype.getPageX=function(t){return s.supportsTouch()&&null!=t.targetTouches?t.targetTouches.length>0?t.targetTouches[0].pageX:null:t.pageX},l.prototype.getPageY=function(t){return s.supportsTouch()&&null!=t.targetTouches?t.targetTouches.length>0?t.targetTouches[0].pageY:null:t.pageY},l.prototype.isBackgroundRendered=function(){return!0},l.prototype.isLeftAndRightFilterRendered=function(){return!1},l.prototype.getSlidingWindow=function(){return this.getChildAt(1)},l.prototype.getSlidingWindowWidth=function(){if(this.isHorizontalScrollingEnabled()){var t=Math.max(this.getMinimumPositionX(),s.getDatePosition(this._xMin,this._xMax,this._x1,this.Width));return Math.min(this.getMaximumPositionX(),Math.max(this.getMinimumPositionX(),s.getDatePosition(this._xMin,this._xMax,this._x2,this.Width)))-t}return this.Width},l.prototype.getSlidingWindowHeight=function(){if(this.isVerticalScrollingEnabled()){var t=Math.max(this.getMinimumPositionY(),s.getDatePosition(this._yMin,this._yMax,this._y1,this.Height));return Math.min(this.getMaximumPositionY(),Math.max(this.getMinimumPositionY(),s.getDatePosition(this._yMin,this._yMax,this._y2,this.Height)))-t}return this.Height},l.prototype.getLeftBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null},l.prototype.getRightBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null},l.prototype.getLeftBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null},l.prototype.getRightBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null},l.prototype.getLeftHandle=function(){return this._leftHandle},l.prototype.getRightHandle=function(){return this._rightHandle},l.prototype.getLeftTopBar=function(){var t=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-t)},l.prototype.getRightTopBar=function(){var t=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-t)},l.prototype.getBottomBar=function(){var t=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-t)},l.prototype.getTopBar=function(){var t=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-t)},l.prototype.setLinePos=function(t,i,e){this.isVertical()?(-1!==i&&t.setY1(i),-1!==e&&t.setY2(e)):(-1!==i&&t.setX1(i),-1!==e&&t.setX2(e))},l.prototype.setLinePosX=function(t,i,e){-1!==i&&t.setX1(i),-1!==e&&t.setX2(e)},l.prototype.setLinePosY=function(t,i,e){-1!==i&&t.setY1(i),-1!==e&&t.setY2(e)},l.prototype.getLinePos1=function(t){return this.isVertical()?t.getY1():t.getX1()},l.prototype._findDrawable=function(t){var i=t.target;if(null!=i){var e=i.getId();if(null==e)return null;if("_border"===e.substr(e.length-7))return this.getChildAfter(i);if("tick"!==e.substr(0,4)&&"ltb"!==e&&"rtb"!==e&&"bb"!==e&&"tab"!==e)return i}return null},l.prototype.isMovable=function(t){return!("window"!==t.getId()&&"ftr"!==t.getId()&&"sta"!==t.getId()&&!this.isHandle(t))},l.prototype.setRectPos=function(t,i){this.isVertical()?t.setY(i):t.setX(i)},l.prototype.getRectPos=function(t){return this.isVertical()?t.getY():t.getX()},l.prototype.getRectSize=function(t){return this.isVertical()?t.getHeight():t.getWidth()},l.prototype.setRectSize=function(t,i){this.isVertical()?t.setHeight(i):t.setWidth(i)},l.prototype.getSlidingWindowPos=function(t){return this.isVertical()?t.getTranslateY():t.getTranslateX()},l.prototype.getSlidingWindowPosX=function(t){return t.getTranslateX()},l.prototype.getSlidingWindowPosY=function(t){return t.getTranslateY()},l.prototype.setSlidingWindowPosX=function(t,i){if(i=Math.max(this.getMinimumPositionX(),i),t.setTranslateX(i),this.isLeftAndRightFilterRendered()){this.getLeftBackground().setWidth(i);var e=i+this.getSlidingWindowSize(t),n=this.getRightBackground();if(n.setX(e),n.setWidth(Math.max(0,this.Width-e)),s.supportsTouch()&&!this.isFeatureOff("zoom")){var o=this.getHandleStart();this.getLeftBackgroundHandle().setX(i-o),this.getRightBackgroundHandle().setX(e)}}},l.prototype.setSlidingWindowPosY=function(t,i){i=Math.max(this.getMinimumPositionY(),i),t.setTranslateY(i)},l.prototype.getSlidingWindowSize=function(t){return this.getRectSize(t)},l.prototype.renderData=function(t,i){},l.prototype.animateSlidingWindow=function(t,e){var n=this.getSlidingWindow();if(null!=t&&t!==this.getSlidingWindowPosX(n)||null!=e&&e!==this.getSlidingWindowPosY(n)){var o=this.getLeftHandle(),r=this.getRightHandle(),a=this.getLeftTopBar(),l=this.getRightTopBar(),h=this.getBottomBar(),d=this.getTopBar(),g=!1,u=this.isAnimationOnClick()?new i.Animator(this.getCtx(),.5,0,i.Easing.linear):null;if(this.isVerticalScrollingEnabled()&&null!=e){var c=n.getTranslateY,p=n.setTranslateY,_=o.getY1,f=o.setY1,w=o.getY2,m=o.setY2,v=r.getY1,P=r.setY1,S=r.getY2,y=r.setY2,C=h.getY1,x=h.setY1,T=h.getY2,W=h.setY2,M=d.getY1,H=d.setY1,b=d.getY2,D=d.setY2,B=this.getMinimumPositionY(),X=this.getMaximumPositionY(),L=n.getHeight();e=Math.max(B,Math.min(X-L,e)),this.animateProperty(u,n,c,p,e),this.isVertical()?(this.animateProperty(u,o,_,f,e),this.animateProperty(u,o,w,m,e),this.animateProperty(u,r,v,P,e+L),this.animateProperty(u,r,S,y,e+L),this.animateProperty(u,h,C,x,e),this.animateProperty(u,d,M,H,e),this.animateProperty(u,h,T,W,e+L),this.animateProperty(u,d,b,D,e+L),this.animateProperty(u,a,a.getY2,a.setY2,e+1),this.animateProperty(u,l,l.getY1,l.setY1,e+L-1)):(this.animateProperty(u,o,_,f,e),this.animateProperty(u,o,w,m,e+L),this.animateProperty(u,r,v,P,e),this.animateProperty(u,r,S,y,e+L),this.animateProperty(u,h,C,x,e+L),this.animateProperty(u,d,M,H,e),this.animateProperty(u,h,T,W,e+L),this.animateProperty(u,d,b,D,e)),g=!0}if(this.isHorizontalScrollingEnabled()&&null!=t){var A=n.getTranslateX,E=n.setTranslateX,O=o.getX1,R=o.setX1,Y=o.getX2,I=o.setX2,k=r.getX1,F=r.setX1,z=r.getX2,U=r.setX2,N=h.getX1,V=h.setX1,G=h.getX2,j=h.setX2,Z=d.getX1,K=d.setX1,q=d.getX2,J=d.setX2,Q=this.getMinimumPositionX(),$=this.getMaximumPositionX(),tt=n.getWidth();t=Math.max(Q,Math.min($-tt,t)),this.animateProperty(u,n,A,E,t),this.animateProperty(u,o,O,R,t),this.animateProperty(u,o,Y,I,t),this.animateProperty(u,r,k,F,t+tt),this.animateProperty(u,r,z,U,t+tt),this.isVertical()||(this.animateProperty(u,a,a.getX2,a.setX2,t+1),this.animateProperty(u,l,l.getX1,l.setX1,t+tt-1)),this.animateProperty(u,h,N,V,t),this.animateProperty(u,d,Z,K,t),this.animateProperty(u,h,G,j,t+tt),this.animateProperty(u,d,q,J,t+tt),g=!0}if(this.isLeftAndRightFilterRendered()){var it=this.getLeftBackground(),et=it.getWidth,nt=it.setWidth;this.animateProperty(u,it,et,nt,t);var ot=t+tt,rt=this.getRightBackground(),st=rt.getWidth,at=rt.setWidth,lt=rt.getX,ht=rt.setX;if(this.animateProperty(u,rt,st,at,this.Width-ot),this.animateProperty(u,rt,lt,ht,ot),s.supportsTouch()&&!this.isFeatureOff("zoom")){var dt=this.getHandleStart(),gt=this.getLeftBackgroundHandle(),ut=gt.getX,ct=gt.setX,pt=this.getRightBackgroundHandle(),_t=pt.getX,ft=pt.setX;this.animateProperty(u,gt,ut,ct,t-dt),this.animateProperty(u,pt,_t,ft,ot)}g=!0}null!=u&&g&&u.play()}},l.prototype.animateProperty=function(t,e,n,o,r){null!=t?t.addProp(i.Animator.TYPE_NUMBER,e,n,o,r):o.call(e,r)},l.prototype.HandleShapeMouseOver=function(t){var e=this._findDrawable(t);if(e&&"bg"!==e.getId()&&"ocd"!==e.getId())if("label"===e.getId().substr(0,5)&&(e instanceof i.OutputText||e instanceof i.BackgroundOutputText))e.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(t.pageX,t.pageY,e._rawText,"#000000");else if("window"!==e.getId()&&"ftr"!==e.getId()&&"arr"!==e.getId()&&!this.isHandle(e))return e},l.prototype.HandleShapeMouseOut=function(t){null==this._moveDrawable&&this.setCursor("default");var i=this._findDrawable(t);return null==i?null:i},l.prototype.HandleShapeClick=function(t,e,n){t.stopPropagation();var o=this._findDrawable(t);if(!o||"window"===o.getId()||this.isHandle(o))return null;if("bg"===o.getId()||"label"===o.getId().substr(0,5)||"ocd"===o.getId()||"lbg"===o.getId()||"rbg"===o.getId()){null==e&&(e=t.pageX),null==n&&(n=t.pageY);var r=this.getCtx().pageToStageCoords(e,n);r=this.stageToLocal(r);var s,a,l,h,d=this.getSlidingWindow();if(this.isVerticalScrollingEnabled())var g=r.y,u=this.Height,c=g-d.getHeight()/2;if(this.isHorizontalScrollingEnabled())var p=r.x,_=this.Width,f=p-d.getWidth()/2;if(this.animateSlidingWindow(f,c),null!=f){var w=d.getWidth();f=Math.max(this.getMinimumPositionX(),Math.min(f,_-w)),this.isRTL()?(s=this.getXPositionDate(_-(f+w)),a=this.getXPositionDate(_-f)):(s=this.getXPositionDate(f),a=this.getXPositionDate(f+w))}if(null!=c){var m=d.getHeight();c=Math.max(this.getMinimumPositionY(),Math.min(c,u-m)),l=this.getYPositionDate(c),h=this.getYPositionDate(c+m)}var v=i.EventFactory.newOverviewEvent("scrollTime",s,a,l,h);return this.dispatchEvent(v),null}return o},l.prototype.beginDragPan=function(t,e,n){var o=this._findDrawable(t);if(null!=o&&this.isMovable(o)){if("ftr"!==o.getId()&&"sta"!==o.getId()||(o=this.getSlidingWindow()),this._initX=e,this._initY=n,this.isHandle(o)){var r=this.getSlidingWindow();"hgrpy"!==o.getParent().getId()&&"vgrpy"!==o.getParent().getId()||(o=o.getParent());var a=o.getId();"hgrpy"!==a&&"vgrpy"!==a||(a=(o=r.getChildBefore(o)).getId()),"lh"!==a&&"rh"!==a&&"th"!==a&&"bh"!==a||(a=(o=r.getChildBefore(o)).getId()),"lbgrh"===a&&(o=r.getChildAt(0)),"rbgrh"===a&&(o=r.getChildAt(r.getNumChildren()-3)),this.isLeftOrRightHandle(o)?(this._isHorizontalResize=!0,this.isRTL()?(this._oldEndPosX=this.Width-r.getX(),this._oldStartPosX=this._oldEndPosX-r.getWidth()):(this._oldStartPosX=r.getX(),this._oldEndPosX=this._oldStartPosX+r.getWidth()),s.supportsTouch()||(o.setX(0-l.HANDLE_PADDING_SIZE),o.setWidth(2*(o.getWidth()+l.HANDLE_PADDING_SIZE)))):(this._isHorizontalResize=!1,this._oldStartPosY=r.getY(),this._oldEndPosY=this._oldStartPosY+r.getHeight(),s.supportsTouch()||(o.setY(0-l.HANDLE_PADDING_SIZE),o.setHeight(2*(o.getHeight()+l.HANDLE_PADDING_SIZE)))),this.overrideCursors(o.getCursor())}this._moveDrawable=o;var h=i.EventFactory.newOverviewEvent("dropCallback");return this.dispatchEvent(h),!0}return!1},l.prototype.overrideCursors=function(t){var i=this.getSlidingWindow();if(null!=i&&i.setCursor(t),this.isLeftAndRightFilterRendered()){var e=this.getLeftBackground(),n=this.getRightBackground();null!=e&&null!=n&&(e.setCursor(t),n.setCursor(t))}},l.prototype.resetCursors=function(){var t=this.getSlidingWindow();if(null!=t&&t.setCursor("move"),this.isLeftAndRightFilterRendered()){var i=this.getLeftBackground(),e=this.getRightBackground();null!=i&&null!=e&&(i.setCursor("default"),e.setCursor("default"))}},l.prototype.endDragPan=function(){null!=this._moveDrawable&&this._isDragPanning&&("window"===this._moveDrawable.getId()?this.handleWindowDrag("scrollEnd"):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(0,0),s.supportsTouch()||(this.isTopOrBottomHandle(this._moveDrawable)?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):this.isLeftOrRightHandle(this._moveDrawable)&&(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._isDragPanning=!1,this._moveDrawable=null,this._initX=-1)},l.prototype.contDragPan=function(t,i,e){if(null!=this._moveDrawable&&-1!==this._initX){this._isDragPanning=!0;var n=i-this._initX,o=e-this._initY;this._initX=i,this._initY=e,"window"===this._moveDrawable.getId()?this.handleWindowDrag("scrollPos",n,o):"lh"===this._moveDrawable.getId()||"lhb"===this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(t,n,!0):"rh"===this._moveDrawable.getId()||"rhb"===this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(t,n,!1):"th"===this._moveDrawable.getId()||"thb"===this._moveDrawable.getId()?this.handleTopOrBottomHandleDragPositioning(t,o,!0):"bh"!==this._moveDrawable.getId()&&"bhb"!==this._moveDrawable.getId()||this.handleTopOrBottomHandleDragPositioning(t,o,!1)}},l.prototype.HandleTouchStart=function(t){var i=t.touches;this._touchStartX=i[0].pageX,this._touchStartY=i[0].pageY,2===i.length&&(t.preventDefault(),this._touchStartX2=i[1].pageX,this._touchStartY2=i[1].pageY,Math.abs(this._touchStartY-this._touchStartY2)<20?this._counter=0:(this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null))},l.prototype.HandleTouchMove=function(t){t.preventDefault();var i=t.touches;if(null!=this._touchStartX2&&null!=this._touchStartY2){if(this._counter<50)return void this._counter++;var e=i[1].pageX-this._touchStartX2;this.handleRightHandleDragPositioning(null,e,0),this._touchStartX2=i[1].pageX,this._counter=0}else{var n=Math.abs(this._touchStartX-i[0].pageX),o=Math.abs(this._touchStartY-i[0].pageY);(n>3||o>3)&&(this._touchStartX=null,this._touchStartY=null)}},l.prototype.HandleTouchEnd=function(t){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(0,0):null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(t,this._touchStartX,this._touchStartY),this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null},l.prototype.stopDragAction=function(){this.endDragPan()},l.prototype.handleWindowDrag=function(t,i,e){var n,o,r,s,l=this.getSlidingWindow(),h=!1,d=this.getSlidingWindowPosX(l),g=this.getSlidingWindowPosY(l),u=l.getWidth(),c=l.getHeight();if("scrollPos"===t){if(this.isHorizontalScrollingEnabled()&&0!==i){var p=this.getMinimumPositionX(),_=this.getMaximumPositionX();d+i<=p?this.setSlidingWindowPosX(l,p):d+u+i>=_?this.setSlidingWindowPosX(l,_-u):this.setSlidingWindowPosX(l,d+i);var f=this.getSlidingWindowPosX(l);f!==d&&(d=f,h=!0)}if(this.isVerticalScrollingEnabled()&&0!==e){var w=this.getMinimumPositionY(),m=this.getMaximumPositionY();g+e<=w?this.setSlidingWindowPosY(l,w):g+c+e>=m?this.setSlidingWindowPosY(l,m-c):this.setSlidingWindowPosY(l,g+e);var v=this.getSlidingWindowPosY(l);v!==g&&(g=v,h=!0)}h&&a._updateBorderAroundSlidingWindow(this)}this.isHorizontalScrollingEnabled()&&(this.isRTL()?(n=this.getXPositionDate(this.Width-(d+u)),o=this.getXPositionDate(this.Width-d)):(n=this.getXPositionDate(d),o=this.getXPositionDate(d+u))),this.isVerticalScrollingEnabled()&&(r=this.getYPositionDate(g),s=this.getYPositionDate(g+c)),this.fireScrollEvent(t,n,o,r,s)},l.prototype.fireScrollEvent=function(t,e,n,o,r){var s,a,l,h;this.isHorizontalScrollingEnabled()&&(s=e,a=n),this.isVerticalScrollingEnabled()&&(l=o,h=r);var d=i.EventFactory.newOverviewEvent(t,s,a,l,h);this.dispatchEvent(d)},l.prototype.handleLeftOrRightHandleDragPositioning=function(t,e,n){if(0!==e){var o=this.getSlidingWindow(),r=this.getSlidingWindowPosX(o),s=o.getWidth();if(n){if(s-e<=this.getMinimumWindowWidth())return;if(r+e<=this.getMinimumPositionX())return;var l=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).x;if(l=this.stageToLocal(l),e>0&&l<=r||e<0&&l>=r)return;this.setSlidingWindowPosX(o,r+e),a._setSlidingWindowWidth(this,o,s-e)}else{if(s+e<=this.getMinimumWindowWidth())return;if(r+s+e>=this.getMaximumPositionX())return;if(l=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).x,l=this.stageToLocal(l),e>0&&l<=r+s||e<0&&l>=r+s)return;a._setSlidingWindowWidth(this,o,s+e)}if(a._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var h,d;this.isRTL()?(h=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(o)+o.getWidth())),d=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(o))):(h=this.getXPositionDate(this.getSlidingWindowPosX(o)),d=this.getXPositionDate(this.getSlidingWindowPosX(o)+o.getWidth()));var g=i.EventFactory.newOverviewEvent("rangeChanging",h,d);this.dispatchEvent(g)}}},l.prototype.handleTopOrBottomHandleDragPositioning=function(t,e,n){if(0!==e){var o=this.getSlidingWindow(),r=this.getSlidingWindowPosY(o),s=o.getHeight();if(n){if(s-e<=this.getMinimumWindowHeight())return;if(r+e<=this.getMinimumPositionY())return;var l=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).y;if(l=this.stageToLocal(l),e>0&&l<=r||e<0&&l>=r)return;this.setSlidingWindowPosY(o,r+e),a._setSlidingWindowHeight(this,o,s-e)}else{if(s+e<=this.getMinimumWindowHeight())return;if(r+s+e>=this.getMaximumPositionY())return;if(l=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).y,l=this.stageToLocal(l),e>0&&l<=r+s||e<0&&l>=r+s)return;a._setSlidingWindowHeight(this,o,s+e)}if(a._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var h=this.getYPositionDate(this.getSlidingWindowPosY(o)),d=this.getYPositionDate(this.getSlidingWindowPosY(o)+o.getHeight()),g=i.EventFactory.newOverviewEvent("rangeChanging",void 0,void 0,h,d);this.dispatchEvent(g)}}},l.prototype.isHorizontalScrollingEnabled=function(){return null!=this._xMin&&null!=this._xMax},l.prototype.isVerticalScrollingEnabled=function(){return null!=this._yMin&&null!=this._yMax},l.prototype.isRangeChangingSupported=function(){return!0},l.prototype.finishHandleDrag=function(t,e){var n,o=this.getSlidingWindow();if(this._isHorizontalResize){var r=this.getXPositionDate(this._oldStartPosX),s=this.getXPositionDate(this._oldEndPosX);if(this.isRTL())var a=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(o)+o.getWidth())),l=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(o));else a=this.getXPositionDate(this.getSlidingWindowPosX(o)),l=this.getXPositionDate(this.getSlidingWindowPosX(o)+o.getWidth());n=i.EventFactory.newOverviewEvent("rangeChange",a,l,void 0,void 0,r,s)}else{var h=this.getYPositionDate(this._oldStartPosY),d=this.getYPositionDate(this._oldEndPosY),g=this.getYPositionDate(this.getSlidingWindowPosY(o)),u=this.getYPositionDate(this.getSlidingWindowPosY(o)+o.getHeight());n=i.EventFactory.newOverviewEvent("rangeChange",void 0,void 0,g,u,void 0,void 0,h,d)}this.dispatchEvent(n)},l.prototype.dispatchEvent=function(t){this._callback.call(this._callbackObj,t,this)},l.prototype.destroy=function(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),s.supportsTouch()?(this.removeEvtListener(i.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.removeEvtListener(i.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.removeEvtListener(i.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.removeEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.removeEvtListener(i.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.removeEvtListener(i.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.removeEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(i.KeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.removeEvtListener(i.KeyboardEvent.KEYUP,this.HandleKeyUp,!1,this)),l.superclass.destroy.call(this)},t.Overview=l,t.OverviewParser=o,t.OverviewUtils=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdvt-overview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojchart-toolkit',["exports","ojs/ojdvt-toolkit","ojs/ojdvt-axis","ojs/ojlegend-toolkit","ojs/ojdvt-overview"],function(t,e,i,r,a){"use strict";const s=function(t,e){return t+"; "+e},n=function(t,i,r){return null!=t&&null!=i&&e.Obj.compareValues(r,t,i)};var o=function(t,e,i,r){this.id=t,this.series=e,this.group=i,this.context=r};e.Obj.createSubclass(o,e.Obj),o.prototype.equals=function(t){return t instanceof o&&(null!=this.id||null!=t.id?n(this.id,t.id,this.context):n(this.series,t.series,this.context)&&n(this.group,t.group,this.context))},o.prototype.toString=function(){return null!=this.id&&"object"!=typeof this.id?this.id.toString():s(this.series,this.group)},o.prototype.valueOf=function(){return this.toString()};var l=new Object;e.Obj.createSubclass(l,e.Obj),l._SUPPORTED_TYPES=["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","pyramid","stock","boxPlot"],l.isValidType=function(t){return l._SUPPORTED_TYPES.indexOf(t.getType())>=0},l.isSpark=function(t){return t.getOptions().__spark},l.isOverview=function(t){return t.getOptions()._isOverview},l.isVertical=function(t){return!l.isHorizontal(t)&&!l.isPolar(t)},l.isHorizontal=function(t){return"horizontal"==t.getOptions().orientation&&!l.isPolar(t)&&!l.isStock(t)&&(l.isBLAC(t)||l.isFunnel(t))},l.isPolar=function(t){return"polar"==t.getOptions().coordinateSystem&&!l.isStock(t)&&!l.isBoxPlot(t)},l.isCombo=function(t){return"combo"==t.getType()},l.isBar=function(t){return"bar"==t.getType()},l.isLine=function(t){return"line"==t.getType()},l.isLineWithArea=function(t){return"lineWithArea"==t.getType()},l.isArea=function(t){return"area"==t.getType()},l.isStock=function(t){return"stock"==t.getType()},l.isBoxPlot=function(t){return"boxPlot"==t.getType()},l.isScatter=function(t){return"scatter"==t.getType()},l.isBubble=function(t){return"bubble"==t.getType()},l.isPie=function(t){return"pie"==t.getType()},l.isFunnel=function(t){return"funnel"==t.getType()},l.isPyramid=function(t){return"pyramid"==t.getType()},l.isDualY=function(t){return!(!l.hasAxes(t)||l.isScatterBubble(t)||l.isPolar(t))},l.isBLAC=function(t){var e=t.getType();return"bar"==e||"line"==e||"area"==e||"lineWithArea"==e||"combo"==e||"stock"==e||"boxPlot"==e},l.isScatterBubble=function(t){var e=t.getType();return"scatter"==e||"bubble"==e},l.isLineArea=function(t){var e=t.getType();return"line"==e||"area"==e||"lineWithArea"==e},l.isScrollSupported=function(t){return!(l.isPie(t)||l.isFunnel(t)||l.isPolar(t)||l.isPyramid(t))},l.isOverviewSupported=function(t){return l.isBLAC(t)&&l.isVertical(t)},l.hasAxes=function(t){return!("pie"==t.getType()||"funnel"==t.getType()||"pyramid"==t.getType())},l.isLegendRendered=function(t){var e=t.getOptions(),i=t.getOptionsCache().getFromCache("hasLargeSeriesCount"),r=e.legend;if("off"===r.rendered)return!1;if("auto"===r.rendered&&i)return!1;var a=t.getOptionsCache().getFromCache("hasSeriesDisplayedInLegend"),s=r.sections&&0!==r.sections.length,n=l.isStock(t),o=l.isFunnel(t),h=l.isPyramid(t);return!((n||o||h)&&!a&&!s)},l.hasTimeAxis=function(t){return l.isBLAC(t)&&"disabled"!=l.getTimeAxisType(t)},l.hasGroupAxis=function(t){return l.isBLAC(t)&&"disabled"==l.getTimeAxisType(t)},l.getTimeAxisType=function(t){var e=t.getOptions().timeAxisType;return e&&"auto"!=e&&l.isBLAC(t)&&!l.isPolar(t)?e:l.isStock(t)?"skipGaps":"disabled"},l.isMixedFrequency=function(t){return"mixedFrequency"==l.getTimeAxisType(t)};const h={polarToCartesian:function(t,i,r){var a=r.x+r.w/2+t*Math.sin(i),s=r.y+r.h/2-t*Math.cos(i);return new e.Point(a,s)},convertAxisCoord:function(t,i,r){if(l.isPolar(t)){var a=h.polarToCartesian(i.y,i.x,r);return new e.Point(a.x,a.y)}return l.isHorizontal(t)?new e.Point(i.y,i.x):new e.Point(i.x,i.y)}},u={getValueFormat:function(t,e){var i=t.getOptions().valueFormats;return i?i[e]?i[e]:"group"==e&&l.hasTimeAxis(t)?u.getValueFormat(t,"x"):"y"!=e&&"y2"!=e&&"min"!=e&&"max"!=e||!l.isBLAC(t)?{}:u.getValueFormat(t,"value"):{}},formatValue:function(t,e,r,a,s,n){var o,l="auto",h="on";e.scaling&&(l=e.scaling),e.autoPrecision&&(h=e.autoPrecision),e.converter&&(o=e.converter),a=null!=a?a:r,s=null!=s?s:r,n=null!=n?n:0;var u=new i.LinearScaleAxisValueFormatter(a,s,n,l,h,t.getOptions().translations);return o&&o.format?u.format(r,o):u.format(r)},formatDateValue:function(t,e){var i=t.converter;return i&&i.format?i.format(e):null}};var g=new Object;e.Obj.createSubclass(g,e.Obj),g.hasData=function(t){var e=t.getOptions();if(!e||!e.series||e.series.length<1)return!1;for(var i=g.getSeriesCount(t),r=0;r<i;r++){var a=g.getSeriesItem(t,r);if(a&&a.items&&a.items.length>=1)return!0}return!1},g.hasInvalidData=function(t){return!g.hasData(t)||g.hasInvalidTimeData(t)},g.hasInvalidTimeData=function(t){if(l.isFunnel(t)||l.isPie(t)||l.isPyramid(t))return!1;var e,i,r=t.getOptions(),a=g.getGroupCount(t);if(!r||!r.series||r.series.length<1)return!0;if(a<1)return!0;var s=g.getSeriesCount(t);if(l.isMixedFrequency(t))for(e=0;e<s;e++)for(i=0;i<a;i++){var n=g.getDataItem(t,e,i);if(n&&(null==n.x||isNaN(n.x)))return!0}else if(l.hasTimeAxis(t))for(i=0;i<a;i++){var o=g.getGroup(t,i);if(null==o||isNaN(o))return!0}return!1},g.hasSeriesData=function(t,e){var i=g.getSeriesItem(t,e).items;if(i)for(var r=0;r<i.length;r++)if(null!=i[r])return!0;return!1},g.getSeriesCount=function(t){var e=t.getOptions().series;return e?e.length:0},g.getY2SeriesCount=function(t,e,i){for(var r=0,a=g.getSeriesCount(t),s=0;s<a;s++)e&&g.getSeriesType(t,s)!=e||(i||g.isSeriesRendered(t,s))&&g.isAssignedToY2(t,s)&&r++;return r},g.getSeries=function(t,e){var i=g.getSeriesItem(t,e);return i?i.id?i.id:i.name||""===i.name?i.name:String(e):null},g.getSeriesLabel=function(t,e){var i=g.getSeriesItem(t,e);return i&&(i.name||""===i.name)?i.name:null},g.getSeriesIndex=function(t,e){for(var i=g.getSeriesCount(t),r=0;r<i;r++){if(g.getSeries(t,r)==e)return r}return-1},g.getSeriesStyleIndex=function(t,e){if(t.getOptionsCache().getFromCache("hasLargeSeriesCount"))return e;var i=g.getSeries(t,e);return null==i?e:t.getSeriesStyleArray().indexOf(i)},g.getSeriesItem=function(t,e){if(isNaN(e)||null==e||e<0)return null;var i=t.getOptions();return i.series&&i.series.length>e?i.series[e]:void 0},g.getDataItem=function(t,e,i){if(isNaN(i)||null==i||i<0)return null;var r=g.getSeriesItem(t,e);return r&&r.items&&r.items.length>i?r.items[i]:null},g.getRawDataItem=function(t,e,i){if(isNaN(i)||null==i||i<0)return null;var r=t.getRawOptions().series[e].items[i];if("number"==typeof r)return r;if(!r)return null;var a=Object.assign({},r);return a.itemData=r._itemData,delete a._itemData,a},g.getDataItemId=function(t,e,i){var r=g.getDataItem(t,e,i);return r?null!=r.id?r.id:s(g.getSeries(t,e),g.getGroup(t,i)):null},g.getNestedDataItem=function(t,e,i,r){if(isNaN(r)||null==r||r<0)return null;var a=g.getDataItem(t,e,i);return a&&a.items&&a.items.length>r?a.items[r]:null},g.getNestedDataItemCount=function(t,e,i){var r=g.getDataItem(t,e,i);return r&&r.items?r.items.length:0},g.getNestedDataItemId=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);return a?null!=a.id?a.id:g.getDataItemId(t,e,i)+"; "+String(r):null},g.getNestedDataItemIndex=function(t,e,i,r){for(var a=g.getNestedDataItemCount(t,e,i),s=0;s<a;s++){var o=g.getNestedDataItemId(t,e,i,s);if(n(o,r,t.getCtx()))return s}return-1},g.getGroupCount=function(t){return g._getGroupsArray(t).length},g.getGroup=function(t,e){if(null!=e&&e>=0&&e<g.getGroupCount(t)){var i=g._getGroupsArray(t)[e];if(i)return null!=i.id?i.id:null!=i.name?i.name:String(e)}return null},g.getGroupIndex=function(t,i){for(var r=g.getGroups(t),a=0;a<r.length;a++)if(i instanceof Array&&r[a]instanceof Array?e.ArrayUtils.equals(i,r[a]):i===r[a])return a;return-1},g.getGroupLabel=function(t,e){if(e>=0&&e<g.getGroupCount(t)){var i=g._getGroupsArray(t)[e];if(i)return null!=i.name?i.name:null!=i.id||"string"!=typeof i?"":i}return null},g.getGroups=function(t){var e=t.getOptionsCache().getFromCache("groups");if(!e){var i=g.getGroupCount(t);e=[];for(var r=0;r<i;r++)e.push(g.getGroup(t,r));t.getOptionsCache().putToCache("groups",e)}return e},g._getGroupsArray=function(t){var e=t.getOptions(),i=t.getOptionsCache().getFromCache("groupsArray");if(!i){i=[],e.groups&&(i=g._getNestedGroups(e.groups,i));for(var r=0;r<i.length;r++)1==i[r].id.length&&(i[r].id=i[r].id[0],i[r].name=i[r].name[0]);t.getOptionsCache().putToCache("groupsArray",i)}return i},g._getNestedGroups=function(t,e){if(!t||t&&0==t.length)return[];for(var i=0;i<t.length;i++){var r=t[i],a=null,s=null;if(null!=r&&(a=r.id?r.id:r.name?r.name:r,s=r.name?r.name:r),"object"==typeof a&&(a=null),"object"==typeof s&&(s=null),r&&r.groups){var n=g._getNestedGroups(r.groups,[]);0==n.length&&n.push({id:[],name:[]});for(var o=0;o<n.length;o++)n[o].id.unshift(a),n[o].name.unshift(s);e=e.concat(n)}else e.push({id:[a],name:[s]})}return e},g.getNumLevels=function(t){var e=t.getOptionsCache().getFromCache("groupsNumLevels");if(null!=e)return e;e=0;for(var i=g._getGroupsArray(t),r=0;r<i.length;r++){var a=i[r];if(a&&a.id){var s=Array.isArray(a.id)?a.id.length:1;e=Math.max(e,s)}}return t.getOptionsCache().putToCache("groupsNumLevels",e),e},g.getValue=function(t,e,i,r){var a,s="number"==typeof r&&r>=0;if(!s&&void 0!==(a=t.getOptionsCache().getFromCachedMap2D("value",e,i)))return a;var n=s?g.getNestedDataItem(t,e,i,r):g.getDataItem(t,e,i);return a=null,null!=n&&("object"!=typeof n?a=n:l.isStock(t)&&null!=n.close?a=n.close:null!=n.value?a=n.value:null!=n.y&&(a=n.y)),a=a||(0===a?0:null),s||t.getOptionsCache().putToCachedMap2D("value",e,i,a),a},g.getCumulativeValue=function(t,e,i,r){if(!g.isStacked(t))return g.getValue(t,e,i);var a=r?"cumValueH":"cumValue",s=t.getCache().getFromCachedMap2D(a,e,i);if(void 0!==s)return s;var n=g.getSeriesType(t,e),o=g.isAssignedToY2(t,e),l=g.getValue(t,e,i),h=g.getStackCategory(t,e),u="bar"==n?l<0:g.isSeriesNegative(t,e);s=0;for(var d=e;d>=0;d--)if((r||g.isDataItemRendered(t,d,i))&&n==g.getSeriesType(t,d)&&o==g.isAssignedToY2(t,d)&&g.getStackCategory(t,d)==h){var c=g.getValue(t,d,i),p="bar"==n?c<0:g.isSeriesNegative(t,d);if(u&&p||!u&&!p){var _=t.getCache().getFromCachedMap2D(a,d,i);if(void 0!==_){s=l+(_||0);break}s+=null==c||isNaN(c)?0:c}}return t.getCache().putToCachedMap2D(a,e,i,s),s},g.getLowValue=function(t,e,i){var r=g.getDataItem(t,e,i);return null==r?null:"candlestick"==g.getSeriesType(t,e)?null==r.low&&null!=r.close?null!=r.open?Math.min(r.close,r.open):r.close:r.low:null!=r.low&&null==r.close?r.low:null},g.getHighValue=function(t,e,i){var r=g.getDataItem(t,e,i);return null==r?null:"candlestick"==g.getSeriesType(t,e)?null==r.high?null!=r.open?Math.max(r.close,r.open):r.close:r.high:null!=r.high&&null==r.close?r.high:null},g.getXValue=function(t,e,i){var r=g.getDataItem(t,e,i);return g.getXValueFromItem(t,r,i)},g.getXValueFromItem=function(t,e,i){return null!=e&&null!=e.x?e.x:l.hasGroupAxis(t)?i:l.hasTimeAxis(t)&&!l.isMixedFrequency(t)?g.getGroupLabel(t,i):null},g.getTargetValue=function(t,e){var i=g.getDataItem(t,e,0);return null==i||"object"!=typeof i?null:i.targetValue},g.getZValue=function(t,e,i,r){var a=g.getDataItem(t,e,i);return null==a||"object"!=typeof a?r:null!=a.z?Math.max(0,a.z):r},g.isStockValueRising=function(t,e,i){var r=g.getDataItem(t,e,i);return!r||r.open<=r.close},g.getCategories=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);if(a&&a.categories)return a.categories;var s=g.getDataItem(t,e,i);if(s&&s.categories)return s.categories;var n=g.getSeriesItem(t,e);if(n&&n.categories)return n.categories;var o=g.getSeries(t,e);return null!=o?[o]:[]},g.isAssignedToY2=function(t,e){if(!t.getOptionsCache().getFromCache("hasY2Assignment"))return!1;var i=g.getSeriesItem(t,e);return!(!i||"on"!=i.assignedToY2||!l.isDualY(t))},g.getInitialSelection=function(t){var e=t.getOptions().selection,i=null!=t.getOptions().data;e||(e=[]);for(var r=t.getChartObjPeers(),a=0;a<e.length;a++){var s=null==e[a].id||i?e[a]:e[a].id;if(null!=e[a].id||e[a].series||e[a].group||(e[a]={id:s}),!(null==s||e[a].series&&e[a].group))for(var o=0;o<r.length;o++){var l=r[o];if(n(s,l.getDataItemId(),t.getCtx())){e[a].series=l.getSeries(),e[a].group=l.getGroup();break}}}return e},g.getCurrentSelection=function(t){var e=[],i=t.getSelectionHandler();if(i)for(var r=i.getSelectedIds(),a=0;a<r.length;a++){var s=r[a];e.push({series:s.series,group:s.group,id:s.id})}return e},g.hasVolumeSeries=function(t){var e=t.getOptionsCache().getFromCache("hasVolume");return e||!1},g.isDataSelected=function(t,e,i,r){var a=!isNaN(r)&&null!=r&&r>=0?g.getNestedDataItemId(t,e,i,r):g.getDataItemId(t,e,i),s=g.getSeries(t,e),o=g.getGroup(t,i),l=t.getOptions().selection;l||(l=[]);for(var h=0;h<l.length;h++){if(n(a,l[h],t.getCtx())||n(a,l[h].id,t.getCtx()))return!0;if(null==l[h].id&&n(s,l[h].series,t.getCtx())&&n(o,l[h].group,t.getCtx()))return!0}return!1},g.getDefaultDataLabel=function(t,e,i,r,a,s){var n;if(s)n=g.getCumulativeValue(t,e,i);else{var o=!isNaN(r)&&null!=r&&r>=0?g.getNestedDataItem(t,e,i,r):g.getDataItem(t,e,i);if(!o)return null;n=o.label,"low"==a?n=n instanceof Array?n[0]:n:"high"==a&&(n=n instanceof Array?n[1]:null)}if(null!=n){if("number"==typeof n){var l,h,d,c=g.isAssignedToY2(t,e)&&t.y2Axis?t.y2Axis:t.yAxis;if(c){var p=c.getInfo();l=p.getGlobalMin(),h=p.getGlobalMax(),d=p.getMajorIncrement()}var _=u.getValueFormat(t,"label");return u.formatValue(t,_,n,l,h,d)}return n}return null},g.getStackCategory=function(t,e){var i=t.getCache().getFromCachedMap("stackCategory",e);return void 0!==i||(i=g.isStacked(t)?g.getSeriesItem(t,e).stackCategory||null:g.getSeries(t,e)||null,t.getCache().putToCachedMap("stackCategory",e,i)),i},g.getStackCategories=function(t,e,i){var r=[],a=[],s={},n={},o=t.getCache().getFromCachedMap2D("stackCategories",e,i);if(o)return o;for(var l=g.getSeriesCount(t),h=0;h<l;h++)if(g.isSeriesRendered(t,h)||i){if(e){var u=g.getSeriesType(t,h);if("candlestick"!=u&&"boxPlot"!=u||(u="bar"),e!=u)continue}var d=g.getStackCategory(t,h);g.isAssignedToY2(t,h)?n[d]||(a.push(d),n[d]=!0):s[d]||(r.push(d),s[d]=!0)}return o={y:r,y2:a},t.getCache().putToCachedMap2D("stackCategories",e,i,o),o},g.getBarCategoryZ=function(t,e,i,r){for(var a=0,s=g.getSeriesCount(t),n=0;n<s;n++){var o=g.getSeriesType(t,n);if(("bar"==o||"candlestick"==o||"boxPlot"==o)&&g.getStackCategory(t,n)==e&&g.isSeriesRendered(t,n)){var l=g.isAssignedToY2(t,n);(r&&l||!r&&!l)&&(a=Math.max(a,g.getZValue(t,n,i,1)))}}return a},g.getMarkerPosition=function(t,i,r,a,s){var n,o,u=t.xAxis,d=g.isAssignedToY2(t,i)?t.y2Axis:t.yAxis,c=l.isPolar(t),p=g.isRangeSeries(t,i),_=!isNaN(a)&&null!=a&&a>=0,f=g.getXValue(t,i,r),v=_?g.getValue(t,i,r,a):g.getCumulativeValue(t,i,r);if(l.isBubble(t)){if(c&&v<d.getInfo().getViewportMin())return null;n=c?u.getCoordAt(f):u.getUnboundedCoordAt(f),o=d.getUnboundedCoordAt(v)}else if(p){var m=d.getCoordAt(g.getLowValue(t,i,r)),S=d.getCoordAt(g.getHighValue(t,i,r));n=u.getCoordAt(g.getXValue(t,i,r)),o=(m+S)/2}else n=u.getCoordAt(f),o=d.getCoordAt(v);return null==n||null==o?null:h.convertAxisCoord(t,new e.Point(n,o),s)},g.getScatterBubbleMarkerPosition=function(t,i,r){var a=t.xAxis,s=t.yAxis,n=g.getXValue(t,i,r),o=g.getValue(t,i,r),l=a.getCoordAt(n),h=s.getCoordAt(o);return null==l||null==h?null:new e.Point(l,h)},g.isSeriesNegative=function(t,e){if(!t.getOptionsCache().getFromCache("hasNegativeValues"))return!1;var i=t.getOptionsCache().getFromCachedMap("isSeriesNegative",e);if(null!=i)return i;var r=g.getGroupCount(t);i=!0;for(var a=0;a<r;a++){if(g.getValue(t,e,a)>0){i=!1;break}}return t.getOptionsCache().putToCachedMap("isSeriesNegative",e,i),i},g.getGroupsDataForContext=function(t){var e=t.getOptionsCache().getFromCache("groupsDataArray");if(!e){var i=t.getRawOptions();e=g._getNestedGroupsData(i.groups),t.getOptionsCache().putToCache("groupsDataArray",e)}return e},g.getSeriesDataForContext=function(t,e){var i=t.getRawOptions().series[e],r=Object.assign({},i);r.items=[];for(var a=0;a<i.items.length;a++){var s,n=i.items[a];(s="object"==typeof n?Object.assign({},i.items[a]):n)&&"object"==typeof s&&delete s._itemData,r.items.push(s)}return r},g._getNestedGroupsData=function(t){if(!t)return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];if(r.groups){for(var a=g._getNestedGroupsData(r.groups),s=0;s<a.length;s++)a[s].unshift(r);e=e.concat(a)}else e.push([r])}return e},g._computeOutermostBarMap=function(t){if(!t.getOptionsCache().getFromCache("outermostBar")){for(var e={},i=g.getSeriesCount(t),r=t.getOptionsCache().getFromCache("hasNegativeValues"),a=i-1;a>=0;a--)if(g.isSeriesRendered(t,a)&&"bar"==g.getSeriesType(t,a)){var s=(g.getStackCategory(t,a)||"")+g.isAssignedToY2(t,a);e[s]?e[s].push(a):e[s]=[a]}var n=g.getGroupCount(t);for(var o in e)for(var l=e[o],h=0;h<n;h++)for(var u=!1,d=!1,c=0;c<l.length&&!(!r&&u||u&&d);c++)if(a=l[c],g.isDataItemRendered(t,a,h)){var p=g.getValue(t,a,h);null==p?t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!1):!u&&p>=0?(u=!0,t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0)):!d&&p<0&&(d=!0,t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0))}}},g.isOutermostBar=function(t,e,i){return g._computeOutermostBarMap(t),t.getOptionsCache().getFromCachedMap2D("outermostBar",e,i)||!1},g.isDataItemFiltered=function(t,e,i){var r=g.getDataItem(t,e,i);return!(!r||!r._filtered)},g.isStacked=function(t){return!("on"!=t.getOptions().stack||l.isMixedFrequency(t)||g.getSeriesCount(t)<2)&&l.isBLAC(t)},g.isSplitDualY=function(t){return!(!l.isStock(t)||!g.hasVolumeSeries(t)||l.isOverview(t))||"on"==t.getOptions().splitDualY&&g.hasY2Data(t)&&!g.hasY2DataOnly(t)},g.hasY2DataOnly=function(t){return!!l.isDualY(t)&&g.getY2SeriesCount(t,null,!0)==g.getSeriesCount(t)},g.hasY2Data=function(t,e){return!!l.isDualY(t)&&g.getY2SeriesCount(t,null,!0)>0},g.hasY2BarData=function(t){return g.hasY2Data(t,"bar")},g.hasBarSeries=function(t){return g._hasSeriesType(t,"bar")},g.hasLineSeries=function(t){return g._hasSeriesType(t,"line")},g.hasAreaSeries=function(t){return g._hasSeriesType(t,"area")},g.hasLineWithAreaSeries=function(t){return g._hasSeriesType(t,"lineWithArea")},g.hasCandlestickSeries=function(t){return g._hasSeriesType(t,"candlestick")},g.hasBoxPlotSeries=function(t){return g._hasSeriesType(t,"boxPlot")},g._hasSeriesType=function(t,e){if(l.isBLAC(t))for(var i=g.getSeriesCount(t),r=0;r<i;r++)if(g.isSeriesRendered(t,r)&&g.getSeriesType(t,r)==e)return!0;return!1},g.getRefObjs=function(t){var e=g.getAxisRefObjs(t,"x"),i=g.getAxisRefObjs(t,"y"),r=g.getAxisRefObjs(t,"y2");return e.concat(i,r)},g.getAxisRefObjs=function(t,e){var i=t.getOptions();return i&&i[e+"Axis"]&&i[e+"Axis"].referenceObjects?i[e+"Axis"].referenceObjects:[]},g._SERIES_TYPE_RAMP=["bar","line","area"],g.getSeriesType=function(t,e){var i=t.getOptionsCache().getFromCachedMap("seriesType",e);if(i)return i;if(!l.isBLAC(t))return t.getOptionsCache().putToCachedMap("seriesType",e,"auto"),"auto";var r=g.getSeriesItem(t,e);if(i=r?r.type:null,l.isStock(t)||"candlestick"!=i||(i="auto"),!i||"auto"==i)if(l.isBar(t))i="bar";else if(l.isLine(t))i="line";else if(l.isArea(t))i="area";else if(l.isLineWithArea(t))i="lineWithArea";else if(l.isStock(t))i="candlestick";else if(l.isBoxPlot(t))i="boxPlot";else if(l.isCombo(t)){var a=g.getSeriesStyleIndex(t,e)%g._SERIES_TYPE_RAMP.length;i=g._SERIES_TYPE_RAMP[a]}return t.getOptionsCache().putToCachedMap("seriesType",e,i),i},g.getHiddenCategories=function(t){var e=t.getOptions();return e.hiddenCategories||(e.hiddenCategories=[]),e.hiddenCategories},g.getHighlightedCategories=function(t){var e=t.getOptions();return e.highlightedCategories||(e.highlightedCategories=[]),e.highlightedCategories},g.isSeriesRendered=function(t,i){var r=g.getHiddenCategories(t);return!(r.length>0&&e.ArrayUtils.hasAnyItem(r,g.getCategories(t,i)))},g.isDataItemRendered=function(t,i,r,a){var s,n=!isNaN(a)&&null!=a&&a>=0;if(!n&&void 0!==(s=t.getOptionsCache().getFromCachedMap2D("isDataItemRendered",i,r)))return s;if(s=!0,g.isSeriesRendered(t,i)){var o=g.getHiddenCategories(t);o.length>0&&((l.isPie(t)||l.isFunnel(t)||l.isPyramid(t))&&(r=0),e.ArrayUtils.hasAnyItem(o,g.getCategories(t,i,r))&&(s=!1),e.ArrayUtils.hasAnyItem(o,g.getCategories(t,i,r,a))&&(s=!1))}else s=!1;return n||t.getOptionsCache().putToCachedMap2D("isDataItemRendered",i,r,s),s},g.isRangeSeries=function(t,e){var i=t.getOptionsCache();if(!i.getFromCache("hasLowHighSeries"))return!1;var r=i.getFromCachedMap("isRange",e);if(null!=r)return r;r=!1;var a=g.getSeriesType(t,e);if("bar"==a||"area"==a)for(var s=0;s<g.getGroupCount(t);s++)if(null!=g.getLowValue(t,e,s)||null!=g.getHighValue(t,e,s)){r=!0;break}return t.getOptionsCache().putToCachedMap("isRange",e,r),r},g.isSeriesDrillable=function(t,e){var i=g.getSeriesItem(t,e),r=null!=i?i.drilling:"inherit";return"on"==r||"off"!=r&&("on"==(r=t.getOptions().drilling)||"seriesOnly"==r)},g.isDataItemDrillable=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);a||(a=g.getDataItem(t,e,i));var s=null!=a?a.drilling:"inherit";return"on"==s||"off"!=s&&"on"==(s=t.getOptions().drilling)},g.isMultiSeriesDrillEnabled=function(t){return"on"===t.getOptions().multiSeriesDrilling};var d=function(t){this.Init({alta:d.SKIN_ALTA},t)};e.Obj.createSubclass(d,e.BaseComponentDefaults),d.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13+"color: #252525;"),halign:"start"},subtitle:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #252525;")},footnote:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;"),_dropColor:"#D9F4FA",xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear"},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear",alignTickMarks:"on"},pieCenter:{labelStyle:new e.CSSStyle("")},zAxis:{},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"auto",layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},dnd:{drag:{items:{},series:{},groups:{}},drop:{plotArea:{},xAxis:{},yAxis:{},y2Axis:{},legend:{}}},styleDefaults:{colors:e.CSSStyle.COLORS_ALTA,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"color",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"",animationDownColor:"",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:10,marqueeColor:"",marqueeBorderColor:"",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",sliceLabelType:"percent",otherColor:"#4b4b4b",dataItemGaps:"auto",dataLabelStyle:new e.CSSStyle(""),_dataLabelStyle:new e.CSSStyle(""),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},tooltipLabelStyle:new e.CSSStyle(""),tooltipValueStyle:new e.CSSStyle(""),stackLabelStyle:new e.CSSStyle(""),boxPlot:{whiskerSvgStyle:{},whiskerEndSvgStyle:{strokeWidth:2},whiskerEndLength:"9px",medianSvgStyle:{strokeWidth:3}}},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:16,footnoteGap:10,verticalAxisGap:6,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9},_locale:"en-us",_resources:{}},d.getGapWidth=function(t,e){return Math.ceil(e*t.getGapWidthRatio())},d.getGapHeight=function(t,e){return Math.ceil(e*t.getGapHeightRatio())},d.prototype.getNoCloneObject=function(t){return{series:{items:{_itemData:!0}},data:!0}};var c=new Object;e.Obj.createSubclass(c,e.Obj),c.OTHER_SLICE_SERIES_ID="_dvtOther",c.getSliceId=function(t,e){var i=g.getDataItem(t,e,0),r=i?i.id:null,a=g.getSeries(t,e),s=g.getGroup(t,0);return new o(r,a,s,t.getCtx())},c.getOtherSliceId=function(t){var e=g.getGroup(t,0);return new o(null,c.OTHER_SLICE_SERIES_ID,e,t.getCtx())},c.getRenderedSeriesIndices=function(t){return c._getSeriesIndicesArrays(t).rendered},c.hasOtherSeries=function(t){return c._getSeriesIndicesArrays(t).other.length>0},c.getOtherValue=function(t){for(var e=c._getSeriesIndicesArrays(t).other,i=0,r=0;r<e.length;r++){var a=e[r];if(g.isSeriesRendered(t,a)){var s=g.getValue(t,a,0);s>0&&(i+=s)}}return i},c.getOtherSliceIds=function(t){for(var e=c._getSeriesIndicesArrays(t).other,i=[],r=0;r<e.length;r++){var a=e[r];i.push(c.getSliceId(t,a))}return i},c.isOtherSliceSelected=function(t,e){for(var i=c.getOtherSliceIds(t),r=0;r<i.length;r++){for(var a=i[r],s=!1,n=0;n<e.length;n++)if(null!=e[n].id&&a.id===e[n].id||a.series===e[n].series&&a.group===e[n].group){s=!0;break}if(!s)return!1}return!0},c._getSeriesIndicesArrays=function(t){for(var e=[],i=[],r=g.getSeriesCount(t),a=t.getOptions(),s=a.otherThreshold*c.getTotalValue(t),n=0;n<r;n++){var o=g.getValue(t,n,0);s>0&&o<s?i.push(n):e.push(n)}return"ascending"==a.sorting?e.sort(function(e,i){return g.getValue(t,e,0)-g.getValue(t,i,0)}):"on"!=a.sorting&&"descending"!=a.sorting||e.sort(function(e,i){return g.getValue(t,i,0)-g.getValue(t,e,0)}),{rendered:e,other:i}},c.getTotalValue=function(t){for(var e=g.getSeriesCount(t),i=0,r=0;r<e;r++){var a=g.getValue(t,r,0);a>0&&(i+=a)}return i},c.getSliceExplode=function(t,e){var i=g.getSeriesItem(t,e);return i&&i.pieSliceExplode?i.pieSliceExplode:0},c.getSliceBySeriesIndex=function(t,e){for(var i=t.pieChart.__getSlices(),r=0;r<i.length;r++)if(i[r].getSeriesIndex()==e)return i[r];return null};var p=new Object;e.Obj.createSubclass(p,e.Obj),p.MARKER_DATA_LABEL_GAP=4,p.getSeriesEffect=function(t){return t.getOptions().styleDefaults.seriesEffect},p.getColor=function(t,e,i){var r=g.getDataItem(t,e,i);if(r&&r.color)return r.color;var a=g.getSeriesItem(t,e);if(a&&a.color)return a.color;if("candlestick"==g.getSeriesType(t,e))return p.getStockItemColor(t,e,i);var s=t.getOptions().styleDefaults.colors;return s[g.getSeriesStyleIndex(t,e)%s.length]},p.getStockItemColor=function(t,e,i){var r=t.getOptions();return g.isStockValueRising(t,e,i)?r.styleDefaults.stockRisingColor:r.styleDefaults.stockFallingColor},p.getStockVolumeColor=function(t,e,i){var r=g.getDataItem(t,e,i);if(r&&r.color)return r.color;var a=t.getOptions();return a.styleDefaults.stockVolumeColor?a.styleDefaults.stockVolumeColor:p.getStockItemColor(t,e,i)},p.getSplitterPosition=function(t){var e=t.getOptions().splitterPosition;return null!=e?e:l.isStock(t)?.8:.5},p.getPattern=function(t,i,r,a){var s=g.getNestedDataItem(t,i,r,a);if(s&&s.pattern&&"auto"!=s.pattern)return s.pattern;var n=g.getDataItem(t,i,r);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var o=g.getSeriesType(t,i);if(("line"==o||"area"==o)&&null!=r)return null;var h=g.getSeriesItem(t,i);if(h&&h.pattern&&"auto"!=h.pattern)return h.pattern;if("pattern"==p.getSeriesEffect(t)){if(l.isStock&&"candlestick"==g.getSeriesType(t,i)){var u=g.isStockValueRising(t,i,r),d=e.Agent.isRightToLeft(t.getCtx());return u?d?"smallDiagonalLeft":"smallDiagonalRight":d?"smallDiagonalRight":"smallDiagonalLeft"}var c=t.getOptions().styleDefaults.patterns;return c[g.getSeriesStyleIndex(t,i)%c.length]}return null},p.getMarkerBorderColor=function(t,e,i,r){var a=p.getBorderColor(t,e,i,r);return a||p.getDefaultMarkerBorderColor(t,e,i,r)},p.getDefaultMarkerBorderColor=function(t,i,r,a){if("redwood"===t.getCtx().getThemeBehavior()&&!g.isRangeSeries(t,i))return p.getMarkerColor(t,i,r,a);if(p.getDataItemGaps(t)>0&&"lineWithArea"!=g.getSeriesType(t,i))return p.getBackgroundColor(t,!0);if(l.isBubble(t)&&"gradient"!=p.getSeriesEffect(t)){var s=p.getMarkerColor(t,i,r);if(s)return e.ColorUtils.adjustHSL(s,0,.15,-.25)}return null},p.getBorderColor=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);if(a&&a.borderColor)return a.borderColor;var s=g.getDataItem(t,e,i);if(s&&s.borderColor)return s.borderColor;var n=g.getSeriesItem(t,e);if(n&&n.borderColor)return n.borderColor;var o=t.getOptions().styleDefaults;return"auto"!=o.borderColor?o.borderColor:null},p.getUserBorderWidth=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);if(a&&null!=a.borderWidth)return a.borderWidth;var s=g.getDataItem(t,e,i);if(s&&null!=s.borderWidth)return s.borderWidth;var n=g.getSeriesItem(t,e);if(n&&null!=n.borderWidth)return n.borderWidth;var o=t.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:null},p.getDefaultBorderWidth=function(t){return l.isScatterBubble(t)||l.isLineArea(t)?1.25:1},p.getDefaultMarkerBorderWidth=function(t){return"redwood"===t.getCtx().getThemeBehavior()?0:p.getDefaultBorderWidth(t)},p.getBorderWidth=function(t,e,i,r){var a=p.getUserBorderWidth(t,e,i,r);return null!=a?a:p.getDefaultBorderWidth(t)},p.getMarkerColor=function(t,e,i,r){if(!p.isMarkerDisplayed(t,e,i,r))return p.getColor(t,e,i);var a=g.getNestedDataItem(t,e,i,r);if(a&&a.color)return a.color;var s=g.getDataItem(t,e,i);if(s&&s.color)return s.color;var n=g.getSeriesItem(t,e);if(n&&n.markerColor)return n.markerColor;var o=t.getOptions().styleDefaults.markerColor;return o||p.getColor(t,e,i)},p.getMarkerShape=function(t,e,i,r){var a=t.getOptions(),s=a.styleDefaults.markerShape,n=g.getSeriesItem(t,e);n&&n.markerShape&&(s=n.markerShape);var o=g.getDataItem(t,e,i);o&&o.markerShape&&(s=o.markerShape);var h=g.getNestedDataItem(t,e,i,r);if(h&&h.markerShape&&(s=h.markerShape),"auto"==s)if(l.isBubble(t)||"boxPlot"==g.getSeriesType(t,e)||g.isRangeSeries(t,e))s="circle";else{var u=g.getSeriesStyleIndex(t,e),d=a.styleDefaults.shapes;s=d[u%d.length]}return s},p.getMarkerSize=function(t,e,i,r){var a;if(l.isBubble(t)&&(a=t.getOptionsCache().getFromCachedMap2D("bubbleSizeCache",e,i)))return a;var s=g.getNestedDataItem(t,e,i,r);if(s&&null!=s.markerSize)a=Number(s.markerSize);else{var n=g.getDataItem(t,e,i);if(n&&null!=n.markerSize)a=Number(n.markerSize);else{var o=g.getSeriesItem(t,e);a=o&&null!=o.markerSize?Number(o.markerSize):Number(t.getOptions().styleDefaults.markerSize)}}return l.isOverview(t)&&(a=Math.ceil(.6*a)),a},p.isMarkerDisplayed=function(t,e,i,r){var a,s=g.getNestedDataItem(t,e,i,r);if(s&&null!=s.markerDisplayed)a=s.markerDisplayed;else{var n=g.getDataItem(t,e,i);if(n&&null!=n.markerDisplayed)a=n.markerDisplayed;else{var o=g.getSeriesItem(t,e);a=o&&null!=o.markerDisplayed?o.markerDisplayed:t.getOptions().styleDefaults.markerDisplayed}}return"on"==a||"off"!=a&&(l.isScatterBubble(t)||"boxPlot"==g.getSeriesType(t,e)||"none"==p.getLineType(t,e))},p.getImageSource=function(t,e,i,r,a){var s=g.getNestedDataItem(t,e,i,r);if(s&&s[a])return s[a];var n=g.getDataItem(t,e,i);if(n&&n[a])return n[a];var o=g.getSeriesItem(t,e);return o&&o[a]?o[a]:void 0},p.getLineWidth=function(t,e){var i,r=g.getSeriesItem(t,e),a=t.getOptions();return i=r&&r.lineWidth?r.lineWidth:a.styleDefaults.lineWidth?a.styleDefaults.lineWidth:"lineWithArea"==g.getSeriesType(t,e)?2:3,l.isOverview(t)&&(i=Math.ceil(.6*i)),i},p.getLineStyle=function(t,e){var i=g.getSeriesItem(t,e);return i&&i.lineStyle?i.lineStyle:t.getOptions().styleDefaults.lineStyle},p.getLineType=function(t,e){var i,r=g.getSeriesItem(t,e);return"auto"==(i=r&&r.lineType?r.lineType:t.getOptions().styleDefaults.lineType)&&(i=l.isScatterBubble(t)?"none":"straight"),(l.isPolar(t)||l.isScatterBubble(t))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},p.getBarSpacing=function(t){return t.getOptions().__sparkBarSpacing},p.getMaxBarWidth=function(t){var e=t.getOptions().styleDefaults.maxBarWidth;return null==e||l.isPolar(t)?1/0:e},p.getBarWidth=function(t,e,i){t.getOptionsCache().getFromCache("hasConstantZValue")&&(e=0,i=0);var r=t.getCache().getFromCachedMap2D("barWidth",e,i);if(null!=r)return r;var a=g.getZValue(t,e,i,1)/t.getOptions()._averageGroupZ;return r=Math.min(a*p.getGroupWidth(t),p.getMaxBarWidth(t)),t.getCache().putToCachedMap2D("barWidth",e,i,r),r},p.getBarStackWidth=function(t,e,i,r){t.getOptionsCache().getFromCache("hasConstantZValue")&&(i=0);var a=r?"y2BarStackWidth":"yBarStackWidth",s=t.getCache().getFromCachedMap2D(a,e,i);if(null!=s)return s;var n=g.getBarCategoryZ(t,e,i,r)/t.getOptions()._averageGroupZ;return s=Math.min(n*p.getGroupWidth(t),p.getMaxBarWidth(t)),t.getCache().putToCachedMap2D(a,e,i,s),s},p.getBarCategoryOffsetMap=function(t,e){t.getOptionsCache().getFromCache("hasConstantZValue")&&(e=0);var i=t.getCache().getFromCachedMap("barCategoryOffsetMap",e);if(i)return i;var r,a=g.isStacked(t),s=g.getStackCategories(t,"bar"),n=l.isMixedFrequency(t),o=g.isSplitDualY(t),h={},u={},d=0,c=0;if(a){for(f=0;f<s.y.length;f++)r=p.getBarStackWidth(t,s.y[f],e,!1),n?h[s.y[f]]=-.5*r:(h[s.y[f]]=d,d+=r);for(o||(c=d),f=0;f<s.y2.length;f++)r=p.getBarStackWidth(t,s.y2[f],e,!0),n?u[s.y2[f]]=-.5*r:(u[s.y2[f]]=c,c+=r);o||(d=c)}else for(var _=g.getSeriesCount(t),f=0;f<_;f++){var v=g.getSeriesType(t,f);if(("bar"==v||"candlestick"==v||"boxPlot"==v)&&g.isSeriesRendered(t,f)){var m=g.isAssignedToY2(t,f),S=g.getStackCategory(t,f);r=p.getBarWidth(t,f,e),m?n?u[S]=-.5*r:(u[S]=c,c+=r):n?h[S]=-.5*r:(h[S]=d,d+=r)}}for(var S in h)h[S]-=o||a?d/2:(d+c)/2;for(var S in u)u[S]-=o||a?c/2:(d+c)/2-d;return i={y:h,y2:u},t.getCache().putToCachedMap("barCategoryOffsetMap",e,i),i},p.getDataItemGaps=function(t){var e=t.getOptionsCache().getFromCache("dataItemGaps");if(null!=e)return e;var i=t.getOptions();if(null!=i.styleDefaults.sliceGaps)e=i.styleDefaults.sliceGaps;else{var r=i.styleDefaults.dataItemGaps;"auto"==r&&(r="on"==i.styleDefaults.threeDEffect?"0%":"50%");var a=r&&r.indexOf?r.indexOf("%"):-1;e=a>=0?(r=r.substring(0,a))/100:0}return t.getOptionsCache().putToCache("dataItemGaps",e),e},p.isSelectable=function(t,e,i){var r=g.getSeriesItem(t,e);return(!r||"off"!=r._selectable)&&(t.isSelectionSupported()&&null!=e&&e>=0&&null!=i&&i>=0)},p.getAnimationOnDisplay=function(t){return t.getOptions().animationOnDisplay},p.getAnimationOnDataChange=function(t){return t.getOptions().animationOnDataChange},p.getAnimationDuration=function(t){return e.CSSStyle.getTimeMilliseconds(t.getOptions().styleDefaults.animationDuration)/1e3},p.getAnimationIndicators=function(t){return t.getOptions().styleDefaults.animationIndicators},p.getAnimationUpColor=function(t){return t.getOptions().styleDefaults.animationUpColor},p.getAnimationDownColor=function(t){return t.getOptions().styleDefaults.animationDownColor},p.getSelectedInnerColor=function(t){return t.getOptions().styleDefaults.selectedInnerColor},p.getSelectedOuterColor=function(t){return t.getOptions().styleDefaults.selectedOuterColor},p.isSelectionHighlighted=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"highlight"==e||"highlightAndExplode"==e},p.isSelectionExploded=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"explode"==e||"highlightAndExplode"==e},p.getDataLabelStyle=function(t,i,r,a,s,n,o){var h,u=t.getOptions().styleDefaults,d=[u._dataLabelStyle,u.dataLabelStyle];!s||"bar"!=g.getSeriesType(t,i)&&!l.isBubble(t)||"center"!=n&&"inBottom"!=n&&"inTop"!=n&&"inRight"!=n&&"inLeft"!=n||(h=null!=p.getPattern(t,i,r,a)?"#000000":e.ColorUtils.getContrastingTextColor(s),d.push(new e.CSSStyle("color: "+h+";"))),d.push(p._parseLowHighArray(t.getOptions().styleDefaults.dataLabelStyle,o));var c=g.getDataItem(t,i,r);c&&d.push(new e.CSSStyle(p._parseLowHighArray(c.labelStyle,o)));var _=g.getNestedDataItem(t,i,r,a);return _&&d.push(new e.CSSStyle(p._parseLowHighArray(_.labelStyle,o))),h&&e.Agent.isHighContrast()&&d.push(new e.CSSStyle("color: "+h+";")),e.CSSStyle.mergeStyles(d)},p.getDataLabelCollisions=function(t,e,i,r,a){var s=e&&e.x&&e.x-i.w/2||i.x,n=e&&e.y&&e.y-i.h/2||i.y,o=p.MARKER_DATA_LABEL_GAP/2,l=t.getOptions(),h=a?d.getGapHeight(t,l.layout.legendGapHeight):d.getGapWidth(t,l.layout.legendGapWidth);return{xAxis:n+i.h+o>r.y+r.h,yAxis:s+o<r.x,y2Axis:s+i.w+o>r.x+r.w,legend:s+i.w+o>r.x+r.w+h,top:n<t.getDimensions().y}},p.adjustDataLabelPosition=function(t,e,i){var r=t;return"left"!=t&&"center"!=t||!e.yAxis?"right"!=t&&"center"!=t||!(i&&e.y2Axis||e.legend)?"top"!=t&&"center"!=t||!e.top?"bottom"!=t&&"center"!=t||!e.xAxis||(r="top"):r="bottom":r="left":r="right",r},p._parseLowHighArray=function(t,e){return t instanceof Array?"high"==e?t[1]:t[0]:t},p.isOverviewRendered=function(t){var e=t.getOptions();return l.isOverviewSupported(t)&&"off"!=e.overview.rendered},p.getOverviewHeight=function(t){var e=t.getOptions().overview.height;return null==e&&(e=l.hasTimeAxis(t)?.25:.2),p.getSizeInPixels(e,t.getHeight())},p.getSizeInPixels=function(t,e){if("string"==typeof t){if("%"==t.slice(-1))return e*Number(t.slice(0,-1))/100;if("px"==t.slice(-2))return Number(t.slice(0,-2));t=Number(t)}return"number"==typeof t?t<=1?e*t:t:0},p.getBackgroundColor=function(t,e){var i=t.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:e?"#FFFFFF":null},p.getHoverBehaviorDelay=function(t){var i=t.getOptions().styleDefaults.hoverBehaviorDelay;return i?(i=e.CSSStyle.getTimeMilliseconds(i),l.isScatterBubble(t)||l.isLine(t)?.75*i:1.25*i):0},p.optimizeMarkerStroke=function(t){return l.isScatterBubble(t)||l.isBoxPlot(t)},p.getGroupWidth=function(t){var e=t.getCache().getFromCache("groupWidth");return null==e&&(e=t.xAxis.getInfo().getGroupWidth(),t.getCache().putToCache("groupWidth",e)),e},p.isStackLabelRendered=function(t){var e=t.getOptions();return"on"==e.stack&&!l.isMixedFrequency(t)&&("on"===e.stackLabel&&l.isBLAC(t))},p.optimizeMarkerFill=function(t){return l.isLineArea(t)},p.getClassName=function(t,e,i){var r=g.getDataItem(t,e,i);if(r&&(r.className||r.svgClassName))return r.className||r.svgClassName;var a=g.getSeriesItem(t,e);return a&&(a.className||a.svgClassName)?a.className||a.svgClassName:null},p.getAreaClassName=function(t,e){var i=g.getSeriesItem(t,e);return i&&(i.areaClassName||i.areaSvgClassName)?i.areaClassName||i.areaSvgClassName:i&&(i.className||i.svgClassName)?i.className||i.svgClassName:null},p.getMarkerClassName=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);if(a&&(a.className||a.svgClassName))return a.className||a.svgClassName;var s=g.getDataItem(t,e,i);if(s&&(s.className||s.svgClassName))return s.className||s.svgClassName;var n=g.getSeriesItem(t,e);return n&&(n.markerClassName||n.markerSvgClassName)?n.markerClassName||n.markerSvgClassName:l.isScatterBubble(t)&&n&&(n.className||n.svgClassName)?n.className||n.svgClassName:null},p.getStyle=function(t,e,i){var r=g.getDataItem(t,e,i);if(r&&(r.style||r.svgStyle))return r.style||r.svgStyle;var a=g.getSeriesItem(t,e);return a&&(a.style||a.svgStyle)?a.style||a.svgStyle:null},p.getAreaStyle=function(t,e){var i=g.getSeriesItem(t,e);return i&&(i.areaStyle||i.areaSvgStyle)?i.areaStyle||i.areaSvgStyle:i&&(i.style||i.svgStyle)?i.style||i.svgStyle:null},p.getMarkerStyle=function(t,e,i,r){var a=g.getNestedDataItem(t,e,i,r);if(a&&(a.style||a.svgStyle))return a.style||a.svgStyle;var s=g.getDataItem(t,e,i);if(s&&(s.style||s.svgStyle))return s.style||s.svgStyle;var n=g.getSeriesItem(t,e);return n&&(n.markerStyle||n.markerSvgStyle)?n.markerStyle||n.markerSvgStyle:l.isScatterBubble(t)&&n&&(n.style||n.svgStyle)?n.style||n.svgStyle:null},p.getBoxPlotStyleOptions=function(t,i,r){var a=g.getDataItem(t,i,r),s=a&&a.boxPlot?a.boxPlot:{},n=g.getSeriesItem(t,i),o=n&&n.boxPlot?n.boxPlot:{},l=t.getOptions().styleDefaults.boxPlot,h=e.JsonUtils.merge(s,e.JsonUtils.merge(o,l)),u=p.getColor(t,i,r);h._color=u;var d=e.ColorUtils.getBrighter(u,.8);if(h.q2Color||(h.q2Color=d),h.q3Color||(h.q3Color=d),"pattern"==p.getSeriesEffect(t)){var c=p.getPattern(t,i,r);h._q2Pattern=c,h._q3Pattern=c}var _=p.getBorderColor(t,i,r);h.borderColor=_||u,h.borderWidth=p.getBorderWidth(t,i,r);var f=e.ColorUtils.getDarker(u,.1);return p._setBoxPlotDefaultLineColor(h,"whisker",f),p._setBoxPlotDefaultLineColor(h,"whiskerEnd",f),p._setBoxPlotDefaultLineColor(h,"median",f),h},p._setBoxPlotDefaultLineColor=function(t,i,r){var a=e.JsonUtils.merge(t[i+"Style"],t[i+"SvgStyle"]);t[i+"SvgStyle"]=a,t[i+"Style"]=null,!a||a.stroke||t[i+"ClassName"]||t[i+"SvgClassName"]||(t[i+"SvgStyle"].stroke=r)},p.getDataContext=function(t,e,i,r){var a,s=g.getSeriesItem(t,e),n=g.getDataItem(t,e,i),o=g.getNestedDataItem(t,e,i,r),h=t.getRawOptions(),u=l.isPie(t)&&(null==e||e<0),d=t.getOptions();if(u){var _=d.translations.labelOther;a={id:_,series:_,value:c.getOtherValue(t),color:d.styleDefaults.otherColor}}else if(o){(f=h.series[e].items[i])._noTemplate?f=f._itemData:f&&"object"==typeof f&&delete(f=Object.assign({},f))._itemData,a={id:g.getNestedDataItemId(t,e,i,r),data:[f,f.items[r]],value:g.getValue(t,e,i,r),y:g.getValue(t,e,i,r),color:p.getMarkerColor(t,e,i,r),itemData:d.series[e].items[i]._itemData}}else if(n){var f;(f=h.series[e].items[i])._noTemplate?f=f._itemData:f&&"object"==typeof f&&delete(f=Object.assign({},f))._itemData,a={id:g.getDataItemId(t,e,i),data:f,value:g.getValue(t,e,i),targetValue:g.getTargetValue(t,e,i),x:g.getXValue(t,e,i),y:g.getValue(t,e,i),z:g.getZValue(t,e,i),low:g.getLowValue(t,e,i),high:g.getHighValue(t,e,i),open:n.open,q1:n.q1,q2:n.q2,q3:n.q3,close:n.close,volume:n.volume,color:p.getColor(t,e,i),itemData:d.series[e].items[i]._itemData}}else s&&(a={id:g.getSeries(t,e),color:p.getColor(t,e)});if(a){a.component=d._widgetConstructor,(u||o||n)&&(a.group=g.getGroup(t,i),a.groupData=g.getGroupsDataForContext(t)[i]),!u&&(o||n||s)&&(a.series=g.getSeries(t,e),a.seriesData=g.getSeriesDataForContext(t,e)),l.isPie(t)&&t.pieChart&&(a.totalValue=t.pieChart.getTotalValue());var v=t.getOptionsCache().getFromCachedMap2D("barDims",e,i);v&&(a.dimensions=v),a=t.getCtx().fixRendererContext(a)}return a||{}},p.getShortDescContext=function(t,e,i,r){if(e<0||i<0)return null;var a=g.getDataItem(t,e,i),s=t.getRawOptions(),n=t.getOptions(),o=s.series[e].items[i];return o._noTemplate?o=o._itemData:o&&"object"==typeof o&&delete(o=Object.assign({},o))._itemData,{id:g.getDataItemId(t,e,i),data:o,value:g.getValue(t,e,i),targetValue:g.getTargetValue(t,e,i),label:g.getDefaultDataLabel(t,e,i,r),x:g.getXValue(t,e,i),y:g.getValue(t,e,i),z:g.getZValue(t,e,i),low:g.getLowValue(t,e,i),high:g.getHighValue(t,e,i),q1:a.q1,q2:a.q2,q3:a.q3,volume:a.volume,open:a.open,close:a.close,itemData:n.series[e].items[i]._itemData,group:g.getGroup(t,i),groupData:g.getGroupsDataForContext(t)[i],series:g.getSeries(t,e),seriesData:g.getSeriesDataForContext(t,e)}},p.getDataLabel=function(t,e,i,r,a,s){var n,o=g.getDefaultDataLabel(t,e,i,r,a,s),l=t.getOptions().dataLabel;if(l&&!s){var h=p.getDataContext(t,e,i,r);if(h.label=o,"number"==typeof(n=l(h))){var u=DvtChartFormatUtils.getValueFormat(t,"label");n=DvtChartFormatUtils.formatValue(t,u,n)}}if(t.Options.stackLabelProvider&&s){var d=p.getStackLabelContext(t,i);n=t.Options.stackLabelProvider(d)}return n||o},p.getStackLabelContext=function(t,e){for(var i=g.getSeriesCount(t),r=t.getOptions(),a=[],s=[],n=0,o=g.getGroup(t,e),l=0;l<i;l++){var h=r.series[l].items[e];a.push(h),h&&s.push(h._itemData),n+=g.getValue(t,l,e)}return{groups:o,data:a,groupData:g.getGroupsDataForContext(t)[e]||[],value:n,itemData:s}},p.hasCenteredSeries=function(t){if(!l.isBLAC(t))return!1;for(var e=g.getSeriesCount(t),i=0;i<e;i++)if(g.isSeriesRendered(t,i)&&"bar"!=g.getSeriesType(t,i)){var r=p.getLineType(t,i);if("centeredSegmented"==r||"centeredStepped"==r)return!0}return!1},p.hasUncenteredSeries=function(t){if(!l.isBLAC(t))return!1;for(var e=g.getSeriesCount(t),i=0;i<e;i++)if(g.isSeriesRendered(t,i)&&"bar"!=g.getSeriesType(t,i)){var r=p.getLineType(t,i);if("segmented"==r||"stepped"==r)return!0}return!1};var _=function(t,e,i){this.Init(t,e,i)};e.Obj.createSubclass(_,e.Container),_.BEHAVIOR_SNAP="SNAP",_.BEHAVIOR_SMOOTH="SMOOTH",_.BEHAVIOR_AUTO="AUTO",_.TOOLTIP_ID="_dvtDataCursor",_.prototype.Init=function(t,i,r){_.superclass.Init.call(this,t),this._bHoriz=r,this._options=i,this.setMouseEnabled(!1),this.setVisible(!1);var a=i.lineWidth,s=i.lineColor,n=new e.Stroke(s,1,a,!1,e.Stroke.getDefaultDashProps(i.lineStyle,a));this._cursorLine=new e.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(n),this.addChild(this._cursorLine),this._cursorOuterLine=new e.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorOuterLine.setClassName("oj-chart-data-cursor-outer-line"),this.addChild(this._cursorOuterLine),this.addMarker(e.SimpleMarker.CIRCLE,i.markerSize)},_.prototype.addMarker=function(t,i){if("off"!==this._options.markerDisplayed){this._marker&&this.removeChild(this._marker),this._marker=new e.Container(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var r=this._options.lineColor,a=this._options.lineWidth,s=new e.SimpleMarker(this._context,t,0,0,i+4*a,i+4*a);s.setSolidFill(r),this._marker.addChild(s);var n=new e.SimpleMarker(this._context,t,0,0,i+2*a,i+2*a);n.setSolidFill("white"),this._marker.addChild(n),this._markerInnerShape=new e.SimpleMarker(this._context,t,0,0,i,i),this._marker.addChild(this._markerInnerShape)}},_.prototype.render=function(t,i,r,a,s,n){var o,l=this.isHorizontal(),h=e.Agent.isRightToLeft(this.getCtx());if(null!=s&&""!=s){var u=this.getCtx().getStageAbsolutePosition(),g=this.getCtx().getTooltipManager(_.TOOLTIP_ID);g.showDatatip(i+u.x,r+u.y,s,n,!1),o=g.getTooltipBounds();var d,c,p=this._options.markerSize+4*this._options.lineWidth;l?(d=h?t.x-.75*o.w:t.x+t.w-o.w/4,c=a-o.h/2,!h&&d-i<p?d=i+p:h&&i-(d+o.w)<p&&(d=i-p-o.w)):(d=a-o.w/2,r-((c=t.y-.75*o.h)+o.h)<p&&(c=r-p-o.h)),g.positionTip(d+u.x,c+u.y),(o=g.getTooltipBounds()).x-=u.x,o.y-=u.y}var f=this._cursorLine.getStroke().getWidth(),v=a+Math.ceil(f/2);if(l){var m,S;this._cursorLine.setTranslateY(a),this._cursorOuterLine.setTranslateY(v),h?(m=o?o.x+o.w-1:t.x,S=t.x+t.w):(m=t.x,S=o?o.x+1:t.x+t.w),this._cursorLine.setX1(m),this._cursorLine.setX2(S),this._cursorOuterLine.setX1(m),this._cursorOuterLine.setX2(S)}else{this._cursorLine.setTranslateX(a),this._cursorOuterLine.setTranslateX(v);var y=o?o.y+o.h-1:t.y,x=t.y+t.h;this._cursorLine.setY1(y),this._cursorLine.setY2(x),this._cursorOuterLine.setY1(y),this._cursorOuterLine.setY2(x)}if(this._marker){this._marker.setTranslate(i,r);var C=this._options.markerColor;this._markerInnerShape.setSolidFill(C||n),e.Agent.workaroundFirefoxRepaint(this._marker)}},_.prototype.isHorizontal=function(){return this._bHoriz},_.prototype.getBehavior=function(){return this._behavior?this._behavior:_.BEHAVIOR_AUTO},_.prototype.setBehavior=function(t){this._behavior=t};var f=new Object;e.Obj.createSubclass(f,e.Obj),f.getType=function(t){return"area"==t.type?"area":"line"},f.getLocation=function(t){return"front"==t.location?"front":"back"},f.getColor=function(t,e){return e.color?e.color:"line"===f.getType(e)?t.getOptions()._defaultReferenceObjectLineColor:t.getOptions()._defaultReferenceObjectAreaColor},f.getLineWidth=function(t,e){return e.lineWidth?e.lineWidth:parseFloat(t.getOptions()._defaultReferenceObjectLineWidth)},f.getLineType=function(t){return t.lineType?t.lineType:"straight"},f.isObjectRendered=function(t,i){var r=g.getHiddenCategories(t);if(r.length>0){var a=f.getRefObjCategories(i);if(a&&e.ArrayUtils.hasAnyItem(r,a))return!1}return!("hidden"==i.visibility)},f.getId=function(t){return null!=t.id?t.id:t.text},f.getRefObjCategories=function(t){return t.categories?t.categories:[f.getId(t)]},f.getRefObj=function(t,e){for(var i=g.getRefObjs(t),r=0;r<i.length;r++)if(f.getId(i[r])==e)return i[r]},f.getLowValue=function(t){return null==t?null:t.low},f.getHighValue=function(t){return null==t?null:t.high},f.getXValue=function(t,e,i){return g.getXValueFromItem(t,e[i],i)};var v=new Object;e.Obj.createSubclass(v,e.Obj),v.getDatatipColor=function(t,e,i,r){return l.isStock(t)?p.getColor(t,0,i):null!=r&&r>=0?p.getMarkerColor(t,e,i,r):p.getColor(t,e,i)},v.getDatatip=function(t,e,i,r,a){if(l.isSpark(t)||l.isOverview(t))return null;if(e<0||i<0)return null;var s=t.getOptions().tooltip,n=s?s.renderer:null;if(a&&n){var o=t.getCtx().getTooltipManager(v.isDataCursorEnabled(t)?_.TOOLTIP_ID:null),h=p.getDataContext(t,e,i,r);if(l.isPie(t)){var u=c.getSliceBySeriesIndex(t,e);h.label=u.getSliceLabelString()}else h.label=p.getDataLabel(t,e,i,r);return o.getCustomTooltip(n,h)}var d=g.getNestedDataItem(t,e,i,r);if(d&&null!=d.shortDesc)return d.shortDesc;var f,m=g.getDataItem(t,e,i);return m&&null!=m.shortDesc?m.shortDesc:(l.isStock(t)?f=v._getStockDatatip(t,0,i,a):(f=[],v._addSeriesDatatip(f,t,e,i,a),v._addGroupDatatip(f,t,e,i,a),v._addValueDatatip(f,t,e,i,r,a)),v._processDatatip(f,t,a))},v.getOtherSliceDatatip=function(t,e,i){var r=t.getOptions().translations.labelOther,a=t.getOptions().tooltip,s=a?a.renderer:null;if(i&&s){var n=c.getSliceBySeriesIndex(t,null),o=p.getDataContext(t,null,0);return o.label=n.getSliceLabelString(),t.getCtx().getTooltipManager().getCustomTooltip(s,o)}var l=[];return v._addDatatipRow(l,t,"series","labelSeries",r,i),v._addGroupDatatip(l,t,0,0,i),v._addDatatipRow(l,t,"value","labelValue",e,i),v._processDatatip(l,t,i)},v._processDatatip=function(t,i,r){return 0===t.length?null:r?e.HtmlTooltipManager.createElement("table",null,t,["oj-dvt-datatip-table"]):t.join("")},v.getRefObjTooltip=function(t,e,i,r){var a=t.getOptions().tooltip,s=a?a.renderer:null;if(s&&null!=e.id){var n=t.getCtx().getTooltipManager(v.isDataCursorEnabled(t)?_.TOOLTIP_ID:null),o={id:f.getId(e),label:e.text,data:t.getRawOptions()[i].referenceObjects[r],value:e.value,low:f.getLowValue(e),high:f.getHighValue(e),color:f.getColor(t,e)};return n.getCustomTooltip(s,o)}return e.shortDesc},v._getStockDatatip=function(t,e,i,r){var a=g.getDataItem(t,e,i),s=[];return v._addGroupDatatip(s,t,e,i,r),a&&(v._addDatatipRow(s,t,"open","labelOpen",a.open,r),v._addDatatipRow(s,t,"close","labelClose",a.close,r),v._addDatatipRow(s,t,"high","labelHigh",a.high,r),v._addDatatipRow(s,t,"low","labelLow",a.low,r),v._addDatatipRow(s,t,"volume","labelVolume",a.volume,r)),s},v._addSeriesDatatip=function(t,e,i,r,a){var s=g.getSeriesLabel(e,i);v._addDatatipRow(t,e,"series","labelSeries",s,a)},v._addGroupDatatip=function(t,e,i,r,a){var s;if(l.hasTimeAxis(e)){var n=u.getValueFormat(e,"group"),o=g.getXValue(e,i,r);null==(s=u.formatDateValue(n,new Date(o)))&&(s=e.xAxis.getInfo().formatLabel(o))}else s=g.getGroupLabel(e,r);var h=g.getNumLevels(e),d="labelGroup";if(1!=h&&Array.isArray(s))for(var c=h-1;c>=0;c--)v._addDatatipRow(t,e,"group",d,s[c],a,c),s[c]&&(d=null);else v._addDatatipRow(t,e,"group",d,s,a)},v._addValueDatatip=function(t,e,i,r,a,s){var n=g.getValue(e,i,r,a),o=g.getXValue(e,i,r),h=g.getZValue(e,i,r),u=g.getLowValue(e,i,r),d=g.getHighValue(e,i,r),c=null!=a&&a>=0;if(l.isScatterBubble(e))v._addDatatipRow(t,e,"x","labelX",o,s),v._addDatatipRow(t,e,"y","labelY",n,s),l.isBubble(e)&&v._addDatatipRow(t,e,"z","labelZ",h,s);else if(l.isPie(e)||l.isPyramid(e))v._addDatatipRow(t,e,"value","labelValue",n,s);else if(l.isFunnel(e)){v._addDatatipRow(t,e,"value","labelValue",n,s);var p=g.getTargetValue(e,i);null!=p&&v._addDatatipRow(t,e,"targetValue","labelTargetValue",p,s)}else if("boxPlot"!=g.getSeriesType(e,i)||c){if(l.isBLAC(e)){var _=g.isAssignedToY2(e,i)?"y2":"y";null==u&&null==d||c?null==h||c?v._addDatatipRow(t,e,_,"labelValue",n,s):(v._addDatatipRow(t,e,_,"labelY",n,s),v._addDatatipRow(t,e,"z","labelZ",h,s)):(v._addDatatipRow(t,e,"high","labelHigh",d,s),v._addDatatipRow(t,e,"low","labelLow",u,s),null!=h&&v._addDatatipRow(t,e,"z","labelZ",h,s))}}else{var f=g.getDataItem(e,i,r);v._addDatatipRow(t,e,"high","labelHigh",d,s),v._addDatatipRow(t,e,"q3","labelQ3",f.q3,s),v._addDatatipRow(t,e,"q2","labelQ2",f.q2,s),v._addDatatipRow(t,e,"q1","labelQ1",f.q1,s),v._addDatatipRow(t,e,"low","labelLow",u,s),null!=h&&v._addDatatipRow(t,e,"z","labelZ",h,s)}},v._addDatatipRow=function(t,i,r,a,s,n,o){if(null!=s&&""!==s){var h,g=i.getOptions().styleDefaults,d=u.getValueFormat(i,r),c=d.tooltipDisplay,p=i.getOptions().translations;if(c&&"auto"!=c||"group"==r&&(l.isPie(i)||l.isFunnel(i))&&(c="off"),"off"!=c)if("string"==typeof d.tooltipLabel?h=d.tooltipLabel:Array.isArray(d.tooltipLabel)&&(h=d.tooltipLabel[o||0]),null==h&&(h=null==a?"":"labelGroup"==a&&l.hasTimeAxis(i)?p.labelDate:p[a]),"series"!=r&&"group"!=r&&(s=u.formatValue(i,d,s)),n){var _=[e.HtmlTooltipManager.createElement("td",g.tooltipLabelStyle,h,["oj-dvt-datatip-label"]),e.HtmlTooltipManager.createElement("td",g.tooltipValueStyle,s,["oj-dvt-datatip-value"])];t.push(e.HtmlTooltipManager.createElement("tr",null,_))}else t.push((t.length>0?"<br>":"")+e.ResourceUtils.format(p.labelAndValue,[h,s]))}},v.isDataCursorEnabled=function(t){if(l.isPie(t)||l.isFunnel(t)||l.isPolar(t)||l.isPyramid(t))return!1;var i=t.getOptions();return"on"==i.dataCursor||"off"!=i.dataCursor&&(e.Agent.isTouchDevice()&&l.isLineArea(t))},v.getDataCursorBehavior=function(t){var e=t.getOptions().dataCursorBehavior;return"snap"==e?_.BEHAVIOR_SNAP:"smooth"==e||l.isLineArea(t)?_.BEHAVIOR_SMOOTH:_.BEHAVIOR_SNAP};var m=function(t,e,i,r,a,s){this.Init(t,e,i,r,a,s)};e.Obj.createSubclass(m,e.Obj),m.prototype.Init=function(t,i,r,a,s,n){if(this._chart=t,this._displayables=i,this._seriesIndex=null!=r&&r>=0?r:-1,this._groupIndex=null!=a&&a>=0?a:-1,this._itemIndex=null!=s&&s>=0?s:-1,this._dataPos=n,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,this._series=g.getSeries(t,r),this._group=g.getGroup(t,a),this._categories=g.getCategories(t,r,a,s),-1!=this._itemIndex)this._dataItemId=g.getNestedDataItemId(t,r,a,s),this._drillable=g.isDataItemDrillable(t,r,a,s);else if(-1!=this._groupIndex){g.getDataItem(t,r,a)&&(this._dataItemId=g.getDataItemId(t,r,a),this._drillable=g.isDataItemDrillable(t,r,a))}else{g.getSeriesItem(t,r)&&(this._drillable=g.isSeriesDrillable(t,r))}if(this._drillable)for(var o=0;o<this._displayables.length;o++)this._displayables[o].setCursor(e.SelectionEffectUtils.getSelectingCursor());for(var l=0;l<i.length;l++){var h=i[l];"lineArea"!==h.chartShapeType&&h.setAriaRole("img"),this._updateAriaLabel(h)}},m.associate=function(t,e,i,r,a,s){if(t&&!e.getOptions()._duringZoomAndScroll){var n=new m(e,[t],i,r,a,s);e.registerObject(n),e.getEventManager().associate(t,n)}},m.prototype.getId=function(){return this._seriesIndex>=0&&this._groupIndex>=0?new o(this._dataItemId,this.getSeries(),this.getGroup(),this._chart.getCtx()):this._seriesIndex>=0?this.getSeries():null},m.prototype.getDataItemId=function(){return this._dataItemId},m.prototype.getNestedDataItemIndex=function(){return this._itemIndex},m.prototype.getSeries=function(){return this._series},m.prototype.getSeriesIndex=function(){return this._seriesIndex},m.prototype.getGroup=function(){return this._group},m.prototype.getGroupIndex=function(){return this._groupIndex},m.prototype.isDrillable=function(){return this._drillable},m.prototype.isDoubleClickable=function(){return this.isSelectable()&&this.isDrillable()},m.prototype.getChart=function(){return this._chart},m.prototype.getDatatip=function(t){return v.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!0)},m.prototype.getDatatipColor=function(){return v.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex)},m.prototype.isSelectable=function(){return p.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())},m.prototype.isSelected=function(){return this._isSelected},m.prototype.setSelected=function(t){this._isSelected=t;for(var e=0;e<this._displayables.length;e++)this._displayables[e].setSelected&&(this._displayables[e].setSelected(t),this._updateAriaLabel(this._displayables[e]))},m.prototype.showHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].showHoverEffect&&this._displayables[t].showHoverEffect()},m.prototype.hideHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].hideHoverEffect&&this._displayables[t].hideHoverEffect()},m.prototype.getDisplayables=function(){return this._displayables},m.prototype.getAriaLabel=function(){var t=[],i=this.getChart().getOptions().translations;this.isSelectable()&&t.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),this.isDrillable()&&t.push(i.stateDrillable);var r=v.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1);return null==r&&this._groupIndex<0&&t.length>0&&(r=g.getSeriesLabel(this._chart,this._seriesIndex)),e.Displayable.generateAriaLabel(r,t,()=>p.getShortDescContext(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1))},m.prototype._updateAriaLabel=function(t){e.Agent.deferAriaCreation()||t.setAriaProperty("label",this.getAriaLabel())},m.prototype.getCategories=function(t){return this._categories},m.prototype.getDataPosition=function(){return this._dataPos},m.prototype.getNextNavigable=function(t){var i,r;if(i=t.keyCode,t.type==e.MouseEvent.CLICK)return this;if(i==e.KeyboardEvent.SPACE&&t.ctrlKey)return this;for(var a=this._chart,s=a.getChartObjPeers(),n=[],o=0;o<s.length;o++)s[o].isNavigable()&&n.push(s[o]);var h=t.keyCode==e.KeyboardEvent.UP_ARROW||t.keyCode==e.KeyboardEvent.DOWN_ARROW,u=l.isHorizontal(a),d=e.Agent.isRightToLeft(a.getCtx());return l.isScatterBubble(a)||l.isBoxPlot(a)&&(h&&!u||!h&&u)?r=e.KeyboardHandler.getNextAdjacentNavigable(this,t,n):l.isLineArea(a)||g.isStacked(a)||l.isPolar(a)?r=this._findNextNavigable(t):l.isFunnel(a)&&h?(t.keyCode=d?t.keyCode==e.KeyboardEvent.UP_ARROW?e.KeyboardEvent.RIGHT_ARROW:e.KeyboardEvent.LEFT_ARROW:t.keyCode-1,r=e.KeyboardHandler.getNextNavigable(this,t,n)):l.isPyramid(a)&&!h?(t.keyCode=d?t.keyCode==e.KeyboardEvent.RIGHT_ARROW?e.KeyboardEvent.DOWN_ARROW:e.KeyboardEvent.UP_ARROW:t.keyCode==e.KeyboardEvent.RIGHT_ARROW?e.KeyboardEvent.UP_ARROW:e.KeyboardEvent.DOWN_ARROW,r=e.KeyboardHandler.getNextNavigable(this,t,n)):r=e.KeyboardHandler.getNextNavigable(this,t,n,!0),r},m.prototype.getKeyboardBoundingBox=function(t){return this._displayables[0]?this._displayables[0].getDimensions(t):new e.Rectangle(0,0,0,0)},m.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},m.prototype.showKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())},m.prototype.hideKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())},m.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},m.prototype.isNavigable=function(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()},m.prototype._findNextNavigable=function(t){var i,r,a=t.keyCode,s=this._chart,n=s.getCtx(),o=this.getSeriesIndex(),h=this.getGroupIndex(),u=g.getGroupCount(s),d=l.isHorizontal(s),c=l.isPolar(s),p=e.Agent.isRightToLeft(n),_=d?p?a==e.KeyboardEvent.LEFT_ARROW:a==e.KeyboardEvent.RIGHT_ARROW:a==e.KeyboardEvent.UP_ARROW,f=d?p?a==e.KeyboardEvent.RIGHT_ARROW:a==e.KeyboardEvent.LEFT_ARROW:a==e.KeyboardEvent.DOWN_ARROW,v=d?a==e.KeyboardEvent.UP_ARROW:p?a==e.KeyboardEvent.RIGHT_ARROW:a==e.KeyboardEvent.LEFT_ARROW,m=d?a==e.KeyboardEvent.DOWN_ARROW:p?a==e.KeyboardEvent.LEFT_ARROW:a==e.KeyboardEvent.RIGHT_ARROW;if(_)r=h,i=this._findNextUpSeries(s,o,h);else if(f)r=h,i=this._findNextDownSeries(s,o,h);else if(m){i=o,r=h;do{r++,c&&r>=u&&(r=0)}while(null==s.getObject(i,r)&&r<u)}else if(v){i=o,r=h;do{r--,c&&r<0&&(r=u-1)}while(null==s.getObject(i,r)&&r>-1)}var S=s.getObject(i,r);return S&&S.isNavigable()?S:this},m.prototype._findNextUpSeries=function(t,e,i){for(var r=g.isStacked(t),a=g.getSeriesCount(t),s=g.getCumulativeValue(t,e,i),n=null,o=null,l=0;l<a;l++)if(g.isSeriesRendered(t,l)&&null!=g.getValue(t,l,i)&&(!r||null!=t.getObject(l,i))){var h=g.getCumulativeValue(t,l,i);(h>s||h==s&&l>e)&&(null!==n&&h<n||null==n)&&(n=h,o=l)}return o},m.prototype._findNextDownSeries=function(t,e,i){for(var r=g.isStacked(t),a=g.getSeriesCount(t),s=g.getCumulativeValue(t,e,i),n=null,o=null,l=a-1;l>=0;l--)if(g.isSeriesRendered(t,l)&&null!=g.getValue(t,l,i)&&(!r||null!=t.getObject(l,i))){var h=g.getCumulativeValue(t,l,i);(h<s||h==s&&l<e)&&(null!==n&&h>n||null==n)&&(n=h,o=l)}return o},m.prototype.isDragAvailable=function(t){return!0},m.prototype.getDragTransferable=function(t,e){return[this.getId()]},m.prototype.getDragFeedback=function(t,e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this._displayables};var S=function(t,e,i,r,a){this.Init(t,e,i,r,a)};e.Obj.createSubclass(S,e.Obj),S.prototype.Init=function(t,e,i,r,a){this._chart=t,this._displayables=e,this._refObj=i,this._categories=f.getRefObjCategories(this._refObj),this._index=r,this._axisType=a;for(var s=0;s<e.length;s++){var n=e[s];n.setAriaRole("img"),n.setAriaProperty("label",i.shortDesc)}},S.prototype.getCategories=function(){return this._categories},S.prototype.getDisplayables=function(){return this._displayables},S.prototype.getIndex=function(){return this._index},S.prototype.getAxisType=function(){return this._axisType},S.prototype.getDatatip=function(t){return v.getRefObjTooltip(this._chart,this._refObj,this._axisType,this._index)},S.prototype.getDatatipColor=function(){return f.getColor(this._chart,this._refObj)};var y={};e.Obj.createSubclass(y,e.Obj),y.TICK_LABEL="tickLabel",y.TITLE="title";var x=function(t){this.Init({alta:x.SKIN_ALTA},t)};e.Obj.createSubclass(x,e.BaseComponentDefaults),x.SKIN_ALTA={position:null,baselineScaling:"zero",axisLine:{lineColor:"#9E9E9E",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(196,206,215,0.2)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:6,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"},x.getGapSize=function(t,i,r){var a=Math.min(e.TextUtils.getTextStringHeight(t,i.tickLabel.style)/14,1);return Math.ceil(r*a)};var C=function(){};e.Obj.createSubclass(C,i.BaseAxisInfo),C._constructors=[],C.registerConstructor=function(t,e){C._constructors[t]=e},C.getConstructor=function(t){return C._constructors[t]},C.newInstance=function(t,e,i){return e.timeAxisType&&"disabled"!=e.timeAxisType?new C._constructors.time(t,e,i):e._isGroupAxis?new C._constructors.group(t,e,i):new C._constructors.data(t,e,i)},C.prototype.Init=function(t,e,i){C.superclass.Init.call(this,t,e,i),this._title=null},C.prototype.getLabels=function(t,e){return null},C.prototype.getTitle=function(){return this._title},C.prototype.setTitle=function(t){this._title=t},C.prototype.getMajorTickCoords=function(){return[]},C.prototype.getMinorTickCoords=function(){return[]},C.prototype.getBaselineCoord=function(){return null},C.prototype.getDatatip=function(t,e){return null},C.prototype.getLabelBackground=function(t,e){return null},C.prototype.isDrillable=function(t){return null},C.prototype.isLabelRotated=function(){return!1},C.prototype.CreateLabel=function(t,i,r,a,s){var n;if("tangential"==this.Position){var o=16/180*Math.PI,l=1/180*Math.PI,h=.5*this.getTickLabelHeight(),u=this._radius+h;(r<l||r>2*Math.PI-l)&&(u+=h);var g=Math.round(u*Math.sin(r)),d=Math.round(-u*Math.cos(r));n=a?new e.BackgroundOutputText(t,i,g,d,a):new e.OutputText(t,i,g,d),r<l||Math.abs(r-Math.PI)<l||r>2*Math.PI-l?n.alignCenter():r<Math.PI?n.alignLeft():n.alignRight(),Math.abs(r-Math.PI/2)<o||Math.abs(r-3*Math.PI/2)<o?n.alignMiddle():r<Math.PI/2||r>3*Math.PI/2?n.alignBottom():n.alignTop()}else s?n=a?new e.BackgroundMultilineText(t,i,r,r,a):new e.MultilineText(t,i,r,r):(n=a?new e.BackgroundOutputText(t,i,r,r,a):new e.OutputText(t,i,r,r)).alignMiddle(),n.alignCenter();return(n instanceof e.OutputText||n instanceof e.MultilineText)&&n.setCSSStyle(this.Options.tickLabel.style),n},C.prototype.IsOverlapping=function(t,i,r){if(!t||t.length<=0)return!1;for(var a,s,n,o,l="left"==this.Position||"right"==this.Position||"radial"==this.Position,h=e.Agent.isRightToLeft(this.getCtx()),u=this.GetTickLabelGapSize(),g=0;g<t.length;g+=i+1)if(null!=t[g]){if(null!=r&&t[g].w>r[g])return!0;if(null!=a&&null!=s){if(l){if(n=t[g].y,o=t[g].y+t[g].h,n>=a&&n-u<s)return!0;if(n<a&&o+u>a)return!0}else{if(n=t[g].x,o=t[g].x+t[g].w,!h&&n-u<s)return!0;if(h&&o+u>a)return!0}a=n,s=o}else l?(a=t[g].y,s=t[g].y+t[g].h):(a=t[g].x,s=t[g].x+t[g].w)}return!1},C.prototype.IsOverlappingDims=function(t,e){if(!t||!e)return!1;var i=t.y,r=t.y+t.h,a=t.x,s=t.x+t.w,n=e.y,o=e.y+e.h,l=e.x,h=e.x+e.w;return(a<=l&&l<=s||a<=h&&h<=s||l<=a&&a<=h||l<=s&&s<=h)&&(n>=i&&n<r||n<=i&&o>=i)},C.prototype.GetTickLabelGapSize=function(){var t=this.getTickLabelHeight(),e=this instanceof C._constructors.group?.24*t:.79*t,i=this instanceof C._constructors.group?.08*t:.28*t;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?i:e},C.prototype.getTickLabelHeight=function(){return e.TextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)},C.prototype.SkipLabels=function(t,e){for(var i=0,r=this.IsOverlapping(e,i);r;)i++,r=this.IsOverlapping(e,i);if(i>0){for(var a=[],s=0;s<t.length;s+=i+1)a.push(t[s]);return a}return t},C.prototype.SkipTangentialLabels=function(t,e){var i=[],r=t.length,a=null;if(r>1){for(var s,n=0;n<r;n++)e[n]&&(!s||s&&!this.IsOverlappingDims(s,e[n]))&&(a||(a=e[n]),i.push(t[n]),s=e[n]);return this.IsOverlappingDims(s,a)&&i.pop(),i}return t},C.prototype.GetLabelDims=function(t,e,i){for(var r=[],a=this.isLabelRotated(i),s=0;s<t.length;s++){var n=t[s];if(null!=n){var o=n.getDimensions(e);null!=i&&(o.x=(a?n.getTranslateX():n.getX())-o.w/2,o.y=(a?n.getTranslateY():n.getY())-o.h/2),o.w&&o.h?r.push(o):r.push(null)}else r.push(null)}return r},C.prototype.getMajorTickCount=function(){return null},C.prototype.getMinorTickCount=function(){return null},C.prototype.getMajorIncrement=function(){return null},C.prototype.getMinorIncrement=function(){return null},C.prototype.getGlobalMin=function(){return this.GlobalMin},C.prototype.getGlobalMax=function(){return this.GlobalMax},C.prototype.getViewportMin=function(){return this.MinValue},C.prototype.getViewportMax=function(){return this.MaxValue},C.prototype.getDataMin=function(){return this.DataMin},C.prototype.getDataMax=function(){return this.DataMax},C.prototype.getMinimumExtent=function(){return 0},C.prototype.getStartCoord=function(){return this.StartCoord},C.prototype.getEndCoord=function(){return this.EndCoord},C.prototype.getStartOverflow=function(){return this.StartOverflow},C.prototype.getEndOverflow=function(){return this.EndOverflow},C.prototype.getGroupWidth=function(){return 0},C.prototype.getGroup=function(t,e){return null},C.prototype.linearToActual=function(t){return t},C.prototype.actualToLinear=function(t){return t},C.prototype.alignLogScaleToTickCount=function(t,e){return t},C.prototype.getLogScaleUnit=function(){return null};var A=function(t,e,i,r,a,s,n){this.Init(t,e,i,r,a,s,n)};e.Obj.createSubclass(A,e.SimpleObjPeer),A.prototype.Init=function(t,i,r,a,s,n,o){A.superclass.Init.call(this,s,n,null,o),this._axis=t,this._label=i,this._group=r,this._drillable=a,this._drillable&&i.setCursor(e.SelectionEffectUtils.getSelectingCursor()),t.__registerObject(this)},A.prototype.getLabel=function(){return this._label},A.prototype.getId=function(){return this._group},A.prototype.isDrillable=function(){return this._drillable},A.prototype.getGroup=function(){return this._group},A.prototype.getNextNavigable=function(t){if(t.type==e.MouseEvent.CLICK)return this;var i=this._axis.__getKeyboardObjects();return e.KeyboardHandler.getNextNavigable(this,t,i,!1,this._axis.getCtx().getStage())},A.prototype.getKeyboardBoundingBox=function(t){return this._label?this._label.getDimensions(t):new e.Rectangle(0,0,0,0)},A.prototype.getDisplayable=function(){return this._label},A.prototype.getTargetElem=function(){return this._label?this._label.getElem():null},A.prototype.showKeyboardFocusEffect=function(){if(this._isShowingKeyboardFocusEffect=!0,this._label){var t=this.getKeyboardBoundingBox();this._overlayRect=new e.Rect(this._axis.getCtx(),t.x,t.y,t.w,t.h),this._overlayRect.setSolidStroke(e.Agent.getFocusColor()),this._overlayRect.setInvisibleFill(),this._overlayRect.setMatrix(this._label.getMatrix()),this._axis.addChild(this._overlayRect)}},A.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._label&&(this._axis.removeChild(this._overlayRect),this._overlayRect=null)},A.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},A.prototype.getAriaLabel=function(){var t;return this.isDrillable()&&(t=[this._axis.getOptions().translations.stateDrillable]),null!=this.getDatatip()?e.Displayable.generateAriaLabel(this.getDatatip(),t):null!=t?e.Displayable.generateAriaLabel(this.getLabel().getTextString(),t):void 0},A.prototype.isDragAvailable=function(t){return!0},A.prototype.getDragTransferable=function(t,e){return[this.getId()]},A.prototype.getDragFeedback=function(t,e){return[this.getDisplayable()]};var b=function(t){this.Init(t.getCtx(),t.processEvent,t,t),this._axis=t};e.Obj.createSubclass(b,e.EventManager),b.getUIParams=function(t,e,i,r){return{type:t,id:e,index:i,level:r}},b.prototype.OnClick=function(t){b.superclass.OnClick.call(this,t);var e=this.GetLogicalObject(t.target);e&&(this.processDrillEvent(e)&&t.stopPropagation())},b.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);if(e){var i=t.touchEvent;this.processDrillEvent(e)&&i&&i.preventDefault()}},b.prototype.processDrillEvent=function(t){return!!(t instanceof A&&t.isDrillable())&&(this.FireEvent(e.EventFactory.newChartDrillEvent(t.getId(),null,t.getGroup(),"group"),this._axis),!0)},b.prototype.isDndSupported=function(){return!0},b.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof A&&null!=e.getGroup()?"groups":null},b.prototype.GetDragDataContexts=function(t){var i=this.DragSource.getDragObject();if(i instanceof A){var r={id:i.getId(),group:i.getGroup(),label:i.getLabel().getTextString()};return t&&e.ToolkitUtils.cleanDragDataContext(r),[r]}return[]};var M=new Object;e.Obj.createSubclass(M,e.Obj),M._MAX_TITLE_LINE_WRAP=3,M.getPreferredSize=function(t,i,r,a){var s=M._createAxisInfo(t,new e.Rectangle(0,0,i,r)),n=t.getCtx(),o=t.getOptions(),l="top"==o.position||"bottom"==o.position;if(("off"==o.rendered||i<=0||r<=0)&&!a)return l?new e.Dimension(i,0):new e.Dimension(0,r);var h=M.getTitleHeight(n,o,.8*(l?i:r),.8*(l?r:i)),u=0!=h?h+M._getTitleGap(t):0;if("on"==o.tickLabel.rendered&&"inside"!=o.tickLabel.position)if(l){var g=e.TextUtils.getTextStringHeight(n,o.tickLabel.style);s instanceof C.getConstructor("data")?u+=g:s instanceof C.getConstructor("time")?u+=null!=s.getLabels(n,1)?2*g:g:s instanceof C.getConstructor("group")&&(u=M._getGroupAxisPreferredSize(t,s,u,r,l))}else if(s instanceof C.getConstructor("data"))u+=e.TextUtils.getMaxTextStringWidth(n,s.getAllLabels(n,!0),s.Options.tickLabel.style);else if(s instanceof C.getConstructor("time")){var d=s.getLabels(n),c=e.TextUtils.getMaxTextDimensions(d).w,p=s.getLabels(n,1),_=null!=p?e.TextUtils.getMaxTextDimensions(p).w:0;u+=Math.max(c,_)}else s instanceof C.getConstructor("group")&&(u=M._getGroupAxisPreferredSize(t,s,u,i,l));return l?new e.Dimension(i,Math.min(u,r)):new e.Dimension(Math.min(u,i),r)},M.render=function(t,e){var i=M._createAxisInfo(t,e);"off"!=t.getOptions().rendered&&(t.__setBounds(e.clone()),M._renderBackground(t,e),M._renderTitle(t,i,e),M._renderLabels(t,i,e))},M._createAxisInfo=function(t,e){var i=C.newInstance(t.getCtx(),t.getOptions(),e);return t.__setInfo(i),i},M._getTitleGap=function(t){var e=t.getOptions();return x.getGapSize(t.getCtx(),e,e.layout.titleGap)},M._renderBackground=function(t,i){var r=t.getOptions();if(r.dnd){var a=r.dnd.drop,s=Object.keys(a.xAxis).length>0||Object.keys(a.yAxis).length>0||Object.keys(a.y2Axis).length>0,n=r.dnd.drag,o=Object.keys(n.groups).length>0&&t.getInfo()instanceof C.getConstructor("group");if(s||o){var l=r.position,h="top"==l||"bottom"==l,u=h?4:10,g=h?10:4,d=new e.Rect(t.getCtx(),i.x-g,i.y-u,i.w+2*g,i.h+2*u);o&&d.setClassName("oj-draggable"),d.setInvisibleFill(),t.getCache().putToCache("background",d),t.addChild(d)}}},M._renderTitle=function(t,i,r){var a=t.getOptions();if(a.title){var s=a.position;if("radial"!=s&&"tangential"!=s){var n="top"==a.position||"bottom"==a.position,o=n?r.w:r.h,l=n?r.h:r.w,h=a.titleStyle,u=M.isWrapEnabled(h),g=M._createText(t.getEventManager(),t,a.title,h,0,0,o,l,b.getUIParams(y.TITLE),u);if(g){var d=M._getTitleGap(t),c=(i.getStartOverflow()-i.getEndOverflow())/2,p=e.Agent.isRightToLeft(t.getCtx()),_=g.getDimensions().h;g.alignCenter(),"top"==s?(g.setX(r.x+c+r.w/2),g.setY(r.y),r.y+=_+d,r.h-=_+d):"bottom"==s?(g.setX(r.x+c+r.w/2),g.setY(r.y+r.h-_),r.h-=_+d):"left"==s?(g.alignMiddle(),g.setRotation(p?Math.PI/2:3*Math.PI/2),g.setTranslate(r.x+_/2,r.y+r.h/2),r.x+=_+d,r.w-=_+d):"right"==s&&(g.alignMiddle(),g.setRotation(p?Math.PI/2:3*Math.PI/2),g.setTranslate(r.x+r.w-_/2,r.y+r.h/2),r.w-=_+d),i.setTitle(g)}}}},M._renderLabels=function(t,e,i){var r=t.getOptions();if("on"==r.tickLabel.rendered){var a=r.position;"top"==a||"bottom"==a?M._renderLabelsHoriz(t,e,i):"tangential"==a?M._renderLabelsTangent(t,e,i):M._renderLabelsVert(t,e,i),M._renderGroupSeparators(t,e,i)}},M._renderLabelsHoriz=function(t,i,r){var a=t.getCtx(),s=t.getOptions(),n=s.position,o="inside"==s.tickLabel.position,l=e.Agent.isRightToLeft(a),h=i instanceof C.getConstructor("group"),u=h&&i.getNumLevels()>1,g=u?0:null,d=i.getLabels(a,g);for(m=u?x.getGapSize(a,s,s.layout.hierarchicalLabelGapHeight):0;d;){for(var c=0,p=0,_=0;_<d.length;_++){var f=d[_];if(null!=f){var v=f instanceof e.MultilineText||f instanceof e.BackgroundMultilineText;if(i.isLabelRotated(g)){if((!v||v&&!f.isWrapEnabled())&&!e.TextUtils.fitText(f,r.h,r.w,t))continue;l?f.alignLeft():f.alignRight(),u?(c=f.getDimensions().w,f.setTranslateY(r.h-c),p=Math.max(p,c)):f.setTranslateY(r.y)}else{if(!o&&f.getDimensions().h-1>r.h)continue;if(u&&"bottom"==n?f.setY(r.h):"bottom"==n?f.setY(r.y):f.setY(r.y+r.h),!u&&("bottom"==n&&!o||"top"==n&&o)||u&&"top"==n?f.alignTop():f.alignBottom(),u)p=Math.max(p,f.getDimensions().h);else if(o){var m=x.getGapSize(a,s,s.layout.insideLabelGapWidth);l?f.alignRight():f.alignLeft(),f.setX(f.getX()+m*(l?-1:1))}}var S=h?i.getLabelIndex(f):_,M=i.getDatatip(S,g),T=f.getUntruncatedTextString(),D=i.isDrillable(S,g),I=i.getGroup(S,g),O=b.getUIParams(y.TICK_LABEL,f.getTextString(),S,g);t.getEventManager().associate(f,new A(t,f,I,D,T,M,O)),u?i.setLastRenderedLevel(g):p=Math.max(p,f.getDimensions().h),t.addChild(f)}}if(u){for(_=0;_<d.length;_++)if(null!=(f=d[_])){var E=i.isLabelRotated(g),L=g<i.getNumLevels()-1;!E&&L?(f.setY(r.h-p/2),f.alignMiddle()):f.setTranslateY(r.h-p)}r.y+=p+m,r.h-=p+m,g++,d=i.getLabels(t.getCtx(),g)}else r.y+=p,r.h-=p,d=null}if(i instanceof C.getConstructor("time")){d=i.getLabels(t.getCtx());var P=i.getLabels(t.getCtx(),1),w=0;if(null!=P)for(_=0;_<P.length;_++)if(null!=(f=P[_])&&!(f.getDimensions().h-1>r.h)){t.getEventManager().associate(f,new e.SimpleObjPeer(null,null,null,b.getUIParams(y.TICK_LABEL,f.getTextString())));var R=0,B=0,k=i.getOptions()._maxOverflowCoord,F=i.getOptions()._minOverflowCoord;if(null!=d[_]&&(w=d[_].getDimensions().w/2,R=i._level1Overflow[_],B=i._level2Overflow[_]),0==R&&0==B){var N,H=f.getX();l?(N=H+w<=k?H+w:k,f.setX(N)):(N=H-w>=F?H-w:F,f.setX(N))}else R<0?f.setX(F):R>0&&f.setX(k);f.alignTop(),f.setY(r.y),t.addChild(f)}}},M._renderLabelsVert=function(t,i,r){var a,s,n,o=t.getOptions(),l=o.position,h=t.getCtx(),u=e.Agent.isRightToLeft(h),g=i instanceof C.getConstructor("data"),d="inside"==o.tickLabel.position,c=i instanceof C.getConstructor("group"),p=c&&i.getNumLevels()>1,_=p?0:null;a=i.getLabels(t.getCtx(),_);var f=0;p?(s=x.getGapSize(h,o,o.layout.hierarchicalLabelGapWidth),n=e.TextUtils.getMaxTextDimensions(a).w):"radial"==l?(s=x.getGapSize(h,o,o.layout.radialLabelGap),f=r.x+r.w/2,u?f+=s+e.TextUtils.getMaxTextDimensions(a).w:f-=s):"left"==l?(f=r.x+r.w,g&&d&&(f+=e.TextUtils.getMaxTextDimensions(a).w)):(f=r.x,g&&!d&&(f+=e.TextUtils.getMaxTextDimensions(a).w));for(var v=function(s,v){var m=s instanceof e.MultilineText||s instanceof e.BackgroundMultilineText,S=!m||m&&!s.isWrapEnabled();if(!(p&&e.TextUtils.getMaxTextDimensions(a).w-1>r.w)&&(p||d||!S||e.TextUtils.fitText(s,r.w,r.h,t))){v=c?i.getLabelIndex(s):v;var C=i.getDatatip(v,_),M=s.getUntruncatedTextString(),T=i.isDrillable(v,_),D=i.getGroup(v,_),I=b.getUIParams(y.TICK_LABEL,s.getTextString(),v,_);if(t.getEventManager().associate(s,new A(t,s,D,T,M,C,I)),p)s.alignRight(),s.setX(u?r.w:r.x+n),i.setLastRenderedLevel(_);else if(s.setX(f),g||"right"!=l?s.alignRight():s.alignLeft(),d&&(s.alignBottom(),s.setY(s.getY()-x.getGapSize(h,o,o.layout.insideLabelGapHeight))),"radial"==l){var O=s.getY();s.setY(r.y+r.h/2-O);var E=s.getDimensions(),L=.15*E.h,P=e.PathUtils.roundedRectangle(E.x-L,E.y,E.w+2*L,E.h,2,2,2,2),w=new e.Path(t.getCtx(),P),R=s.getCSSStyle().getStyle(e.CSSStyle.BACKGROUND_COLOR),B=O+E.h/2>i.getEndCoord()&&"circle"==t.getOptions().polarGridShape?"outside":"inside";R?w.setSolidFill(R):w.setClassName("oj-chart-polar-axis-tick-label-"+B),t.addChild(w)}t.addChild(s)}};a;){for(var m=0;m<a.length;m++){var S=a[m];null!=S&&v(S,m)}if(!p)break;r.x+=n+s,r.w-=n+s,_++,a=i.getLabels(t.getCtx(),_),n=a?e.TextUtils.getMaxTextDimensions(a).w:null}if(i instanceof C.getConstructor("time")){var M=i.getLabels(t.getCtx(),1);if(null!=M)for(m=0;m<M.length;m++)null!=(S=M[m])&&v(S,m)}},M._renderLabelsTangent=function(t,i,r){for(var a=i.getLabels(t.getCtx()),s=0;s<a.length;s++){var n=a[s];if(null!=n){var o=r.w/2-Math.abs(n.getX()),l=r.h/2-Math.abs(n.getY());if(e.TextUtils.fitText(n,o,l,t)){var h=i instanceof C.getConstructor("group")?i.getLabelIndex(n):s,u=i.getDatatip(h),g=n.getUntruncatedTextString(),d=i.isDrillable(h),c=i.getGroup(h),p=b.getUIParams(y.TICK_LABEL,n.getTextString(),h);t.getEventManager().associate(n,new A(t,n,c,d,g,u,p)),n.setTranslateX(r.x+r.w/2),n.setTranslateY(r.y+r.h/2),t.addChild(n)}}}},M._createText=function(t,i,r,a,s,n,o,l,h,u){var g;return u?((g=new e.MultilineText(i.getCtx(),r,s,n)).setMaxLines(M._MAX_TITLE_LINE_WRAP),g.setCSSStyle(a),g.wrapText(o,l,1)):(g=new e.OutputText(i.getCtx(),r,s,n)).setCSSStyle(a),e.TextUtils.fitText(g,o,l,i)?(t.associate(g,new e.SimpleObjPeer(g.getUntruncatedTextString(),null,null,h)),g):null},M._renderGroupSeparators=function(t,i,r){if(i instanceof C.getConstructor("group")&&i.areSeparatorsRendered()){var a=i.getNumLevels(),s=i.getSeparatorStartLevel();if(a<=1||s<=0)return;for(var n,o,l,h,u,g,d=t.getOptions(),c=d.position,p="top"==c||"bottom"==c,_=t.getCtx(),f=e.Agent.isRightToLeft(_),v=i.getSeparatorColor(),m=new e.Stroke(v,1,1),S=0,y=p?x.getGapSize(_,d,d.layout.hierarchicalLabelGapHeight):x.getGapSize(_,d,d.layout.hierarchicalLabelGapWidth),A=d.startGroupOffset,b=d.endGroupOffset,T=s;T>=0;T--){var D=i.getLabels(t.getCtx(),T),I=e.TextUtils.getMaxTextDimensions(D),O=i.isLabelRotated(T),E=O||!p?I.w:I.h;if(0!=E){var L=!1,P=null;if(T<s)for(var w=0;w<D.length;w++){var R=D[w];if(null!=R){var B=i.getLabelIndex(R),k=0==i.getLabelAt(B,T).length;if(!k){var F=k&&0==T&&(0==B||B==D.length-1),N=R&&null==D[B-1],H=R&&null==D[B+1],G=i.getStartIndex(B,T),U=i.getEndIndex(B,T);if(p){var V;if(R)V=R instanceof e.MultilineText||R instanceof e.BackgroundMultilineText?R.getYAlignCoord():R.getY(),n=i.getCoordAt(G-A),o=O?V+.5*S:V-E/2-.5*S-y,l=i.getCoordAt(U+b),h=O?V+E+S+2*y:V,k&&F||0!=L||null==n||M._addSeparatorLine(t,m,n,h,n,o),null==l||F||M._addSeparatorLine(t,m,l,h,l,o);if(!k){if(R)var j=O?R.getDimensions().h:R.getDimensions().w;n=N&&0==P?i.getStartCoord():i.getBoundedCoordAt(G-A),N&&(N=!1);var Y=i.getLabelAt(B+1,T);if(l=H&&Y&&Y.length>0?i.getEndCoord():i.getBoundedCoordAt(U+b),u=R?f?R.getX()+.5*j:R.getX()-.5*j:i.getBoundedCoordAt(U+b),g=R?f?R.getX()-.5*j:R.getX()+.5*j:i.getBoundedCoordAt(G-A),R)if(O)M._addSeparatorLine(t,m,n,h,l,h);else{var W=f?.5*-R.getDimensions().h:.5*R.getDimensions().h,z=f?g+W>l:g+W<l;(f?n>u-W:n<u-W)&&M._addSeparatorLine(t,m,n,h,u-W,h),z&&M._addSeparatorLine(t,m,g+W,h,l,h)}}}else R&&(n=f?R.getX()-E-.5*y:R.getX()+.5*y,o=i.getCoordAt(G-A),l=f?R.getX()+.5*y:R.getX()-E-.5*y,h=i.getCoordAt(U+b),(!k&&0==L||0==B&&k&&0!=T)&&null!=o&&M._addSeparatorLine(t,m,n,o,l,o),null==h||F||M._addSeparatorLine(t,m,l,h,n,h)),k||(o=N&&0==P?0:i.getBoundedCoordAt(G-A),N&&(N=!1),Y=i.getLabelAt(B+1,T),h=H&&Y&&Y.length>0?i.getEndCoord():i.getBoundedCoordAt(U+b),R&&M._addSeparatorLine(t,m,l,o,l,h));L=!k&&null!=R,P=null!=R||null==R&&k}}}S=E}else S=E}}},M._addSeparatorLine=function(t,i,r,a,s,n){var o=new e.Line(t.getCtx(),r,a,s,n);o.setStroke(i),o.setPixelHinting(!0),t.addChild(o)},M._getGroupAxisPreferredSize=function(t,i,r,a,s){for(var n=t.getCtx(),o=t.getOptions(),l=i.getNumLevels(),h=s?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",u=l>1?x.getGapSize(n,o,o.layout[h]):0,g=0;g<l;g++){var d;if(i.isAutoRotate()){for(var c=[],p=[],_=i.getSkipIncrement(),f=0;f<i.getGroupCount();f+=_){c.push(i.getLabelAt(f,0));var v=i.getLabelStyleAt(f,0);v||(v=i.Options.tickLabel.style),p.push(v)}d=e.TextUtils.getMaxTextStringWidth(n,c,p)}else{var m=i.getLabels(n,g);if(s){var S=e.TextUtils.getMaxTextDimensions(m);d=i.isLabelRotated(g)?S.w:S.h}else d=e.TextUtils.getMaxTextDimensions(m).w}if(!(r+d<=a)){0==g&&(r=a);break}r+=d+u}return 0!=g&&(r-=u),r},M.getTitleHeight=function(t,i,r,a){var s=0;if(i.title)if(M.isWrapEnabled(i.titleStyle)){var n=new e.MultilineText(t,i.title,0,0);n.setMaxLines(M._MAX_TITLE_LINE_WRAP),n.setCSSStyle(i.titleStyle),n.wrapText(r,a,1),s=e.TextUtils.getTextStringHeight(t,i.titleStyle)*n.getLineCount()}else s=e.TextUtils.getTextStringHeight(t,i.titleStyle);return s},M.isWrapEnabled=function(t){var i=t.getStyle(e.CSSStyle.WHITE_SPACE);return"nowrap"!=i&&"noWrap"!=i};var T=function(t,e,i){this.Init(t,e,i)};e.Obj.createSubclass(T,C),C.registerConstructor("group",T),T._MAX_LINE_WRAP=3,T._ROTATE_THRESHOLD=12,T.prototype.Init=function(t,i,r){T.superclass.Init.call(this,t,i,r);var a=e.Agent.isRightToLeft(t),s="top"==this.Position||"bottom"==this.Position;if(s&&a){var n=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=n}this._levelsArray=[],this._groupCount=this._generateLevelsArray(i.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="off"!=i.groupSeparators.rendered,this._separatorColor=i.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=i.drilling;var o=i.endGroupOffset>0?Number(i.endGroupOffset):0,l=i.startGroupOffset>0?Number(i.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==i.min?this.DataMin-l:i.min,this.GlobalMax=null==i.max?this.DataMax+o:i.max;var h=this.getGroupIndex(i.viewportStartGroup),u=this.getGroupIndex(i.viewportEndGroup);-1!=h&&(this.MinValue=h-l),-1!=u&&(this.MaxValue=u+o),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=i._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=a?i.rightBuffer:i.leftBuffer,this._endBuffer=a?i.leftBuffer:i.rightBuffer,this._isLabelRotated=[];for(var g=0;g<this._numLevels;g++)this._isLabelRotated.push(!1);if(this._renderGridAtLabels=i._renderGridAtLabels,this._labels=null,this._maxSpace=s?r.h:r.w,"off"!=i.rendered){var d=M.getTitleHeight(t,i,s?r.w:r.h,s?r.h:r.w);this._maxSpace-=0!=d?d+x.getGapSize(t,i,i.layout.titleGap):0}this._maxLineWrap=T._MAX_LINE_WRAP},T.prototype._processGroupWidthRatios=function(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)this._groupWidthRatios=null;else{for(var t,e,i=0,r=0;r<this._groupCount;r++)t=0==r?this.MinValue:Math.max(r-.5,this.MinValue),(e=r==this._groupCount-1?this.MaxValue:Math.min(r+.5,this.MaxValue))>t&&(i+=(e-t)*this._groupWidthRatios[r]);var a=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map(function(t){return t*a/i}),this._borderValues=[];for(r=0;r<this._groupWidthRatios.length-1;r++)this._borderValues.push(r+.5);this._borderCoords=[];var s=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[s]=this.StartCoord+(this._borderValues[s]-this.MinValue)*this._groupWidths[s];for(r=s+1;r<this._borderValues.length;r++)this._borderCoords[r]=this._borderCoords[r-1]+this._groupWidths[r];for(r=s-1;r>=0;r--)this._borderCoords[r]=this._borderCoords[r+1]-this._groupWidths[r+1]}},T.prototype._rotateLabels=function(t,i,r,a){var s,n,o=this.getCtx(),l=e.Agent.isRightToLeft(o),h=this._numLevels>1;null==a&&(a=this._numLevels-1),this._isLabelRotated[a]=!0,h||this._setOverflow(r,r,t);for(var u=0;u<t.length;u++)if(null!=(s=t[u])){if(n=s.getX(),s instanceof e.MultilineText||s instanceof e.BackgroundMultilineText){var g=this.getGroupWidth()*(this.getEndIndex(u,a)-this.getStartIndex(u,a)+1);2*s.getLineHeight()<g&&this._maxSpace>0?s.wrapText(this._maxSpace,s.getLineHeight()*T._MAX_LINE_WRAP,1):s.setWrapEnabled(!1)}s.setX(0),s.setY(0),l?s.setRotation(Math.PI/2):s.setRotation(3*Math.PI/2),s.setTranslateX(n)}var d=this.GetLabelDims(t,i,a);M.isWrapEnabled(this.Options.tickLabel.style)&&this._maxSpace>0&&(this._sanitizeWrappedText(o,d,t,!0,h)&&(d=this.GetLabelDims(t,i,a)));return this.SkipLabels(t,d)},T.prototype._sanitizeWrappedText=function(t,i,r,a,s){for(var n=this._calculateMaxWrap(i,r,a),o=0,l=0;l<r.length;l++){var h=r[l];if(h){var u=h instanceof e.MultilineText||h instanceof e.BackgroundMultilineText;n&&u&&h.isWrapEnabled()&&h.wrapText(this._maxSpace,h.getLineHeight()*this._maxLineWrap,1),s&&(o=Math.max(o,h.getDimensions().w)),h.alignMiddle()}}if(s){var g=a?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=o+x.getGapSize(t,this.Options,g)}return n},T.prototype._calculateMaxWrap=function(t,i,r){for(var a=!1;this.IsOverlapping(t,0)&&this._maxLineWrap>1;){a=!0;for(var s=0;s<i.length;s++){var n=i[s];if((n instanceof e.MultilineText||n instanceof e.BackgroundMultilineText)&&n.getLineCount()==this._maxLineWrap){var o=n.getLineHeight();r?t[s].w-=o:(t[s].y+=.5*o,t[s].h-=o)}}this._maxLineWrap--}return a},T.prototype.isLabelRotated=function(t){return null==t&&(t=this._numLevels-1),this._isLabelRotated[t]},T.prototype._setOverflow=function(t,i,r){t=Math.max(t-this._startBuffer,0),i=Math.max(i-this._endBuffer,0);var a=e.Agent.isRightToLeft(this.getCtx());this.StartCoord+=(t-this.StartOverflow)*(a?-1:1),this.EndCoord-=(i-this.EndOverflow)*(a?-1:1),this._processGroupWidthRatios();for(var s=0;s<this._numLevels;s++){r=this._labels[s];for(var n=0;n<r.length;n++){var o=r[n];if(o){var l=this._getLabelCoord(s,this.getLabelIndex(o));this._numLevels>1?o.setTranslateX(l):o.setX(l)}}}this.StartOverflow=t,this.EndOverflow=i},T.prototype.getLabels=function(t,e){return null==e&&(e=this._numLevels-1),this._labels||this._generateLabels(t),this._labels[e]},T.prototype._getLabelCoord=function(t,e){var i=this.getStartIndex(e,t),r=this.getEndIndex(e,t);if(null==i||null==r)return null;i<this.MinValue&&r>this.MinValue&&(i=this.MinValue),r>this.MaxValue&&i<this.MaxValue&&(r=this.MaxValue);var a=r?i+(r-i)/2:i;return this.getCoordAt(a)},T.prototype._generateLabels=function(t){var i=[];this._labels=[];for(var r,a,s,n,o,l=t.getStage(),h="top"==this.Position||"bottom"==this.Position,u=e.Agent.isRightToLeft(t),g=this._numLevels>1,d=this.getGroupWidth(),c=this._maxSpace,p=h?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",_=g?x.getGapSize(t,this.Options,this.Options.layout[p]):0,f="auto"==this.Options.tickLabel.rotation&&h,v={},m=this.isAutoRotate(),S=this.Options.tickLabel.style,y=M.isWrapEnabled(this.Options.tickLabel.style)&&"tangential"!=this.Position&&d>e.TextUtils.getTextStringHeight(t,S),C=0;C<this._numLevels;C++){var A=this._levelsArray[C],b=m?this.getSkipIncrement():1;v[C]=[];for(var T=0;T<A.length;T+=b)if(A[T]){if(""===(r=this.getLabelAt(T,C))||!r&&0!=r){i.push(null);continue}var D=this._getLabelCoord(C,T);if(null!=D){n=this.getLabelStyleAt(T,C);var I=!m&&y&&"number"!=typeof r&&r.indexOf(" ")>=0;o=this.CreateLabel(t,r,D,n,I);var O=d*(this.getEndIndex(T,C)-this.getStartIndex(T,C)+1);v[C].push(O),I&&this._isTextWrapNeeded(t,r,n,f,h?O:c)&&c>0?h?o.wrapText(O,c,1,!0):o.wrapText(c,o.getLineHeight()*this._maxLineWrap,1,!1):I&&(!h||c<0)&&o.setWrapEnabled(!1),o._index=T,i.push(o),a||0!=C||(a=o),0==C&&(s=o)}else i.push(null)}else i.push(null);if(y&&g){for(var E=0,L=0;L<i.length;L++)if(i[L]){var P=i[L].getDimensions();E=Math.max(E,h?P.h:P.w)}c-=E+_}this._labels.push(i),i=[]}i=this._labels[this._numLevels-1];var w=[];if(a){if("tangential"==this.Position)return w=this.GetLabelDims(i,l),void(this._labels[0]=this.SkipTangentialLabels(i,w));var R=a.getDimensions(),B=!1;if(h){var k,F;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)k=this.Options._startOverflow,F=this.Options._endOverflow;else{var N=s.getDimensions();k=u?R.w+R.x-this.StartCoord:this.StartCoord-R.x,F=u?this.EndCoord-N.x:N.w+N.x-this.EndCoord}B=k>this._startBuffer||F>this._endBuffer}for(C=0;C<this._numLevels;C++)if(i=this._labels[C],m)this._labels[C]=this._rotateLabels(i,l,R.h/2,C);else{w=this.GetLabelDims(i,l,C);var H=this.IsOverlapping(w,0,v[C]);if(H||(this._labels[C]=i),h)if(f){if(H)this._labels[C]=this._rotateLabels(i,l,R.h/2,C);else if(B&&this._setOverflow(k,F,i),this._labels[C]=i,g){var G=0;for(L=0;L<w.length;L++)w[L]&&(G=Math.max(G,w[L].h));this._maxSpace-=G+_}}else B&&this._setOverflow(k,F,i),w=this.GetLabelDims(i,l),this._labels[C]=this.SkipLabels(i,w);else{if(y)this._sanitizeWrappedText(t,w,i,!1,g)&&(w=this.GetLabelDims(i,l,C));this._labels[C]=this.SkipLabels(i,w)}}}},T.prototype.getMajorTickCoords=function(){for(var t,e=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,r=0;r<this._levelsArray[0].length;r++)if(this._levelsArray[0][r]){var a=this.getStartIndex(r,0),s=this.getEndIndex(r,0);null!=(t=this._renderGridAtLabels?this.getCoordAt(a+.5*(s-a)):s+.5<i?this.getCoordAt(s+.5):null)&&e.push(t)}return e},T.prototype.getMinorTickCoords=function(){var t,e=[];if(!this._levelsArray[1])return e;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var r=this.getStartIndex(i,1),a=this.getEndIndex(i,1);null!=(t=this._renderGridAtLabels?this.getCoordAt(r+.5*(a-r)):a+.5<this.getGroupCount()-1?this.getCoordAt(a+.5):null)&&e.push(t)}return e},T.prototype.getUnboundedValueAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(t<=this._borderCoords[i]){e=i;break}return 0==e?this._borderValues[0]-(this._borderCoords[0]-t)/this._groupWidths[0]:this._borderValues[e-1]+(t-this._borderCoords[e-1])/this._groupWidths[e]}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(t-this.StartCoord)/r},T.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(t<=this._borderValues[i]){e=i;break}return 0==e?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-t):this._borderCoords[e-1]+this._groupWidths[e]*(t-this._borderValues[e-1])}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(t-this.MinValue)*r},T.prototype.getLabelAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i},T.prototype.getGroupAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;if(i){if(i.id)return i.id;if(i.name||""===i.name)return i.name}return i},T.prototype.getLabelStyleAt=function(t,i){var r=this._getGroupAttribute(t,i,"labelStyle");if(r){var a=new e.CSSStyle(r);return a.getStyle("font-size")||a.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),a}return null},T.prototype.getDatatip=function(t,e){return this._getGroupAttribute(t,e,"shortDesc")},T.prototype.isDrillable=function(t,e){var i=this._getGroupAttribute(t,e,"drilling");return"on"==i||"off"!=i&&("on"==this._drilling||"groupsOnly"==this._drilling)},T.prototype.getGroup=function(t,e){if(t<0||t>this.getGroupCount()-1)return null;if(1==this._numLevels)return this.getGroupAt(t);var i=[];null==e&&(e=this._numLevels-1);for(var r=this.getStartIndex(t,e),a=0;a<=e;a++)for(var s=this._levelsArray[a],n=0;n<s.length;n++)this.getStartIndex(n,a)<=r&&this.getEndIndex(n,a)>=r&&i.push(this.getGroupAt(n,a));return i.length>0?1===i.length&&1===this._numLevels?i[0]:i:null},T.prototype.getLabelBackground=function(t,i,r){null==r&&(r=this._numLevels-1);var a=t.getCSSStyle();if(a){var s=a.getStyle(e.CSSStyle.BACKGROUND_COLOR),n=a.getStyle(e.CSSStyle.BORDER_COLOR),o=a.getStyle(e.CSSStyle.BORDER_WIDTH),l=a.getStyle(e.CSSStyle.BORDER_RADIUS);if(null!=s||null!=n||null!=o||null!=l){var h=t.getDimensions(),u=.15*h.h;"blink"!==e.Agent.engine&&"ie"!==e.Agent.browser&&"edge"!==e.Agent.browser||t.getVertAlignment()!==e.OutputText.V_ALIGN_BOTTOM||(h.y+=h.h/2);var g=new e.Rect(i,h.x-u,h.y,h.w+2*u,h.h),d=new e.CSSStyle;return null!=s?d.setStyle(e.CSSStyle.BACKGROUND_COLOR,s):g.setInvisibleFill(),d.setStyle(e.CSSStyle.BORDER_COLOR,n),d.setStyle(e.CSSStyle.BORDER_WIDTH,o),d.setStyle(e.CSSStyle.BORDER_RADIUS,l),g.setCSSStyle(d),this._isLabelRotated[r]&&g.setMatrix(t.getMatrix()),g.setMouseEnabled(!1),g}return null}return null},T.prototype.getGroupIndex=function(t){if(null==t)return-1;for(var i=-1,r=0;r<this._groupCount;r++){var a=this.getGroup(r);if(t instanceof Array&&a instanceof Array?e.ArrayUtils.equals(t,a):t==a){i=r;break}}return i},T.prototype.getMinimumExtent=function(){return 1},T.prototype.getGroupWidth=function(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)},T.prototype.getGroupCount=function(){return this._groupCount},T.prototype.getNumLevels=function(){return this._numLevels},T.prototype._generateLevelsArray=function(t,e,i,r){for(var a=0;a<t.length;a++)if(i[e]||(i[e]=[]),i[e].push({item:t[a],start:r,end:r,position:a}),t[a]&&t[a].groups){var s=i[e].length-1,n=this._generateLevelsArray(t[a].groups,e+1,i,i[e][s].start);r!=n?(i[e][s].end=n-1,r=n):r++}else r++;return r},T.prototype._getGroupAttribute=function(t,e,i){null==e&&(e=this._numLevels-1);var r=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return r?r[i]:null},T.prototype.areSeparatorsRendered=function(){return this._areSeparatorsRendered},T.prototype.getSeparatorColor=function(){return this._separatorColor},T.prototype.getStartIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].start:null},T.prototype.getEndIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].end:null},T.prototype.getPosition=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].position:null},T.prototype.getItemsRange=function(t){t instanceof Array||(t=[t]);for(var e=0,i=this._groupCount,r=[],a=0;a<t.length;a++)for(var s=this._levelsArray[a],n=t[a],o=0;o<s.length;o++){if((s[o].item.id?s[o].item.id:s[o].item.name)===n){var l=s[o].start,h=s[o].end;e<=l&&i>=h&&(e=l,i=h,r.push(s[o].item))}}return{startIndex:e,endIndex:i,groupData:r}},T.prototype.isRenderGridAtLabels=function(){return this._renderGridAtLabels},T.prototype.setLastRenderedLevel=function(t){this._lastRenderedLevel=t},T.prototype.getLastRenderedLevel=function(){return this._lastRenderedLevel},T.prototype.getSeparatorStartLevel=function(){for(var t=this._lastRenderedLevel,e=this._lastRenderedLevel-1;e>=0;e--)this._labels[e].length!=this._levelsArray[e].length&&(t=e);return t},T.prototype.getLabelIndex=function(t){return t._index>=0?t._index:null},T.prototype.getMaxLineWrap=function(){return this._maxLineWrap},T.prototype._isTextWrapNeeded=function(t,i,r,a,s){var n=e.TextUtils.getTextStringWidth(t,i,r);return n>=s&&(n/this._maxLineWrap<s||!a)},T.prototype.isAutoRotate=function(){var t="top"==this.Position||"bottom"==this.Position,e=this._numLevels>1,i=this.getGroupWidth(),r="auto"==this.Options.tickLabel.rotation&&t;return!e&&r&&i<T._ROTATE_THRESHOLD},T.prototype.getSkipIncrement=function(){var t=1;return t=T._ROTATE_THRESHOLD/(2*this.getGroupWidth()),this.Options._duringZoomAndScroll&&(t*=4),Math.max(1,Math.floor(t))};var D=function(t){this._axis=t,this._options=this._axis.getOptions(),this._axisInfo=this._axis.getInfo()};e.Obj.createSubclass(D,e.Automation),D.prototype.GetSubIdForDomElement=function(t){var i=this._axis.getEventManager().GetLogicalObject(t);if(i&&i instanceof e.SimpleObjPeer){if(i.getParams().type==y.TITLE)return"title";if(this._options.groups){for(var r=i.getParams().level,a=this._axisInfo.getStartIndex(i.getParams().index,r),s="",n=0;n<=r;n++)for(var o=this._axisInfo.getLabels(this._axis.getCtx(),n),l=0;l<o.length;l++){var h=this._axisInfo.getLabelIndex(o[l]);this._axisInfo.getStartIndex(h,n)<=a&&this._axisInfo.getEndIndex(h,n)>=a&&(s+="["+this._axisInfo.getPosition(h,n)+"]")}if(s.length>0)return"item"+s}}return null},D.prototype.getDomElementForSubId=function(t){if("title"==t){var e=this._axisInfo.getTitle();if(e)return e.getElem()}else if(this._axisInfo instanceof T)for(var i=t.split("[").length-1-1,r=0,a=0,s=0;s<=i;s++){var n=t.indexOf("["),o=t.indexOf("]"),l=t.substring(n+1,o);t=t.substring(o+1);for(var h,u=this._axisInfo.getLabels(this._axis.getCtx(),s),g=0;g<u.length;g++)if(h=this._axisInfo.getLabelIndex(u[g]),this._axisInfo.getStartIndex(h,s)==a){r=h;break}for(var d=r;d<u.length;d++)if(h=this._axisInfo.getLabelIndex(u[d]),this._axisInfo.getPosition(h,s)==l){if(0==t.length)return u[d].getElem();a=this._axisInfo.getStartIndex(h,s);break}}return null};var I=function(t,e){this.Init(t,e)};e.Obj.createSubclass(I,e.KeyboardHandler),I.prototype.Init=function(t,e){I.superclass.Init.call(this,t),this._axis=e},I.prototype.processKeyDown=function(t){var i=t.keyCode,r=this._eventManager.getFocus(),a=null;if(i==e.KeyboardEvent.TAB){r&&(e.EventManager.consumeEvent(t),a=r);var s=this._axis.__getKeyboardObjects();s.length>0&&(e.EventManager.consumeEvent(t),a=this.getDefaultNavigable(s))}else i==e.KeyboardEvent.ENTER?r&&(this._eventManager.processDrillEvent(r),e.EventManager.consumeEvent(t)):a=I.superclass.processKeyDown.call(this,t);return a};var O=function(){};e.Obj.createSubclass(O,e.BaseComponent),O.newInstance=function(t,e,i){var r=new O;return r.Init(t,e,i),r},O.getDefaults=function(t){return(new x).getDefaults(t)},O.prototype.Init=function(t,i,r){O.superclass.Init.call(this,t,i,r),this.Defaults=new x(t),this.EventManager=new b(this),this.EventManager.addListeners(this),e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new I(this.EventManager,this)),this._bounds=null},O.prototype.SetOptions=function(t){t?"off"!==t.rendered?this.Options=this.Defaults.calcOptions(t):(t.tickLabel.style=new e.CSSStyle(t.tickLabel.style),t.titleStyle=new e.CSSStyle(t.titleStyle),this.Options=t):this.Options||(this.Options=this.GetDefaults());this.Options.isRTL=e.Agent.isRightToLeft(this.getCtx())},O.prototype.getPreferredSize=function(t,e,i,r){return this.SetOptions(t),M.getPreferredSize(this,e,i,r)},O.prototype.render=function(t,i,r,a,s){this.getCache().clearCache(),this.SetOptions(t),this._navigablePeers=[],this.Width=i,this.Height=r,this.removeChildren(),a||(a=0),s||(s=0);var n=new e.Rectangle(a,s,i,r);M.render(this,n)},O.prototype.__registerObject=function(t){(null!=t.getDatatip()||t.isDrillable())&&this._navigablePeers.push(t)},O.prototype.__getKeyboardObjects=function(){return this._navigablePeers},O.prototype.isNavigable=function(){return this._navigablePeers.length>0},O.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},O.prototype.setKeyboardFocus=function(t,i){if(null!=this.EventManager){for(var r=this.__getKeyboardObjects(),a=t.getId(),s=!1,n=0;n<r.length;n++){var o=r[n].getId();if(a instanceof Array&&o instanceof Array&&e.ArrayUtils.equals(a,o)||a===o){this.EventManager.setFocusObj(r[n]),s=!0,i&&r[n].showKeyboardFocusEffect();break}}s||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r));var l=this.getKeyboardFocus();if(l){var h=l.getDisplayable();h.setAriaProperty("label",l.getAriaLabel()),this.getCtx().setActiveElement(h)}}},O.prototype.processEvent=function(t,e){this===e&&this.dispatchEvent(t)},O.prototype.getInfo=function(){return this.Info},O.prototype.__setInfo=function(t){this.Info=t},O.prototype.getWidth=function(){return this.Width},O.prototype.getHeight=function(){return this.Height},O.prototype.__setBounds=function(t){this._bounds=t},O.prototype.__getBounds=function(){return this._bounds},O.prototype.getAutomation=function(){return new D(this)};const E={getHideAndShowBehavior:function(t){return t.getOptions().hideAndShowBehavior},getHoverBehavior:function(t){return t.getOptions().hoverBehavior},isScrollable:function(t){return!!l.isScrollSupported(t)&&"off"!=t.getOptions().zoomAndScroll},isZoomable:function(t){if(!l.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"delayed"==e},getZoomDirection:function(t){return l.isScatterBubble(t)?t.getOptions().zoomDirection:"auto"},isLiveScroll:function(t){if(!l.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"liveScrollOnly"==e},isDelayedScroll:function(t){if(!l.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"delayed"==e||"delayedScrollOnly"==e},isPlotAreaDraggable:function(t){var e=t.getOptions(),i=e.dnd?e.dnd.drag.items:{};return Object.keys(i).length>0},isPlotAreaDropTarget:function(t){var e=t.getOptions(),i=e.dnd?e.dnd.drop.plotArea:{};return Object.keys(i).length>0},isHorizScrollbarSupported:function(t){var e=E.getZoomDirection(t);return!l.isPolar(t)&&(l.isBLAC(t)&&l.isVertical(t)||l.isScatterBubble(t)&&"y"!=e)},isVertScrollbarSupported:function(t){var e=E.getZoomDirection(t);return!l.isPolar(t)&&(l.isBLAC(t)&&l.isHorizontal(t)||l.isScatterBubble(t)&&"x"!=e)}};var L=new Object;e.Obj.createSubclass(L,e.Obj),L.createText=function(t,i,r,a,s,n,o,l){var h=new e.OutputText(i.getCtx(),r,s,n);return h.setCSSStyle(a),e.TextUtils.fitText(h,o,l,i)?(t.associate(h,new e.SimpleObjPeer(h.getUntruncatedTextString())),h):null},L.areTitlesRendered=function(t){var e=t.getOptions();return e.title.text||e.subtitle.text||e.footnote.text},L.renderEmptyText=function(t,i,r){var a=t.getOptions();if(g.hasInvalidTimeData(t)&&g.hasData(t))var s=a.translations.labelInvalidData;else(s=a.emptyText)||(s=a.translations.labelNoData);t.renderEmptyText(i,s,new e.Rectangle(r.x,r.y,r.w,r.h),t.getEventManager(),a._statusMessageStyle)};var P=new Object;e.Obj.createSubclass(P,e.Obj),P.getXAxisPosition=function(t){return l.isPolar(t)?"tangential":l.isHorizontal(t)?e.Agent.isRightToLeft(t.getCtx())?"right":"left":"bottom"},P.getBaselineScaling=function(t,e){var i=e+"Axis",r=t.getOptions()[i].baselineScaling;return!r||"zero"!=r&&"min"!=r?l.isStock(t)?"min":"zero":r},P.getYAxisPosition=function(t){var i=t.getOptions().yAxis.position;return l.isPolar(t)?"radial":l.isHorizontal(t)?!i||"top"!=i&&"bottom"!=i?"bottom":i:(l.isStock(t)&&(i=i||"end"),e.Agent.isRightToLeft(t.getCtx())?i&&"end"==i?"left":"right":i&&"end"==i?"right":"left")},P.getY2AxisPosition=function(t){var i=t.getOptions().y2Axis.position;return l.isHorizontal(t)?!i||"top"!=i&&"bottom"!=i?"top":i:e.Agent.isRightToLeft(t.getCtx())?i&&"start"==i?"right":"left":i&&"start"==i?"left":"right"},P.getAxisOffset=function(t){var e=t.getCache().getFromCache("axisOffset");if(null!=e)return e;var i=t.getOptions().styleDefaults.groupSeparators;if(l.hasGroupAxis(t)&&g.getNumLevels(t)>1&&"on"==i.rendered)e=.5;else if(g.hasBarSeries(t)||p.hasCenteredSeries(t)||g.hasCandlestickSeries(t)||g.hasBoxPlotSeries(t)||l.isBLAC(t)&&1==g.getGroupCount(t))e=.5;else if(l.isSpark(t)||E.isScrollable(t)||l.isOverview(t))e=0;else{var r=l.isHorizontal(t)?.2:.5;e=r-r/Math.sqrt(g.getGroupCount(t))}return t.getCache().putToCache("axisOffset",e),e},P.isGridShifted=function(t){if(!l.isBLAC(t))return!1;if(g.getNumLevels(t)>1)return!0;for(var e=g.getSeriesCount(t),i=0;i<e;i++)if(g.isSeriesRendered(t,i)){var r=g.getSeriesType(t,i),a=p.getLineType(t,i);if("bar"!=r&&"centeredSegmented"!=a&&"centeredStepped"!=a)return!1}return!0},P.isGridPolygonal=function(t){return!(!l.isBLAC(t)||g.hasBarSeries(t))&&"polygon"==t.getOptions().polarGridShape},P.isAxisRendered=function(t,e){if(!l.hasAxes(t))return!1;var i=t.getOptions(),r=i.overview.content&&i.overview.content[e+"Axis"],a=r&&"on"==r.rendered;if("y"==e&&g.hasY2DataOnly(t)&&!a)return!1;if("y2"==e&&!g.hasY2Data(t)&&!a)return!1;var s=i[e+"Axis"];return!("off"==s.rendered&&!a)&&!("off"==s.tickLabel.rendered&&!s.title&&!a)},P.isAxisLineRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.axisLine.rendered&&!("auto"==i.axisLine.rendered&&"x"!=e&&l.isBLAC(t)&&!l.isPolar(t))},P.isMajorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.majorTick.rendered&&!("auto"==i.majorTick.rendered&&"x"==e&&l.isBLAC(t)&&!l.isPolar(t))},P.isMinorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.minorTick.rendered&&("on"==i.minorTick.rendered||P.isLog(t,e))},P.isLog=function(t,e){return"log"==t.getOptions()[e+"Axis"].scale},P.getTickLabelHeight=function(t,i){var r=t.getOptions(),a=r[i+"Axis"].tickLabel.style;return a instanceof e.CSSStyle||(a=new e.CSSStyle(a)),a.mergeUnder(O.getDefaults(r.skin).tickLabel.style),e.TextUtils.getTextStringHeight(t.getCtx(),a)},P.getTickLabelGapSize=function(t,e){if(P.isTickLabelInside(t,e))return 0;var i=t.getOptions(),r=l.isHorizontal(t),a=P.getGapScalingFactor(t,e),s=Math.ceil(i.layout.tickLabelGapWidth*a),n=Math.ceil(i.layout.tickLabelGapHeight*a);return"x"==e?r?s:n:r?n:s},P.getGapScalingFactor=function(t,e){return P.isAxisRendered(t,e)?P.getTickLabelHeight(t,e)/14:0},P.isTickLabelInside=function(t,e){return!(l.isPolar(t)||l.isScatterBubble(t)||l.isBLAC(t)&&"x"==e)&&"inside"==t.getOptions()[e+"Axis"].tickLabel.position},P.getXAxisViewportMinMax=function(t,e){var i=e?"xAxisViewportMinMaxUG":"xAxisViewportMinMax",r=t.getCache().getFromCache(i);if(r)return r;var a=t.getOptions().xAxis,s=l.hasGroupAxis(t),n=P.getAxisOffset(t);if(e)var o=P.getXAxisGlobalMinMax(t);var h=null;null!=a.viewportMin?h=a.viewportMin:null!=a.viewportStartGroup?h=s?g.getGroupIndex(t,a.viewportStartGroup)-n:a.viewportStartGroup:e&&(h=o.min);var u=null;return null!=a.viewportMax?u=a.viewportMax:null!=a.viewportEndGroup?u=s?g.getGroupIndex(t,a.viewportEndGroup)+n:a.viewportEndGroup:e&&(u=o.max),r={min:h,max:u},t.getCache().putToCache(i,r),r},P.getXAxisGlobalMinMax=function(t){var e=t.getOptions().xAxis,i=l.hasGroupAxis(t),r=P.getAxisOffset(t);if(!i)var a=P.getMinMaxValue(t,"x");return{min:null!=e.min?e.min:i?0-r:a.min,max:null!=e.max?e.max:i?g.getGroupCount(t)-1+r:a.max}},P.applyInitialZooming=function(t,e){var i=t.getOptions(),r=i.xAxis,a=i.initialZooming;if(l.isBLAC(t)&&"off"!=i.zoomAndScroll&&"none"!=a){i._initialZoomed&&("last"==a?r.viewportMin=null:r.viewportMax=null);var s=P.getXAxisViewportMinMax(t,!1),n=s.min,o=s.max;if(!("last"==a&&null!=n||"first"==a&&null!=o)){var h=l.isHorizontal(t)?e.h:e.w,u=Math.floor(h/(2*P.getTickLabelHeight(t,"x")))+P.getAxisOffset(t),d=g.getGroupCount(t)-1;if(!(d<=u)){var c,p;if(l.hasGroupAxis(t))c=0,p=d;else{var _=P.getMinMaxValue(t,"x");c=_.min,p=_.max}var f=u/d*(p-c);"last"==i.initialZooming?(null==o&&(o=p),r.viewportMin=Math.max(o-f,c)):(null==n&&(n=c),r.viewportMax=Math.min(n+f,p)),i._initialZoomed=!0}}}},P.isYAdjustmentNeeded=function(t){var e=t.getOptions().styleDefaults.dataLabelPosition,i=t.getOptionsCache().getFromCache("hasDataOutsideBarEdge"),r="outsideBarEdge"==e||i,a=p.isStackLabelRendered(t);return!(!g.hasBarSeries(t)||!r&&!a)},P.axisContainsPoint=function(t,e){if(!t)return!1;var i=t.getOptions().position,r="top"==i||"bottom"==i,a=r?4:10,s=r?10:4,n=t.__getBounds().clone();n.x-=s,n.y-=a,n.w+=2*s,n.h+=2*a;var o=t.stageToLocal(e);return n.containsPoint(o.x,o.y)},P.isStandalonePlotArea=function(t){t.getOptions();return!L.areTitlesRendered(t)&&(!l.isLegendRendered(t)&&(!P.isAxisRendered(t,"x")&&(!P.isAxisRendered(t,"y")&&!P.isAxisRendered(t,"y2"))))},P.isStandaloneXAxis=function(t){var e=t.getOptions();return!L.areTitlesRendered(t)&&("off"==e.legend.rendered&&("off"==e.plotArea.rendered&&(!P.isAxisRendered(t,"y")&&!P.isAxisRendered(t,"y2"))))},P.isStandaloneYAxis=function(t){var e=t.getOptions();return!L.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!P.isAxisRendered(t,"x")&&("off"==e.plotArea.rendered&&!P.isAxisRendered(t,"y2"))))},P.isStandaloneY2Axis=function(t){var e=t.getOptions();return!L.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!P.isAxisRendered(t,"x")&&(!P.isAxisRendered(t,"y")&&"off"==e.plotArea.rendered)))},P.getViewportMinMaxGroupIndex=function(t,e){var i=P.getXAxisViewportMinMax(t,!0),r=l.hasGroupAxis(t),a=g.getGroupCount(t),s=i.min,n=0;if(null!=s)if(r)n=Math.ceil(s);else for(var o=0;o<a;o++){if(g.getXValue(t,e,o)>=s){n=o;break}}var h=i.max,u=a-1;if(null!=u)if(r)u=Math.floor(h);else for(o=a-1;o>=n;o--){if(g.getXValue(t,e,o)<=h){u=o;break}}return{min:n,max:u}},P.getViewportGroupCount=function(t){var e=P.getXAxisViewportMinMax(t,!0),i=P.getXAxisGlobalMinMax(t),r=(e.max-e.min)/(i.max-i.min);return isNaN(r)?1:r*g.getGroupCount(t)},P._computeYAlongLine=function(t,i,r,a,s,n){t&&(r=e.Math.log10(r),s=e.Math.log10(s));var o=r+(s-r)*(n-i)/(a-i);return t?Math.pow(10,o):o},P.getMinMaxValue=function(t,e,i){var r=e+(i?"MinMaxDO":"MinMax"),a=t.getCache().getFromCache(r);if(a)return a;var s=t.getOptions()[e+"Axis"];if(null!=s.dataMax&&null!=s.dataMin&&i)return a={min:s.dataMin,max:s.dataMax},t.getCache().putToCache(r,a),a;var n=l.hasTimeAxis(t);if(null!=s.max&&null!=s.min&&!i&&!n)return a={min:s.min,max:s.max},t.getCache().putToCache(r,a),a;var o="z"!=e&&P.isLog(t,e),h="y2"==e;h&&(e="y");for(var u="y"==e,d=!i&&u&&l.isBLAC(t),c="withoutRescale"==E.getHideAndShowBehavior(t)||"x"==e&&l.hasTimeAxis(t),_=-1/0,v=1/0,m=g.getSeriesCount(t),S=0;S<m;S++){var y=g.getSeriesItem(t,S),x=g.getSeriesType(t,S),C=u&&(g.isRangeSeries(t,S)||"candlestick"==x||"boxPlot"==x);if(c||g.isSeriesRendered(t,S)){var A=g.isAssignedToY2(t,S);if(!u||h==A){var b=y.items;if(b){var M=0,T=b.length-1;if(d){var D=P.getViewportMinMaxGroupIndex(t,S);M=D.min,T=D.max}for(var I=M;I<=T;I++)if(c||g.isDataItemRendered(t,S,I)){var O=b[I],L=null;if(u?C||(L=g.getCumulativeValue(t,S,I,c)):"x"==e&&n&&!l.isMixedFrequency(t)?(L=g.getGroupLabel(t,I),null!=O&&(O.x=L)):null!=O&&(L=O[e]),!("z"==e&&L<=0)){if(!(C||null==L||"number"!=typeof L||o&&L<=0)){var w=0;if(l.isBubble(t)&&!i&&"z"!=e){var R=p.getMarkerSize(t,S,I);w=P.getBubbleAxisRadius(t,e,R)}_=Math.max(_,o?L*Math.pow(10,w):L+w),v=Math.min(v,o?L/Math.pow(10,w):L-w)}if(C){var B=g.getHighValue(t,S,I),k=g.getLowValue(t,S,I);o&&(B<=0||k<=0)||(_=Math.max(_,B,k),v=Math.min(v,B,k))}if(d&&!C){var F=null,N=null;if(M>0&&I==M?(F=I-1,N=P.getXAxisViewportMinMax(t,!0).min):T<b.length-1&&I==T&&(F=I+1,N=P.getXAxisViewportMinMax(t,!0).max),null!=F){var H=g.getXValue(t,S,I),G=g.getXValue(t,S,F),U=g.getCumulativeValue(t,S,F),V=P._computeYAlongLine(o,H,L||0,G,U||0,N);_=Math.max(_,V),v=Math.min(v,V)}}var j=g.getNestedDataItemCount(t,S,I);if(j>0)for(var Y=0;Y<j;Y++){var W=g.getNestedDataItem(t,S,I,Y),z="number"==typeof W;_=z?Math.max(_,W):Math.max(_,W.value),v=z?Math.min(v,W):Math.min(v,W.value)}}}}}}}var X=null;if("x"==e?X=g.getAxisRefObjs(t,"x"):h?X=g.getAxisRefObjs(t,"y2"):u&&(X=g.getAxisRefObjs(t,"y")),null!=X)for(var K=0;K<X.length;K++){var Z=X[K],q=Z.items,Q="withRescale"==E.getHideAndShowBehavior(t)&&!f.isObjectRendered(t,Z);if(!Q)if(q&&!Q){var J=0,$=q.length-1;if(d){var tt=P.getViewportMinMaxIndex(t,q);J=tt.min,$=tt.max}for(var et=J;et<=$;et++)if(null!=q[et]){k=f.getLowValue(q[et]),B=f.getHighValue(q[et]);var it=isNaN(q[et])?q[et].value:q[et];null!=k&&isFinite(k)&&(v=Math.min(v,k),_=Math.max(_,k)),null!=B&&isFinite(B)&&(v=Math.min(v,B),_=Math.max(_,B)),null!=it&&isFinite(it)&&(v=Math.min(v,it),_=Math.max(_,it))}}else{k=f.getLowValue(Z),B=f.getHighValue(Z),it=Z.value;null!=k&&isFinite(k)&&(v=Math.min(v,k),_=Math.max(_,k)),null!=B&&isFinite(B)&&(v=Math.min(v,B),_=Math.max(_,B)),null!=it&&isFinite(it)&&(v=Math.min(v,it),_=Math.max(_,it))}}return a={min:v,max:_},t.getCache().putToCache(r,a),a},P.getBubbleAxisRadius=function(t,e,i){if(!i)return 0;var r="x"==e?"_xAxisBubbleRatio":"_yAxisBubbleRatio";return i/2*t.getCache().getFromCache(r)},P.getViewportMinMaxIndex=function(t,e){var i=P.getXAxisViewportMinMax(t,!0),r=l.hasGroupAxis(t),a=i.min,s=0;if(null!=a)if(r)s=Math.ceil(a);else for(var n=0;n<e.length;n++){if(f.getXValue(t,e,n)>=a){s=n;break}}var o=i.max,h=e.length-1;if(null!=h)if(r)h=Math.floor(o);else for(n=e.length-1;n>=s;n--){if(g.getXValue(t,e,n)<=o){h=n;break}}return{min:s,max:h}};const w={getGroupWidthRatios:function(t){if(!g.hasBarSeries(t)&&!g.hasCandlestickSeries(t)&&!g.hasBoxPlotSeries(t))return null;var e=t.getOptions(),i=w.getBarGapRatio(t);if(i>=1)return e._averageGroupZ=1/0,null;e._averageGroupZ=0;var r,a,s,n,o,l,h=g.getGroupCount(t),u=g.isSplitDualY(t),d=g.getStackCategories(t,"bar"),c=d.y.length,p=d.y2.length;if(t.getOptionsCache().getFromCache("hasConstantZValue")){var _=t.getOptionsCache().getFromCache("constantZValue")*(u?Math.max(c,p):c+p);l=(o=_*h)*i/(1-i),r=null}else{for(var f=[],v=0;v<h;v++){for(a=0,n=0;n<c;n++)a+=g.getBarCategoryZ(t,d.y[n],v,!1);for(s=0,n=0;n<p;n++)s+=g.getBarCategoryZ(t,d.y2[n],v,!0);f.push(u?Math.max(a,s):a+s)}o=f.reduce(function(t,e){return t+e}),l=o*i/(1-i),r=f.map(function(t){return t+l/h})}return e._averageGroupZ=(o+l)/h,r},getBarGapRatio:function(t){var e=t.getCache().getFromCache("barGapRatio");if(e)return e;if("string"==typeof(e=t.getOptions().styleDefaults.barGapRatio)&&"%"==e.slice(-1)&&(e=Number(e.slice(0,-1))/100),null!=e&&!isNaN(e))return e;var i=g.getStackCategories(t,"bar"),r=i.y.length,a=i.y2.length,s=g.isSplitDualY(t)?Math.max(r,a):r+a;return e=l.isPolar(t)?1==s?0:.25:1==s?.37+.26/P.getViewportGroupCount(t):.25,t.getCache().putToCache("barGapRatio",e),e},getBarInfo:function(t,i,r,a){var s,n,o=l.isHorizontal(t),u=g.isStacked(t),d=e.Agent.isRightToLeft(t.getCtx()),c=t.xAxis,_=g.isRangeSeries(t,i),f=p.getBarCategoryOffsetMap(t,r),v=g.getXValue(t,i,r),m=c.getUnboundedCoordAt(v),S=g.isAssignedToY2(t,i),y=S?t.y2Axis:t.yAxis,x=y.getBaselineCoord();if(_){var C=g.getLowValue(t,i,r),A=g.getHighValue(t,i,r);if(null==C||isNaN(C)||null==A||isNaN(A))return null;if((s=y.getBoundedCoordAt(C))==(n=y.getBoundedCoordAt(A))&&null==y.getCoordAt(C))return null}else{var b=g.getValue(t,i,r),M=g.getCumulativeValue(t,i,r);if(null==b||isNaN(b))return null;if((s=y.getBoundedCoordAt(M))==(n=u?y.getBoundedCoordAt(M-b):x)&&null==y.getCoordAt(M))return null}var T=g.getStackCategory(t,i),D=p.getBarWidth(t,i,r),I=u?p.getBarStackWidth(t,T,r,S):D;if("pixel"==p.getBarSpacing(t)&&"firefox"===e.Agent.browser){var O=D/(1-w.getBarGapRatio(t));D>1&&O-D<2&&(I=--D)}var E=f[S?"y2":"y"][T]+.5*(I-D),L=d&&!o?m-E-D:m+E,P=L+D,R=(L+P)/2,B=_?(s+n)/2:s;return{x1:L,x2:P,axisCoord:x,baseCoord:n,yCoord:s,dataPos:h.convertAxisCoord(t,new e.Point(R,B),a),barWidth:D}},getDataLabelPosition:function(t,i,r,a,s,n){var o,h=g.getNestedDataItem(t,i,r,a),u=g.getDataItem(t,i,r);if(n)o="outsideBarEdge";else if((o=h&&h.labelPosition?h.labelPosition:u.labelPosition)||(o=t.getOptions().styleDefaults.dataLabelPosition),"none"==(o=p._parseLowHighArray(o,s)))return"none";var d=e.Agent.isRightToLeft(t.getCtx()),c=l.isHorizontal(t),_=l.isPolar(t);if(l.isFunnel(t)||l.isPyramid(t))return"center";if("bar"==g.getSeriesType(t,i)){if("center"==o||_)return"center";var f,v=g.isStacked(t);if("insideBarEdge"!=o){if(v&&!n)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!v){var m,S=t.getOptions().styleDefaults.dataLabelStyle,y=u.labelStyle?e.CSSStyle.mergeStyles([S,new e.CSSStyle(u.labelStyle)]):S;if(c){var x=p.getDataLabel(t,i,r,a,s);m=e.TextUtils.getTextStringWidth(t.getCtx(),x,y)}else m=e.TextUtils.getTextStringHeight(t.getCtx(),y);var C=w.getBarInfo(t,i,r);(C?Math.abs(C.baseCoord-C.yCoord):0)<=m&&(o="outsideBarEdge")}return f="low"==s?u.low<=u.high:"high"==s?u.high<u.low:g.getValue(t,i,r,a)<0,"outsideBarEdge"==o?c?!f&&!d||f&&d?"right":"left":f?"bottom":"top":c?!f&&!d||f&&d?"inRight":"inLeft":f?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(l.isBubble(t))return"center";if("low"!=s||_)if("high"!=s||_)o="afterMarker";else{if(!c)return"top";o="afterMarker"}else{if(!c)return"bottom";o="beforeMarker"}}return!d&&"afterMarker"==o||d&&"beforeMarker"==o?"right":"left"}};var R=new Object;e.Obj.createSubclass(R,e.Obj),R.getBarFill=function(t,e,i,r){var a=p.getColor(t,e,i),s=p.getPattern(t,e,i);return R.getRectangleFill(t,a,s,r)},R.getRectangleFill=function(t,i,r,a){var s=p.getSeriesEffect(t);if(r)return new e.PatternFill(r,i);if("gradient"==s&&a>3){var n,o,h=l.isHorizontal(t)?270:0;return n=[e.ColorUtils.adjustHSL(i,0,-.09,.04),e.ColorUtils.adjustHSL(i,0,-.04,-.05)],o=[0,1],new e.LinearGradientFill(h,n,null,o)}return new e.SolidFill(i)},R.getAreaFill=function(t,i){var r,a="lineWithArea"==g.getSeriesType(t,i),s=g.getSeriesItem(t,i);s&&s.areaColor?r=s.areaColor:(r=p.getColor(t,i),a&&(r=e.ColorUtils.setAlpha(r,.2)));var n=p.getPattern(t,i),o=p.getSeriesEffect(t);if(n)return new e.PatternFill(n,r);if("gradient"==o){var h,u,d=l.isHorizontal(t)?180:270;if(a){var c=e.ColorUtils.getAlpha(r);h=[e.ColorUtils.setAlpha(r,Math.min(c+.2,1)),e.ColorUtils.setAlpha(r,Math.max(c-.15,0))],u=[0,1]}else h=[e.ColorUtils.adjustHSL(r,0,-.09,.04),e.ColorUtils.adjustHSL(r,0,-.04,-.05)],u=[0,1];return new e.LinearGradientFill(d,h,null,u)}return new e.SolidFill(r)},R.getMarkerFill=function(t,i,r,a){var s=p.getMarkerColor(t,i,r,a),n=p.getPattern(t,i,r,a);if(n)return new e.PatternFill(n,s);if(l.isBubble(t)&&"gradient"==p.getSeriesEffect(t)){var o=[e.ColorUtils.adjustHSL(s,0,-.09,.04),e.ColorUtils.adjustHSL(s,0,-.04,-.05)];return new e.LinearGradientFill(270,o,null,[0,1])}return new e.SolidFill(s)},R.getFunnelPyramidSliceFill=function(t,i,r,a,s){var n,o=p.getPattern(t,i,0),h=p.getSeriesEffect(t);if(o&&!s)return("vertical"==t.getOptions().orientation||l.isPyramid(t))&&(n=e.Agent.isRightToLeft(t.getCtx())?new e.Matrix(0,-1,1,0):new e.Matrix(0,1,-1,0)),new e.PatternFill(o,r,null,n);if("gradient"==h){var u,g,d=l.isPyramid(t)?180:90;return"on"==t.getOptions().styleDefaults.threeDEffect?(u=[e.ColorUtils.adjustHSL(r,0,0,-.1),e.ColorUtils.adjustHSL(r,0,0,.12),r],g=[0,.65,1]):(u=[e.ColorUtils.adjustHSL(r,0,-.09,.04),e.ColorUtils.adjustHSL(r,0,-.04,-.05)],g=[0,1]),new e.LinearGradientFill(d,u,null,g,[a.x,a.y,a.w,a.h])}return new e.SolidFill(r)};var B=function(t,e,i,r,a,s,n,o,l){this.Init(t,e,i,r,a,s,n,o,l)};e.Obj.createSubclass(B,e.Path),B.prototype.Init=function(t,i,r,a,s,n,o,l,h){B.superclass.Init.call(this,t.getCtx()),this._chart=t;var u=t.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._funnelWidth=a,this._funnelHeight=s,this._startPercent=n,this._valuePercent=o,this._fillPercent=l,this._3dRatio="on"==u.threeDEffect?1:0,this._gap=h;var g=this._getPath();this._dataColor=p.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=u.backgroundColor?u.backgroundColor:u.funnelBackgroundColor,this.setCmds(g.slice),g.bar&&(this._bar=new e.Path(this.getCtx(),g.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProperties(g.sliceBounds),this._label=this._getSliceLabel(g.sliceBounds,g.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},B._FUNNEL_3D_WIDTH_RATIO=.08,B._FUNNEL_ANGLE_2D=36,B._FUNNEL_RATIO=1/3,B._BORDER_COLOR="#FFFFFF",B._MIN_CHARS_DATA_LABEL=3,B._LINE_FRACTION=2/3,B._AREA_FRACTION=.41,B._HEIGHT_FRACTION=.28,B._LINE_FRACTION_2=.4,B._AREA_FRACTION_2=.8,B._HEIGHT_FRACTION_2=.7,B.prototype._getPath=function(){var t=e.Agent.isRightToLeft(this.getCtx()),i=g.getSeriesCount(this._chart),r=(this._numDrawnSeries+1)*this._gap,a=e.Math.degreesToRads(B._FUNNEL_ANGLE_2D-2*this._3dRatio),s=this._funnelWidth-i*this._gap,n=s/Math.sin(e.Math.degreesToRads(B._FUNNEL_ANGLE_2D)),o=this._funnelHeight/Math.sin(a),l=this._3dRatio*this._funnelWidth/this._funnelHeight*B._FUNNEL_3D_WIDTH_RATIO;l<1e-5&&(l=0);var h,u,d,c,p,_,f,v,m,S,y,x,C=this._funnelHeight,A=this._funnelHeight*B._FUNNEL_RATIO;this._startPercent<B._AREA_FRACTION?(h=this._startPercent,d=C,p=this._funnelHeight*B._LINE_FRACTION,f=B._AREA_FRACTION,m=s*B._HEIGHT_FRACTION,y=s*(1-B._HEIGHT_FRACTION)):this._startPercent<B._AREA_FRACTION_2?(h=this._startPercent-B._AREA_FRACTION,d=this._funnelHeight*B._LINE_FRACTION,p=this._funnelHeight*B._LINE_FRACTION_2,f=B._AREA_FRACTION_2-B._AREA_FRACTION,m=s*(B._HEIGHT_FRACTION_2-B._HEIGHT_FRACTION),y=s*(1-B._HEIGHT_FRACTION_2)):(h=this._startPercent-B._AREA_FRACTION_2,d=this._funnelHeight*B._LINE_FRACTION_2,p=A,f=1-B._AREA_FRACTION_2,m=s*(1-B._HEIGHT_FRACTION_2),y=0),this._startPercent+this._valuePercent<B._AREA_FRACTION?(c=C,_=this._funnelHeight*B._LINE_FRACTION,u=this._startPercent+this._valuePercent,v=B._AREA_FRACTION,S=s*B._HEIGHT_FRACTION,x=s*(1-B._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<B._AREA_FRACTION_2?(c=this._funnelHeight*B._LINE_FRACTION,_=this._funnelHeight*B._LINE_FRACTION_2,u=this._startPercent+this._valuePercent-B._AREA_FRACTION,v=B._AREA_FRACTION_2-B._AREA_FRACTION,S=s*(B._HEIGHT_FRACTION_2-B._HEIGHT_FRACTION),x=s*(1-B._HEIGHT_FRACTION_2)):(c=this._funnelHeight*B._LINE_FRACTION_2,_=A,u=this._startPercent+this._valuePercent-B._AREA_FRACTION_2,v=1-B._AREA_FRACTION_2,S=s*(1-B._HEIGHT_FRACTION_2),x=0);var b,M,T,D=Math.sqrt((f-h)/f*d*d+h/f*p*p),I=Math.sqrt((v-u)/v*c*c+u/v*_*_),O=.98*Math.asin(((D-p)*m/(d-p)+y)/n),E=.98*Math.asin(((I-_)*S/(c-_)+x)/n),L=(1+B._FUNNEL_RATIO)/2*this._funnelHeight+o,P=(1-B._FUNNEL_RATIO)/2*this._funnelHeight-o;t?(b=[n*Math.sin(O)+r,L-o*Math.cos(O),n*Math.sin(E)+r,L-o*Math.cos(E),n*Math.sin(E)+r,P+o*Math.cos(E),n*Math.sin(O)+r,P+o*Math.cos(O)],M=0,T=1):(b=[this._funnelWidth-r-n*Math.sin(O),L-o*Math.cos(O),this._funnelWidth-r-n*Math.sin(E),L-o*Math.cos(E),this._funnelWidth-r-n*Math.sin(E),P+o*Math.cos(E),this._funnelWidth-r-n*Math.sin(O),P+o*Math.cos(O)],M=1,T=0);var w=e.PathUtils.moveTo(b[0],b[1]),R=null;w+=e.PathUtils.arcTo(l*(b[1]-b[7])/2,(b[1]-b[7])/2,Math.PI,T,b[6],b[7]),w+=e.PathUtils.arcTo(l*(b[1]-b[7])/2,(b[1]-b[7])/2,Math.PI,T,b[0],b[1]),w+=e.PathUtils.arcTo(n,o,a,M,b[2],b[3]),w+=e.PathUtils.arcTo(l*(b[3]-b[5])/2,(b[3]-b[5])/2,Math.PI,T,b[4],b[5]),w+=e.PathUtils.arcTo(n,o,a,M,b[6],b[7]);var k=new e.Rectangle(Math.min(b[0],b[2]),b[5],Math.abs(b[0]-b[2]),Math.abs(b[3]-b[5]));if(null!=this._fillPercent){var F=Math.max(Math.min(this._fillPercent,1),0),N=t?-F*Math.PI:F*Math.PI;R=e.PathUtils.moveTo(b[0],b[1]),R+=e.PathUtils.arcTo(n,o,a,M,b[2],b[3]),R+=e.PathUtils.arcTo(l*(b[3]-b[5])/2,(b[3]-b[5])/2,N,T,b[2]+l*(b[3]-b[5])/2*Math.sin(N),(b[5]+b[3])/2+(b[3]-b[5])/2*Math.cos(N)),this._fillPercent>.95?R+=e.PathUtils.arcTo(n,o,a,M,b[6],b[1]+F*(b[7]-b[1])):this._fillPercent<.05?R+=e.PathUtils.arcTo(n,o,a,T,b[6],b[1]+F*(b[7]-b[1])):R+=e.PathUtils.lineTo(b[6]+l*(b[1]-b[7])/2*Math.sin(N),(b[7]+b[1])/2+(b[1]-b[7])/2*Math.cos(N)),R+=e.PathUtils.arcTo(l*(b[1]-b[7])/2,(b[1]-b[7])/2,N,M,b[0],b[1]),R+=e.PathUtils.closePath();var H=new e.Rectangle(Math.min(b[0],b[2]),b[5]+Math.abs(b[3]-b[5])*(1-F),Math.abs(b[0]-b[2]),Math.abs(b[3]-b[5])*F)}return{slice:w,bar:R,sliceBounds:k,barBounds:R?H:k}},B.prototype._getSliceLabel=function(t,i){var r=p.getDataLabel(this._chart,this._seriesIndex,0);if(r||(r=g.getSeriesLabel(this._chart,this._seriesIndex)),r&&"none"!=w.getDataLabelPosition(this._chart,this._seriesIndex,0)){var a=new e.MultilineText(this.getCtx(),r,0,0),s=null!=p.getPattern(this._chart,this._seriesIndex,0),n=this._chart.getOptions().styleDefaults,o=[n._dataLabelStyle,n.dataLabelStyle,new e.CSSStyle(g.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],l=e.CSSStyle.mergeStyles(o);if(a.setCSSStyle(l),e.TextUtils.fitText(a,t.h-this._3dRatio*(.8-this._valuePercent)*50,t.w,this,B._MIN_CHARS_DATA_LABEL)){var h=a.getDimensions(),u=this._getLabelPosition(t);if(s){var d=.15*h.h,c=e.Agent.isRightToLeft(this.getCtx())?.5:-.5,_=e.PathUtils.roundedRectangle(h.x-d,h.y,h.w+2*d,h.h,2,2,2,2),f=new e.Path(this.getCtx(),_);f.setSolidFill("#FFFFFF",.9),u=u.translate(c*h.h,-c*h.w),f.setMatrix(u),this.addChild(f)}var v=s?"#000000":i.containsPoint(t.x,t.y+(t.h-h.w)/2)?e.ColorUtils.getContrastingTextColor(this._dataColor):e.ColorUtils.getContrastingTextColor(this._backgroundColor),m=new e.CSSStyle({color:v});return o.splice(1,0,m),e.Agent.isHighContrast()&&o.push(m),l=e.CSSStyle.mergeStyles(o),a.setCSSStyle(l),a.setMatrix(this._getLabelPosition(t)),a.alignCenter(),a.alignMiddle(),a}}},B.prototype._getLabelPosition=function(t){var i=this._3dRatio*(t.h*this._funnelWidth/this._funnelHeight*B._FUNNEL_3D_WIDTH_RATIO/2),r=new e.Matrix;return r=e.Agent.isRightToLeft(this.getCtx())?(r=r.rotate(Math.PI/2)).translate(t.x+t.w/2-i,t.y+t.h/2):(r=r.rotate(3*Math.PI/2)).translate(t.x+t.w/2+i,t.y+t.h/2)},B.prototype._setColorProperties=function(t){var i=R.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,t),r=p.getBorderColor(this._chart,this._seriesIndex,0),a=p.getUserBorderWidth(this._chart,this._seriesIndex,0),s=p.getDefaultBorderWidth(this._chart,this._seriesIndex,0),n=!1,o="redwood"===this.getCtx().getThemeBehavior();null==r&&this._3dRatio>0&&(n=!0,r=B._BORDER_COLOR);var l=null!==a?a:s;!r||o&&this._chart.isSelectionSupported()&&!this._bar&&n||this.setSolidStroke(r,null,l);var h=e.SelectionEffectUtils.getHoverBorderColor(this._dataColor),u=R.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._backgroundColor,t,!0);this._bar?(this.setFill(u),this._bar.setFill(i),this._bar.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this._bar.setClassName(p.getClassName(this._chart,this._seriesIndex,0))):(this.setFill(i),this.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(p.getClassName(this._chart,this._seriesIndex,0))),this.OriginalStroke=this.getStroke();var g=null!=this._bar?this._bar:this;if(this._chart.isSelectionSupported())if(this.setCursor(e.SelectionEffectUtils.getSelectingCursor()),o)if(null!=this._bar)g.setSolidStroke(this._dataColor,null,0),g.setFeedbackClassName("oj-dvt-selectable");else{var d=null==r||n?this._dataColor:r,c=null!==a?a:0;g.setSolidStroke(d,null,c),g.setFeedbackClassName("oj-dvt-selectable"),r&&(n&&g.addClassName("oj-dvt-default-border-color"),null==a&&g.addClassName("oj-dvt-default-border-width"))}else{var _=p.getSelectedInnerColor(this._chart),f=p.getSelectedOuterColor(this._chart)?p.getSelectedOuterColor(this._chart):this._dataColor;g.setHoverStroke(new e.Stroke(h,1,2)),g.setSelectedStroke(new e.Stroke(_,1,1.5),new e.Stroke(f,1,4.5)),g.setSelectedHoverStroke(new e.Stroke(_,1,1.5),new e.Stroke(h,1,4.5))}},B.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]},B.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this._fillPercent=null!=this._fillPercent?t[2]:null,this.setAlpha(t[3]),this._3dRatio=t[4];var e=this._getPath();this.setCmds(e.slice),e.bar&&this._bar&&this._bar.setCmds(e.bar),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},B.prototype.setSelected=function(t){if(null!=this._bar){if(this.IsSelected==t)return;this.IsSelected=t,this._bar.setSelected(t)}else B.superclass.setSelected.call(this,t);var e=this.getDimensions(),i=null!=this._bar?this._bar:this,r=e.w;t?(i.setScaleX((r-3)/r),i.setTranslateX(Math.ceil(1.5)+3/r*e.x)):(i.setScaleX(1),i.setTranslateX(0))},B.prototype.showHoverEffect=function(){null!=this._bar?this._bar.showHoverEffect():B.superclass.showHoverEffect.call(this)},B.prototype.hideHoverEffect=function(){null!=this._bar?this._bar.hideHoverEffect():B.superclass.hideHoverEffect.call(this)},B.prototype.copyShape=function(){return new B(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)};var k=new Object;e.Obj.createSubclass(k,e.Obj),k.setVisibility=function(t,e,i){var r=f.getRefObj(t,e);null!=r&&(r.visibility=i);var a=g.getHiddenCategories(t),s=a.indexOf(e);"hidden"==i&&s<0?a.push(e):"visible"==i&&s>=0&&a.splice(s,1);var n=t.getOptions();if(n&&n.legend&&n.legend.sections){for(var o=0;o<n.legend.sections.length;o++){var l=n.legend.sections[o];if(l&&l.items)for(var h=0;h<l.items.length;h++)l.items[h].id==e&&(l.items[h].categoryVisibility=i)}return!0}return!1},k.processIds=function(t,e){for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a.series==c.OTHER_SLICE_SERIES_ID){var s=c.getOtherSliceIds(t);i=i.concat(s)}else i.push(a)}return i},k.adjustBounds=function(t){null!=t.x&&(t.x-=1),null!=t.w&&(t.w+=2),null!=t.y&&(t.y-=1),null!=t.h&&(t.h+=2)},k.getBoundedObjects=function(t,e){for(var i=t.getChartObjPeers().concat(k.getFilteredChartObjPeers(t)),r=[],a=0;a<i.length;a++){var s=i[a],n=s.getDataPosition();if(n){n=t.getPlotArea().localToStage(n);var o=null==e.x||n.x>=e.x&&n.x<=e.x+e.w,l=null==e.y||n.y>=e.y&&n.y<=e.y+e.h;o&&l&&r.push(s)}}return r},k.getFilteredChartObjPeers=function(t){if(!t.getCache().getFromCache("dataFiltered"))return[];var e=t.getCache().getFromCache("filteredChartObjPeers");if(!e){e=[];for(var i=0;i<g.getSeriesCount(t);i++)for(var r=0;r<g.getGroupCount(t);r++){var a;if(g.isDataItemFiltered(t,i,r))a="bar"==g.getSeriesType(t,i)?w.getBarInfo(t,i,r).dataPos:g.getMarkerPosition(t,i,r),e.push(new m(t,[],i,r,null,a))}t.getCache().putToCache("filteredChartObjPeers",e)}return e},k.getAxisBounds=function(t,i,r){var a=t.getPlotArea(),s=a.stageToLocal(new e.Point(i.x,i.y)),n=a.stageToLocal(new e.Point(i.x+i.w,i.y+i.h));null==i.x&&(s.x=null,n.x=null),null==i.y&&(s.y=null,n.y=null);var o=k._convertToAxisCoord(t,s.x,n.x,s.y,n.y),l={},h={},u={},g={};return t.xAxis&&(l=k._getAxisMinMax(t.xAxis,o.xMin,o.xMax,r),g=k.getAxisStartEndGroup(t.xAxis,l.min,l.max)),t.yAxis&&(h=k._getAxisMinMax(t.yAxis,o.yMin,o.yMax,r)),t.y2Axis&&(u=k._getAxisMinMax(t.y2Axis,o.yMin,o.yMax,r)),{xMin:l.min,xMax:l.max,unchanged:l.unchanged,yMin:h.min,yMax:h.max,y2Min:u.min,y2Max:u.max,startGroup:g.startGroup,endGroup:g.endGroup}},k._getAxisMinMax=function(t,e,i,r){if(null==e||null==i)return{min:null,max:null};var a=t.getUnboundedLinearValueAt(e),s=t.getUnboundedLinearValueAt(i);if(r){var n=t.getInfo().getMinimumExtent();if(s-a<n){var o=(s+a)/2;s=o+n/2,a=o-n/2}return k._limitToGlobal(t,a,s)}return k.getActualMinMax(t,a,s)},k.getAxisBoundsByDelta=function(t,e,i,r,a){var s=k._convertToAxisCoord(t,e,i,r,a),n=E.getZoomDirection(t),o={},l={},h={},u={};return t.xAxis&&"y"!=n&&(o=k._getAxisMinMaxByDelta(t.xAxis,s.xMin,s.xMax),u=k.getAxisStartEndGroup(t.xAxis,o.min,o.max)),t.yAxis&&"x"!=n&&(l=k._getAxisMinMaxByDelta(t.yAxis,s.yMin,s.yMax)),t.y2Axis&&(h=k._getAxisMinMaxByDelta(t.y2Axis,s.yMin,s.yMax)),{xMin:o.min,xMax:o.max,unchanged:o.unchanged,yMin:l.min,yMax:l.max,y2Min:h.min,y2Max:h.max,startGroup:u.startGroup,endGroup:u.endGroup}},k._getAxisMinMaxByDelta=function(t,e,i){var r=t.getLinearViewportMin(),a=t.getLinearViewportMax();if(i==e&&t.isFullViewport())return k.getActualMinMax(t,r,a);var s=t.getUnboundedLinearValueAt(e)-t.getUnboundedLinearValueAt(0),n=t.getUnboundedLinearValueAt(i)-t.getUnboundedLinearValueAt(0),o=1,l=a+n-(r+s),h=t.getInfo().getMinimumExtent();return e!=i&&l<h&&(o=(a-r-h)/(s-n)),r+=s*o,a+=n*o,k._limitToGlobal(t,r,a)},k._convertToAxisCoord=function(t,i,r,a,s){var n={},o=e.Agent.isRightToLeft(t.getCtx());return l.isHorizontal(t)?(n.xMin=a,n.xMax=s,n.yMin=o?r:i,n.yMax=o?i:r):(n.xMin=o?r:i,n.xMax=o?i:r,n.yMin=s,n.yMax=a),n},k._limitToGlobal=function(t,e,i){var r=t.getLinearGlobalMin(),a=t.getLinearGlobalMax();return i-e>=a-r?(e=r,i=a):e<r?(i+=r-e,e=r):i>a&&(e-=i-a,i=a),k.getActualMinMax(t,e,i)},k.getActualMinMax=function(t,e,i){var r={min:t.linearToActual(e),max:t.linearToActual(i)};if(t.isGroupAxis()){var a=t.getLinearViewportMin(),s=t.getLinearViewportMax();Math.abs(e-a)<1e-4&&Math.abs(i-s)<1e-4&&(r.unchanged=!0)}return r},k.getAxisStartEndGroup=function(t,e,i){if(t.isGroupAxis()&&null!=e&&null!=i){var r=Math.ceil(e),a=Math.floor(i);if(a>=r)return{startGroup:t.getInfo().getGroup(r),endGroup:t.getInfo().getGroup(a)}}return{startGroup:null,endGroup:null}},k.setInitialSelection=function(t,e){var i=t.getSelectionHandler();if(i)if(e&&0!=e.length){for(var r=[],a=0;a<e.length;a++)null!=e[a].id?r.push(e[a].id):null!=e[a].series&&null!=e[a].group&&r.push(s(e[a].series,e[a].group));for(var n=new(t.getCtx().KeySetImpl)(r),o=t.getChartObjPeers(),l=[],h=0;h<o.length;h++){var u=o[h];if(u.isSelectable()){var g=u.getDataItemId(),d=s(u.getSeries(),u.getGroup());(n.has(g)||n.has(d))&&l.push(u.getId())}}i.processInitialSelections(l,o)}else i.clearSelection()},k.getKeyboardNavigables=function(t){var e=[];if(l.isPie(t))for(var i=t.pieChart.__getSlices(),r=0;r<i.length;r++)g.isSeriesRendered(t,i[r].getSeriesIndex())&&e.push(i[r]);else{var a=t.getChartObjPeers();for(r=0;r<a.length;r++)a[r].isNavigable()&&e.push(a[r])}return e},k.addEventData=function(t,e){var i=g.getSeriesIndex(t,e.series),r=g.getGroupIndex(t,e.group),a=g.getNestedDataItemIndex(t,i,r,e.id),s=p.getDataContext(t,i,r,a);s&&(e.data=s.data,e.itemData=s.itemData,e.seriesData=s.seriesData,s.groupData?e.groupData=s.groupData:null!=r&&(e.groupData=g.getGroupsDataForContext(t)[r]))},k.addGroupDrillEventData=function(t,e){var i={};Object.assign(i,e);var r=t.xAxis.getInfo().getItemsRange(e.group);delete i.series;for(var a=r.startIndex,s=r.endIndex,n=[],o=a;o<s+1;o++)for(var l=g.getSeriesCount(t),h=0;h<l;h++)n.push(g.getRawDataItem(t,h,o));return i.items=n,i.groupData=r.groupData,i},k.addMultiSeriesDrillEventData=function(t,e){var i={};Object.assign(i,e);var r=c._getSeriesIndicesArrays(t).other;delete i.group;for(var a=[],s=[],n=[],o=0;o<r.length;o++){var l=g.getSeriesDataForContext(t,r[o]),h=g.getRawDataItem(t,r[o],0);a.push(l),s.push(h),n.push(g.getSeries(t,r[o]))}return i.seriesData=a,i.items=s,i.series=n,i},k.addSeriesDrillEventData=function(t,e){var i={};Object.assign(i,e);var r=g.getSeriesIndex(t,e.id),a=g.getGroupCount(t);i.series=e.id,delete i.group,i.seriesData=g.getSeriesDataForContext(t,r);for(var s=[],n=0;n<a;n++){var o=g.getRawDataItem(t,r,n);s.push(o)}return i.items=s,i},k.addItemDrillEventData=function(t,e){var i={};Object.assign(i,e);var r=g.getSeriesIndex(t,e.series),a=g.getGroupIndex(t,e.group),s=g.getNestedDataItemIndex(t,r,a,e.id);return i.seriesData=g.getSeriesDataForContext(t,r),i.groupData=g.getGroupsDataForContext(t)[a],i.data=g.getRawDataItem(t,r,a,s),i.itemData=g.getDataItem(t,r,a,s)._itemData,i},k.addPlotAreaDnDBackground=function(t,i,r,a){var s=E.isPlotAreaDraggable(t);(E.isPlotAreaDropTarget(t)||s)&&(background=new e.Rect(t.getCtx(),0,0,a?r.w:r.h,a?r.h:r.w),background.setInvisibleFill(),i.addChild(background),t.getCache().putToCache("plotAreaBackground",background),s&&background.setClassName("oj-draggable"))};var F=new Object;e.Obj.createSubclass(F,e.Obj),F._DEFAULT_3D_GAP_RATIO=1/36,F._DEFAULT_2D_GAP_RATIO=1/70,F._MAX_WIDTH_FOR_GAPS=.25,F._GROUP_INDEX=0,F._SLICE_VALUE_THRESHOLD=1e-4,F.render=function(t,i,r){var a=new e.Container(t.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),t.setPlotArea(a);var s,n=l.isHorizontal(t);if(n)s=new e.Rectangle(0,0,r.w,r.h);else{var o=new e.Matrix,h=e.Agent.isRightToLeft(t.getCtx())?-1:1;o=(o=(o=o.translate(-r.h/2,-r.w/2)).rotate(h*Math.PI/2)).translate(r.x+r.w/2,r.y+r.h/2),s=new e.Rectangle(0,0,r.h,r.w),a.setMatrix(o)}k.addPlotAreaDnDBackground(t,a,r,n),F._renderFunnelSlices(t,a,s)||L.renderEmptyText(t,i,r);var u=g.getInitialSelection(t);k.setInitialSelection(t,u),t.highlight(g.getHighlightedCategories(t))},F._renderFunnelSlices=function(t,e,i){for(var r=t.getOptions(),a=g.getSeriesCount(t),s=p.getDataItemGaps(t),n=("on"==r.styleDefaults.threeDEffect?F._DEFAULT_3D_GAP_RATIO:F._DEFAULT_2D_GAP_RATIO)*i.w,o=s*Math.min(F._MAX_WIDTH_FOR_GAPS*i.w/(a-1),n),l=0,h=0,u=0,d=0;d<a;d++){if(g.isDataItemRendered(t,d))null==(_=g.getTargetValue(t,d))&&(_=g.getValue(t,d,F._GROUP_INDEX)),_<=0||(l+=_)}if(0==l)return!1;for(d=a-1;d>=0;d--)if(g.isDataItemRendered(t,d)){var c,_=g.getValue(t,d,F._GROUP_INDEX),f=g.getTargetValue(t,d);if(!(_<=0&&null==f||null!=f&&f<=0))if(!((null!=f?f:_)<F._SLICE_VALUE_THRESHOLD*l))null!=f?(u+=f/l,c=new B(t,d,h,i.w,i.h,1-u,f/l,_/f,o)):(u+=_/l,c=new B(t,d,h,i.w,i.h,1-u,_/l,null,o)),h++,e.addChild(c),m.associate(c,t,d,F._GROUP_INDEX)}return!0};var N=function(t,e,i,r,a,s,n,o){this.Init(t,e,i,r,a,s,n,o)};e.Obj.createSubclass(N,e.Path),N.prototype.Init=function(t,i,r,a,s,n,o,l){N.superclass.Init.call(this,t.getCtx()),this._chart=t;var h=t.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._pyramidWidth=a,this._pyramidHeight=s,this._startPercent=n,this._valuePercent=o,this._3dRatio="on"==h.threeDEffect?1:0,this._gap=l;var u=this._getPath();this._dataColor=p.getColor(this._chart,this._seriesIndex,0),this._3dRatio>0?(this.setCmds(u.threeDPathTop),this._threeDPathSide=new e.Path(this.getCtx(),u.threeDPathSide),this._mainFace=new e.Path(this.getCtx(),u.slice),this.addChild(this._threeDPathSide),this.addChild(this._mainFace)):this.setCmds(u.slice),this._setColorProperties(u.sliceBounds),this._label=this._getSliceLabel(u.sliceBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},N._BORDER_COLOR="#FFFFFF",N._MIN_CHARS_DATA_LABEL=3,N._SLICE_LABEL_HORIZONTAL_PADDING=4,N._3D_WIDTH_FACTOR=.2,N.prototype._getPath=function(){var t,i,r,a,s,n,o=e.Agent.isRightToLeft(this.getCtx()),l=g.getSeriesCount(this._chart),h=(l-this._numDrawnSeries-1)*this._gap,u=this._3dRatio*N._3D_WIDTH_FACTOR*.98*this._pyramidWidth,d=this._chart.getOptions(),c=Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent)),p=this._startPercent+this._valuePercent>=1?0:Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent-this._valuePercent)),_=.98*(1-this._3dRatio*N._3D_WIDTH_FACTOR)*this._pyramidWidth*(p/this._pyramidHeight),f=0==this._numDrawnSeries?c:c-this._gap,v=.98*(1-this._3dRatio*N._3D_WIDTH_FACTOR)*this._pyramidWidth*(f/this._pyramidHeight);if(o?(i=[this._pyramidWidth-.5*this._pyramidWidth+u/2-_/2,h+p],a=[this._pyramidWidth-.5*this._pyramidWidth+u/2-v/2,h+c],r=[this._pyramidWidth-.5*this._pyramidWidth+u/2+v/2,h+c],t=[this._pyramidWidth-.5*this._pyramidWidth+u/2+_/2,h+p]):(t=[.5*this._pyramidWidth-u/2-_/2,h+p],r=[.5*this._pyramidWidth-u/2-v/2,h+c],a=[.5*this._pyramidWidth-u/2+v/2,h+c],i=[.5*this._pyramidWidth-u/2+_/2,h+p]),"on"==d.styleDefaults.threeDEffect){var m=Math.atan(2*c/v),S=Math.min(.9*m,Math.PI/4),y=this._3dRatio*N._3D_WIDTH_FACTOR*v*Math.sqrt(2)/2,x=this._3dRatio*N._3D_WIDTH_FACTOR*_*Math.sqrt(2)/2,C=x/Math.tan(S);s=e.PathUtils.moveTo(i[0],i[1]),s+=e.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(x,1),i[1]-Math.max(x,.5)),s+=e.PathUtils.lineTo(t[0]+(o?-1:1)*Math.max(C,1),t[1]-Math.max(x,.5)),s+=e.PathUtils.lineTo(t[0],t[1]),s+=e.PathUtils.closePath(),n=e.PathUtils.moveTo(i[0],i[1]),n+=e.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(x,1),i[1]-Math.max(x,.5)),n+=e.PathUtils.lineTo(a[0]+(o?-1:1)*y,a[1]-y),n+=e.PathUtils.lineTo(a[0],a[1]),n+=e.PathUtils.closePath()}var A=e.PathUtils.moveTo(i[0],i[1]);A+=e.PathUtils.lineTo(a[0],a[1]),A+=e.PathUtils.lineTo(r[0],r[1]),A+=e.PathUtils.lineTo(t[0],t[1]),A+=e.PathUtils.closePath();var b=_/v,M=.5*Math.abs(t[1]-r[1])*(1+b),T=.5*Math.abs(a[0]-r[0])*(1+b)-N._SLICE_LABEL_HORIZONTAL_PADDING,D=r[1]-M,I=r[0]+(v-T)/2*(o?-1:1);return{slice:A,sliceBounds:new e.Rectangle(I,D,T,M),threeDPathTop:s,threeDPathSide:n}},N.prototype._getSliceLabel=function(t){var i=p.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=g.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=w.getDataLabelPosition(this._chart,this._seriesIndex,0)){var r=new e.MultilineText(this.getCtx(),i,0,0),a=null!=p.getPattern(this._chart,this._seriesIndex,0),s=this._chart.getOptions().styleDefaults,n=[s._dataLabelStyle,s.dataLabelStyle,new e.CSSStyle(g.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],o=e.CSSStyle.mergeStyles(n);if(r.setCSSStyle(o),e.TextUtils.fitText(r,t.w,t.h,this,N._MIN_CHARS_DATA_LABEL)){var l=r.getDimensions(),h=this._getLabelPosition(t);if(a){var u=.15*l.h,d=e.PathUtils.roundedRectangle(l.x-u,l.y,l.w+2*u,l.h,2,2,2,2),c=new e.Path(this.getCtx(),d);c.setSolidFill("#FFFFFF",.9),h=h.translate(-.5*l.w,-.5*l.h),c.setMatrix(h),this.addChild(c)}var _=a?"#000000":t.containsPoint(t.x+(t.w-l.w)/2,t.y)?e.ColorUtils.getContrastingTextColor(this._dataColor):e.ColorUtils.getContrastingTextColor(null),f=new e.CSSStyle({color:_});return n.splice(1,0,f),e.Agent.isHighContrast()&&n.push(f),o=e.CSSStyle.mergeStyles(n),r.setCSSStyle(o),r.setMatrix(this._getLabelPosition(t)),r.alignCenter(),r.alignMiddle(),r}}},N.prototype._getLabelPosition=function(t){var i=new e.Matrix;return i=e.Agent.isRightToLeft(this.getCtx())?i.translate(t.x-t.w/2,t.y+t.h/2):i.translate(t.x+t.w/2,t.y+t.h/2)},N.prototype._setColorProperties=function(t){var i=R.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,t),r=p.getBorderColor(this._chart,this._seriesIndex,0),a=p.getUserBorderWidth(this._chart,this._seriesIndex,0),s=p.getDefaultBorderWidth(this._chart,this._seriesIndex,0),n=null!==a?a:s,o=!1,l="redwood"===this.getCtx().getThemeBehavior();null==r&&this._3dRatio>0&&(o=!0,r=N._BORDER_COLOR),!r||l&&this._chart.isSelectionSupported()&&o||(this.setSolidStroke(r,null,n),this._3dRatio>0&&(this._threeDPathSide.setSolidStroke(r,null,n),this._mainFace.setSolidStroke(r,null,n)));var h=e.SelectionEffectUtils.getHoverBorderColor(this._dataColor);if(this._3dRatio>0){var u=!i.getPattern&&!i.getAlphas;this._mainFace.setFill(i),this._mainFace.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this._mainFace.setClassName(p.getClassName(this._chart,this._seriesIndex,0)),this._threeDPathSide.setFill(u?new e.SolidFill(e.ColorUtils.getDarker(i.getColor(),.3)):i),this._threeDPathSide.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this._threeDPathSide.setClassName(p.getClassName(this._chart,this._seriesIndex,0)),this.setFill(u?new e.SolidFill(e.ColorUtils.getDarker(i.getColor(),.3)):i),this.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(p.getClassName(this._chart,this._seriesIndex,0))}else this.setFill(i),this.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(p.getClassName(this._chart,this._seriesIndex,0));if(this.OriginalStroke=this.getStroke(),this._chart.isSelectionSupported())if(this.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this._3dRatio>0)if(this._mainFace.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this._threeDPathSide.setCursor(e.SelectionEffectUtils.getSelectingCursor()),l){this._mainFace.setFeedbackClassName("oj-dvt-selectable"),this._threeDPathSide.setFeedbackClassName("oj-dvt-selectable");var g=null==r||o?this._dataColor:r,d=null!==a?a:0;this._mainFace.setSolidStroke(g,null,d),this._threeDPathSide.setSolidStroke(g,null,d),r&&(o&&(this._mainFace.addClassName("oj-dvt-default-border-color"),this._threeDPathSide.addClassName("oj-dvt-default-border-color")),null==a&&(this._mainFace.addClassName("oj-dvt-default-border-width"),this._threeDPathSide.addClassName("oj-dvt-default-border-width")))}else{var c=p.getSelectedInnerColor(this._chart),_=p.getSelectedOuterColor(this._chart)?p.getSelectedOuterColor(this._chart):this._dataColor;this._mainFace.setHoverStroke(new e.Stroke(h,1,2)),this._threeDPathSide.setHoverStroke(new e.Stroke(h,1,2)),this._mainFace.setSelectedStroke(new e.Stroke(c,1,1.5),new e.Stroke(_,1,4.5)),this._mainFace.setSelectedHoverStroke(new e.Stroke(c,1,1.5),new e.Stroke(h,1,4.5))}else if(this.setCursor(e.SelectionEffectUtils.getSelectingCursor()),l){this.setFeedbackClassName("oj-dvt-selectable");g=null==r||o?this._dataColor:r,d=null!==a?a:0;this.setSolidStroke(g,null,d),r&&(o&&this.addClassName("oj-dvt-default-border-color"),null==a&&this.addClassName("oj-dvt-default-border-width"))}else{c=p.getSelectedInnerColor(this._chart),_=p.getSelectedOuterColor(this._chart)?p.getSelectedOuterColor(this._chart):this._dataColor;this.setHoverStroke(new e.Stroke(h,1,2)),this.setSelectedStroke(new e.Stroke(c,1,1.5),new e.Stroke(_,1,4.5)),this.setSelectedHoverStroke(new e.Stroke(c,1,1.5),new e.Stroke(h,1,4.5))}},N.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this.getAlpha(),this._3dRatio]},N.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this.setAlpha(t[2]),this._3dRatio=t[3];var e=this._getPath();this._threeDPathSide&&this._mainFace?(this.setCmds(e.threeDPathTop),this._threeDPathSide.setCmds(e.threeDPathSide),this._mainFace.setCmds(e.slice)):this.setCmds(e.slice),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},N.prototype.setSelected=function(t){if(this._3dRatio>0)if(this._mainFace.setSelected(t),"redwood"===this.getCtx().getThemeBehavior()&&this._threeDPathSide.setSelected(t),t){var e=this.getDimensions(),i=e.w,r=e.h,a=(i-3)/i,s=(r-5)/r;this._mainFace.setScaleX(a),this._mainFace.setScaleY(s),this._mainFace.setTranslateX(Math.ceil(1.5)+3/i*e.x),this._mainFace.setTranslateY(Math.ceil(2.5)+5/r*e.y)}else this._mainFace.setScaleX(1),this._mainFace.setScaleY(1),this._mainFace.setTranslateX(0),this._mainFace.setTranslateY(0);else N.superclass.setSelected.call(this,t)},N.prototype.showHoverEffect=function(){"redwood"===this.getCtx().getThemeBehavior()&&0!==this._3dRatio||N.superclass.showHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.showHoverEffect(),this._mainFace.showHoverEffect())},N.prototype.hideHoverEffect=function(){"redwood"===this.getCtx().getThemeBehavior()&&0!==this._3dRatio||N.superclass.hideHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.hideHoverEffect(),this._mainFace.hideHoverEffect())},N.prototype.copyShape=function(){return new N(this._chart,this._seriesIndex,this._numDrawnSeries,this._pyramidWidth,this._pyramidHeight,this._startPercent,this._valuePercent,this._gap)},N.prototype.getPrimaryFill=function(){return this._mainFace?this._mainFace.getFill():this.getFill()};var H=new Object;e.Obj.createSubclass(H,e.Obj),H._DEFAULT_GAP_RATIO=1/70,H._MAX_HEIGHT_FOR_GAPS=.25,H._GROUP_INDEX=0,H.render=function(t,i,r){var a=new e.Container(t.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),t.setPlotArea(a);var s=new e.Rectangle(0,0,r.w,r.h);k.addPlotAreaDnDBackground(t,a,r,!0),H._renderPyramidSlices(t,a,s)||L.renderEmptyText(t,i,r);var n=g.getInitialSelection(t);k.setInitialSelection(t,n),t.highlight(g.getHighlightedCategories(t))},H._renderPyramidSlices=function(t,e,i){for(var r=g.getSeriesCount(t),a=p.getDataItemGaps(t),s=H._DEFAULT_GAP_RATIO*i.h,n=a*Math.min(H._MAX_HEIGHT_FOR_GAPS*i.h/(r-1),s),o=0,l=0,h=0,u=0;u<r;u++){if(g.isDataItemRendered(t,u))(d=g.getValue(t,u,H._GROUP_INDEX))<=0||(o+=d)}if(0==o)return!1;for(u=0;u<r;u++){var d;if(g.isDataItemRendered(t,u))if(!((d=g.getValue(t,u,H._GROUP_INDEX))<=0)){var c=new N(t,u,l,i.w,i.h,h,d/o,n);h+=d/o,l++,e.addChild(c),m.associate(c,t,u,H._GROUP_INDEX)}}return!0};var G=function(t,e,i,r,a,s,n,o,l,h){this.Init(t,null,h),this.setWedgeParams(e,i,r,a,s,n,o,l)};e.Obj.createSubclass(G,e.Path),G._OUTER_BORDER_WIDTH=2,G._OUTER_BORDER_WIDTH_HOVER=1.25,G._INNER_BORDER_WIDTH=1,G.prototype.Init=function(t,e,i){G.superclass.Init.call(this,t,e,i)},G.prototype.setWedgeParams=function(t,e,i,r,a,s,n,o){this._cx=t,this._cy=e,this._rx=i,this._ry=r,this._sa=a,this._ae=s,this._gap=n,this._ir=o;var l=this._makeWedgePath(0);this.setCmds(l)},G.prototype._makeWedgePath=function(t){var i,r=Math.max(this._rx-t,0),a=Math.max(this._ry-t,0),s=360==this._ae||r<t?0:this._gap+2*t,n=this._ir?this._ir+t:0,o=360==this._ae?e.Math.degreesToRads(359.99):e.Math.degreesToRads(this._ae),l=e.Math.degreesToRads(this._sa),h=s/2,u=h<r?Math.asin(h/r):0,g=-o/2-l,d=Math.min(5*h,o>0?Math.abs(h/Math.sin(o/2)):0),c=0==r?d:d*a/r,p=this._cx+Math.cos(g)*d,_=this._cy+Math.sin(g)*c,f=this._cx+Math.cos(-u-l)*r,v=this._cy+Math.sin(-u-l)*a,m=this._cx+Math.cos(-l-o+u)*r,S=this._cy+Math.sin(-l-o+u)*a,y=e.Math.calculateAngleBetweenTwoVectors(m-this._cx,S-this._cy,f-this._cx,v-this._cy);if(y=Math.min(y,o),n>0){var x=h<n?Math.asin(h/n):0,C=this._cx+Math.cos(-x-l)*n,A=this._cy+Math.sin(-x-l)*n,b=this._cx+Math.cos(-l-o+x)*n,M=this._cy+Math.sin(-l-o+x)*n,T=e.Math.calculateAngleBetweenTwoVectors(b-this._cx,M-this._cy,C-this._cx,A-this._cy);T=Math.min(T,y,o),360==this._ae?(i=e.PathUtils.moveTo(m,S),i+=e.PathUtils.arcTo(r,a,o,1,f,v),i+=e.PathUtils.lineTo(m,S),i+=e.PathUtils.moveTo(C,A),i+=e.PathUtils.arcTo(n,n,o,0,b,M)):(i=e.PathUtils.moveTo(b,M),i+=e.PathUtils.lineTo(m,S),i+=e.PathUtils.arcTo(r,a,y,1,f,v),i+=e.PathUtils.lineTo(C,A),i+=e.PathUtils.arcTo(n,n,T,0,b,M))}else 360==this._ae?(i=e.PathUtils.moveTo(m,S),i+=e.PathUtils.arcTo(r,a,o,1,f,v)):(i=e.PathUtils.moveTo(p,_),i+=e.PathUtils.lineTo(m,S),i+=e.PathUtils.arcTo(r,a,y,1,f,v));return i+=e.PathUtils.closePath()},G.prototype._initializeSelectionEffects=function(){var t="redwood"===this.getCtx().getThemeBehavior(),i=this.isSelected()||t?G._OUTER_BORDER_WIDTH:G._OUTER_BORDER_WIDTH_HOVER,r=this._makeWedgePath(i),a=this._makeWedgePath(i+G._INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setCmds(r),void this.InnerChild.setCmds(a);this.OuterChild=new e.Path(this.getCtx(),r),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new e.Path(this.getCtx(),a),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},G.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(e),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):t?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},G.prototype.setStyleProperties=function(t,i,r,a,s,n,o){this._fill=t,this._shapeStroke=i;var l="redwood"===this.getCtx().getThemeBehavior();this._hoverColor=l?r:e.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=s,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(t),i&&this.setStroke(i)},G.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0;var t="redwood"===this.getCtx().getThemeBehavior()&&this.isSelected()?this._outerColor:this._hoverColor;this._showNestedBorders(t,this._innerColor)},G.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},G.prototype.setSelected=function(t){if(this.IsSelected!=t){this.IsSelected=t;var e="redwood"===this.getCtx().getThemeBehavior();if(this.isHoverEffectShown()){var i=e&&this.isSelected()?this._outerColor:this._hoverColor;this._showNestedBorders(i,this._innerColor)}else this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}},G.prototype.UpdateSelectionEffect=function(){};var U=function(){this._init()};e.Obj.createSubclass(U,e.Obj),U.prototype._init=function(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1},U.prototype.getAngle=function(){return this._angle},U.prototype.setAngle=function(t){this._angle=t},U.prototype.getHeight=function(){return this._height},U.prototype.setHeight=function(t){this._height=t},U.prototype.getInitialNumLines=function(){return this._initialNumLines},U.prototype.setInitialNumLines=function(t){this._initialNumLines=t},U.prototype.getMaxY=function(){return this._maxY},U.prototype.setMaxY=function(t){this._maxY=t},U.prototype.getMinY=function(){return this._minY},U.prototype.setMinY=function(t){this._minY=t},U.prototype.boundY=function(t){return this._minY<=this._maxY&&(t=Math.max(t,this._minY),t=Math.min(t,this._maxY)),t},U.prototype.hasFeeler=function(){return this._hasFeeler},U.prototype.setHasFeeler=function(t){this._hasFeeler=t},U.prototype.getPosition=function(){return this._position},U.prototype.setPosition=function(t){this._position=t},U.prototype.getSlice=function(){return this._slice},U.prototype.setSlice=function(t){this._slice=t},U.prototype.getSliceLabel=function(){return this._sliceLabel},U.prototype.setSliceLabel=function(t){this._sliceLabel=t},U.prototype.getWidth=function(){return this._width},U.prototype.setWidth=function(t){this._width=t},U.prototype.getX=function(){return this._x},U.prototype.setX=function(t){this._x=t},U.prototype.getY=function(){return this._y},U.prototype.setY=function(t){this._y=t};var V=function(){};e.Obj.createSubclass(V,e.Obj),V.TWOD="2D",V.THREED="3D",V.CRUST="CRUST",V.SIDE="SIDE",V.BORDER="BORDER",V.SURFACE_CRUST=0,V.SURFACE_LEFT=1,V.SURFACE_RIGHT=2,V.SURFACE_TOP=3,V.reflectAngleOverYAxis=function(t,i,r,a,s){var n=e.Math.degreesToRads(360-t);return{x:i+Math.cos(n)*a,y:r+Math.sin(n)*s}},V.getGradientColors=function(t,i){return i==V.TWOD||i==V.THREED?[e.ColorUtils.adjustHSL(t,0,-.04,-.05),e.ColorUtils.adjustHSL(t,0,-.09,.04)]:i==V.CRUST?[e.ColorUtils.adjustHSL(t,0,-.04,-.05),e.ColorUtils.adjustHSL(t,0,0,-.14)]:i==V.SIDE?[e.ColorUtils.adjustHSL(t,0,-.1,.06),e.ColorUtils.adjustHSL(t,0,-.04,-.05)]:void 0},V.getGradientAlphas=function(t,e){var i=null==t||isNaN(t)||0==t?1:t;return e==V.TWOD?[i,i,i]:e==V.BORDER?[i/1.59375,i/5.3125,i/(255/96)]:e==V.THREED?[i,i,i,i,i]:e==V.CRUST?[i,i,i,i]:e==V.SIDE?[i,i]:void 0},V.createTopSurface=function(t,i){var r=t.getPieChart(),a=r.getCtx(),s=t.getCenter(),n=t.getInnerRadius(),o=r.is3D()||t.getSliceGaps()>Math.sin(e.Math.degreesToRads(t.getAngleExtent()))*t._radiusX+1?null:t.getSliceGaps(),l=new G(a,s.x,s.y,t._radiusX,t._radiusY,t.getAngleStart(),t.getAngleExtent(),o,n),h=p.getSelectedInnerColor(r.chart),u=p.getSelectedOuterColor(r.chart),g=new e.Stroke(t.getStrokeColor(),1,t.getBorderWidth()),d=t.getSeriesIndex(),c=p.getClassName(r.chart,d,0),_=p.getStyle(r.chart,d,0);l.setStyleProperties(i,g,t.getFillColor(),h,u,c,_);var f=[l];return V.associate(t,f),f},V.associate=function(t,e){if(e)for(var i=0;i<e.length;i++)t.getPieChart().chart.getEventManager().associate(e[i],t)},V.createLateralSurface=function(t,i,r){if(0==t.getAngleExtent())return[];var a=[];if(e.ColorUtils.getAlpha(t.getFillColor())>0)if(i==V.SURFACE_LEFT||i==V.SURFACE_RIGHT)a.push(V._generateLateralShape(t,i,null,r));else if(i==V.SURFACE_CRUST)for(var s=V._createCrustPathCommands(t),n=s.length,o=0;o<n;o++)a.push(V._generateLateralShape(t,i,s[o],r));return V.associate(t,a),a},V.generateLateralGradientFill=function(t,i){t.getPieChart(),i==V.CRUST&&t.getDepth();var r=V.getGradientColors(e.ColorUtils.getRGB(t.getFillColor()),i),a=V.getGradientAlphas(e.ColorUtils.getAlpha(t.getFillColor()),i);return new e.LinearGradientFill(270,r,a,[0,1],null)},V._generateLateralShape=function(t,i,r,a){var s=t.getPieChart().getCtx();if(i==V.SURFACE_LEFT||i==V.SURFACE_RIGHT){for(var n=t.getAngleStart(),o=t.getAngleExtent(),l=t.getCenter().x,h=t.getCenter().y,u=t._radiusX,g=t._radiusY,d=t.getDepth(),c=V.reflectAngleOverYAxis(i==V.SURFACE_LEFT?n+o:n,l,h,u,g),p=V._generateInnerPoints(l,h,c.x,c.y,d),_=[],f=0;f<p.length;f++)_.push(p[f].x,p[f].y);var v=new e.Polygon(s,_);return v.setFill(a),t.getStrokeColor()&&v.setSolidStroke(t.getStrokeColor()),v}if(r){var m=new e.Path(s,null);return m.setCmds(r),m.setTranslate(t.__getExplodeOffsetX(),t.__getExplodeOffsetY()),m.setFill(a),t.getStrokeColor()&&m.setSolidStroke(t.getStrokeColor()),m}return null},V._createCrustPathCommands=function(t){var e=t.getAngleStart(),i=t.getAngleExtent(),r=e+i,a=t.getCenter().x,s=t.getCenter().y,n=t._radiusX,o=t._radiusY,l=t.getDepth(),h=[];return e<180&&r>360?(h.push(V._makeOuterPath(a,s,n,o,l,e,180-e)),h.push(V._makeOuterPath(a,s,n,o,l,360,r-360)),h.push(V._makeOuterPath(a,s,n,o,l,180,180))):r>360?(h.push(V._makeOuterPath(a,s,n,o,l,e,360-e)),h.push(V._makeOuterPath(a,s,n,o,l,360,r-360))):e<180&&r>180?(h.push(V._makeOuterPath(a,s,n,o,l,e,180-e)),h.push(V._makeOuterPath(a,s,n,o,l,180,r-180))):h.push(V._makeOuterPath(a,s,n,o,l,e,i)),h},V._makeOuterPath=function(t,i,r,a,s,n,o){var l=e.Math.degreesToRads(o),h=-(e.Math.degreesToRads(n)+l),u=V.reflectAngleOverYAxis(n,t,i,r,a),g=t+Math.cos(h)*r,d=i+Math.sin(h)*a,c=e.PathUtils.moveTo(u.x,u.y);return c+=e.PathUtils.arcTo(r,a,l,0,g,d),c+=e.PathUtils.lineTo(g,d+s),c+=e.PathUtils.arcTo(r,a,l,1,u.x,u.y+s),c+=e.PathUtils.lineTo(u.x,u.y)},V._generateInnerPoints=function(t,e,i,r,a){var s=[];return s.push({x:t,y:e}),s.push({x:i,y:r}),s.push({x:i,y:r+a}),s.push({x:t,y:e+a}),s};var j=function(){};e.Obj.createSubclass(j,e.Obj),j._MAX_LINES_PER_LABEL=3,j._COLLISION_MARGIN=1,j._LEFT_SIDE_LABELS=1,j._RIGHT_SIDE_LABELS=2,j._OUTSIDE_LABEL_DISTANCE=1.04,j._FEELER_RAD_MINSIZE=.1,j._FEELER_HORIZ_MINSIZE=.1,j._LABEL_TO_FEELER_OFFSET=.5,j._LABEL_TO_FEELER_DISTANCE=3,j._NO_COLLISION=0,j._HALF_COLLISION=1,j._ALL_COLLISION=2,j.layoutLabelsAndFeelers=function(t){var e=t.getLabelPosition();j._layoutInsideLabels(t,"auto"==e),j._layoutOutsideLabelsAndFeelers(t)},j._layoutInsideLabels=function(t,i){for(var r=t.__getSlices(),a=0;a<r.length;a++){var s=r[a],n=t.getSeriesLabelPosition(s.getSeriesIndex());if("none"!=n&&"outsideSlice"!=n&&!j._skipSliceLabel(t,s)){var o=s.getAngleStart()+s.getAngleExtent()/2,l=s.getInnerRadius(),h=s.getCenter(),u=0,g=0,d=j._createLabel(s,!0);if(1==r.length)u=h.x,g=h.y;else{var c=Math.max(.45,.65-.45*l/Math.max(s.getRadiusY(),.001)),p=V.reflectAngleOverYAxis(o,h.x,h.y,l+(s.getRadiusX()-l)*c,l+(s.getRadiusY()-l)*c);u=p.x,g=p.y}d.setX(u),d.setY(g),d.alignMiddle(),d.alignCenter();for(var _=d.getDimensions(),f=u,v=u,m=g-_.h/2,S=g+_.h/2;s.contains(f,m)&&s.contains(f,S);)f--;for(;s.contains(v,m)&&s.contains(v,S);)v++;f=Math.ceil(f+3),v=Math.floor(v-3);var y=2*Math.min(u-f,v-u);if(y<_.w&&(d.setX((f+v)/2),y=v-f),i&&"center"!=n){d.getDimensions().w<y?s.setSliceLabel(d):s.setSliceLabel(null)}else{var x=t.getCtx().getStage(),C=j._isTextLabel(t,s)?null:d.getTextString().length;e.TextUtils.fitText(d,y,_.h,x,C)&&(x.removeChild(d),s.setSliceLabel(d))}null!=s.getSliceLabel()&&s.setNoOutsideFeeler()}}},j._layoutOutsideLabelsAndFeelers=function(t){var e,i,r=j._generateInitialLayout(t);e=r[0],i=r[1];var a=j._refineInitialLayout(t,e,j._LEFT_SIDE_LABELS),s=j._refineInitialLayout(t,i,j._RIGHT_SIDE_LABELS);a==j._HALF_COLLISION&&s!=j._NO_COLLISION&&j._columnLabels(t,e,!0,!0,!0),a!=j._NO_COLLISION&&s==j._HALF_COLLISION&&j._columnLabels(t,i,!1,!0,!0),j._setLabelsAndFeelers(t,e,j._LEFT_SIDE_LABELS),j._setLabelsAndFeelers(t,i,j._RIGHT_SIDE_LABELS)},j._createLabel=function(t,i){var r=t.getPieChart(),a=r.getCtx(),s=i?new e.OutputText(a):new e.MultilineText(a),n=e.ColorUtils.getContrastingTextColor(t.getFillColor()),o=new e.CSSStyle({color:n}),l=r.getOptions().styleDefaults,h=[l._dataLabelStyle];i&&h.push(o),h.push(l.dataLabelStyle);var u=g.getDataItem(r.chart,t.getSeriesIndex(),0);u&&h.push(new e.CSSStyle(u.labelStyle)),e.Agent.isHighContrast()&&h.push(o);var d=e.CSSStyle.mergeStyles(h);s.setCSSStyle(d);var c=j.generateSliceLabelString(t,l.sliceLabelType);return s.setTextString(c),t.setSliceLabelString(c),s},j.createPieCenter=function(t){var i=t.getOptions(),r=t.getCtx(),a=j.getPieCenterOptions(i),s=a.label,n=a.renderer,o=t.getLabelPosition(),l=i.tooltip,h=l?l.renderer:null,g=t.getCenter(),d=t.getInnerRadius();if(s||n){var c=t.getRadiusX(),p=(d=d>0?d:"outsideSlice"==o?.9*c:.5*c)*Math.sqrt(2);if(s){var _=new e.MultilineText(r),f=a.labelStyle;if(_.setCSSStyle(f),"number"==typeof s&&(s=u.formatValue(t,a,s,s,s,0)),_.setTextString(s),e.TextUtils.fitText(_,p,p,t)){var v=_.getDimensions();_.setY(g.y-v.h/2),_.setX(g.x),_.alignCenter(),h||t.chart.getEventManager().associate(_,new e.SimpleObjPeer(_.getTextString(),null,null,{type:"pieCenterLabel"})),t.addChild(_),t.setCenterLabel(_)}}if(h){var m=new e.Circle(r,g.x,g.y,d);m.setInvisibleFill(),t.addChild(m);var S=t.getCtx().getTooltipManager();t.chart.getEventManager().associate(m,new e.CustomDatatipPeer(S,h,"#4b4b4b",{component:i._widgetConstructor,label:s}))}if(n){var y={outerBounds:{x:g.x-d,y:g.y-d,width:2*d,height:2*d},innerBounds:{x:g.x-p/2,y:g.y-p/2,width:p,height:p},label:s,totalValue:t.getTotalValue(),component:i._widgetConstructor};y=r.fixRendererContext(y);var x=r.getContainer(),C=t.chart.pieCenterDiv;C&&x.removeChild(C);var A=n(y);if(!A)return;var b=r.createOverlayDiv();Array.isArray(A)?A.forEach(function(t){b.appendChild(t)}):"string"==typeof A?(b.textContent=A,b.style.position="absolute",b.style.left=g.x+"px",b.style.top=g.y+"px",b.style.transform="translate(-50%, -50%)",b.style.width=2*d+"px",b.style.height=2*d+"px",b.style.display="flex",b.style.textAlign="center",b.style.alignItems="center"):b.appendChild(A),t.chart.pieCenterDiv=b,x.appendChild(b);var M=r.getOverlayAttachedCallback();M&&M(b)}}},j.generateSliceLabelString=function(t,e){var i,r=j.getDefaultSliceLabelString(t,e),a=t.getPieChart().getOptions().dataLabel;if(a){var s=p.getDataContext(t._chart,t.getSeriesIndex(),0);if(s.label=r,"number"==typeof(i=a(s))){var n=u.getValueFormat(t.getPieChart().chart,"label");i=u.formatValue(t.getPieChart(),n,i)}}return i||r},j.getDefaultSliceLabelString=function(t,e){var i=t.getPieChart(),r=t.getCustomLabel(),a=u.getValueFormat(i.chart,"label");return null!=r?"number"==typeof r?u.formatValue(i,a,r):r:"percent"==e?j.generateSlicePercentageString(t):"number"==e?u.formatValue(i,a,t.getValue()):"text"==e?t.getSeriesLabel():"textAndPercent"==e?t.getSeriesLabel()+", "+j.generateSlicePercentageString(t):null},j.generateSlicePercentageString=function(t){var e=t.getPieChart(),i=e.getTotalValue(),r=0==i?0:t.getValue()/i,a=r<.01?3:r<.1?2:r<1?1:0;2*e.getRadiusX()<150&&(a=Math.max(a-1,0));var s=e.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:a,minimumFractionDigits:a}),n="";return s&&s.format?n=s.format(r):(r*=100,n=u.formatValue(e,{},r,null,null,100==r?1:Math.pow(10,-1*a))+"%"),n},j._refineInitialLayout=function(t,e,i){if(e&&e.length>0){for(var r,a=t.__getFrame().y,s=!1,n=!1,o=!1,l=0,h=!1,u=h,g=i==j._LEFT_SIDE_LABELS,d=0;d<e.length;d++)u=h,(r=e[d]).getPosition()>90&&(h=!0),l=r.getY()+r.getHeight(),a-r.getY()>j._COLLISION_MARGIN&&(h?h&&!u?n=!0:o=!0:s=!0),l>a&&(a=l);return s&&o||n?(j._columnLabels(t,e,g,!0,!0),j._ALL_COLLISION):s?(j._columnLabels(t,e,g,!0,!1),j._HALF_COLLISION):o?(j._columnLabels(t,e,g,!1,!0),j._HALF_COLLISION):j._NO_COLLISION}},j._setLabelsAndFeelers=function(t,i,r){if(!(null==i||i.length<=0)){var a,s,n,o,l,h=r==j._LEFT_SIDE_LABELS,u=t.__getFrame(),g=1/0;for(a=0;a<i.length;a++)if(s=(o=i[a]).getSlice(),o.hasFeeler()){l=j._calculateFeeler(o,s,h);var d=e.TextUtils.getTextStringHeight(t.getCtx(),o.getSliceLabel().getCSSStyle()),c=o.getWidth(),p=j._isTextLabel(t,s)?Math.min(2*d,c):c;if(j.getMaxLabelWidth(t,o.getX(),h)+l<p||0==o.getWidth()){o.setSliceLabel(null),s.setNoOutsideFeeler();continue}g=Math.min(g,l)}else s.setNoOutsideFeeler();for(a=0;a<i.length;a++)s=(o=i[a]).getSlice(),(n=o.getSliceLabel())&&(o.hasFeeler()&&(h?o.setX(o.getX()+g):o.setX(o.getX()-g),j._calculateFeeler(o,s,h)),n.setY(o.getY()),n.setX(o.getX()),o.getY()<u.y||o.getY()+o.getHeight()>u.y+u.h?(s.setSliceLabel(null),s.setNoOutsideFeeler()):(j._truncateSliceLabel(t,s,o,h),0==o.getWidth()||0==o.getHeight()?(s.setSliceLabel(null),s.setNoOutsideFeeler()):s.setSliceLabel(n)))}},j._calculateFeeler=function(t,i,r){var a,s=t.getX(),n=t.getY()+t.getHeight()*j._LABEL_TO_FEELER_OFFSET,o=j._FEELER_HORIZ_MINSIZE*i.getRadiusX(),l={x:r?(s+=j._LABEL_TO_FEELER_DISTANCE)+o:(s-=j._LABEL_TO_FEELER_DISTANCE)-o,y:n},h={x:s,y:n},u=t.getAngle(),g=j._adjustForDepth(u,i.getDepth());a=V.reflectAngleOverYAxis(u,i.getCenter().x,i.getCenter().y+g,i.getRadiusX(),i.getRadiusY());var d=e.Math.degreesToRads(t.getPosition()),c=Math.abs(Math.atan2(l.x-a.x,a.y-l.y)),p=(a.y-l.y)*Math.tan(d);return(d>Math.PI/2&&c>Math.PI/2&&c<d||d<Math.PI/2&&c<Math.PI/2&&c>d)&&(l.x=r?a.x-p:a.x+p),i.setOutsideFeelerPoints(a,l,h),Math.abs(h.x-l.x)-o},j._adjustForDepth=function(t,e){var i=0;return t>189&&t<351&&(i=e),i},j._getMiddleLabel=function(t){for(var e=91,i=-1,r=0;r<t.length;r++){var a=t[r].getPosition();Math.abs(a-90)<e&&(e=Math.abs(a-90),i=r)}return i},j._setOptimalLabelPosition=function(t,i,r,a){i.setX(r);var s=t.getRadiusY()*(1+j._FEELER_RAD_MINSIZE),n=e.Math.degreesToRads(i.getPosition()),o=s*Math.cos(n),l=j._adjustForDepth(i.getAngle(),t.getDepth()),h=t.getCenter().y-o-i.getHeight()*j._LABEL_TO_FEELER_OFFSET+l;i.setY(i.boundY(h))},j._getRadFeelerAngle=function(t,e,i){var r=t.getSlice(),a=r.getCenter(),s=t.getAngle(),n=j._adjustForDepth(s,r.getDepth()),o=V.reflectAngleOverYAxis(s,a.x,a.y+n,r.getRadiusX(),r.getRadiusY());return Math.atan2(Math.abs(e-o.x),o.y-i)},j._columnLabels=function(t,i,r,a,s){var n,o,l,h=t.__getFrame(),u=h.y,g=h.y+h.h,d=0,c=t.getCenter().x,p=t.getRadiusX()*(1+j._FEELER_RAD_MINSIZE+j._FEELER_HORIZ_MINSIZE);for(l=r?(c-=p)+t.getRadiusX()*j._FEELER_HORIZ_MINSIZE:(c+=p)-t.getRadiusX()*j._FEELER_HORIZ_MINSIZE,n=0;n<i.length;n++)o=i[n],d=e.Math.degreesToRads(o.getPosition()),j._getRadFeelerAngle(o,l,u)-d>.45*Math.PI||j._skipSliceLabel(t,o.getSlice())?(i.splice(n,1),n--):(i[n].setMinY(u),u+=i[n].getHeight());for(n=i.length-1;n>=0;n--)o=i[n],(d=e.Math.degreesToRads(o.getPosition()))-j._getRadFeelerAngle(o,l,g)>.45*Math.PI||j._skipSliceLabel(t,o.getSlice())?i.splice(n,1):(g-=i[n].getHeight(),i[n].setMaxY(g));if(0!=i.length){var _=j._getMiddleLabel(i),f=i[_];a&&!s&&f.getMinY()+f.getHeight()>t.getCenter().y&&(s=!0),s&&!a&&f.getMaxY()<t.getCenter().y&&(a=!0);var v=f.getPosition();(s&&a||v>90&&s||v<=90&&a)&&(j._setOptimalLabelPosition(t,f,c,r),f.setHasFeeler(!0));var m,S,y=f.getY(),x=f.getY()+f.getHeight();if(a)for(n=_-1;n>=0;n--)S=(o=i[n]).getHeight(),j._setOptimalLabelPosition(t,o,c,r),o.setHasFeeler(!0),(m=o.getY())+S<y?y=m:y-=S,o.setY(y);if(s)for(n=_+1;n<i.length;n++)S=(o=i[n]).getHeight(),j._setOptimalLabelPosition(t,o,c,r),o.setHasFeeler(!0),(m=o.getY())>x?x=m+S:x+=S,o.setY(x-S)}},j._truncateSliceLabel=function(t,e,i,r){var a,s,n=i.getSliceLabel(),o=n.getCSSStyle(),l=t.getNumChildren(),h=!1;t.contains(n)||(t.addChild(n),h=!0),n.setCSSStyle(o);var u=e.getSliceLabelString();return n.setTextString(u),h&&t.removeChildAt(l),a=j.getMaxLabelWidth(t,i.getX(),r),s=j._getTextDimension(t,e,n,a,i.getInitialNumLines()),i.setWidth(s.x),i.getHeight()!=s.y&&(i.setHeight(s.y),!0)},j._generateInitialLayout=function(t){for(var e=new Array(2),i=[],r=[],a=t.__getSlices(),s=t.__getFrame(),n=0;n<a.length;n++){var o=a[n],l=t.getSeriesLabelPosition(o.getSeriesIndex());if(null==o.getSliceLabel()&&"none"!=l&&"center"!=l&&!j._skipSliceLabel(t,o)){var h=j._createLabel(o,!1),u=o.getAngleStart()+o.getAngleExtent()/2;u>360&&(u-=360),u<0&&(u+=360);var g=V.reflectAngleOverYAxis(u,t.getCenter().x,t.getCenter().y,t.getRadiusX()*j._OUTSIDE_LABEL_DISTANCE,t.getRadiusY()*j._OUTSIDE_LABEL_DISTANCE),d=u>=90&&u<270,c=j.getMaxLabelWidth(t,g.x,d),p=j._getTextDimension(t,o,h,c,j._MAX_LINES_PER_LABEL);u<165&&u>15?g.y-=1*p.y:u<15||u>345?(g.y-=.5*p.y,g.x+=.2*p.y):u>165&&u<195&&(g.y-=.5*p.y,g.x-=.2*p.y);var _,f=j._adjustForDepth(u,t.getDepth());if(g.y+=f,1==a.length&&(g.x-=p.x/2),!(g.y<s.y||g.y+p.y>s.y+s.h))u>=90&&u<270?(h.alignRight(),j._createLabelInfo(o,h,u,_=u-90,p,g,i)):(_=u<=90?Math.abs(90-u):180-(u-270),j._createLabelInfo(o,h,u,_,p,g,r))}}return e[0]=i,e[1]=r,e},j._createLabelInfo=function(t,e,i,r,a,s,n){for(var o,l=-1,h=e,u=0;u<n.length;u++)if((o=n[u]).getPosition()>r){l=u;break}-1==l&&(l=n.length),(o=new U).setPosition(r),o.setAngle(i),o.setSliceLabel(h),o.setSlice(t),o.setWidth(a.x),o.setHeight(a.y),o.setX(s.x),o.setY(s.y),o.setInitialNumLines(h.getLineCount()),n.splice(l,0,o)},j._getTextDimension=function(t,i,r,a,s){r.setMaxLines(s);var n=j._isTextLabel(t,i)?null:r.getTextString().length;if(e.TextUtils.fitText(r,a,1/0,t,n)){t.addChild(r);var o=r.getDimensions();return t.removeChild(r),{x:o.w,y:o.h}}return{x:0,y:0}},j._isTextLabel=function(t,e){var i=e.getCustomLabel(),r=null!=t.getOptions().dataLabel;return-1!=t.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i||r},j.getMaxLabelWidth=function(t,e,i){var r=t.__getFrame();return i?e-r.x:r.x+r.w-e},j.getPieCenterOptions=function(t){var i=e.JsonUtils.clone(t.pieCenter),r=t.pieCenterLabel;if(r){var a=r.style,s=r.text;s&&(i.label=s),a&&(i.labelStyle=new e.CSSStyle(a))}return i},j._skipSliceLabel=function(t,e){return e.getAngleExtent()<3&&g.getSeriesCount(t.chart)>120};var Y=function(t,e){this.Init(t,e)};e.Obj.createSubclass(Y,e.Obj),Y.THREED_TILT=.59,Y.prototype.Init=function(t,e){this._pieChart=t,this._chart=t.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var i=this._chart.getOptions();if(null!=e){var r=g.getDataItem(this._chart,e,0);this._value=g.getValue(this._chart,e,0),this._explode=c.getSliceExplode(this._chart,e),this._fillColor=p.getColor(this._chart,e,0),this._fillPattern=p.getPattern(this._chart,e,0),this._strokeColor=p.getBorderColor(this._chart,e),this._borderWidth=p.getBorderWidth(this._chart,e),this._customLabel=r?r.label:null,this._seriesLabel=g.getSeries(this._chart,e),this._drillable=g.isDataItemDrillable(this._chart,e,0),this._id=c.getSliceId(this._chart,e),this._seriesIndex=e,this._categories=g.getCategories(this._chart,e,0)}else this._value=c.getOtherValue(this._chart),this._explode=0,this._fillColor=i.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=i.styleDefaults.borderColor,this._borderWidth=i.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=i.translations.labelOther,this._drillable=g.isMultiSeriesDrillEnabled(this._chart),this._id=c.getOtherSliceId(this._chart)},Y.prototype.getPieChart=function(){return this._pieChart},Y.prototype.render=function(t){for(var i=Y._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),r=i.length,a=0;a<r;a++)for(var s=i[a],n=s.length,o=0;o<n;o++){this._pieChart.__getShapesContainer().addChild(s[o]),s[o].render&&s[o].render()}if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),V.associate(this,[this._sliceLabel]),t?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._drillable||this._pieChart.chart.isSelectionSupported()){var l=this.getDisplayables();for(a=0;a<l.length;a++)l[a].setCursor(e.SelectionEffectUtils.getSelectingCursor())}var h=this.getTopDisplayable();h&&(h.setAriaRole("img"),this._updateAriaLabel())},Y.prototype._feelerFromPts=function(t,i){var r=new e.Line(this._pieChart.getCtx(),t.x,t.y,i.x,i.y),a=this._pieChart.getOptions().styleDefaults.pieFeelerColor,s=new e.Stroke(a);return r.setStroke(s),this._pieChart.addChild(r),r},Y.prototype._renderOutsideFeeler=function(){if(this._hasFeeler){var t=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),e=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=t,this._feelerHoriz=e}},Y.prototype.preRender=function(){var t,i=this._bFillerSlice?"color":p.getSeriesEffect(this._chart),r=this.getFillColor(),a=this.getFillPattern();if("pattern"==i||null!=a)t=new e.PatternFill(a,r),i="pattern";else if("gradient"==i){var s=this._pieChart.is3D()?"3D":"2D",n=V.getGradientColors(e.ColorUtils.getRGB(r),s),o=V.getGradientAlphas(e.ColorUtils.getAlpha(r),s),l=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];t=new e.LinearGradientFill(270,n,o,[0,1],l)}else t=new e.SolidFill(r);if(this._topSurface=V.createTopSurface(this,t),this._depth>0||this._radiusX!=this._radiusY){var h="gradient"==i,u=new e.SolidFill(e.ColorUtils.getDarker(r,.4)),g=h?V.generateLateralGradientFill(this,V.SIDE):u,d=h?V.generateLateralGradientFill(this,V.CRUST):u;this._leftSurface=V.createLateralSurface(this,V.SURFACE_LEFT,g),this._rightSurface=V.createLateralSurface(this,V.SURFACE_RIGHT,g),this._crustSurface=V.createLateralSurface(this,V.SURFACE_CRUST,d)}this.setSliceLabel(null),this.setNoOutsideFeeler()},Y._sortPieSurfaces=function(t,e,i,r,a,s){var n=[];return e&&i&&r&&(a<=270&&a+s>270?(n.push(e),n.push(i),n.push(r)):a>270||a+s<=90?(n.push(e),n.push(r),n.push(i)):(n.push(i),n.push(r),n.push(e))),n.push(t),n},Y.oppositeDirection=function(t,e,i){return t-e>0!=t-i>0},Y.prototype._explodeSlice=function(){if(0!=this._explode){var t=this._angleExtent,i=(360-(this._angleStart+t/2))*e.Math.RADS_PER_DEGREE,r=this._pieChart.is3D()?Y.THREED_TILT:1,a=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(i)*a,this._explodeOffsetY=Math.sin(i)*r*a,"safari"!==e.Agent.browser&&"blink"!==e.Agent.engine||(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var s=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];Y._translateShapes(this._topSurface,s[0]?s[0]+this._explodeOffsetX:this._explodeOffsetX,s[1]?s[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&Y._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&Y._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&Y._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var n=this._outsideFeelerStart.x,o=this._outsideFeelerStart.y,l=n+this._explodeOffsetX,h=o+this._explodeOffsetY;this._feelerRad.setX1(l),this._feelerRad.setY1(h);var u=this._outsideFeelerMid.x,g=this._outsideFeelerMid.y;Y.oppositeDirection(u,n,l)?(this._feelerRad.setX2(l),this._feelerHoriz.setX1(l)):(this._feelerRad.setX2(u),this._feelerHoriz.setX1(u)),Y.oppositeDirection(g,o,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(g),this._feelerHoriz.setY1(g))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)},Y._translateShapes=function(t,e,i){if(t)for(var r=t.length,a=0;a<r;a++){t[a].setTranslate(e,i)}},Y.prototype.getRadiusX=function(){return this._radiusX},Y.prototype.getRadiusY=function(){return this._radiusY},Y.prototype.getCenter=function(){return new e.Point(this._centerX,this._centerY)},Y.prototype.getDepth=function(){return this._depth},Y.prototype.getAngleExtent=function(){return this._angleExtent},Y.prototype.setAngleExtent=function(t){this._angleExtent=t},Y.prototype.getAngleStart=function(){return this._angleStart},Y.prototype.setAngleStart=function(t){this._angleStart=t},Y.prototype.__getExplodeOffsetX=function(){return this._explodeOffsetX},Y.prototype.__getExplodeOffsetY=function(){return this._explodeOffsetY},Y.prototype.setOutsideFeelerPoints=function(t,e,i){this._outsideFeelerStart=t,this._outsideFeelerMid=e,this._outsideFeelerEnd=i,this._hasFeeler=!0},Y.prototype.setNoOutsideFeeler=function(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1},Y.prototype.getLabelAndFeeler=function(){var t=[];return this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},Y.prototype.getSliceLabel=function(){return this._sliceLabel},Y.prototype.setSliceLabel=function(t){this._sliceLabel=t},Y.prototype.getSliceLabelString=function(){return this._sliceLabelString},Y.prototype.setSliceLabelString=function(t){this._sliceLabelString=t},Y.prototype.getTopSurface=function(){return this._topSurface},Y.prototype.getValue=function(){return this._value},Y.prototype.getId=function(){return this._id},Y.prototype.getSeriesIndex=function(){return this._seriesIndex},Y._shapeIsSelectable=function(t){return t instanceof G},Y.prototype.contains=function(t,e){for(var i=this._pieChart.getInnerRadius(),r=this._pieChart.getCenter(),a=(t-r.x)/this._radiusX,s=(e-r.y)/this._radiusY,n=-Math.atan2(s,a)*(180/Math.PI);n<this._angleStart;)n+=360;for(;n-this._angleStart>=360;)n-=360;var o=Math.pow(a,2)+Math.pow(s,2),l=Math.sqrt(o)>i/this._radiusX&&o<=1,h=n<=this._angleStart+this._angleExtent;return l&&h},Y.prototype.GetAnimationParams=function(){var t=e.ColorUtils.getRed(this._fillColor),i=e.ColorUtils.getGreen(this._fillColor),r=e.ColorUtils.getBlue(this._fillColor),a=e.ColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,t,i,r,a]},Y.prototype.SetAnimationParams=function(t){this._value=t[0],this._radiusX=t[1],this._radiusY=t[2],this._explode=t[3],this._centerX=t[4],this._centerY=t[5],this._depth=t[6];var i=Math.round(t[7]),r=Math.round(t[8]),a=Math.round(t[9]),s=Math.round(t[10]);this._fillColor=e.ColorUtils.makeRGBA(i,r,a,s)},Y.prototype.getDeletedAnimationParams=function(){var t=this.GetAnimationParams();return t[0]=0,t[1]=this.getInnerRadius(),t[2]=this.getInnerRadius(),t[3]=0,t},Y.prototype.animateUpdate=function(t,i){var r=i.GetAnimationParams(),a=this.GetAnimationParams();if(!e.ArrayUtils.equals(r,a)){var s=new e.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,a),t.add(s,0),this.SetAnimationParams(r)}},Y.prototype.animateInsert=function(t){var i=new e.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.GetAnimationParams()),t.add(i,0),this.SetAnimationParams(this.getDeletedAnimationParams())},Y.prototype.animateDelete=function(t,i){var r=i.__getSlices(),a=this.getPieChart().__getSlices(),s=a.indexOf(this)-1;if(s>=0){for(var n=a[s].getId(),o=0;o<r.length;o++)if(r[o].getId().equals(n)){r.splice(o+1,0,this);break}}else r.splice(0,0,this);this._pieChart=i;var l=new e.CustomAnimation(i.getCtx(),this,this.getPieChart().getAnimationDuration());l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.getDeletedAnimationParams()),l.setOnEnd(this._removeDeletedSlice,this),t.add(l,0)},Y.prototype._removeDeletedSlice=function(){var t=this.getPieChart().__getSlices(),e=t.indexOf(this);e>=0&&t.splice(e,1)},Y.prototype.getDisplayables=function(){var t=new Array;return this._topSurface&&(t=t.concat(this._topSurface)),this._leftSurface&&(t=t.concat(this._leftSurface)),this._rightSurface&&(t=t.concat(this._rightSurface)),this._crustSurface&&(t=t.concat(this._crustSurface)),this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},Y.prototype.getAriaLabel=function(){var t,i=this._pieChart.getOptions().translations;t=null==this._seriesIndex?v.getOtherSliceDatatip(this._chart,this._value,!1):v.getDatatip(this._chart,this._seriesIndex,0,null,!1);var r=i.labelPercentage,a=j.generateSlicePercentageString(this);t+="; "+e.ResourceUtils.format(i.labelAndValue,[r,a]);var s=[];return this.isSelectable()&&s.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),g.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&s.push(i.stateDrillable),e.Displayable.generateAriaLabel(t,s)},Y.prototype._updateAriaLabel=function(){var t=this.getTopDisplayable();t&&!e.Agent.deferAriaCreation()&&t.setAriaProperty("label",this.getAriaLabel())},Y.prototype.getTopDisplayable=function(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null},Y.prototype.isSelectable=function(){return this._chart.isSelectionSupported()},Y.prototype.isSelected=function(){return this._selected},Y.prototype.setSelected=function(t,i){if(this._selected=t,this.getTopSurface()){if(this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),p.isSelectionHighlighted(this._chart))for(var r=this.getDisplayables(),a=0;a<r.length;a++)Y._shapeIsSelectable(r[a])&&r[a].setSelected(t);if(p.isSelectionExploded(this._chart)){var s=t?1:0;if(i||"none"==p.getAnimationOnDataChange(this._chart))this.setExplode(s);else{var n=new e.CustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimationDuration()/2);n.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getExplode,this.setExplode,s),n.play()}}this._updateAriaLabel()}},Y.prototype.showHoverEffect=function(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)Y._shapeIsSelectable(t[e])&&t[e].showHoverEffect()},Y.prototype.hideHoverEffect=function(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)Y._shapeIsSelectable(t[e])&&t[e].hideHoverEffect()},Y.prototype.getDatatip=function(t,e,i){return t==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()},Y.prototype.getDatatipColor=function(){return this.getFillColor()},Y.prototype.getCategories=function(){return this._categories&&this._categories.length>0?this._categories:[this.getId().series]},Y.prototype.getNextNavigable=function(t){var i=t.keyCode;if(t.type==e.MouseEvent.CLICK)return this;if(i==e.KeyboardEvent.SPACE&&t.ctrlKey)return this;var r=e.Agent.isRightToLeft(this._chart.getCtx()),a=this._pieChart.__getSlices(),s=a.indexOf(this),n=null;return i==e.KeyboardEvent.RIGHT_ARROW||i==e.KeyboardEvent.DOWN_ARROW&&!r||i==e.KeyboardEvent.UP_ARROW&&r?n=s<a.length-1?a[s+1]:a[0]:(i==e.KeyboardEvent.LEFT_ARROW||i==e.KeyboardEvent.DOWN_ARROW&&r||i==e.KeyboardEvent.UP_ARROW&&!r)&&(n=0==s?a[a.length-1]:a[s-1]),n},Y.prototype.getKeyboardBoundingBox=function(t){var i=this.getDisplayables();return i[0]?i[0].getDimensions(t):new e.Rectangle(0,0,0,0)},Y.prototype.getTargetElem=function(){var t=this.getDisplayables();return t[0]?t[0].getElem():null},Y.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()},Y.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()},Y.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},Y.prototype.isDragAvailable=function(t){return!0},Y.prototype.getDragTransferable=function(t,e){return[this.getId()]},Y.prototype.getDragFeedback=function(t,e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this.getDisplayables()},Y.prototype.getExplode=function(){return this._explode},Y.prototype.setExplode=function(t){this._explode=t,this._explodeSlice()},Y.prototype.getCustomLabel=function(){return this._customLabel},Y.prototype.getSeriesLabel=function(){return this._seriesLabel},Y.prototype.getFillColor=function(){return this._fillColor},Y.prototype.getFillPattern=function(){return this._fillPattern},Y.prototype.getStrokeColor=function(){return this._strokeColor},Y.prototype.getBorderWidth=function(){return this._borderWidth},Y.prototype.getSliceGaps=function(){return 0==this._depth?3*p.getDataItemGaps(this._chart):0},Y.prototype.getInnerRadius=function(){return this._pieChart.getInnerRadius()},Y.prototype.getTooltip=function(){return null==this._seriesIndex?v.getOtherSliceDatatip(this._chart,this._value,!0):v.getDatatip(this._chart,this._seriesIndex,0,null,!0)},Y.prototype.isDrillable=function(){return this._drillable},Y.createFillerSlice=function(t,e){var i=new Y(t);return i._value=e,i._bFillerSlice=!0,i._centerX=t.getCenter().x,i._centerY=t.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new o(null,null,null,null),i},Y.prototype.getSeriesIndex=function(){return this._seriesIndex};var W=function(t){this._chart=t,this._options=this._chart.getOptions(),this._legend=this._chart.legend,this._xAxis=this._chart.xAxis,this._yAxis=this._chart.yAxis,this._y2Axis=this._chart.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null};e.Obj.createSubclass(W,e.Automation),W.PLOT_AREA_SUBID="plotArea",W.PIE_CENTER_LABEL_SUBID="pieCenterLabel",W.prototype.GetSubIdForDomElement=function(t){var i=null;if(t.isDescendantOf(this._xAxis))return(i=this._xAxisAutomation.GetSubIdForDomElement(t))?this._convertAxisSubIdToChartSubId(i,"xAxis"):null;if(t.isDescendantOf(this._yAxis))return(i=this._yAxisAutomation.GetSubIdForDomElement(t))?this._convertAxisSubIdToChartSubId(i,"yAxis"):null;if(t.isDescendantOf(this._y2Axis))return(i=this._y2AxisAutomation.GetSubIdForDomElement(t))?this._convertAxisSubIdToChartSubId(i,"y2Axis"):null;if(t.isDescendantOf(this._legend)){var r=this._legendAutomation.GetSubIdForDomElement(t);return r?this._convertLegendSubIdToChartSubId(r):null}var a=this._chart.getEventManager().GetLogicalObject(t);if(!a)return null;if(a instanceof e.SimpleObjPeer){var s=a.getParams().type;if("pieCenterLabel"==s)return W.PIE_CENTER_LABEL_SUBID;if("plotArea"==s)return W.PLOT_AREA_SUBID}if(a instanceof Y)return"dataItem["+a.getSeriesIndex()+"]";if(a instanceof m){var n=a.getSeriesIndex(),o=a.getGroupIndex();if(null!=n&&o>=0&&("funnel"!=this._options.type||"pyramid"!=this._options.type))return"dataItem["+n+"]["+o+"]";if(null!=n&&o==F._GROUP_INDEX&&("funnel"==this._options.type||"pyramid"==this._options.type))return"dataItem["+n+"]";if(null!=n&&(null==o||o<0))return"series["+n+"]"}else if(a instanceof S){var l=a.getAxisType(),h=a.getIndex();return l&&h>=0?l+":referenceObject["+h+"]":null}return null},W.prototype._convertLegendSubIdToChartSubId=function(t){var e=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(e,t);if(i){for(var r=0;r<this._options.series.length;r++){if(this._options.series[r].name==i.text)return"series["+r+"]"}return"legend:"+t}return null},W.prototype._convertAxisSubIdToChartSubId=function(t,e){if("title"==t&&e)return e+":"+t;var i=t.substring(t.indexOf("["));return i?"group"+i:null},W.prototype.getDomElementForSubId=function(t){if(t==e.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._chart,v.isDataCursorEnabled(this._chart)?_.TOOLTIP_ID:null);if(t==W.PIE_CENTER_LABEL_SUBID)return this._chart.pieChart.getCenterLabel().getElem();if(t==W.PLOT_AREA_SUBID)return this._chart.getPlotArea().getElem();var i,r,a,s=t.indexOf("["),n=t.indexOf("]"),o=t.indexOf(":");if(s>0&&n>0||o>0){var l=o<0?t.substring(0,s):t.substring(0,o);if("group"==l)return this._xAxisAutomation.getDomElementForSubId(t);if("series"==l)return t=this._convertToLegendSubId(t),this._legendAutomation.getDomElementForSubId(t);if("legend"==t.substring(0,o))return t=t.substring(o+1),this._legendAutomation.getDomElementForSubId(t);var h,u=t.substring(s+1,n);if("xAxis"==l||"yAxis"==l||"y2Axis"==l){var g=t.substring(o+1);if("title"==g){if("xAxis"==l)return this._xAxisAutomation.getDomElementForSubId(g);if("yAxis"==l)return this._yAxisAutomation.getDomElementForSubId(g);if("y2Axis"==l)return this._y2AxisAutomation.getDomElementForSubId(g)}else if(i=g.indexOf("["),r=g.indexOf("]"),"referenceObject"==g.substring(0,i)){var d=g.substring(i+1,r);if(a=this._getRefObjPeer(d))return a.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var c=this._chart.pieChart.getSliceDisplayable(u);if(c)return c.getElem()}if("funnel"==this._options.type?h=F._GROUP_INDEX:"pyramid"==this._options.type?h=H._GROUP_INDEX:(i=(t=t.substring(n+1)).indexOf("["),r=t.indexOf("]"),i>=0&&r>=0&&(h=t.substring(i+1,r))),a=this._getChartObjPeer(u,h))return a.getDisplayables()[0].getElem()}return null},W.prototype._getChartObjPeer=function(t,e){for(var i=this._chart.getChartObjPeers(),r=0;r<i.length;r++){var a=i[r].getSeriesIndex(),s=i[r].getGroupIndex();if(a==t&&s==e)return i[r]}return null},W.prototype._getRefObjPeer=function(t){for(var e=this._chart.getRefObjPeers(),i=0;i<e.length;i++)if(t==e[i].getIndex())return e[i];return null},W.prototype._convertToLegendSubId=function(t){var e=t.indexOf("["),i=t.indexOf("]"),r=t.substring(e+1,i),a=this._legend.getOptions(),s=this._options.series[r];return"section"+this._legendAutomation.getIndicesFromSeries(s,a)},W.prototype.getDataItem=function(t,e){"pie"!=this._options.type&&"funnel"!=this._options.type&&"pyramid"!=this._options.type||(e=0);var i=g.getDataItem(this._chart,t,e);return i?{borderColor:p.getBorderColor(this._chart,t,e),color:p.getColor(this._chart,t,e),label:p.getDataLabel(this._chart,t,e),targetValue:g.getTargetValue(this._chart,t,e),tooltip:v.getDatatip(this._chart,t,e,null,!1),value:g.getValue(this._chart,t,e),open:i.open,close:i.close,high:g.getHighValue(this._chart,t,e),low:g.getLowValue(this._chart,t,e),volume:i.volume,x:g.getXValue(this._chart,t,e),y:i.y,z:i.z,min:i.min,max:i.max,group:g.getGroup(this._chart,e),series:g.getSeries(this._chart,t),selected:g.isDataSelected(this._chart,t,e)}:null},W.prototype.getGroup=function(t){return g.getGroup(this._chart,t)},W.prototype.getSeries=function(t){return this._options.series[t].name},W.prototype.getGroupCount=function(){return g.getGroupCount(this._chart)},W.prototype.getSeriesCount=function(){return this._options.series.length},W.prototype.getTitle=function(){return this._options.title.text},W.prototype.getLegend=function(){var t=this._legend.__getBounds(),i=this._legend.localToStage(new e.Point(t.x,t.y));return{bounds:{x:i.x,y:i.y,width:t.w,height:t.h},title:this._legend.getOptions().title}},W.prototype.getPlotArea=function(){var t=this._chart.__getPlotAreaSpace();return{bounds:{x:t.x,y:t.y,width:t.w,height:t.h}}},W.prototype.getXAxis=function(){return this._getAxis("x")},W.prototype.getYAxis=function(){return this._getAxis("y")},W.prototype.getY2Axis=function(){return this._getAxis("y2")},W.prototype._getAxis=function(t){var i="x"==t?this._xAxis:"y"==t?this._yAxis:this._y2Axis;if(i){var r=i.__getBounds(),a=i.localToStage(new e.Point(r.x,r.y)),s={x:a.x,y:a.y,width:r.w,height:r.h},n=this._chart;return{bounds:s,title:this._options[t+"Axis"].title,getPreferredSize:function(e,r){var a,s=i.getOptions(),o=s.position,l=P.getTickLabelGapSize(n,t),h=P.isStandaloneXAxis(n)||P.isStandaloneYAxis(n)||P.isStandaloneY2Axis(n)?2:0;return"top"==o||"bottom"==o?(a=i.getPreferredSize(s,e,r-l-h)).h=Math.ceil(a.h+l+h):(a=i.getPreferredSize(s,e-l-h,r)).w=Math.ceil(a.w+l+h),{width:a.w,height:a.h}}}}return null},e.Automation.prototype.IsTooltipElement=function(t){var i=t.getAttribute("id");return!(!i||0!=i.indexOf(_.TOOLTIP_ID)&&0!=i.indexOf(e.HtmlTooltipManager._TOOLTIP_DIV_ID))};var z=function(t){z.superclass.Init.call(this,t.getCtx(),t.processEvent,t,t),this._chart=t,this._dragMode=null,this._dragButtonsVisible=e.Agent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null};e.Obj.createSubclass(z,e.EventManager),z.DRAG_MODE_PAN="pan",z.DRAG_MODE_ZOOM="zoom",z.DRAG_MODE_SELECT="select",z.DRAG_MODE_OFF="off",z.prototype.addListeners=function(t){e.SvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),z.superclass.addListeners.call(this,t),e.Agent.isTouchDevice()||t.addEvtListener(e.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},z.prototype.RemoveListeners=function(t){z.superclass.RemoveListeners.call(this,t),e.Agent.isTouchDevice()||t.removeEvtListener(e.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},z.prototype.getLogicalObject=function(t){return this.GetLogicalObject(t,!0)},z.prototype._getDragHandler=function(t){return t&&"user"==this._chart.getOptions().dragMode&&l.isBLAC(this._chart)&&(this._dragMode==z.DRAG_MODE_PAN||this._dragMode==z.DRAG_MODE_ZOOM)&&(this._panZoomHandler&&this._panZoomHandler.isWithinBounds(t)?this._dragMode=z.DRAG_MODE_PAN:this._dragMode=z.DRAG_MODE_ZOOM),this._dragMode==z.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==z.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==z.DRAG_MODE_SELECT?this._marqueeSelectHandler:null},z.prototype._onDragStart=function(t){return e.Agent.isTouchDevice()?this._onTouchDragStart(t):this._onMouseDragStart(t)},z.prototype._onDragMove=function(t){return e.Agent.isTouchDevice()?this._onTouchDragMove(t):this._onMouseDragMove(t)},z.prototype._onDragEnd=function(t){return e.Agent.isTouchDevice()?this._onTouchDragEnd(t):this._onMouseDragEnd(t)},z.prototype._onMouseDragStart=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler(i),a=this.GetLogicalObject(t.target);return!(a&&a.isSelectable&&a.isSelectable())&&0==t.button&&r&&((e=r.processDragStart(i,t.ctrlKey))&&this._callback.call(this._callbackObj,e),this._chart.setCursor(r.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),!!e&&(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0)},z.prototype._onMouseDragMove=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler();r&&(e=r.processDragMove(i,t.ctrlKey))&&(this._callback.call(this._callbackObj,e),this.setDragButtonsVisible(!1)),e&&t.stopPropagation()},z.prototype._onMouseDragEnd=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler();if(r){(e=r.processDragEnd(i,t.ctrlKey))&&(this._callback.call(this._callbackObj,e),this.autoToggleZoomButton()),this._chart.setCursor(r.getCursor(i));var a=this._chart.__getAxisSpace();a&&this.setDragButtonsVisible(a.containsPoint(i.x,i.y))}},z.prototype.OnMouseMove=function(t){z.superclass.OnMouseMove.call(this,t);var i=this._context.pageToStageCoords(t.pageX,t.pageY);this._dataCursorHandler&&(this.GetLogicalObjectAndDisplayable(t.target).displayable instanceof e.IconButton?this._dataCursorHandler.processEnd():this._dataCursorHandler.processMove(i));var r=this._getDragHandler(i);r?this._chart.setCursor(r.getCursor(i)):this._chart.setCursor("default")},z.prototype.OnMouseOut=function(t){z.superclass.OnMouseOut.call(this,t);var e=this._context.pageToStageCoords(t.pageX,t.pageY),i=this._chart.__getAxisSpace();i&&this.setDragButtonsVisible(i.containsPoint(e.x,e.y)),this._dataCursorHandler&&this._dataCursorHandler.processOut(e);this.GetLogicalObject(t.target)},z.prototype.OnMouseWheel=function(t){if(E.isZoomable(this._chart)){var e=null!=t.wheelDelta?t.wheelDelta:0,i=this._context.pageToStageCoords(t.pageX,t.pageY);if(this._panZoomHandler){var r=this._panZoomHandler.processMouseWheel(i,e);r&&(t.preventDefault(),t.stopPropagation(),this._callback.call(this._callbackObj,r),this._dataCursorHandler&&this._dataCursorHandler.processMove(i))}}},z.prototype.ShowFocusEffect=function(t,i){if(this._dataCursorHandler){var r=i.getDataPosition();if(r){var a=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new e.Point(r.x+a.x,r.y+a.y))}}z.superclass.ShowFocusEffect.call(this,t,i)},z.prototype.OnBlur=function(t){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),z.superclass.OnBlur.call(this,t)},z.prototype.OnClickInternal=function(t){var e=this.GetLogicalObject(t.target),i=this._context.pageToStageCoords(t.pageX,t.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,e),e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},z.prototype.OnDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&this.processDrillEvent(e)},z.prototype.HandleTouchHoverStartInternal=function(t){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var e=this._context.pageToStageCoords(t.touch.pageX,t.touch.pageY);return this._dataCursorHandler.processMove(e),!1}var i=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(i)),!1},z.prototype.HandleTouchHoverMoveInternal=function(t){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var e=this._context.pageToStageCoords(t.touch.pageX,t.touch.pageY);return this._dataCursorHandler.processMove(e),!1}var i=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(i)),!1},z.prototype.HandleTouchHoverEndInternal=function(t){this.endDrag();var e=this.GetLogicalObject(t.target);e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},z.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},z.prototype.HandleTouchDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&(t.preventDefault(),t.stopPropagation(),this.processDrillEvent(e))},z.prototype.processDrillEvent=function(t){if(t&&t.isDrillable&&t.isDrillable()){var i=t.getId();if(t instanceof m)this.FireEvent(e.EventFactory.newChartDrillEvent(null!=i.id?i.id:i,t.getSeries(),t.getGroup(),"item"));else if(t instanceof Y){var r="_dvtOther"===i.series?"multiSeries":"item";this.FireEvent(e.EventFactory.newChartDrillEvent(i.id,i.series,i.group,r))}}},z.prototype.ProcessRolloverEvent=function(t,i,r){var a=this._chart.getOptions();if("dim"==E.getHoverBehavior(this._chart)){var s=i.getCategories?i.getCategories():[];a.highlightedCategories=r?s.slice():null;var n=e.EventFactory.newCategoryHighlightEvent(a.highlightedCategories,r),o=p.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(n,l,o,"any"==a.highlightMatch)}},z.prototype._onTouchDragStart=function(t){var e,i,r=t.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),s=this._getDragHandler();s?e=s.processDragStart(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&E.isZoomable(this._chart)){this.endDrag();var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);e=this._panZoomHandler.processPinchStart(n,o)}return e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip()),!(!e&&!i)&&(t.preventDefault(),t.stopPropagation(),this.setDragButtonsVisible(!1),!0)},z.prototype._onTouchDragMove=function(t){var e,i,r=t.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),s=this._getDragHandler();s?e=s.processDragMove(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&E.isZoomable(this._chart)){var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);e=this._panZoomHandler.processPinchMove(n,o)}(e||i)&&t.preventDefault(),e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip())},z.prototype._onTouchDragEnd=function(t){var e,i=this.endDrag();if(this._panZoomHandler&&E.isZoomable(this._chart)&&(e=this._panZoomHandler.processPinchEnd())&&this._callback.call(this._callbackObj,e),i||e){t.preventDefault(),this.getCtx().getTooltipManager().hideTooltip();var r=this.getTouchManager(),a=1==t.changedTouches.length?t.changedTouches[0].identifier:null,s=null!=a?r.getTouchInfo(a):null;s&&!s.touchMoved||r.reset()}this.setDragButtonsVisible(!0)},z.prototype.endDrag=function(){var t,e=this._getDragHandler();return e&&(t=e.processDragEnd(null,!0)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),t&&this._callback.call(this._callbackObj,t),t},z.prototype.zoomBy=function(t){if(this._panZoomHandler&&E.isZoomable(this._chart)){var e=this._panZoomHandler.zoomBy(t);e&&this._callback.call(this._callbackObj,e)}},z.prototype.panBy=function(t,e){if(this._panZoomHandler&&E.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(t,e);i&&this._callback.call(this._callbackObj,i)}},z.prototype.hideHoverFeedback=function(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()},z.prototype.hideTooltip=function(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||z.superclass.hideTooltip.call(this)},z.prototype.getTooltipsEnabled=function(t){return(!this._dataCursorHandler||!(t instanceof m||t instanceof S||this._dataCursorHandler.isDataCursorShown()))&&z.superclass.getTooltipsEnabled.call(this)},z.prototype.getDataCursorHandler=function(){return this._dataCursorHandler},z.prototype.setDataCursorHandler=function(t){this._dataCursorHandler=t},z.prototype.setPanZoomHandler=function(t){this._panZoomHandler=t},z.prototype.setMarqueeZoomHandler=function(t){this._marqueeZoomHandler=t},z.prototype.setMarqueeSelectHandler=function(t){this._marqueeSelectHandler=t},z.prototype.getMarqueeGlassPane=function(){return this._dragMode==z.DRAG_MODE_ZOOM?this._marqueeZoomHandler.getGlassPane():this._dragMode==z.DRAG_MODE_SELECT?this._marqueeSelectHandler.getGlassPane():null},z.prototype.cancelMarquee=function(t){this._dragMode==z.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&t.preventDefault():this._dragMode==z.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()},z.prototype.getDragMode=function(){return this._dragMode},z.prototype.setDragMode=function(t){this._dragMode=null==t?this._getDefaultDragMode():t,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()},z.prototype._getDefaultDragMode=function(){return e.Agent.isTouchDevice()?z.DRAG_MODE_OFF:E.isScrollable(this._chart)?z.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?z.DRAG_MODE_SELECT:null},z.prototype.onZoomButtonClick=function(t){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(z.DRAG_MODE_ZOOM)):this.setDragMode(null)},z.prototype.onPanButtonClick=function(t){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(z.DRAG_MODE_PAN)):this.setDragMode(null)},z.prototype.onSelectButtonClick=function(t){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(z.DRAG_MODE_SELECT)):this.setDragMode(null)},z.prototype.setDragButtonsVisible=function(t){t&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!t&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)},z.prototype.areDragButtonsVisible=function(){return this._dragButtonsVisible},z.prototype.autoToggleZoomButton=function(){!e.Agent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==z.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==z.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))},z.prototype.GetTouchResponse=function(){return this._dragMode&&this._dragMode!=z.DRAG_MODE_OFF?e.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse},z.prototype.isDndSupported=function(){return!0},z.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof m&&e.getSeriesIndex()>=0&&e.getGroupIndex()>=0||e instanceof Y?"items":null},z.prototype.GetDragDataContexts=function(t){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++){var s=p.getDataContext(this._chart,i[a].getSeriesIndex(),i[a].getGroupIndex(),i[a].getNestedDataItemIndex());t&&e.ToolkitUtils.cleanDragDataContext(s),r.push(s)}return r}var n=this.DragSource.getDragObject(),o=null;return n instanceof m&&(o=p.getDataContext(this._chart,n.getSeriesIndex(),n.getGroupIndex(),n.getNestedDataItemIndex())),n instanceof Y&&(o=p.getDataContext(this._chart,n.getSeriesIndex(),0)),o&&t&&e.ToolkitUtils.cleanDragDataContext(o),o?[o]:null},z.prototype.GetDropOffset=function(t){var i=this.DragSource.getDragObject();if(i instanceof m){var r=i.getDataPosition();if(r){r=this._chart.getPlotArea().localToStage(r);var a=this._context.pageToStageCoords(t.pageX,t.pageY);return new e.Point(r.x-a.x,r.y-a.y)}}return null},z.prototype.GetDropTargetType=function(t){var e=this._context.pageToStageCoords(t.pageX,t.pageY),i=this._chart.getOptions().dnd.drop,r=this._chart.__getPlotAreaSpace();return Object.keys(i.plotArea).length>0&&r.containsPoint(e.x,e.y)?"plotArea":Object.keys(i.xAxis).length>0&&P.isAxisRendered(this._chart,"x")&&P.axisContainsPoint(this._chart.xAxis,e)?"xAxis":Object.keys(i.yAxis).length>0&&P.isAxisRendered(this._chart,"y")&&P.axisContainsPoint(this._chart.yAxis,e)?"yAxis":Object.keys(i.y2Axis).length>0&&P.isAxisRendered(this._chart,"y2")&&P.axisContainsPoint(this._chart.y2Axis,e)?"y2Axis":null},z.prototype.GetDropEventPayload=function(t){var i=t.getNativeEvent().dataTransfer,r=Number(i.getData(e.EventManager.DROP_OFFSET_X_DATA_TYPE))||0,a=Number(i.getData(e.EventManager.DROP_OFFSET_Y_DATA_TYPE))||0,s=this._context.pageToStageCoords(t.pageX,t.pageY);return this._chart.getValuesAt(s.x+r,s.y+a)},z.prototype.ShowDropEffect=function(t){var e=this._getDropObject(t);e&&(e.setClassName("oj-active-drop"),e.setSolidFill(this._chart.getOptions()._dropColor))},z.prototype.ClearDropEffect=function(){var t=this._chart.getCache().getFromCache("plotAreaBackground");if(t){var i=p.getBackgroundColor(this._chart);i?t.setSolidFill(i):t.setInvisibleFill(),e.ToolkitUtils.removeClassName(t.getElem(),"oj-invalid-drop"),e.ToolkitUtils.removeClassName(t.getElem(),"oj-active-drop")}var r=function(t){if(t){var i=t.getCache().getFromCache("background");i&&(i.setInvisibleFill(),e.ToolkitUtils.removeClassName(i.getElem(),"oj-invalid-drop"),e.ToolkitUtils.removeClassName(i.getElem(),"oj-active-drop"))}};r(this._chart.xAxis),r(this._chart.yAxis),r(this._chart.y2Axis)},z.prototype.ShowRejectedDropEffect=function(t){var e=this._getDropObject(t);e&&e.setClassName("oj-invalid-drop")},z.prototype._getDropObject=function(t){var e,i=this.GetDropTargetType(t);return"plotArea"==i?e=this._chart.getCache().getFromCache("plotAreaBackground"):"xAxis"==i?e=this._chart.xAxis.getCache().getFromCache("background"):"yAxis"==i?e=this._chart.yAxis.getCache().getFromCache("background"):"y2Axis"==i&&(e=this._chart.y2Axis.getCache().getFromCache("background")),e};var X=function(t,e){this.Init(t,e)};e.Obj.createSubclass(X,e.KeyboardHandler),X.prototype.Init=function(t,e){X.superclass.Init.call(this,t),this._chart=e},X.prototype.isSelectionEvent=function(t){return this.isNavigationEvent(t)&&!t.ctrlKey},X.prototype.isMultiSelectEvent=function(t){return t.keyCode==e.KeyboardEvent.SPACE&&t.ctrlKey},X.prototype.processKeyDown=function(t){var i=t.keyCode;if(i==e.KeyboardEvent.TAB){if(a=this._eventManager.getFocus())return e.EventManager.consumeEvent(t),a;var r=k.getKeyboardNavigables(this._chart);if(r.length>0)return e.EventManager.consumeEvent(t),this.getDefaultNavigable(r)}else if(i==e.KeyboardEvent.ENTER){var a;if(a=this._eventManager.getFocus())return this._eventManager.processDrillEvent(a),e.EventManager.consumeEvent(t),a}else i==e.KeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(t):i==e.KeyboardEvent.PAGE_UP?((t.ctrlKey||t.shiftKey||l.isBLAC(this._chart))&&l.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),e.EventManager.consumeEvent(t)):i==e.KeyboardEvent.PAGE_DOWN?((t.ctrlKey||t.shiftKey||l.isBLAC(this._chart))&&l.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),e.EventManager.consumeEvent(t)):e.KeyboardEvent.isEquals(t)||e.KeyboardEvent.isPlus(t)?this._eventManager.zoomBy(1.5):(e.KeyboardEvent.isMinus(t)||e.KeyboardEvent.isUnderscore(t))&&this._eventManager.zoomBy(1/1.5);return X.superclass.processKeyDown.call(this,t)},X.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,r,a,s=l.isPie(this._chart),n=0;n<t.length;n++)a=t[n],!e||a.getSeriesIndex()<i?(e=a,i=a.getSeriesIndex(),s||(r=a.getGroupIndex())):!s&&a.getGroupIndex()<r&&(e=a,i=a.getSeriesIndex(),r=a.getGroupIndex());return e};var K=function(t,e){this.Init(t,e)};e.Obj.createSubclass(K,e.Obj),K.prototype.animateUpdate=function(t,e){var i=e._shape;this._shape&&this._shape.getUpdateAnimation&&t.add(this._shape.getUpdateAnimation(this._updateDuration,i),1)},K.prototype.animateInsert=function(t){if(this._shape&&this._shape.getInsertAnimation)t.add(this._shape.getInsertAnimation(this._insertDuration),2);else{var i=new e.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(i,0)}},K.prototype.animateDelete=function(t,i){if(i.addChild(this._shape),this._shape&&this._shape.getDeleteAnimation)t.add(this._shape.getDeleteAnimation(this._deleteDuration),0);else{var r=new e.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(r,0)}},K.prototype.getId=function(){return this._animId},K.prototype.setId=function(t){this._animId=t},K.prototype.Init=function(t,e){this._peer=t,this._updateDuration=.75*e,this._insertDuration=.5*e,this._deleteDuration=.5*e,this._shape=t.getDisplayables()[0],this._animId=t.getDataItemId()||t.getSeries()+"/"+t.getGroup()},K.prototype.setOldChart=function(t){this._oldChart=t};var Z=new Object;e.Obj.createSubclass(Z,e.Obj),Z.DIR_UP=0,Z.DIR_DOWN=1,Z.DIR_NOCHANGE=2,Z.makeIndicator=function(t,e,i,r,a,s){if(l.isPolar(r))return null;var n=Z.getDirection(t,e,i,r,a,s);if(n==Z.DIR_NOCHANGE)return null;var o=n===Z.DIR_DOWN,h=o?p.getAnimationDownColor(r):p.getAnimationUpColor(r),u=Z._drawIndicator(r.getCtx(),o,l.isHorizontal(r),h);return r.getPlotArea().addChild(u),u},Z.getDirection=function(t,e,i,r,a,s){var n=g.getValue(t,e,i),o=g.getValue(r,a,s);return null==o||null==n||o==n?Z.DIR_NOCHANGE:o>n?Z.DIR_UP:Z.DIR_DOWN},Z._drawIndicator=function(t,i,r,a){var s;r?s=(e.Agent.isRightToLeft(t)?!i:i)?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5":s=i?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var n=i?"oj-chart-animation-down":"oj-chart-animation-up",o=new e.Path(t,s);return o.setClassName(n),o.setStyle({fill:a}),o};var q=function(t,e){this.Init(t,e)};e.Obj.createSubclass(q,K),q.prototype.Init=function(t,e){q.superclass.Init.call(this,t,e),this._indicator=null,this._animId+="/bar"},q.prototype.animateInsert=function(t){var e=this._shape.getInsertAnimation(this._insertDuration);t.add(e,2)},q.prototype.animateDelete=function(t,e){e.addChild(this._shape);var i=this._shape.getDeleteAnimation(this._deleteDuration);t.add(i,0)},q.prototype.animateUpdate=function(t,i){var r=this._oldChart,a=this._peer.getChart(),s=l.isHorizontal(r)!=l.isHorizontal(a),n=i._getAnimationParams(s),o=this._getAnimationParams(),h=i._shape.getPrimaryFill(),u=this._shape.getPrimaryFill(),g=i._shape.isSelected()||this._shape.isSelected()||h.equals(u);if(!e.ArrayUtils.equals(n,o)||!h.equals(u)){var d=this._peer.getSeriesIndex(),c=i._peer.getSeriesIndex(),_=this._peer.getGroupIndex(),f=i._peer.getGroupIndex();"none"!==p.getAnimationIndicators(a)&&(this._indicator=Z.makeIndicator(r,c,f,a,d,_)),this._setAnimationParams(n),g||this._shape.setFill(h);var v=new e.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);v.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,o),g||v.getAnimator().addProp(e.Animator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,u),this._indicator&&(v.setOnEnd(this._onEndAnimation,this),this._indicator.setAlpha(0)),t.add(v,1)}},q.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},q.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t,this._indicator)},q.prototype._onEndAnimation=function(){this._indicator&&(this._indicator.getParent().removeChild(this._indicator),this._indicator=null)};var Q=function(t,e){this.Init(t,e)};e.Obj.createSubclass(Q,K),Q.prototype.Init=function(t,e){Q.superclass.Init.call(this,t,e),this._animId+="/boxAndWhisker"};var J=function(t,e){this.Init(t,e)};e.Obj.createSubclass(J,K),J.prototype.animateUpdate=function(t,i){var r=this._shape,a=i._shape.getAnimationParams(),s=r.getAnimationParams(),n=i._shape.getFill(),o=this._shape.getFill();if(!e.ArrayUtils.equals(a,s)||!n.equals(o)){r.setAnimationParams(a);var l=new e.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,s),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(e.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),this._indicator&&l.setOnEnd(this._onEndAnimation,this),t.add(l,1)}},J.prototype.animateInsert=function(t){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[0]+=a[1]/2,a[1]=0,a[3]=0,i.setAnimationParams(a);var s=new e.CustomAnimation(i.getCtx(),this,this._insertDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),t.add(s,2)},J.prototype.animateDelete=function(t,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams(),s=a.slice(0);s[0]+=a[1]/2,s[1]=0,s[3]=0;var n=new e.CustomAnimation(r.getCtx(),this,this._deleteDuration);n.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,s),t.add(n,0)},J.prototype.Init=function(t,e){J.superclass.Init.call(this,t,e),this._animId+="/funnel"};var $=function(t,e){this.Init(t,e)};e.Obj.createSubclass($,K),$.prototype.animateUpdate=function(t,i){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var r,a,s=this._shape.isArea(),n=this._oldChart,o=this._chart,l=this._peer.getSeriesIndex(),h=i._peer.getSeriesIndex(),u=this._shape.getCommonGroupIndices(i._shape),d=i._shape.getCommonGroupIndices(this._shape);if(s){var c=i._getBaseAnimationParams(this._shape),_=this._getBaseAnimationParams(i._shape);$._matchGroupIndices(c,_),e.ArrayUtils.equals(c,_)||(this._setBaseAnimationParams(c),(r=new e.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimationParams,this._setBaseAnimationParams,_))}var f=i._getAnimationParams(this._shape),v=this._getAnimationParams(i._shape);$._matchGroupIndices(f,v),e.ArrayUtils.equals(f,v)||(this._setAnimationParams(f),(a=new e.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,v));var m=g.getSeriesType(this._peer.getChart(),l);if("none"!==p.getAnimationIndicators(o)&&(!s||"lineWithArea"!=m))for(var S,y,x=0;x<u.length;x++)S=Z.getDirection(n,h,d[x],o,l,u[x]),(y=Z.makeIndicator(n,h,d[x],o,l,u[x]))&&this._shape.addIndicator(u[x],S,y);if(r||a){var C=new e.ParallelPlayable(this._context,r,a);C.setOnEnd(this._onAnimationEnd,this),t.add(C,1)}},$.prototype.animateInsert=function(t){this._shape.setAlpha(0);var i=new e.AnimFadeIn(this._context,this._shape,this._insertDuration);t.add(i,2)},$.prototype.animateDelete=function(t,i){var r;if("area"==g.getSeriesType(this._oldChart,this._peer.getSeriesIndex())){var a=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!a)return;a.addChild(this._deletedAreas),(r=new e.AnimFadeOut(this._context,this._deletedAreas,this._deleteDuration)).setOnEnd(this._removeDeletedAreas,this),t.add(r,0)}else i.addChild(this._shape),r=new e.AnimFadeOut(this._context,this._shape,this._deleteDuration),t.add(r,0)},$.prototype._removeDeletedAreas=function(){var t=this._chart.__getAreaContainer();t&&t.removeChild(this._deletedAreas)},$.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},$.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t)},$.prototype._getBaseAnimationParams=function(t){return this._shape.getBaseAnimationParams(t)},$.prototype._setBaseAnimationParams=function(t){this._shape.setBaseAnimationParams(t)},$.prototype._onAnimationEnd=function(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)},$._matchGroupIndices=function(t,e){for(var i=3;i<t.length;i+=4)t[i]=e[i]},$.prototype.Init=function(t,e){$.superclass.Init.call(this,t,e),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")};var tt=function(t,e){this.Init(t,e)};e.Obj.createSubclass(tt,K),tt.prototype.animateUpdate=function(t,i){var r=i._shape.getCenterDimensions(),a=this._shape.getCenterDimensions();if(!a.equals(r)){this._shape.setCenterDimensions(r);var s=new e.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);s.getAnimator().addProp(e.Animator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,a);var n=this._peer.getChart();if(this.isValueChange(i)&&"none"!=p.getAnimationIndicators(n)&&l.isScatterBubble(n)){var o=i._shape;o.setAlpha(.9),o.setClassName("oj-chart-animation-marker"),o.setCenterDimensions(r),this._peer.getChart().getPlotArea().addChild(o),s.getAnimator().addProp(e.Animator.TYPE_RECTANGLE,o,o.getCenterDimensions,o.setCenterDimensions,a),s.getAnimator().addProp(e.Animator.TYPE_NUMBER,o,o.getAlpha,o.setAlpha,0),this._overlay=o,s.setOnEnd(this._onEndAnimation,this)}t.add(s,1)}},tt.prototype.animateInsert=function(t){this._shape.setAlpha(0);var i=new e.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(i,2)},tt.prototype.animateDelete=function(t,i){i.addChild(this._shape);var r=new e.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(r,0)},tt.prototype.isValueChange=function(t){var e=!1;if(t){var i=t._peer.getSeriesIndex(),r=t._peer.getGroupIndex(),a=this._peer.getSeriesIndex(),s=this._peer.getGroupIndex(),n=t._oldChart.getOptions(),o=this._peer.getChart().getOptions(),l=n.series[i].items[r].x,h=n.series[i].items[r].y,u=n.series[i].items[r].z,g=o.series[a].items[s].x,d=o.series[a].items[s].y,c=o.series[a].items[s].z;e=g!==l||d!==h||c!==u}return e},tt.prototype._onEndAnimation=function(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)},tt.prototype.Init=function(t,e){tt.superclass.Init.call(this,t,e),this._animId+="/marker"};var et=function(t,e){this.Init(t,e)};e.Obj.createSubclass(et,K),et.prototype.animateUpdate=function(t,i){var r=this._shape,a=i._shape.getAnimationParams(),s=r.getAnimationParams(),n=i._shape.getPrimaryFill(),o=this._shape.getPrimaryFill();if(!e.ArrayUtils.equals(a,s)||!n.equals(o)){r.setAnimationParams(a);var l=new e.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,s),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(e.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),t.add(l,1)}},et.prototype.animateInsert=function(t){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[1]=0,a[2]=0,i.setAnimationParams(a);var s=new e.CustomAnimation(i.getCtx(),this,this._insertDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),t.add(s,2)},et.prototype.animateDelete=function(t,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams().slice(0);a[1]=0,a[2]=0;var s=new e.CustomAnimation(r.getCtx(),this,this._deleteDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,a),t.add(s,0)},et.prototype.Init=function(t,e){et.superclass.Init.call(this,t,e),this._animId+="/pyramid"};var it=function(t,e){this.Init(t,e)};e.Obj.createSubclass(it,K),it.prototype.Init=function(t,e){it.superclass.Init.call(this,t,e),this._animId+="/rangeMarker"},it.prototype.animateInsert=function(t){this._shape.setAlpha(0);var i=new e.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(i,2)},it.prototype.animateDelete=function(t,i){i.addChild(this._shape);var r=new e.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(r,0)},it.prototype.animateUpdate=function(t,i){var r=i._shape.getAnimationParams(),a=this._shape.getAnimationParams();this._shape.setAnimationParams(r);var s=new e.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimationParams,this._shape.setAnimationParams,a),t.add(s,1)};var rt=function(t,e,i){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.Init(t,[this._x1,this._y1,this._x2,this._y1,this._x2,this._y2,this._x1,this._y2],i)};e.Obj.createSubclass(rt,e.Polygon),rt.OUTER_BORDER_WIDTH=2,rt.OUTER_BORDER_WIDTH_HOVER=1.25,rt.INNER_BORDER_WIDTH=1,rt.prototype.setStyleProperties=function(t,i,r,a,s,n,o){this._fill=t,this._borderStroke=i,this._hoverColor=e.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=s,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(t),i&&this.setStroke(i)},rt.prototype.setAnimationParams=function(t){this._x1=Math.min(t[0],t[4]),this._x2=Math.max(t[0],t[4]),this._y1=Math.min(t[1],t[5]),this._y2=Math.max(t[1],t[5]),this.setPoints(t),this._initializeSelectionEffects()},rt.prototype.showHoverEffect=function(){if(!this.IsShowingHoverEffect)if(this.IsShowingHoverEffect=!0,"redwood"===this.getCtx().getThemeBehavior()){if(!this.isSelected()){var t=this.getFill().getColor();this._showNestedBorders(t,this._innerColor)}}else this._showNestedBorders(this._hoverColor,this._innerColor)},rt.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,"redwood"===this.getCtx().getThemeBehavior()?this.isSelected()||this._showNestedBorders():this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},rt.prototype.setSelected=function(t){if(this.IsSelected!=t)if(this.IsSelected=t,"redwood"===this.getCtx().getThemeBehavior()){var e=this.getPrimaryFill().getColor();this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this.isHoverEffectShown()?this._showNestedBorders(e,this._innerColor):this._showNestedBorders()}else this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},rt.prototype.UpdateSelectionEffect=function(){},rt.prototype.getPrimaryFill=function(){return this._fill},rt.prototype._initializeSelectionEffects=function(){var t=this.isSelected()?rt.OUTER_BORDER_WIDTH:rt.OUTER_BORDER_WIDTH_HOVER,i=this._createPointsArray(t),r=this._createPointsArray(t+rt.INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setPoints(i),void this.InnerChild.setPoints(r);this.OuterChild=new e.Polygon(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new e.Polygon(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},rt.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(e),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):t?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},rt.prototype._createPointsArray=function(t){var e=this._x1+t,i=this._x2-t,r=this._y1+t,a=this._y2-t;return[e,r,i,r,i,a,e,a]};var at=function(t,e,i,r,a,s,n){n||this.Init(t.getCtx()),this._bHoriz=l.isHorizontal(t),this._bStacked=g.isStacked(t),this._barGapRatio=w.getBarGapRatio(t),this._dataItemGaps=p.getDataItemGaps(t),this._axisCoord=e,this._doNotRender=!!n,this._setBarCoords(i,r,a,s,!0)};e.Obj.createSubclass(at,rt),at._INDICATOR_OFFSET=8,at._MIN_BAR_WIDTH_FOR_GAPS=5,at._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,at._MIN_BAR_LENGTH_FOR_GAPS=5,at._MAX_GAP_SIZE=2,at.prototype.setSelected=function(t){if(this.IsSelected!=t){if(this.IsSelected=t,"redwood"===this.getCtx().getThemeBehavior())var e=this.getPrimaryFill().getColor();else e=this._hoverColor;this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),"redwood"===this.getCtx().getThemeBehavior()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders(this.isHoverEffectShown()?e:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),"redwood"===this.getCtx().getThemeBehavior()?this.isHoverEffectShown()?this._showNestedBorders(e,this._innerColor):this._showNestedBorders(null):this._showNestedBorders(this.isHoverEffectShown()?e:null))}},at.prototype.getAnimationParams=function(t){return t?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]},at.prototype.setAnimationParams=function(t,e){if(this._setBarCoords(t[0],t[1],t[2],t[3],!1),e){var i=this.getIndicatorPosition();e.setTranslate(i.x,i.y),e.setAlpha(1),e.getParent().addChild(e)}},at.prototype.getDisplayAnimation=function(t){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},at.prototype.getDeleteAnimation=function(t){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},at.prototype.getInsertAnimation=function(t){this.setAlpha(0);var i=this.getDisplayAnimation(t);return i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},at.prototype.getIndicatorPosition=function(){var t,i,r=(this._x1+this._x2)/2;if(this._bStacked){var a=(this._endCoord+this._baselineCoord)/2;t=this._bHoriz?a:r,i=this._bHoriz?r:a}else{var s=this._endCoord>=this._baselineCoord?this._endCoord+at._INDICATOR_OFFSET:this._endCoord-at._INDICATOR_OFFSET;t=this._bHoriz?s:r,i=this._bHoriz?r:s}return new e.Point(t,i)},at.prototype._setBarCoords=function(t,i,r,a,s){this._baselineCoord=t,this._endCoord=i,this._x1=r,this._x2=a;var n=this._x2-this._x1;if(n<1&&(this._x1=Math.floor(this._x1),this._x2=this._x1+1,n=1),this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._origSize=this._x2-this._x1,this._dataItemGaps>0&&s&&!this.isSelected()){var o=Math.ceil(at._MAX_GAP_SIZE*this._dataItemGaps),l=Math.abs(this._baselineCoord-this._endCoord),h=this._axisCoord==this._baselineCoord;l>=at._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!h&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),n>=at._MIN_BAR_WIDTH_FOR_GAPS&&(1==e.Agent.getDevicePixelRatio()&&this._barGapRatio>0&&n>at._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?("firefox"===e.Agent.browser||this._doNotRender||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2),this._origSize-=o)}if(!this._doNotRender){var u=this._createPointsArray();this.setPoints(u),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(rt.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(rt.OUTER_BORDER_WIDTH+rt.INNER_BORDER_WIDTH))}},at.prototype._createPointsArray=function(t){var e=this._baselineCoord,i=this._endCoord,r=this._x1,a=this._x2;if(t>0){if(Math.abs(r-a)<2*t||Math.abs(e-i)<2*t)return[];r+=t,a-=t,i<e?(e-=t,i+=t):(e+=t,i-=t)}return this._bHoriz?[i,r,i,a,e,a,e,r]:[r,i,a,i,a,e,r,e]},at.prototype.getBoundingBox=function(){var t=Math.min(this._x2,this._x1),i=Math.min(this._endCoord,this._baselineCoord),r=Math.abs(this._x2-this._x1),a=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new e.Rectangle(i,t,a,r):new e.Rectangle(t,i,r,a)},at.prototype.getOriginalBarSize=function(){return this._origSize},at.prototype.getDimensionsSelf=function(t){return this.ConvertCoordSpaceRect(this.getBoundingBox(),t)};var st=function(t,i,r,a,s,n,o,h,u){this.Init(t.getCtx()),this._chart=t,this._bHoriz=l.isHorizontal(t),this._styleOptions=u,this._innerColor=p.getSelectedInnerColor(this._chart),this._outerColor=p.getSelectedOuterColor(this._chart),this._hoverColor=e.SelectionEffectUtils.getHoverBorderColor(this._styleOptions._color);var g=i-r/2,d=i+r/2;p.getDataItemGaps(t)>0&&r>at._MIN_BAR_WIDTH_FOR_GAPS&&d--,this._render(g,d,a,s,n,o,h)};e.Obj.createSubclass(st,e.Shape),st.prototype._render=function(t,i,r,a,s,n,o){this._cleanUp();var l=this.getCtx();this._x1=Math.round(t),this._x2=Math.round(i),this._low=Math.round(r),this._q1=Math.round(a),this._q2=Math.round(s),this._q3=Math.round(n),this._high=Math.round(o);var h=i-t,u=p.getSizeInPixels(this._styleOptions.whiskerEndLength,h);u=Math.min(h,u),u=2*Math.floor((u-1)/2)+1;var g=Math.floor((t+i)/2)+.5,d=g-Math.floor(u/2)-.5,c=g+Math.floor(u/2)+.5;this._drawLine(g,this._low,g,this._high,"whisker"),this._drawLine(d,this._low,c,this._low,"whiskerEnd"),this._drawLine(d,this._high,c,this._high,"whiskerEnd"),this._q2Box=new e.Polygon(l,this._createQ2PointsArray(0));var _=R.getRectangleFill(this._chart,this._styleOptions.q2Color,this._styleOptions._q2Pattern,h);this._q2Box.setFill(_),this._applyCustomStyle(this._q2Box,"q2"),this.addChild(this._q2Box),this._q3Box=new e.Polygon(l,this._createQ3PointsArray(0));var f=R.getRectangleFill(this._chart,this._styleOptions.q3Color,this._styleOptions._q3Pattern,h);this._q3Box.setFill(f),this._applyCustomStyle(this._q3Box,"q3"),this.addChild(this._q3Box),this._drawMedianLine(0),this._borderColor=this._styleOptions.borderColor,this._borderColor&&(this._borderWidth=this._styleOptions.borderWidth,this._drawBorders(this._borderColor,this._borderWidth)),this.IsSelected&&(this.IsSelected=!1,this.setSelected(!0))},st.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this.isSelected()?"redwood"!==this.getCtx().getThemeBehavior()&&this._drawBorders(this._hoverColor,rt.OUTER_BORDER_WIDTH,this._innerColor,rt.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,rt.OUTER_BORDER_WIDTH_HOVER,this._innerColor,rt.INNER_BORDER_WIDTH))},st.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._drawBorders(this._outerColor,rt.OUTER_BORDER_WIDTH,this._innerColor,rt.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},st.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?t?"redwood"===this.getCtx().getThemeBehavior()?this._drawBorders(this._outerColor,rt.OUTER_BORDER_WIDTH,this._innerColor,rt.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,rt.OUTER_BORDER_WIDTH,this._innerColor,rt.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,rt.OUTER_BORDER_WIDTH_HOVER,this._innerColor,rt.INNER_BORDER_WIDTH):t?this._drawBorders(this._outerColor,rt.OUTER_BORDER_WIDTH,this._innerColor,rt.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,this._borderWidth))},st.prototype.UpdateSelectionEffect=function(){},st.prototype.getDisplayAnimation=function(t){return this.getInsertAnimation(t)},st.prototype.getDeleteAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=[this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2];return i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},st.prototype.getInsertAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=this._getAnimationParams();return this._setAnimationParams([this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2]),i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),this.setAlpha(0),i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},st.prototype.getUpdateAnimation=function(t,i){var r=new e.CustomAnimation(this.getCtx(),this,t),a=i._getQ2Fill(),s=this._getQ2Fill();a.equals(s)||(this._setQ2Fill(a),r.getAnimator().addProp(e.Animator.TYPE_FILL,this,this._getQ2Fill,this._setQ2Fill,s));var n=i._getQ3Fill(),o=this._getQ3Fill();n.equals(o)||(this._setQ3Fill(n),r.getAnimator().addProp(e.Animator.TYPE_FILL,this,this._getQ3Fill,this._setQ3Fill,o));var l=this._getAnimationParams();return this._setAnimationParams(i._getAnimationParams()),r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,l),r},st.prototype._getAnimationParams=function(){return[this._x1,this._x2,this._low,this._q1,this._q2,this._q3,this._high]},st.prototype._setAnimationParams=function(t){this._render(t[0],t[1],t[2],t[3],t[4],t[5],t[6])},st.prototype._getQ2Fill=function(){return new e.SolidFill(this._styleOptions.q2Color)},st.prototype._setQ2Fill=function(t){this._styleOptions.q2Color=t.getColor()},st.prototype._getQ3Fill=function(){return new e.SolidFill(this._styleOptions.q3Color)},st.prototype._setQ3Fill=function(t){this._styleOptions.q3Color=t.getColor()},st.prototype._drawLine=function(t,i,r,a,s){var n=this._bHoriz?new e.Line(this.getCtx(),i,t,a,r):new e.Line(this.getCtx(),t,i,r,a);return this._applyCustomStyle(n,s),n.setPixelHinting(!0),this.addChild(n),n},st.prototype._drawMedianLine=function(t){if(!this._medianLine){var i=new e.Line(this.getCtx(),0,0,0,0);this._applyCustomStyle(i,"median"),i.setPixelHinting(!0),this.addChild(i),this._medianLine=i}var r=this._x1+t,a=this._x2-t,s=this._q2;this._bHoriz?(this._medianLine.setX1(s),this._medianLine.setX2(s),this._medianLine.setY1(r),this._medianLine.setY2(a)):(this._medianLine.setY1(s),this._medianLine.setY2(s),this._medianLine.setX1(r),this._medianLine.setX2(a))},st.prototype._drawBorders=function(t,i,r,a){if(!this._outerBorderShape){var s=this.getChildIndex(this._q2Box);this._innerBorderShape=new e.Polygon(this.getCtx()),this._innerBorderShape.setInvisibleFill(),this.addChildAt(this._innerBorderShape,s),this._outerBorderShape=new e.Polygon(this.getCtx()),this._outerBorderShape.setInvisibleFill(),this.addChildAt(this._outerBorderShape,s)}var n=0;i?(this._outerBorderShape.setPoints(this._createBoxPointsArray(0)),this._outerBorderShape.setSolidFill(t),n+=i,a?(this._innerBorderShape.setPoints(this._createBoxPointsArray(i)),this._innerBorderShape.setSolidFill(r),n+=a):this._innerBorderShape.setInvisibleFill()):(this._outerBorderShape.setInvisibleFill(),this._innerBorderShape.setInvisibleFill()),this._q2Box.setPoints(this._createQ2PointsArray(n)),this._q3Box.setPoints(this._createQ3PointsArray(n)),this._drawMedianLine(n)},st.prototype._createBoxPointsArray=function(t){var e,i,r=this._x1+t,a=this._x2-t;return this._q1<this._q3?(e=this._q1+t,i=this._q3-t):(e=this._q1-t,i=this._q3+t),this._createPointsArray(r,a,e,i)},st.prototype._createQ3PointsArray=function(t){var e,i=this._x1+t,r=this._x2-t,a=this._q2;return e=this._q2<this._q3?this._q3-t:this._q3+t,this._createPointsArray(i,r,a,e)},st.prototype._createQ2PointsArray=function(t){var e,i=this._x1+t,r=this._x2-t,a=this._q2;return e=this._q2<this._q1?this._q1-t:this._q1+t,this._createPointsArray(i,r,e,a)},st.prototype._createPointsArray=function(t,e,i,r){return this._bHoriz?[i,t,i,e,r,e,r,t]:[t,i,e,i,e,r,t,r]},st.prototype._applyCustomStyle=function(t,e){t.setStyle(this._styleOptions[e+"Style"]||this._styleOptions[e+"SvgStyle"],!0),t.setClassName(this._styleOptions[e+"ClassName"]||this._styleOptions[e+"SvgClassName"],!0)},st.prototype._cleanUp=function(){this.removeChildren(),this._q2Box=null,this._q3Box=null,this._medianLine=null,this._outerBorderShape=null,this._innerBorderShape=null};var nt=function(t,e,i,r,a,s,n){this.Init(t),i=Math.max(2*Math.round(i/2),1);var o=Math.min(2*Math.ceil(nt._BAR_WIDTH*i/2),i),l=Math.round(e)-i/2,h=l+i;if(null!=s&&null!=n){var u=Math.round(e)-o/2,g=u+o;this._rangeShape=new rt(t,[u,s,g,s,g,n,u,n]),this.addChild(this._rangeShape)}this._changeShape=new rt(t,[l,r,h,r,h,a,l,a]),this.addChild(this._changeShape),this.setPixelHinting(!0)};e.Obj.createSubclass(nt,e.Container),nt._BAR_WIDTH=.3,nt.prototype.setChangeStyle=function(t,e,i,r,a){this._changeShape.setStyleProperties(t,e,i,r,a)},nt.prototype.setRangeStyle=function(t,e,i,r){this._rangeShape&&this._rangeShape.setStyleProperties(t,e,i,null,r)},nt.prototype.setSelected=function(t){this._changeShape.setSelected(t),this._rangeShape&&this._rangeShape.setSelected(t)},nt.prototype.showHoverEffect=function(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()},nt.prototype.hideHoverEffect=function(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()},nt.prototype.getDisplayAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=this._changeShape.getPoints();if(this._changeShape.setPoints(nt._getInitialPoints(r)),i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=this._rangeShape.getPoints();this._rangeShape.setPoints(nt._getInitialPoints(a)),i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i},nt.prototype.getDeleteAnimation=function(t){var i=new e.CustomAnimation(this.getCtx(),this,t),r=nt._getInitialPoints(this._changeShape.getPoints());if(i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=nt._getInitialPoints(this._rangeShape.getPoints());i.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},nt.prototype.getInsertAnimation=function(t){this.setAlpha(0);var i=this.getDisplayAnimation(t);return i.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},nt.prototype.getUpdateAnimation=function(t,i){var r=new e.CustomAnimation(this.getCtx(),this,t),a=this._changeShape.getPoints();this._changeShape.setPoints(i._changeShape.getPoints()),r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,a);var s=i._changeShape.getPrimaryFill(),n=this._changeShape.getPrimaryFill();if(i._changeShape.isSelected()||this._changeShape.isSelected()||s.equals(n)||(this._changeShape.setFill(s),r.getAnimator().addProp(e.Animator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,n)),this._rangeShape&&i._rangeShape){var o=this._rangeShape.getPoints();this._rangeShape.setPoints(i._rangeShape.getPoints()),r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,o)}return r},nt.prototype.UpdateSelectionEffect=function(){},nt._getInitialPoints=function(t){var e=t[0],i=t[2],r=(t[1]+t[5])/2;return[e,r,i,r,i,r,e,r]};var ot=function(t,e,i,r,a,s){this.x=t,this.y1=e,this.y2=i,this.groupIndex=r,this.group=a,this.filtered=s};e.Obj.createSubclass(ot,e.Obj),ot.prototype.isUpstep=function(t){return Math.abs(this.y2-t)>Math.abs(this.y1-t)},ot.prototype.clone=function(){return new ot(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)};var lt=function(t,e,i,r,a,s,n,o,l,h,u,g){this.Init(t.getCtx()),this._chart=t,this._bArea=e,this._availSpace=i,this._baseline=r,this._style=a,this._className=s,this._fill=n,this._stroke=o,this._type=l,this._baseType=u||l,this._indicatorMap={},this.setCoords(h,g)};e.Obj.createSubclass(lt,e.Container),lt.prototype.chartShapeType="lineArea",lt._INDICATOR_OFFSET=8,lt.prototype.setCoords=function(t,e){this._arCoord=t,e&&(this._arBaseCoord=e),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()},lt.prototype.getCoords=function(){return this._arCoord},lt.prototype.getBaseCoords=function(){return this._arBaseCoord},lt.prototype.getBaseline=function(){return this._baseline},lt.prototype.isArea=function(){return this._bArea},lt.prototype._getPointArrays=function(t,i){var r=[],a=[];r.push(a),t=lt._convertToPointCoords(t);var s,n,o,h,u,g=l.isPolar(this._chart),d="centeredStepped"==i||"centeredSegmented"==i,c=d||"stepped"==i||"segmented"==i,_=p.getGroupWidth(this._chart),f=e.Agent.isRightToLeft(this.getCtx())&&l.isVertical(this._chart)?-1:1;g&&(s=t[t.length-1]);for(var v=!1,m=0;m<t.length;m++)null!=t[m]?(n=t[m],h=t[m]._isY2,o=d?n.x-_/2*f:n.x,h&&(v&&c&&(o+=_*f),v=!v),"curved"==i&&h&&a.push(null,null),s&&c&&this._pushCoord(a,o,s.y),this._bArea||"segmented"!=i&&"centeredSegmented"!=i||(a=[],r.push(a)),this._pushCoord(a,o,n.y),s=n):l.isMixedFrequency(this._chart)||(c&&!g&&s&&!h&&(u=d?s.x+.5*_*f:s.x+_*f,this._pushCoord(a,u,s.y)),a=[],r.push(a),s=null);if(c&&!g&&s&&!h&&(u=d?s.x+.5*_*f:s.x+_*f,this._pushCoord(a,u,s.y)),g&&r.length>1){var S=r.pop();r[0]=S.concat(r[0])}return r},lt.prototype._pushCoord=function(t,i,r){var a=h.convertAxisCoord(this._chart,new e.Point(i,r),this._availSpace);t.push(Math.round(10*a.x)/10,Math.round(10*a.y)/10)},lt.prototype._isRing=function(){if(!l.isPolar(this._chart)||!l.hasGroupAxis(this._chart)||this._arCoord.length<g.getGroupCount(this._chart))return!1;for(var t=0;t<this._arCoord.length;t++)if(null==this._arCoord[t].x)return!1;return!0},lt.prototype._getSplineType=function(){return l.isScatterBubble(this._chart)?e.PathUtils.SPLINE_TYPE_CARDINAL:l.isPolar(this._chart)?this._isRing()?e.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED:e.PathUtils.SPLINE_TYPE_CARDINAL:l.isHorizontal(this._chart)?e.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:e.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL},lt.prototype._renderLines=function(){for(var t,i=this._getPointArrays(this._arCoord,this._type),r=0;r<i.length;r++){var a=i[r];if(a&&a.length>1){if("curved"==this._type){var s=lt._getCurvedPathCommands(a,!1,this._getSplineType());(t=new e.Path(this.getCtx(),s)).setFill(null)}else this._isRing()?(t=new e.Polygon(this.getCtx(),a)).setFill(null):t=new e.Polyline(this.getCtx(),a);t.setStroke(this._stroke),t.setClassName(this._className).setStyle(this._style),this.addChild(t)}}},lt.prototype._renderAreas=function(){var t=this._arCoord,i=this._arBaseCoord;!l.isPolar(this._chart)&&t.length>0&&i.length>0&&(t=t.slice(0),i=i.slice(0),null!=t[0].x&&null!=i[0].x&&(lt._removeAreaEdge(t,0,this._baseline),lt._removeAreaEdge(i,0,this._baseline),i[0].x=t[0].x),null!=t[t.length-1].x&&null!=i[i.length-1].x&&(lt._removeAreaEdge(t,t.length-1,this._baseline),lt._removeAreaEdge(i,i.length-1,this._baseline),i[i.length-1].x=t[t.length-1].x));var r=this._getPointArrays(t,this._type),a=this._getPointArrays(i,this._baseType);if(r.length==a.length)for(var s,n=0;n<r.length;n++){var o=r[n],h=a[n];if(!(o.length<2)){var u="curved"==this._type,g="curved"==this._baseType;this._isRing()&&(u||o.push(o[0],o[1]),h.length>=2&&!g&&h.push(h[0],h[1]));for(var d=[],c=0;c<h.length;c+=2)d.unshift(h[c],h[c+1]);if(u||g){var p=this._getSplineType(),_=u?lt._getCurvedPathCommands(o,!1,p):e.PathUtils.polyline(o,!1);_+=g?lt._getCurvedPathCommands(d,!0,p):e.PathUtils.polyline(d,!0),_+=e.PathUtils.closePath(),s=new e.Path(this.getCtx(),_)}else{var f=d.concat(o);s=new e.Polygon(this.getCtx(),f)}s.setFill(this._fill),s.setClassName(this._className).setStyle(this._style),this._stroke&&s.setStroke(this._stroke),this.addChild(s)}}},lt.prototype._positionIndicators=function(){for(var t,i,r,a,s,n=0;n<this._arCoord.length;n++)s=this._arCoord[n],(t=this._indicatorMap[s.groupIndex])&&t.indicator&&(a=(s.isUpstep(this._baseline)?s.y2:s.y1)+lt._INDICATOR_OFFSET*(t.direction==Z.DIR_UP?-1:1),r=h.convertAxisCoord(this._chart,new e.Point(s.x,a),this._availSpace),(i=t.indicator).setTranslate(r.x,r.y),i.setAlpha(1),i.getParent().addChild(i))},lt.prototype.getAnimationParams=function(t){return lt._coordsToAnimationParams(this._arCoord,t?t._arCoord:null,this._baseline)},lt.prototype.setAnimationParams=function(t){var e=lt._animationParamsToCoords(t);this.setCoords(e)},lt.prototype.getBaseAnimationParams=function(t){return lt._coordsToAnimationParams(this._arBaseCoord,t?t._arBaseCoord:null,this._baseline)},lt.prototype.setBaseAnimationParams=function(t){this._arBaseCoord=lt._animationParamsToCoords(t)},lt.prototype.getCommonGroupIndices=function(t){for(var e=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var r=0;r<t._arCoord.length;r++)if(!t._arCoord[r].filtered&&null!=t._arCoord[r].x&&this._arCoord[i].group==t._arCoord[r].group){e.push(this._arCoord[i].groupIndex);break}return e},lt.prototype.addIndicator=function(t,e,i){i.setAlpha(0),this._indicatorMap[t]={direction:e,indicator:i}},lt.prototype.removeIndicators=function(){for(var t in this._indicatorMap){var e=this._indicatorMap[t].indicator;e&&e.getParent().removeChild(e)}this._indicatorMap={}},lt._convertToPointCoords=function(t){for(var i=[],r=0;r<t.length;r++)if(!t[r].filtered)if(null==t[r].x)i.push(null);else if(i.push(new e.Point(t[r].x,t[r].y1)),t[r].y1!=t[r].y2){var a=new e.Point(t[r].x,t[r].y2);a._isY2=!0,i.push(a)}return i},lt._coordsToAnimationParams=function(t,e,i){if(e&&e.length>0)if(t&&t.length>0){t=t.slice(0);for(var r,a,s,n=lt._coordsToGroups(e),o=lt._coordsToGroups(t),l=t.length,h=n.length-1;h>=0;h--)r=n[h],-1==(a=o.indexOf(r))?(0==l?(s=t[0].clone(),t[0]=t[0].clone(),lt._removeCoordJump(s,t[0],i)):(s=t[l-1].clone(),t[l-1]=t[l-1].clone(),lt._removeCoordJump(t[l-1],s,i)),s.groupIndex=-1,t.splice(l,0,s)):l=a}else{t=[];for(h=0;h<e.length;h++)t.push(new ot(e[h].x,i,i))}for(var u=[],g=0;g<t.length;g++)t[g].filtered||(null==t[g].x?(u.push(1/0),u.push(1/0),u.push(1/0)):(u.push(t[g].x),u.push(t[g].y1),u.push(t[g].y2)),u.push(t[g].groupIndex));return u},lt._animationParamsToCoords=function(t){for(var e=[],i=0;i<t.length;i+=4)t[i]==1/0||isNaN(t[i])?e.push(new ot(null,null,null,t[i+3])):e.push(new ot(t[i],t[i+1],t[i+2],t[i+3]));return e},lt._coordsToGroups=function(t){for(var e=[],i=0;i<t.length;i++)t[i].filtered||e.push(t[i].group);return e},lt._removeCoordJump=function(t,e,i){t.isUpstep(i)?e.y1=e.y2:t.y2=t.y1},lt._getCurvedPathCommands=function(t,i,r){var a=[],s=[];a.push(s);for(var n=0;n<t.length;n+=2)null==t[n]?(s=[],a.push(s)):s.push(t[n],t[n+1]);if(r==e.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&a.length>1){var o=a.pop();a[0]=o.concat(a[0]),r=e.PathUtils.SPLINE_TYPE_CARDINAL}var l="";for(n=0;n<a.length;n++)s=a[n],l+=e.PathUtils.curveThroughPoints(s,i,r),i=!0;return l},lt._removeAreaEdge=function(t,e,i){var r=t[e].clone();r.isUpstep(i)?r.y1=r.y2:r.y2=r.y1,t[e]=r};var ht=function(t,e,i,r,a,s){this.Init(t,e,i,r,a,a,null,null,!0),s&&this.setStroke(ht.DEFAULT_STROKE)};e.Obj.createSubclass(ht,e.SimpleMarker),ht.DEFAULT_STROKE=new e.Stroke("none"),ht.SELECTED_FILL=new e.SolidFill("#FFFFFF"),ht.SELECTED_STROKE=new e.Stroke("#5A5A5A",1,1.5),ht.prototype.setDataColor=function(t){this._dataColor=t,this._hoverStroke=new e.Stroke(t,1,1.5)},ht.prototype.getDataColor=function(){return this._dataColor},ht.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)},ht.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?ht.SELECTED_STROKE:ht.DEFAULT_STROKE)},ht.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this.setFill(ht.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:ht.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:ht.DEFAULT_STROKE)))},ht.prototype.UpdateSelectionEffect=function(){};var ut=function(t,e,i,r,a,s,n){this.Init(t.getCtx()),this._axisCoord=e,this._availSpace=n.clone(),this._bbox=null,this._dataItemGaps=p.getDataItemGaps(t)*ut._MAX_DATA_ITEM_GAP,this._setBarCoords(i,r,a,s)};e.Obj.createSubclass(ut,G),ut._MIN_BAR_LENGTH_FOR_GAPS=4,ut._MAX_DATA_ITEM_GAP=3,ut.prototype.getAnimationParams=function(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]},ut.prototype.setAnimationParams=function(t,e){this._setBarCoords(t[0],t[1],t[2],t[3])},ut.prototype.getPrimaryFill=function(){return this.getFill()},ut.prototype.getDisplayAnimation=function(t){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,0,0]);var r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},ut.prototype.getDeleteAnimation=function(t){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},ut.prototype.getInsertAnimation=function(t){this.setAlpha(0);var i=this.getAnimationParams();this.setAnimationParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var r=new e.CustomAnimation(this.getCtx(),this,t);return r.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(e.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),r},ut.prototype._setBarCoords=function(t,i,r,a){var s=this._availSpace.x+this._availSpace.w/2,n=this._availSpace.y+this._availSpace.h/2,o=Math.max(i,t),l=Math.abs(i-t)>=ut._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=t?Math.min(i,t)+this._dataItemGaps:Math.min(i,t),u=360-e.Math.radsToDegrees(Math.max(r,a))+90,g=e.Math.radsToDegrees(Math.abs(a-r));this.setWedgeParams(s,n,o,o,u,g,this._dataItemGaps,l);var d=h.polarToCartesian(t,r,this._availSpace),c=h.polarToCartesian(t,a,this._availSpace),p=h.polarToCartesian(i,r,this._availSpace),_=h.polarToCartesian(i,a,this._availSpace),f=Math.min(d.x,c.x,p.x,_.x),v=Math.max(d.x,c.x,p.x,_.x),m=Math.min(d.y,c.y,p.y,_.y),S=Math.max(d.y,c.y,p.y,_.y);this._bbox=new e.Rectangle(f,m,v-f,S-m),this._baselineCoord=t,this._endCoord=i,this._x1=r,this._x2=a},ut.prototype.getBoundingBox=function(){return this._bbox},ut.prototype.getOriginalBarSize=function(){return this._bbox.w};var gt=function(t,e,i,r,a,s,n){this.Init(t),this._markerSize=s,this._isInvisible=n,this._drawPath(e,i,r,a)};e.Obj.createSubclass(gt,e.Path),gt.prototype._drawPath=function(t,i,r,a){var s=Math.atan2(a-i,r-t),n=this._markerSize/2,o=Math.PI/8,l=e.PathUtils.moveTo(t+n*Math.cos(s+o),i+n*Math.sin(s+o))+e.PathUtils.arcTo(n,n,2*(Math.PI-o),1,t+n*Math.cos(s-o),i+n*Math.sin(s-o))+e.PathUtils.lineTo(r-n*Math.cos(s+o),a-n*Math.sin(s+o))+e.PathUtils.arcTo(n,n,2*(Math.PI-o),1,r-n*Math.cos(s-o),a-n*Math.sin(s-o))+e.PathUtils.closePath();this.setCmds(l),this._x1=t,this._y1=i,this._x2=r,this._y2=a},gt.prototype.setStyleProperties=function(t,i,r,a,s){this._dataColor=r;var n=e.SelectionEffectUtils.getHoverBorderColor(r);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new e.Stroke(n,1,1.5)):(this.setFill(t),this.setStroke(i),this.setHoverStroke(new e.Stroke(a,1,1),new e.Stroke(n,1,3.5)),this.setSelectedStroke(new e.Stroke(a,1,1.5),new e.Stroke(s,1,4.5)),this.setSelectedHoverStroke(new e.Stroke(a,1,1.5),new e.Stroke(n,1,4.5)))},gt.prototype.getDataColor=function(){return this._dataColor},gt.prototype.showHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):gt.superclass.showHoverEffect.call(this)},gt.prototype.hideHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?ht.SELECTED_STROKE:ht.DEFAULT_STROKE)):gt.superclass.hideHoverEffect.call(this)},gt.prototype.setSelected=function(t){if(this._isInvisible){if(this.IsSelected==t)return;this.IsSelected=t,this.isSelected()?(this.setFill(ht.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:ht.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:ht.DEFAULT_STROKE))}else gt.superclass.setSelected.call(this,t)},gt.prototype.UpdateSelectionEffect=function(){this._isInvisible||gt.superclass.UpdateSelectionEffect.call(this)},gt.prototype.getAnimationParams=function(){return[this._x1,this._y1,this._x2,this._y2]},gt.prototype.setAnimationParams=function(t){this._drawPath(t[0],t[1],t[2],t[3])},gt.prototype.isInvisible=function(){return this._isInvisible},gt.prototype.getBoundingBox=function(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())},gt.prototype.getBoundingBox1=function(){return new e.Rectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)},gt.prototype.getBoundingBox2=function(){return new e.Rectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)};var dt=function(){};e.Obj.createSubclass(dt,e.Obj),dt.createAnimation=function(t,i,r,a,s){if(!dt._canAnimate(t,i))return null;var n,o=i.getCtx(),h=[],u=[];l.isPie(i)?(h.push(t.pieChart),u.push(i.pieChart)):dt._buildAnimLists(o,h,t,u,i,a);var g=new e.DataAnimationHandler(o,s);g.constructAnimation(h,u),g.getNumPlayables()>0&&(n=g.getAnimation(!0));var d=i.getDataLabels();if(n&&d.length>0){for(var c=0;c<d.length;c++)d[c].setAlpha(0);n=new e.SequentialPlayable(o,n,new e.AnimFadeIn(o,d,a/4))}return n},dt._buildAnimLists=function(t,i,r,a,s,n){var o,l,h,u,g,d=r.getChartObjPeers(),c=i,p=s.getCache().getFromCache("dataFiltered");for(o=0;o<2;o++){var _={},f={};for(l=0;l<d.length;l++){if(g=null,(u=(h=d[l]).getDisplayables()[0])instanceof B)g=new J(h,n);else if(u instanceof N)g=new et(h,n);else if(u instanceof at||u instanceof ut){if(g=new q(h,n),p){var v=h.getSeries();_[v]=_[v]?_[v]+1:1,g.setId(v+"/"+_[v]+"/bar")}}else if(u instanceof lt){var m=(g=new $(h,n)).getId();f[m]=f[m]?f[m]+1:1,g.setId(m+"/"+f[m])}else if(u instanceof e.SimpleMarker){if(u instanceof ht&&!u.isSelected())continue;g=new tt(h,n)}else if(u instanceof gt){if(u.isInvisible()&&!u.isSelected())continue;g=new it(h,n)}else u instanceof nt?g=new K(h,n):u instanceof st&&(g=new Q(h,n));g&&(c.push(g),g.setOldChart(r))}c=a,d=s.getChartObjPeers()}},dt._canAnimate=function(t,e){return l.isPie(t)&&l.isPie(e)?t&&e:l.isPolar(t)==l.isPolar(e)&&(!(!l.isBLAC(t)||!l.isBLAC(e))||(!(!l.isScatterBubble(t)||!l.isScatterBubble(e))||t.getType()==e.getType()))};var ct=function(){};e.Obj.createSubclass(ct,e.Obj),ct.createAnimation=function(t,i,r){var a=[];if(l.isBLAC(t))ct._animBarLineArea(t,r,a);else if(l.isScatterBubble(t)||l.isFunnel(t)||l.isPyramid(t))ct._animBubbleScatterFunnelPyramid(t,r,a);else if(l.isPie(t)&&t.pieChart)return t.pieChart.getDisplayAnimation();return a.length>0?new e.ParallelPlayable(t.getCtx(),a):null},ct._animBarLineArea=function(t,i,r){var a=t.getChartObjPeers(),s=a?a.length:0;if(s)for(var n,o,l,h=0;h<s;h++){n=(o=a[h]).getDisplayables()[0];var u=g.getSeriesType(o.getChart(),o.getSeriesIndex());if(l=null,n instanceof at||n instanceof ut||n instanceof nt||n instanceof st)l=n.getDisplayAnimation(i);else if(n instanceof lt)l="line"==u?ct._getLinePlayable(t,n,i):ct._getAreaPlayable(t,n,i);else if(n instanceof e.SimpleMarker||n instanceof gt){if(n instanceof ht&&!n.isSelected())continue;l=new e.AnimFadeIn(t.getCtx(),n,i-.8,.8)}l&&r.push(l)}},ct._animBubbleScatterFunnelPyramid=function(t,i,r){var a=t.getObjects(),s=a?a.length:0;if(s)for(var n,o,l=0;l<s;l++)(n=a[l].getDisplayables()[0])instanceof e.SimpleMarker?o=new e.AnimPopIn(t.getCtx(),n,!0,i):(n instanceof B||n instanceof N)&&(o=ct._getFunnelPyramidPlayable(t,n,i)),o&&r.push(o)},ct._getAreaPlayable=function(t,i,r){var a,s=t.getCtx(),n=i.getBaseline();if(i.isArea()){for(var o=i.getBaseCoords(),l=i.getBaseAnimationParams(),h=l.slice(0),u=0;u<l.length;u++)u%4!=1&&u%4!=2||(l[u]=n);i.setBaseAnimationParams(l),(a=new e.CustomAnimation(s,i,r)).getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getBaseAnimationParams,i.setBaseAnimationParams,h)}var g=i.getCoords(),d=i.getAnimationParams(),c=d.slice(0);for(u=0;u<d.length;u++)u%4!=1&&u%4!=2||(d[u]=n);i.setAnimationParams(d);var p=new e.CustomAnimation(s,i,r);p.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,c);var _=new e.ParallelPlayable(t.getCtx(),a,p);return _.setOnEnd(function(){i.setCoords(g,o)}),_},ct._getFunnelPyramidPlayable=function(t,i,r){var a=t.getCtx(),s=i.getAnimationParams(),n=s.slice(0),o=s.slice(0);s[0]=0,l.isFunnel(t)&&(s[2]=0,n[2]=0),i.setAnimationParams(s);var h=new e.CustomAnimation(a,i,r/2);h.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,n);var u=new e.CustomAnimation(a,i,r/2);return u.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,o),new e.SequentialPlayable(a,[h,u])},ct._getLinePlayable=function(t,i,r){var a=i.getCoords(),s=i.getAnimationParams(),n=s.slice(0);ct._getMeanPoints(s),i.setAnimationParams(s);var o=new e.CustomAnimation(t.getCtx(),i,r);return o.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,n),o.setOnEnd(function(){i.setCoords(a)}),o},ct._getMeanPoints=function(t){var e,i=0,r=Number.MAX_VALUE,a=-1*Number.MAX_VALUE,s=t.length;for(e=0;e<s;e++){var n=t[e];e%4!=0&&e%4!=3&&n!=1/0&&(n<r&&(r=n),n>a&&(a=n),i+=n)}for(s>8?(i-=2*r,i-=2*a,i/=s/2-4):i/=s/2,e=0;e<s;e++)e%4!=1&&e%4!=2||(t[e]=i)};var pt=function(t,e,i){this.Init(t,e,i)};e.Obj.createSubclass(pt,C),C.registerConstructor("data",pt),pt.prototype.Init=function(t,e,i){pt.superclass.Init.call(this,t,e,i),this.MixinInit.call(this,e)},pt.MAX_ZOOM_FACTOR=64,pt.prototype.getMinLabel=function(){return this.ZeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this.LinearMinValue/this.MajorIncrement)*this.MajorIncrement:Math.ceil((this.LinearMinValue-this.LinearGlobalMin)/this.MajorIncrement)*this.MajorIncrement+this.LinearGlobalMin},pt.prototype.getLabels=function(t,e){if(e&&e>0)return null;var i=this.getAllLabels(t),r=[],a=t.getStage();return"tangential"!=this.Position&&(r=this.GetLabelDims(i,a),i=this.SkipLabels(i,r)),i},pt.prototype.getAllLabels=function(t,e){var r=[];if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var a=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new i.LinearScaleAxisValueFormatter(this.LinearMinValue,this.LinearMaxValue,this.MajorIncrement,this.Options.tickLabel.scaling,a,this.Options.translations)}for(var s=0;s<=this.MajorTickCount;s++){var n=s*this.MajorIncrement+this.getMinLabel();if(n-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;var o,l=this.GetUnboundedCoordAt(n);if(this.Options._skipHighestTick){if(n==this.LinearMaxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this.MaxCoord)<this.getTickLabelHeight())continue}this.IsLog?(n=this.linearToActual(n),this._axisValueFormatter=new i.LinearScaleAxisValueFormatter(n,n,n,this.Options.tickLabel.scaling,a,this.Options.translations),o=this._formatValue(n)):o=this._formatValue(n),e?r.push(o):r.push(this.CreateLabel(t,o,l))}return r},pt.prototype.getMajorTickCoords=function(){for(var t=[],e=0;e<=this.MajorTickCount;e++){var i=e*this.MajorIncrement+this.getMinLabel();if(i-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;if(!this.Options._skipHighestTick||i!=this.LinearMaxValue){var r=this.GetUnboundedCoordAt(i);t.push(r)}}return t},pt.prototype.getMinorTickCoords=function(){for(var t=[],i=-1;i<=this.MajorTickCount;i++){var r=i*this.MajorIncrement+this.getMinLabel();if(this.IsLog&&1==this.MajorIncrement&&1==this.MinorIncrement)for(var a=2;a<=9;a++){var s=r+e.Math.log10(a);if(s>this.LinearMaxValue)break;s<this.LinearMinValue||(o=this.GetUnboundedCoordAt(s),t.push(o))}else for(a=1;a<this.MinorTickCount;a++){var n=r+a*this.MinorIncrement;if(n>this.LinearMaxValue)break;if(!(n<this.LinearMinValue)){var o=this.GetUnboundedCoordAt(n);t.push(o)}}}return t},pt.prototype._formatValue=function(t){if(this.Converter&&this.Converter.format)return this._axisValueFormatter?this._axisValueFormatter.format(t,this.Converter):this.Converter.format(t);if(this._axisValueFormatter)return this._axisValueFormatter.format(t);var i=e.Math.log10(this.MajorIncrement),r=Math.max(Math.ceil(-i),0);return t.toFixed(r)},pt.prototype.getMajorTickCount=function(){return this.MajorTickCount},pt.prototype.getMinorTickCount=function(){return this.MinorTickCount},pt.prototype.getMajorIncrement=function(){return this.linearToActual(this.MajorIncrement)},pt.prototype.getMinorIncrement=function(){return this.linearToActual(this.MinorIncrement)},pt.prototype.getMinimumExtent=function(){return(this.LinearGlobalMax-this.LinearGlobalMin)/pt.MAX_ZOOM_FACTOR},pt.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!e.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},pt.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!e.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow},pt.prototype.alignLogScaleToTickCount=function(t,e){if(this.IsLog)for(var i=this.getMajorTickCount();e<i;)this.MajorIncrement=null,this.MajorTickCount=null,this.MinorIncrement=null,this.MinorTickCount=null,t++,this.CalcMajorMinorIncr(t),i=this.getMajorTickCount();return t},pt.prototype.getLogScaleUnit=function(){return this.LogScaleUnit},i.DataAxisInfoMixin.call(pt.prototype);var _t=function(t,e,i){this.Init(t,e,i)};e.Obj.createSubclass(_t,C),C.registerConstructor("time",_t),_t.TIME_MONTH_MIN=28*(_t.TIME_DAY=24*(_t.TIME_HOUR=60*(_t.TIME_MINUTE=60*(_t.TIME_SECOND=1e3)))),_t.TIME_MONTH_MAX=31*_t.TIME_DAY,_t.TIME_YEAR_MIN=365*_t.TIME_DAY,_t.TIME_YEAR_MAX=366*_t.TIME_DAY,_t.prototype.Init=function(t,r,a){_t.superclass.Init.call(this,t,r,a),"top"==this.Position||"bottom"==this.Position?(r._isOverview||"on"!=r.tickLabel.rendered||(this.StartOverflow=Math.max(i.BaseAxisInfo.MINIMUM_AXIS_BUFFER-r.leftBuffer,0),this.EndOverflow=Math.max(i.BaseAxisInfo.MINIMUM_AXIS_BUFFER-r.rightBuffer,0)),e.Agent.isRightToLeft(t)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var s=null!=r.tickLabel?r.tickLabel.converter:null;this._label1Converter=s&&s[0]?s[0]:s,this._label2Converter=s&&s[1]?s[1]:null,this._dateToIsoWithTimeZoneConverter=t.getLocaleHelpers().dateToIsoWithTimeZoneConverter,this._groups=r.groups;var n=r.timeAxisType;this._skipGaps="skipGaps"==n,this._mixedFrequency="mixedFrequency"==n,this.DataMin=r.dataMin,this.DataMax=r.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*_t.TIME_MINUTE,this._step=r.step;var o=r.endGroupOffset>0?r.endGroupOffset*this._averageInterval:0,l=r.startGroupOffset>0?r.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=r.min?r.min:this.DataMin-l,this.GlobalMax=null!=r.max?r.max:this.DataMax+o,null!=r.viewportStartGroup&&(this.MinValue=r.viewportStartGroup-l),null!=r.viewportEndGroup&&(this.MaxValue=r.viewportEndGroup+o),null!=r.viewportMin&&(this.MinValue=r.viewportMin),null!=r.viewportMax&&(this.MaxValue=r.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=r._locale.toLowerCase(),this._monthResources=t.LocaleData.getMonthNames("abbreviated")},_t._getAMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"am";if("en-gb"==t)return"";switch(e){case"en":return"AM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},_t._getPMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"pm";if("en-gb"==t)return"";switch(e){case"en":return"PM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},_t._getAMPMBefore=function(t){var e=t.substring(0,2);return"ko"==e||"zh"==e},_t._getDMYOrder=function(t){var e=t.substring(0,2);return"en-us"==t||"en-ph"==t?"MDY":"fa"==e||"hu"==e||"ja"==e||"ko"==e||"lt"==e||"mn"==e||"zh"==e?"YMD":"DMY"},_t._getYearTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},_t._getDayTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},_t.prototype.formatLabel=function(t){var e=new Date(t),i=this._formatAxisLabel(e,null,!0);return null!=i[1]?"YMD"==_t._getDMYOrder(this._locale)||this._timeRange<_t.TIME_MONTH_MIN&&this._step<_t.TIME_DAY?i[1]+" "+i[0]:i[0]+" "+i[1]:i[0]},_t.prototype._calculateGranularity=function(){return this._step>=_t.TIME_YEAR_MIN||this._timeRange>=6*_t.TIME_YEAR_MIN?_t.TIME_YEAR_MIN:this._step>=_t.TIME_MONTH_MIN||this._timeRange>=6*_t.TIME_MONTH_MIN?_t.TIME_MONTH_MIN:this._step>=_t.TIME_DAY||this._timeRange>=6*_t.TIME_DAY?_t.TIME_DAY:this._step>=_t.TIME_HOUR||this._timeRange>=6*_t.TIME_HOUR?_t.TIME_HOUR:this._step>=_t.TIME_MINUTE||this._timeRange>=6*_t.TIME_MINUTE?_t.TIME_MINUTE:_t.TIME_SECOND},_t.prototype._formatAxisLabelWithConverter=function(t,e,i){if(i){var r=null,a=null;if(i.format&&(r=i.format(this._dateToIsoWithTimeZoneConverter&&t?this._dateToIsoWithTimeZoneConverter(t):t),a=i.format(this._dateToIsoWithTimeZoneConverter&&e?this._dateToIsoWithTimeZoneConverter(e):e)),a!=r)return r}return null},_t.prototype._formatAxisLabel=function(t,e,i){var r=null,a=null,s="left"==this.Position||"right"==this.Position,n=this._calculateGranularity();return this._label1Converter||this._label2Converter?(this._label1Converter&&(r=this._formatAxisLabelWithConverter(t,e,this._label1Converter)),this._label2Converter&&(a=this._formatAxisLabelWithConverter(t,e,this._label2Converter)),[r,a]):(n===_t.TIME_YEAR_MIN?r=this._formatDate(t,!1,!1,!0):n===_t.TIME_MONTH_MIN?(null!=e&&e.getMonth()==t.getMonth()||(r=this._formatDate(t,!1,!0,!1)),null!=e&&e.getYear()==t.getYear()||(a=this._formatDate(t,!1,!1,!0))):n===_t.TIME_DAY?i?r=this._formatDate(t,!0,!0,!0):(null!=e&&e.getDate()==t.getDate()||(r=this._formatDate(t,!0,!1,!1)),null==e||e.getYear()!=t.getYear()?a=this._formatDate(t,!1,!0,!0):e.getMonth()!=t.getMonth()&&(a=this._formatDate(t,!1,!0,!1))):(n===_t.TIME_HOUR?null!=e&&e.getHours()==t.getHours()||(r=this._formatTime(t,!1,!1)):n===_t.TIME_MINUTE?null!=e&&e.getMinutes()==t.getMinutes()||(r=this._formatTime(t,!0,!1)):null!=e&&e.getSeconds()==t.getSeconds()||(r=this._formatTime(t,!0,!0)),s?null!=e&&e.getDate()==t.getDate()||(a=this._formatDate(t,!0,!0,!1)):null==e||e.getYear()!=t.getYear()?a=this._formatDate(t,!0,!0,!0):e.getMonth()!=t.getMonth()?a=this._formatDate(t,!0,!0,!1):e.getDate()!=t.getDate()&&(a=this._formatDate(t,!0,!1,!1))),[r,a])},_t.prototype._formatDate=function(t,e,i,r){var a,s=t.getFullYear();a=this._monthResources&&this._monthResources.length>=12?this._monthResources[t.getMonth()]:t.toString().split(" ")[1];var n=t.getDate();s+=_t._getYearTrailingCharacters(this._locale),n+=_t._getDayTrailingCharacters(this._locale);for(var o=_t._getDMYOrder(this._locale),l="",h=0;h<o.length;h++)e&&"D"==o[h]?l+=n+" ":i&&"M"==o[h]?l+=a+" ":r&&"Y"==o[h]&&(l+=s+" ");return l.length>0?l.slice(0,l.length-1):l},_t.prototype._formatTime=function(t,i,r){var a,s=t.getHours(),n=t.getMinutes(),o=t.getSeconds(),l=_t._getAMString(this._locale),h=_t._getPMString(this._locale),u=_t._getAMPMBefore(this._locale),g=""!=l&&""!=h,d="";return e.Agent.isRightToLeft(this.getCtx())&&(d=""),g?(s<12?(a=l,0==s&&(s=12)):(a=h,s>12&&(s-=12)),d+=s,(i||0!=n)&&(d+=":"+this._doubleDigit(n))):d+=this._doubleDigit(s)+":"+this._doubleDigit(n),r&&(d+=":"+this._doubleDigit(o)),g?u?a+" "+d:d+" "+a:d},_t.prototype._doubleDigit=function(t){return t<10?"0"+t:""+t},_t.prototype._getMixedFrequencyStep=function(){return this._timeRange>=6*_t.TIME_YEAR_MIN?_t.TIME_YEAR_MIN:this._timeRange>=6*_t.TIME_MONTH_MIN?_t.TIME_MONTH_MIN:this._timeRange>=6*_t.TIME_DAY?_t.TIME_DAY:this._timeRange>=_t.TIME_DAY?3*_t.TIME_HOUR:this._timeRange>=6*_t.TIME_HOUR?_t.TIME_HOUR:this._timeRange>=_t.TIME_HOUR?15*_t.TIME_MINUTE:this._timeRange>=30*_t.TIME_MINUTE?5*_t.TIME_MINUTE:this._timeRange>=6*_t.TIME_MINUTE?_t.TIME_MINUTE:this._timeRange>=_t.TIME_MINUTE?15*_t.TIME_SECOND:this._timeRange>=30*_t.TIME_SECOND?5*_t.TIME_SECOND:_t.TIME_SECOND},_t._getLabelPositions=function(t,e,i){var r=new Date(t),a=r.getTimezoneOffset();r.setMonth(0,1),r.setHours(0,0,0,0);var s=60*(a-r.getTimezoneOffset())*1e3,n=r.getTime()+s,o=[];if(i>=_t.TIME_YEAR_MIN&&i<=_t.TIME_YEAR_MAX){for(;n<t;)n=_t._addOneYear(n);for(;n<=e;)o.push(n),n=_t._addOneYear(n)}else if(i>=_t.TIME_MONTH_MIN&&i<=_t.TIME_MONTH_MAX){for(;n<t;)n=_t._addOneMonth(n);for(;n<=e;)o.push(n),n=_t._addOneMonth(n)}else for(n+=Math.ceil((t-n)/i)*i;n<=e;)o.push(n),n+=i;return o},_t._addOneYear=function(t){var e=new Date(t);return e.setFullYear(e.getFullYear()+1),e.getTime()},_t._addOneMonth=function(t){var e=new Date(t);return e.setMonth(e.getMonth()+1),e.getTime()},_t.prototype._generateLabels=function(t){var i=[],r=[],a=[],s=[],n=[],o=null,l=0,h=0,u=t.getStage(t),g=e.Agent.isRightToLeft(t),d="left"==this.Position||"right"==this.Position,c="off"!=this.Options.zoomAndScroll,p=!0,_=0;d&&"blink"===e.Agent.engine&&(_=.16*this.getTickLabelHeight());var f=[];if(null!=this._step)f=_t._getLabelPositions(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),f=_t._getLabelPositions(this.MinValue,this.MaxValue,this._step);else{for(var v=0;v<this._groups.length;v++)this._groups[v]>=this.MinValue&&this._groups[v]<=this.MaxValue&&f.push(this._groups[v]);if(this._step=this._averageInterval,!this._skipGaps){var m;if((f=_t._treatMissingValues(f,this._calculateGranularity())).length>1&&(this._step=(f[f.length-1]-f[0])/(f.length-1)),d)m=e.TextUtils.getTextStringHeight(t,this.Options.tickLabel.style);else{var S=this._formatAxisLabel(new Date(f[0]))[0];m=e.TextUtils.getTextStringWidth(t,S,this.Options.tickLabel.style)}(m+this.GetTickLabelGapSize())*(f.length-1)>Math.abs(this._endCoord-this._startCoord)&&(this._step=this._getMixedFrequencyStep(),f=_t._getLabelPositions(this.MinValue,this.MaxValue,this._step))}}0==f.length&&(f=[this.MinValue]);for(v=0;v<f.length;v++){var y=f[v],x=this.getCoordAt(y);if(null!=x){var C=new Date(y),A=this._formatAxisLabel(C,o),b=A[0],M=A[1];if(null!=b?(a.push({text:b,coord:null!=M?x+_:x}),s.push(x),l++):(a.push(null),s.push(null)),i.push(null),c&&p&&(x=this.MinValue?this.getCoordAt(this.MinValue):x),p=!1,null!=M){var T=this.CreateLabel(t,M,null!=M?x-_:x);n.push(x),d||(g?T.alignRight():T.alignLeft()),r.push(T),this._isOneLevel=!1,h++}else r.push(null),n.push(null);o=C}}if(l=this._skipLabelsUniform(a,i,u,!1,g),!c&&h>1&&l<1.5*h){i=r,r=null;for(var D=0;D<i.length;D++)null!=i[D]&&i[D].alignCenter();l=this._skipLabelsGreedy(i,this.GetLabelDims(i,u),!1,g)}else 0==(h=this._skipLabelsGreedy(r,this.GetLabelDims(r,u),!0,g))&&(r=null);d&&null!=r&&this._skipVertLabels(i,r,u),this._level1Labels=i,this._level2Labels=r,this._level1Coords=s,this._level2Coords=n},_t._getGCDInterval=function(t){for(var e=function(t,i){return 0===t?i:e(i%t,t)},i=t[0],r=1;r<t.length;r++)if(1===(i=e(i,t[r])))return 1;return i},_t._calculateGranularInterval=function(t,e,i){var r,a=t.getTimezoneOffset(),s=e.getTimezoneOffset(),n=e.getTime(),o=1e3*(a-s)*60;return o>0&&e.setTime(n+o),r=i===_t.TIME_YEAR_MIN?e.getFullYear()-t.getFullYear():i===_t.TIME_MONTH_MIN?12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()):Math.round((e.getTime()-t.getTime())/i),o>0&&e.setTime(n),r},_t._treatMissingValues=function(t,e){var i,r,a=new Set,s=!1,n=t,o=[],l=t.length,h=new Date(t[0]);for(r=1;r<l;r++){var u=new Date(t[r]),g=_t._calculateGranularInterval(h,u,e);h=u,o.push(g),g<=0||(a.add(g),i?g!==i&&(s=!0):i=g)}if(s){var d=_t._getGCDInterval([...a]);for((n=[]).push(t[0]),r=1;r<l;r++){var c=t[r],p=t[r-1];if((g=o[r-1])<=d)n.push(c);else{var _,f=g/d,v=f-1,m=Math.round((c-p)/f);for(_=1;_<=v;_++)p+=m,n.push(p);n.push(c),p=c}}}return n},_t._isOverlapping=function(t,e,i,r,a){return i>=t&&i-a<e||i<t&&r+a>t},_t.prototype._getLabelOverflow=function(t,e,i,r){var a=t-(i?r?e:0:.5*e);if(a<this.Options._minOverflowCoord)return Math.floor(a-this.Options._minOverflowCoord);var s=t+(i?r?0:e:.5*e);return s>this.Options._maxOverflowCoord?Math.ceil(s-this.Options._maxOverflowCoord):0},_t.prototype._skipLabelsGreedy=function(t,e,i,r){if(!e||e.length<=0)return!1;for(var a,s,n,o,l,h="left"==this.Position||"right"==this.Position,u=this.getTickLabelHeight(),g=h?.08*u:.24*u,d=0,c=Math.abs(this._endCoord-this._startCoord),p=0;p<e.length;p++)if(this._level2Overflow.push(0),null!=t[p]){var _=(l=t[p]).getDimensions().w;if(e[p].w>c)t[p]=null;else{var f=this._getLabelOverflow(l.getX(),_,i,r);this._level2Overflow[p]=f,0!=f&&(l.setX(l.getX()-f),e[p].x-=f)}}for(p=0;p<e.length;p++)null!=e[p]&&(h?(n=e[p].y,o=e[p].y+e[p].h):(n=e[p].x,o=e[p].x+e[p].w),null!=a&&null!=s&&_t._isOverlapping(a,s,n,o,g)&&(t[p]=null),null!=t[p]&&(a=n,s=o,d++));return d},_t.prototype._skipLabelsUniform=function(t,e,i,r){for(var a=[],s=[],n=Math.abs(this._endCoord-this._startCoord),o=0;o<t.length;o++)null!=t[o]&&(a.push(t[o]),s.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,h=this,u=function(t){if(null==s[t])if(a[t].label=h.CreateLabel(i.getCtx(),a[t].text,a[t].coord),s[t]=a[t].label.getDimensions(i),s[t].w>n)a[t].label=null,s[t].w=0,s[t].h=0;else{var e=h._getLabelOverflow(a[t].coord,s[t].w,!1,r);0!=e&&(a[t].coord-=e,s[t].x-=e,a[t].label.setX(a[t].label.getX()-e),h._level1Overflow[t]=e)}return l?s[t].h:s[t].w},g=(u(0)+this.GetTickLabelGapSize())*(a.length-1),d=n>0?Math.ceil(g/n)-1:0,c=!0;c;){for(o=0;o<a.length;o++)o%(d+1)==0?(u(o),a[o].skipped=!1):a[o].skipped=!0;c=this.IsOverlapping(s,d),d++}var p=0;for(o=0;o<t.length;o++)null==t[o]||t[o].skipped||(e[o]=t[o].label,p++);return p},_t.prototype._skipVertLabels=function(t,e,i){for(var r=.08*this.getTickLabelHeight(),a=function(t,e){return _t._isOverlapping(t.y,t.y+t.h,e.y,e.y+e.h,r)},s=null,n=!1,o=0;o<t.length;o++)if(t[o]&&e[o]){if(t[o].alignTop(),e[o].alignBottom(),s&&a(s,e[o].getDimensions())){n=!0;break}s=t[o].getDimensions()}else if(t[o]||e[o]){var l=t[o]?t[o]:e[o];if(s&&a(s,l.getDimensions())){n=!0;break}s=l.getDimensions()}if(n){var h,u=null,g=null,d=null;for(o=0;o<t.length;o++)e[o]?(t[o]=null,e[o].alignMiddle(),h=e[o].getDimensions(),g&&a(g,h)&&(t[u]=null),d=h):t[o]&&(h=t[o].getDimensions(),d&&a(d,h)?t[o]=null:(g=h,u=o))}},_t.prototype.getLabels=function(t,e){return e&&e>1?null:(this._level1Labels||this._generateLabels(t),1==e?this._level2Labels:this._level1Labels)},_t.prototype.getMajorTickCoords=function(){var t=[];if(this._isOneLevel)for(var e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);else for(e=1;e<this._level2Coords.length;e++)null!=this._level2Coords[e]&&t.push(this._level2Coords[e]);return t},_t.prototype.getMinorTickCoords=function(){if(this._isOneLevel)return[];for(var t=[],e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);return t},_t.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);return this._indexToTime(i+e*(r-i))}return this.MinValue+e*(this.MaxValue-this.MinValue)},_t.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;var e;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);e=(this._timeToIndex(t)-i)/(r-i)}else e=(t-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+e*(this._endCoord-this._startCoord)},_t.prototype.linearToActual=function(t){return null==t?null:this._skipGaps?this._indexToTime(t):t},_t.prototype.actualToLinear=function(t){return null==t?null:this._skipGaps?this._timeToIndex(t):t},_t.prototype._timeToIndex=function(t){for(var e=this._groups.length,i=0;i<this._groups.length;i++)if(t<=this._groups[i]){e=i;break}var r=e-1,a=void 0!==this._groups[r]?this._groups[r]:this._groups[0]-this._averageInterval;return r+(t-a)/((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-a)},_t.prototype._indexToTime=function(t){var e=Math.min(Math.max(Math.ceil(t),0),this._groups.length),i=e-1,r=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval;return r+(t-i)*((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-r)},_t.prototype.getGroupWidth=function(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))},_t.prototype.getMinimumExtent=function(){return this._skipGaps?1:this._mixedFrequency?Math.min((this.getGlobalMax()-this.getGlobalMin())/8,this._averageInterval):this._averageInterval},_t.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!e.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},_t.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!e.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};var ft=new Object;e.Obj.createSubclass(ft,e.Obj),ft.renderBackgroundObjects=function(t,e,i){ft._renderObjects(t,e,i,"back")},ft.renderForegroundObjects=function(t,e,i){ft._renderObjects(t,e,i,"front")},ft._renderObjects=function(t,e,i,r){ft._renderObjectsForAxis(t,e,i,r,t.xAxis,g.getAxisRefObjs(t,"x")),ft._renderObjectsForAxis(t,e,i,r,t.yAxis,g.getAxisRefObjs(t,"y")),ft._renderObjectsForAxis(t,e,i,r,t.y2Axis,g.getAxisRefObjs(t,"y2"))},ft._renderObjectsForAxis=function(t,e,i,r,a,s){if(s&&a)for(var n=0;n<s.length;n++){var o=s[n];if(f.isObjectRendered(t,o)&&(o&&f.getLocation(o)==r)){var l,h,u=f.getType(o);if("area"==u?l=ft._createReferenceArea(o,t,i,a):"line"==u&&(l=ft._createReferenceLine(o,t,i,a),h=ft._createReferenceLine(o,t,i,a,!0)),null!=l){var g=a==t.xAxis?"xAxis":a==t.yAxis?"yAxis":"y2Axis",d=new S(t,h?[l,h]:[l],o,n,g);t.registerObject(d),t.getEventManager().associate(l,d),e.addChild(l),h&&e.addChild(h)}}}},ft._createReferenceArea=function(t,i,r,a){var s,n=i.getCtx(),o=a.getPosition(),u="top"==o||"bottom"==o,d="radial"==o,c=f.getColor(i,t),p=f.getLineType(t),_=t.style||t.svgStyle,v=t.className||t.svgClassName;if(null==t.items||a!=i.yAxis&&a!=i.y2Axis){var m=f.getLowValue(t),S=f.getHighValue(t);null!=m&&m!=-1/0||(m=a.getInfo().getGlobalMin()),null!=S&&S!=1/0||(S=a.getInfo().getGlobalMax());var y=ft._getAxisCoord(i,a,m),x=ft._getAxisCoord(i,a,S);if(l.isPolar(i)){var C,A=r.x+r.w/2,b=r.y+r.h/2;if(d)if(P.isGridPolygonal(i)){var M=g.getGroupCount(i),T=e.PolygonUtils.getRegularPolygonPoints(A,b,M,x,0,1),D=e.PolygonUtils.getRegularPolygonPoints(A,b,M,y,0,0);C=e.PathUtils.polyline(T)+e.PathUtils.polyline(D)+e.PathUtils.closePath()}else C=e.PathUtils.moveTo(A,b-x)+e.PathUtils.arcTo(x,x,Math.PI,1,A,b+x)+e.PathUtils.arcTo(x,x,Math.PI,1,A,b-x)+e.PathUtils.moveTo(A,b-y)+e.PathUtils.arcTo(y,y,Math.PI,0,A,b+y)+e.PathUtils.arcTo(y,y,Math.PI,0,A,b-y)+e.PathUtils.closePath();else{var I=i.getRadius(),O=h.polarToCartesian(I,y,r),E=h.polarToCartesian(I,x,r);C=e.PathUtils.moveTo(A,b)+e.PathUtils.lineTo(O.x,O.y)+e.PathUtils.arcTo(I,I,x-y,e.Agent.isRightToLeft(n)?0:1,E.x,E.y)+e.PathUtils.lineTo(E.x,E.y)+e.PathUtils.closePath()}s=new e.Path(n,C)}else{var L;L=u?[y,0,x,0,x,r.h,y,r.h]:[0,y,0,x,r.w,x,r.w,y],s=new e.Polygon(n,L)}s.setSolidFill(c),s.setStyle(_).setClassName(v)}else{var w=t.items,R=[],B=[];if(i.xAxis.isGroupAxis())for(;w.length<g.getGroupCount(i);)w.push(null);for(var k=0;k<w.length;k++){var F=w[k],N=f.getLowValue(F),H=f.getHighValue(F);if(null!=N&&null!=H){var G=a.getUnboundedCoordAt(N),U=a.getUnboundedCoordAt(H),V=i.xAxis.getUnboundedCoordAt(f.getXValue(i,w,k));R.push(new ot(V,U,U)),B.push(new ot(V,G,G))}else R.push(new ot),B.push(new ot)}s=new lt(i,!0,r,null,_,v,new e.SolidFill(c),null,p,R,p,B)}return s},ft._createReferenceLine=function(t,i,r,a,s){var n,o=a.getPosition(),l="top"==o||"bottom"==o,u="radial"==o,d="tangential"==o,c=f.getLineWidth(i,t),p=f.getLineType(t),_=f.getColor(i,t),v=t.style||t.svgStyle,m=s?"oj-chart-reference-object-inner-line":t.className||t.svgClassName,S=new e.Stroke(_,1,c,!1,e.Stroke.getDefaultDashProps(t.lineStyle,c)),y=i.getCtx();if(null==t.items||a!=i.yAxis&&a!=i.y2Axis){if(null==t.value)return null;var x=ft._getAxisCoord(i,a,t.value);if(null==x||x==1/0||x==-1/0)return null;s&&(x-=Math.ceil(c/2));var C=r.x+r.w/2,A=r.y+r.h/2;if(u){if(P.isGridPolygonal(i)){M=e.PolygonUtils.getRegularPolygonPoints(C,A,g.getGroupCount(i),x,0);n=new e.Polygon(y,M)}else n=new e.Circle(y,C,A,x);n.setFill(null)}else if(d){var b=h.polarToCartesian(i.getRadius(),x,r);n=new e.Line(y,C,A,b.x,b.y)}else(n=l?new e.Line(y,x,0,x,r.h):new e.Line(y,0,x,r.w,x)).setPixelHinting(!0);n.setStroke(S),n.setStyle(v).setClassName(m)}else{var M,T=t.items;if([].push(M=[]),i.xAxis.isGroupAxis())for(;T.length<g.getGroupCount(i);)T.push(null);for(var D=[],I=0;I<T.length;I++){var O=T[I],E=null;if(null!=O&&("object"!=typeof O?E=O:null!=O.value&&(E=O.value)),null!=E){var L=a.getUnboundedCoordAt(E)-(s?c/2:0),w=i.xAxis.getUnboundedCoordAt(f.getXValue(i,T,I));D.push(new ot(w,L,L))}else D.push(new ot)}n=new lt(i,!1,r,null,v,m,null,S,p,D)}return n},ft._getAxisCoord=function(t,e,i){if(e.isGroupAxis()){var r=g.getGroupIndex(t,i);if(r>=0)return e.getUnboundedCoordAt(r)}return isNaN(i)?null:e.getUnboundedCoordAt(i)};var vt=new Object;e.Obj.createSubclass(vt,e.Obj),vt._MIN_BUBBLE_SIZE=6,vt._MAX_BUBBLE_SIZE_RATIO=.5,vt.calcBubbleSizes=function(t,i){for(var r,a,s=P.getMinMaxValue(t,"z"),n=s.min,o=s.max,h=vt._MIN_BUBBLE_SIZE,u=vt._MAX_BUBBLE_SIZE_RATIO*Math.min(i.w,i.h),d=g.getSeriesCount(t),c="withoutRescale"==E.getHideAndShowBehavior(t),p=t.getOptionsCache(),_=0;_<d;_++)if(c||g.isSeriesRendered(t,_))for(var f=g.getSeriesItem(t,_),v=f.items?f.items.length:0,m=0;m<v;m++){var S=f.items[m];if(S){var y=e.LayoutUtils.getBubbleSize(S.z,n,o,h,u);p.putToCachedMap2D("bubbleSizeCache",_,m,y)}}l.isPolar(t)?(r=1/0,a=t.getRadius()):(r=i.w-2.4*P.getTickLabelHeight(t,"y"),a=i.h-1.6*P.getTickLabelHeight(t,"x")),r-=.5*u,a-=.5*u;var x=t.getCache(),C=vt._getAxisValueRange(t,"x");x.putToCache("_xAxisBubbleRatio",C/r);var A=vt._getAxisValueRange(t,"y");x.putToCache("_yAxisBubbleRatio",A/a)},vt._getAxisValueRange=function(t,i){var r=t.getOptions()[i+"Axis"],a=P.isLog(t,i),s=!a&&"zero"==P.getBaselineScaling(t,i),n=P.getMinMaxValue(t,i,!0),o=r.min;null==o&&(o=s?Math.min(0,n.min):n.min);var l=r.max;return null==l&&(l=s?Math.max(0,n.max):n.max),a&&l>0&&o>0?l==o?6:e.Math.log10(l/o):l==o?60:l-o},vt.sortMarkers=function(t){t.sort(vt._compareSize)},vt.sortMarkerInfos=function(t){t.sort(vt._compareInfoSize)},vt._compareSize=function(t,e){return e.getSize()-t.getSize()},vt._compareInfoSize=function(t,e){return e.size-t.size},vt.checkPixelMap=function(t,e,i,r){var a=r/2,s=Math.max(Math.floor(e-a),0),n=Math.max(Math.floor(i-a),0),o=Math.max(Math.ceil(e+a),0),l=Math.max(Math.ceil(i+a),0);return t.isObscured(s,n,o,l)},vt.updatePixelMap=function(t,e,i,r,a){var s=.4*r,n=Math.max(Math.round(e-s),0),o=Math.max(Math.round(e+s),0),l=Math.max(Math.round(i-s),0),h=Math.max(Math.round(i+s),0);t.obscure(n,l,o,h,a)};var mt=new Object;e.Obj.createSubclass(mt,e.Obj),mt._MIN_TOUCH_MARKER_SIZE=16,mt._MIN_CHARS_DATA_LABEL=3,mt.FILTER_THRESHOLD_SCATTER_BUBBLE=1e4,mt.render=function(t,e,i){"off"==t.getOptions().plotArea.rendered?mt._renderAxisLines(t,e,i):i.w>0&&i.h>0&&(t._currentMarkers=new Array,t._currentAreas=new Array,mt._renderBackgroundObjects(t,e,i),mt._renderTicks(t,e,i),mt._renderForegroundObjects(t,e,i))},mt._renderBackgroundObjects=function(t,i,r){var a=t.getOptions(),s=mt._getBackgroundShape(t,r),n=p.getBackgroundColor(t);if(n?s.setSolidFill(n):s.setInvisibleFill(),i.addChild(s),t.getCache().putToCache("plotAreaBackground",s),E.isPlotAreaDraggable(t)&&s.setClassName("oj-draggable"),a.xAxis.referenceObjects||a.yAxis.referenceObjects||a.y2Axis.referenceObjects){var o=mt.createClippedGroup(t,i,r);ft.renderBackgroundObjects(t,o,r)}if(l.isBLAC(t)){var h=new e.Container(t.getCtx());i.addChild(h),t.__setAreaContainer(h),g.hasAreaSeries(t)&&mt._renderAreas(t,h,r,!1)}},mt._getBackgroundShape=function(t,i){var r,a=t.getCtx();if(l.isPolar(t)){var s=i.x+i.w/2,n=i.y+i.h/2;if(P.isGridPolygonal(t)){var o=e.PolygonUtils.getRegularPolygonPoints(s,n,g.getGroupCount(t),t.getRadius(),0);r=new e.Polygon(a,o)}else r=new e.Circle(a,s,n,t.getRadius())}else r=new e.Rect(a,i.x,i.y,i.w,i.h);return r},mt._renderTicks=function(t,e,i){t.xAxis&&P.isMinorTickRendered(t,"x")&&mt._renderMinorTicks(t,e,t.xAxis,i),t.yAxis&&P.isMinorTickRendered(t,"y")&&mt._renderMinorTicks(t,e,t.yAxis,i),t.y2Axis&&P.isMinorTickRendered(t,"y2")&&mt._renderMinorTicks(t,e,t.y2Axis,i),t.xAxis&&P.isMajorTickRendered(t,"x")&&mt._renderMajorTicks(t,e,t.xAxis,i),t.yAxis&&P.isMajorTickRendered(t,"y")&&mt._renderMajorTicks(t,e,t.yAxis,i),t.y2Axis&&P.isMajorTickRendered(t,"y2")&&mt._renderMajorTicks(t,e,t.y2Axis,i)},mt._renderAxisLines=function(t,e,i){t.xAxis&&t.yAxis&&P.isAxisLineRendered(t,"x")&&mt._renderAxisLine(t,e,t.xAxis,t.yAxis,i),t.xAxis&&t.y2Axis&&P.isAxisLineRendered(t,"x")&&(t.yAxis&&!g.isSplitDualY(t)||mt._renderAxisLine(t,e,t.xAxis,t.y2Axis,i)),t.yAxis&&t.xAxis&&P.isAxisLineRendered(t,"y")&&mt._renderAxisLine(t,e,t.yAxis,t.xAxis,i),t.y2Axis&&t.xAxis&&P.isAxisLineRendered(t,"y2")&&mt._renderAxisLine(t,e,t.y2Axis,t.xAxis,i)},mt._renderMajorTicks=function(t,e,i,r){mt._renderGridlines(t,e,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),r)},mt._renderMinorTicks=function(t,e,i,r){mt._renderGridlines(t,e,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,r)},mt._renderAxisLine=function(t,e,i,r,a){var s=i.getOptions(),n=s.position,o="bottom"==n||"right"==n||"tangential"==n?r.getMaxCoord():r.getMinCoord();mt._renderGridlines(t,e,s.axisLine,r.getPosition(),[o],null,a)},mt._renderGridlines=function(t,i,r,a,s,n,o){var l=r.lineColor,h=r.lineStyle,u=new e.Stroke(l,1,r.lineWidth,!1,e.Stroke.getDefaultDashProps(h,r.lineWidth)),g=u.getColor();"inherit"!=r.baselineColor&&(g="auto"==r.baselineColor?e.ColorUtils.getDarker(l,.6):r.baselineColor);for(var d=null!=r.baselineWidth?r.baselineWidth:r.lineWidth,c=r.baselineStyle?r.baselineStyle:r.lineStyle,p=new e.Stroke(g,1,d,!1,e.Stroke.getDefaultDashProps(c,d)),_="",f=0;f<s.length;f++){var v=null!=n&&s[f]==n;"radial"==a||"tangential"==a||v?mt._renderGridline(t,i,a,s[f],v?p:u,o):_+="top"==a||"bottom"==a?e.PathUtils.moveTo(s[f],o.y)+e.PathUtils.verticalLineTo(o.y+o.h):e.PathUtils.moveTo(o.x,s[f])+e.PathUtils.horizontalLineTo(o.x+o.w)}if(""!=_){var m=new e.Path(t.getCtx(),_);(!e.Agent.isTouchDevice()||e.Agent.getDevicePixelRatio()>1)&&m.setPixelHinting(!0),m.setStroke(u),m.setMouseEnabled(!1),i.addChild(m)}},mt._renderGridline=function(t,i,r,a,s,n){var o,l=i.getCtx(),h=!e.Agent.isTouchDevice()||e.Agent.getDevicePixelRatio()>1;if("radial"==r){if(P.isGridPolygonal(t)){var u=e.PolygonUtils.getRegularPolygonPoints(0,0,g.getGroupCount(t),a,0);o=new e.Polygon(l,u)}else o=new e.Circle(l,0,0,a);o.setInvisibleFill(),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else if("tangential"==r){o=new e.Line(l,0,0,t.getRadius()*Math.sin(a),-t.getRadius()*Math.cos(a));var d=a%(Math.PI/2);(d<.001||d>Math.PI/2-.001)&&h&&o.setPixelHinting(!0),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else o="top"==r||"bottom"==r?new e.Line(l,a,n.y,a,n.y+n.h):new e.Line(l,n.x,a,n.x+n.w,a),h&&o.setPixelHinting(!0);o.setStroke(s),o.setMouseEnabled(!1),i.addChild(o)},mt._renderForegroundObjects=function(t,e,i){var r=t.getOptions(),a=mt.createClippedGroup(t,e,i);mt._renderAxisLines(t,e,i);var s=r.plotArea.borderColor,n=r.plotArea.borderWidth;if(s&&0!=n){var o=mt._getBackgroundShape(t,i);o.setInvisibleFill(),o.setSolidStroke(s,null,n),o.setMouseEnabled(!1),e.addChild(o)}l.isBLAC(t)?(g.hasLineWithAreaSeries(t)&&mt._renderAreas(t,e,i,!0),g.hasBarSeries(t)&&mt._renderBars(t,a,i),g.hasCandlestickSeries(t)&&mt._renderStock(t,a,i),g.hasBoxPlotSeries(t)&&mt._renderBoxPlot(t,a,i),g.hasLineSeries(t)&&mt._renderLines(t,e,a,i)):l.isScatterBubble(t)&&mt._renderScatterBubble(t,e,a,!0,i),(r.xAxis.referenceObjects||r.yAxis.referenceObjects||r.y2Axis.referenceObjects)&&(a=mt.createClippedGroup(t,e,i),ft.renderForegroundObjects(t,a,i));var h=g.getInitialSelection(t);k.setInitialSelection(t,h),t.highlight(g.getHighlightedCategories(t))},mt._renderDataLabel=function(t,i,r,a,s,n,o,h,u,d){if(!l.isOverview(t)){var c="bar"==g.getSeriesType(t,a),_=l.isHorizontal(t),f={width:_?r.w:d,height:_?d:r.h},v=t.getOptions(),m=v.styleDefaults,S=null!=t.y2Axis,y="on"===v.legend.rendered;c&&t.getOptionsCache().putToCachedMap2D("barDims",a,s,f);var x=p.getDataLabel(t,a,s,n,h,u);if(null!=x){var C=w.getDataLabelPosition(t,a,s,n,h,u);if("none"!=C){var A=new e.OutputText(t.getCtx(),x,0,0);A.setMouseEnabled(!1);var b=u?m.stackLabelStyle:p.getDataLabelStyle(t,a,s,n,o,C,h);A.setCSSStyle(b),A.setY(r.y+r.h/2),A.setX(r.x+r.w/2),A.alignCenter(),A.alignMiddle();var M=A.getDimensions(),T=t.getCache().getFromCache("plotAreaDims");T||(T=t.getPlotArea().getDimensions(),t.getCache().putToCache("plotAreaDims",T));var D=function(t,e,i,r){var a={x:null,y:null},s=r&&r.xAxis&&("left"==t||"right"==t),n=r&&r.top&&("left"==t||"right"==t),o=r&&((S||!y)&&r.y2Axis||r.legend)&&("top"==t||"bottom"==t),l=r&&r.yAxis&&("top"==t||"bottom"==t);"left"==t?a.x=e.x-i.w/2-p.MARKER_DATA_LABEL_GAP:"right"==t?a.x=e.x+e.w+i.w/2+p.MARKER_DATA_LABEL_GAP:"top"==t?a.y=e.y-i.h/2:"bottom"==t&&(a.y=e.y+e.h+i.h/2+p.MARKER_DATA_LABEL_GAP/2);var h=2*p.MARKER_DATA_LABEL_GAP;return o?a.x=T.x+T.w-i.w/2-h:l?a.x=i.w/2+h:s?a.y=T.y+T.h-i.h/2-h:n&&(a.y=i.h/2+h),a},I=m.dataLabelCollision,O=D(C,r,M);if("fitInBounds"===I){var E=p.getDataLabelCollisions(t,O,M,T,_),L=p.adjustDataLabelPosition(C,E,S);L!=C&&l.isBubble(t)&&(b=u?m.stackLabelStyle:p.getDataLabelStyle(t,a,s,n,o,L,h),A.setCSSStyle(b)),O=D(C=L,r,M,E)}if(null!=O.x||null!=O.y)null!=O.x&&A.setX(O.x),null!=O.y&&A.setY(O.y);else{if(c){if(M.w>f.width||M.h>f.height)return;"inLeft"==C?A.setX(r.x+M.w/2+p.MARKER_DATA_LABEL_GAP):"inRight"==C?A.setX(r.x+r.w-M.w/2-p.MARKER_DATA_LABEL_GAP):"inTop"==C?A.setY(r.y+M.h/2+p.MARKER_DATA_LABEL_GAP):"inBottom"==C&&A.setY(r.y+r.h-M.h/2-p.MARKER_DATA_LABEL_GAP/2)}else if(l.isBubble(t)){r.x+=p.MARKER_DATA_LABEL_GAP,r.y+=p.MARKER_DATA_LABEL_GAP,r.h-=2*p.MARKER_DATA_LABEL_GAP,r.w-=2*p.MARKER_DATA_LABEL_GAP;var P=e.TextUtils.getOptimalFontSize(A.getCtx(),A.getTextString(),A.getCSSStyle(),r);if(A.setFontSize(P),!e.TextUtils.fitText(A,r.w,r.h,i,mt._MIN_CHARS_DATA_LABEL))return}if(null!=p.getPattern(t,a,s)){var R=.15*(M=A.getDimensions()).h,B=e.PathUtils.roundedRectangle(M.x-R,M.y,M.w+2*R,M.h,2,2,2,2),k=new e.Path(t.getCtx(),B);k.setSolidFill("#FFFFFF",.9),i.addChild(k)}}if(l.isBar(t)){var F,N=A.getDimensions(),H=!1;if("left"==C&&N.x<0)H=!0,F=r.x-p.MARKER_DATA_LABEL_GAP;else if("right"==C&&N.x+N.w>T.w+p.MARKER_DATA_LABEL_GAP)H=!0,F=T.w-r.w-p.MARKER_DATA_LABEL_GAP;else{if("top"==C&&N.y<0)return;if("bottom"==C&&N.y+N.h>T.y+T.h+p.MARKER_DATA_LABEL_GAP)return}if(H){if(!isNaN(x))return;if(!e.TextUtils.fitText(A,F,r.h,i,1))return;M=A.getDimensions(),"left"==C?A.setX(r.x-M.w/2-p.MARKER_DATA_LABEL_GAP):"right"==C&&A.setX(r.x+r.w+M.w/2+p.MARKER_DATA_LABEL_GAP)}}p.optimizeMarkerStroke(t)&&A.setSolidStroke("none"),i.addChild(A),t.addDataLabel(A)}}}},mt._renderDataLabelForMarker=function(t,i,r){var a=t.getEventManager().getLogicalObject(r);if(a){var s=a.getSeriesIndex(),n=a.getGroupIndex(),o=a.getNestedDataItemIndex();if(r instanceof e.SimpleMarker){var l=new e.Rectangle(r.getCx()-r.getWidth()/2,r.getCy()-r.getHeight()/2,r.getWidth(),r.getHeight());mt._renderDataLabel(t,i,l,s,n,o,r.getDataColor())}else r instanceof gt&&(mt._renderDataLabel(t,i,r.getBoundingBox1(),s,n,o,r.getDataColor(),"low"),mt._renderDataLabel(t,i,r.getBoundingBox2(),s,n,o,r.getDataColor(),"high"))}},mt._renderScatterBubble=function(t,i,r,a,s){var n,o=mt._filterScatterBubble(t,a,s),h=g.getSeriesCount(t);for(n=0;n<h;n++)"none"!=p.getLineType(t,n)&&mt._renderLinesForSeries(t,r,n,s);var u=p.getMarkerBorderColor(t),d=p.getBorderWidth(t),c=new e.Stroke(u,1,d),_=[];if(o)for(var f=p.optimizeMarkerStroke(t),v=f?c.getColor():null,m=f?c.getWidth():null,S=0;S<o.length;S++){var y=o[S],x=mt._createMarker(t,y,v,m);_.push(x)}else{for(n=0;n<h;n++){var C=mt._getMarkersForSeries(t,n,s,c);_=_.concat(C)}a&&vt.sortMarkers(_)}l.isBubble(t)?mt._addMarkersToContainer(t,r,_,c):mt._addMarkersToContainer(t,i,_,c)},mt._renderMarkersForSeries=function(t,i,r,a){var s,n=p.getMarkerBorderColor(t,r),o=p.getBorderWidth(t,r),l=new e.Stroke(n,1,o);s=g.isRangeSeries(t,r)?mt._getRangeMarkersForSeries(t,r,a):mt._getMarkersForSeries(t,r,a,l),mt._addMarkersToContainer(t,i,s,l)},mt._addMarkersToContainer=function(t,i,r,a){var s=i,n=p.optimizeMarkerStroke(t),o=p.optimizeMarkerFill(t);(n||o)&&(s=new e.Container(t.getCtx()),n?s.setStroke(a):s.setInvisibleFill(),i.addChild(s));for(var l=0;l<r.length;l++)s.addChild(r[l]),mt._renderDataLabelForMarker(t,s,r[l]);t._currentMarkers.push(r)},mt._getMarkerInfo=function(t,i,r,a,s){var n=t.getOptions(),o=g.getValue(t,i,r,a);if(null==o||isNaN(o))return null;if(g.isDataItemFiltered(t,i,r))return null;var h=g.getGroupCount(t),u=p.isMarkerDisplayed(t,i,r,a);if(!u&&(null==a||a<0)){var d=h-1,c=l.isPolar(t),_=c&&d>0&&0==r?d:r-1,f=c&&d>0&&r==d?0:r+1,v=g.getValue(t,i,_),m=g.getValue(t,i,f);null!=v&&!isNaN(v)||null!=m&&!isNaN(m)||(u=!0)}if(!u){if(l.isSpark(t))return null;if((n._duringZoomAndScroll||l.isOverview(t))&&!g.isDataSelected(t,i,r,a))return null}if(!g.isDataItemRendered(t,i,r,a))return!1;var S=!0,y=g.getMarkerPosition(t,i,r,a,s),x=p.getMarkerSize(t,i,r,a);return s&&y&&x&&(S=s.intersects(new e.Rectangle(y.x-x/2,y.y-x/2,x,x))),y&&S?{seriesIndex:i,groupIndex:r,itemIndex:a,x:y.x,y:y.y,size:x,markerDisplayed:u}:null},mt._getScatterBubbleMarkerInfo=function(t,e,i,r){if(!g.isDataItemRendered(t,e,i))return!1;var a=g.getScatterBubbleMarkerPosition(t,e,i);if(!a)return null;var s=p.getMarkerSize(t,e,i);return s?{seriesIndex:e,groupIndex:i,x:a.x,y:a.y,size:s}:null},mt._getMarkersForSeries=function(t,e,i,r){if(!g.isSeriesRendered(t,e))return[];for(var a=p.optimizeMarkerStroke(t),s=a?r.getColor():null,n=a?r.getWidth():null,o=[],l=g.getGroupCount(t),h=0;h<l;h++){var u=mt._getMarkerInfo(t,e,h,null,i);if(u){var d=mt._createMarker(t,u,s,n);null!=d&&o.push(d)}}return o},mt._createMarker=function(t,i,r,a){var s,n=e.Agent.isTouchDevice(),o=t.getCtx(),h=p.optimizeMarkerStroke(t),u=p.optimizeMarkerFill(t),g=i.seriesIndex,d=i.groupIndex,c=i.itemIndex,_=p.getMarkerColor(t,g,d,c),f=p.getMarkerShape(t,g,d,c),v=i.markerDisplayed;if(null==v&&(v=p.isMarkerDisplayed(t,g,d,c)),v){var S=p.getImageSource(t,g,d,c,"source");if(S){var y=p.getImageSource(t,g,d,c,"sourceSelected"),x=p.getImageSource(t,g,d,c,"sourceHover"),C=p.getImageSource(t,g,d,c,"sourceHoverSelected");s=new e.ImageMarker(o,i.x,i.y,i.size,i.size,null,S,y,x,C),p.isSelectable(t,g,d)&&s.setCursor(e.SelectionEffectUtils.getSelectingCursor())}else{(s=new e.SimpleMarker(o,f,i.x,i.y,i.size,i.size,null,null,!0)).setFill(R.getMarkerFill(t,g,d,c));var A=p.getBorderColor(t,g,d,c),b=p.getDefaultMarkerBorderColor(t,g,d,c),M=p.getUserBorderWidth(t,g,d,c),T=p.getDefaultMarkerBorderWidth(t,g,d,c),D=A||b,I=null!==M?M:T;if(D===r&&I===a||s.setSolidStroke(D,null,I),s.setDataColor(_,!0),"redwood"===t.getCtx().getThemeBehavior())l.isBubble(t)&&s.addClassName("oj-dvt-bubble-marker"),A||l.isBubble(t)||s.addClassName("oj-dvt-default-border-color"),null==M&&s.addClassName("oj-dvt-default-border-width"),p.isSelectable(t,g,d)&&(s.setCursor(e.SelectionEffectUtils.getSelectingCursor()),l.isBubble(t)?s.setFeedbackClassName("oj-dvt-selectable"):s.setFeedbackClassName("oj-dvt-selectable-marker"));else{p.isSelectable(t,g,d)&&s.setCursor(e.SelectionEffectUtils.getSelectingCursor());var O=e.SelectionEffectUtils.getHoverBorderColor(_),E=p.getSelectedInnerColor(t),L=p.getSelectedOuterColor(t);s.setHoverStroke(new e.Stroke(E,1,1),new e.Stroke(O,1,3.5)),s.setSelectedStroke(new e.Stroke(E,1,1.5),new e.Stroke(L,1,4.5)),s.setSelectedHoverStroke(new e.Stroke(E,1,1.5),new e.Stroke(O,1,4.5))}s.addClassName(p.getMarkerClassName(t,g,d,c)),s.setStyle(p.getMarkerStyle(t,g,d,c))}n&&i.size<mt._MIN_TOUCH_MARKER_SIZE&&mt._addMarkerHitArea(s,i.x,i.y,h)}else p.isSelectable(t,g,d)?((s=new ht(o,f,i.x,i.y,i.size,h)).setCursor(e.SelectionEffectUtils.getSelectingCursor()),n&&mt._addMarkerHitArea(s,i.x,i.y,h)):(n&&(i.size=mt._MIN_TOUCH_MARKER_SIZE),s=new ht(o,e.SimpleMarker.SQUARE,i.x,i.y,i.size,h)),null!=s&&(u||s.setInvisibleFill(),s.setDataColor(_));return null!=s&&m.associate(s,t,g,d,c,i),s},mt._addMarkerHitArea=function(t,i,r,a){var s=new e.Rect(t.getCtx(),i-mt._MIN_TOUCH_MARKER_SIZE/2,r-mt._MIN_TOUCH_MARKER_SIZE/2,mt._MIN_TOUCH_MARKER_SIZE,mt._MIN_TOUCH_MARKER_SIZE);a&&s.setSolidStroke("none"),s.setInvisibleFill(),t.addChild(s)},mt._getRangeMarkersForSeries=function(t,i,r){if(!g.isSeriesRendered(t,i))return[];for(var a=e.Agent.isTouchDevice(),s=t.getCtx(),n=t.xAxis,o=g.isAssignedToY2(t,i)?t.y2Axis:t.yAxis,u=t.getOptions(),d=g.getGroupCount(t),c=[],_=0;_<d;_++)if(!g.isDataItemFiltered(t,i,_)&&g.isDataItemRendered(t,i,_)){var f=n.getCoordAt(g.getXValue(t,i,_)),v=o.getUnboundedCoordAt(g.getLowValue(t,i,_)),S=o.getUnboundedCoordAt(g.getHighValue(t,i,_));if(null!=f&&null!=v&&null!=S){var y=p.isMarkerDisplayed(t,i,_);if(!y){var x=d-1,C=l.isPolar(t),A=C&&x>0&&0==_?x:_-1,b=C&&x>0&&_==x?0:_+1,M=g.getLowValue(t,i,A),T=g.getHighValue(t,i,A),D=g.getLowValue(t,i,b),I=g.getHighValue(t,i,A);null==M&&null==T&&null==D&&null==I&&(y=!0)}if(!(u._duringZoomAndScroll||l.isOverview(t)||l.isSpark(t))||y||g.isDataSelected(t,i,_)){var O=h.convertAxisCoord(t,new e.Point(f,v),r),E=h.convertAxisCoord(t,new e.Point(f,S),r),L=new e.Point((O.x+E.x)/2,(O.y+E.y)/2),P=p.getMarkerSize(t,i,_),w=new gt(s,O.x,O.y,E.x,E.y,P,!y),B=R.getMarkerFill(t,i,_),k=p.getMarkerBorderColor(t,i,_),F=p.getBorderWidth(t,i,_),N=new e.Stroke(k,1,F),H=p.getMarkerColor(t,i,_),G=p.getSelectedInnerColor(t),U=p.getSelectedOuterColor(t);w.setStyleProperties(B,N,H,G,U),p.isSelectable(t,i,_)&&w.setCursor(e.SelectionEffectUtils.getSelectingCursor());var V=new e.Line(s,O.x,O.y,E.x,E.y);V.setSolidStroke("rgba(0,0,0,0)",null,a?Math.max(P,mt._MIN_TOUCH_MARKER_SIZE):P),w.addChild(V),c.push(w),m.associate(w,t,i,_,null,L)}}}return c},mt._renderBars=function(t,i,r){var a=l.isHorizontal(t),s=l.isPolar(t),n=l.isStock(t),o="pixel"==p.getBarSpacing(t),h=e.Agent.isRightToLeft(t.getCtx()),u=p.isStackLabelRendered(t),d=g.isStacked(t);g.getSeriesCount(t)<2&&u&&(d=!0);for(var c=p.getSelectedInnerColor(t),_=p.getSelectedOuterColor(t),f=t.getOptions()._duringZoomAndScroll,v=p.getGroupWidth(t),S={},y=0;y<g.getSeriesCount(t);y++)if("bar"==g.getSeriesType(t,y)){mt._filterPointsForSeries(t,y);for(var x="",C=t.getOptionsCache().getFromCachedMap("itemStyleSet",y),A=g.getStackCategory(t,y)||"",b=g.isAssignedToY2(t,y),M=P.getViewportMinMaxGroupIndex(t,y),T=M.min-1;T<=M.max+1;T++)if(!g.isDataItemFiltered(t,y,T)&&g.isDataItemRendered(t,y,T)&&0!=g.getZValue(t,y,T)){var D=w.getBarInfo(t,y,T,r);if(null!=D){var I=D.yCoord,O=D.baseCoord,E=D.axisCoord,L=D.x1,B=D.x2,k=D.barWidth;if(d){var F=""+T+A+b+(g.getValue(t,y,T)<0);if(Math.abs(O-I)<.5&&Math.abs(I-S[F])<.5&&!g.isOutermostBar(t,y,T))continue;S[F]&&(O=S[F]),S[F]=I}var N,H=!1;if(Math.abs(I-O)<1&&(g.isRangeSeries(t,y)?I--:d&&!g.isOutermostBar(t,y,T)||(H=!0,I=I>O||a&&!h&&I==O?O+3:O-3)),s)N=new ut(t,E,O,I,L,B,r);else{var G=f&&v<5&&!C;if(N=new at(t,E,O,I,L,B,G),G){var U=N.getBoundingBox();x+=e.PathUtils.moveTo(U.x,U.y)+e.PathUtils.horizontalLineTo(U.x+U.w)+e.PathUtils.verticalLineTo(U.y+U.h)+e.PathUtils.horizontalLineTo(U.x)+e.PathUtils.closePath();continue}}i.addChild(N),p.isSelectable(t,y,T)&&N.setCursor(e.SelectionEffectUtils.getSelectingCursor());var V,j=null;if(H)V=e.SolidFill.invisibleFill();else{V=R.getBarFill(t,y,T,k);var Y=p.getBorderColor(t,y,T),W=p.getBorderWidth(t,y,T);Y&&(j=new e.Stroke(Y,1,W))}var z=p.getColor(t,y,T),X=p.getClassName(t,y,T),K=p.getStyle(t,y,T);N.setStyleProperties(V,j,z,c,_,X,K),o&&N.setPixelHinting(!0),m.associate(N,t,y,T,null,D.dataPos),g.isRangeSeries(t,y)?(mt._renderDataLabel(t,i,N.getBoundingBox(),y,T,null,z,"low",!1,N.getOriginalBarSize()),mt._renderDataLabel(t,i,N.getBoundingBox(),y,T,null,z,"high",!1,N.getOriginalBarSize())):mt._renderDataLabel(t,i,N.getBoundingBox(),y,T,null,z,null,!1,N.getOriginalBarSize());var Z=new Array;Z.push(N),n&&0!=y||t._currentMarkers.push(Z),u&&g.isOutermostBar(t,y,T)&&mt._renderDataLabel(t,i,N.getBoundingBox(),y,T,null,null,null,!0,N.getOriginalBarSize())}}if(x){var q=new e.Path(t.getCtx(),x),Q=p.getColor(t,y);q.setSolidFill(Q);var J=p.getBorderColor(t,y);if(J){var $=p.getBorderWidth(t,y);q.setSolidStroke(J,null,$)}var tt=p.getClassName(t,y),et=p.getStyle(t,y);q.setClassName(tt).setStyle(et),o&&q.setPixelHinting(!0),i.addChild(q)}}},mt._renderStock=function(t,i,r){var a=t.getOptions(),s=t.xAxis,n=t.yAxis;if("candlestick"==g.getSeriesType(t,0))for(var o=P.getViewportMinMaxGroupIndex(t,0),l=o.min-1;l<=o.max+1;l++)if(g.isDataItemRendered(t,0,l)){var h=g.getDataItem(t,0,l);if(h){var u=h.open,d=h.close,c=h.low,_=h.high,f=null!=c&&null!=_;if(null!=u&&null!=d){var v,S=g.getXValue(t,0,l),y=s.getUnboundedCoordAt(S),x=p.getBarWidth(t,0,l),C=n.getBoundedCoordAt(u),A=n.getBoundedCoordAt(d),b=null;f&&(v=n.getBoundedCoordAt(c),b=n.getBoundedCoordAt(_));var M=new nt(t.getCtx(),y,x,C,A,v,b);i.addChild(M),p.isSelectable(t,0,l)&&M.setCursor(e.SelectionEffectUtils.getSelectingCursor());var T=R.getBarFill(t,0,l,x),D=null,I=p.getBorderColor(t,0,l),O=p.getBorderWidth(t,0,l);I?D=new e.Stroke(I,1,O):T instanceof e.PatternFill&&(D=new e.Stroke(T.getColor(),1,O));var E=p.getColor(t,0,l),L=p.getSelectedInnerColor(t),w=p.getSelectedOuterColor(t),B=a.styleDefaults.stockRangeColor;M.setChangeStyle(T,D,E,L,w),M.setRangeStyle(new e.SolidFill(B),D,B,w);var k=new e.Point(y,(C+A)/2);m.associate(M,t,0,l,null,k);var F=new Array;F.push(M._changeShape),t._currentMarkers.push(F)}}}},mt._renderBoxPlot=function(t,i,r){for(var a=t.xAxis,s=0;s<g.getSeriesCount(t);s++)for(var n=P.getViewportMinMaxGroupIndex(t,s),o=n.min-1;o<=n.max+1;o++)if(g.isDataItemRendered(t,s,o)&&"boxPlot"==g.getSeriesType(t,s)){var u=g.getDataItem(t,s,o);if(u){var d=u.low,c=u.q1,_=u.q2,f=u.q3,v=u.high;if(null!=d&&null!=c&&null!=_&&null!=f&&null!=v){var S=p.getBarWidth(t,s,o),y=p.getBarCategoryOffsetMap(t,o),x=g.isAssignedToY2(t,s),C=g.getStackCategory(t,s),A=y[x?"y2":"y"][C]+S/2;e.Agent.isRightToLeft(t.getCtx())&&l.isVertical(t)&&(A*=-1);var b=g.getXValue(t,s,o),M=a.getUnboundedCoordAt(b)+A,T=x?t.y2Axis:t.yAxis,D=T.getBoundedCoordAt(d),I=T.getBoundedCoordAt(c),O=T.getBoundedCoordAt(_),E=T.getBoundedCoordAt(f),L=T.getBoundedCoordAt(v),w=p.getBoxPlotStyleOptions(t,s,o),R=new st(t,M,S,D,I,O,E,L,w);i.addChild(R),p.isSelectable(t,s,o)&&R.setCursor(e.SelectionEffectUtils.getSelectingCursor());var B=h.convertAxisCoord(t,new e.Point(M,O),r);m.associate(R,t,s,o,null,B),mt._renderBoxPlotMarkers(t,i,s,o,r,M),t._currentMarkers.push([R._medianLine])}}}},mt._renderBoxPlotMarkers=function(t,i,r,a,s,n){for(var o=p.getMarkerBorderColor(t,r,a),h=p.getBorderWidth(t,r,a),u=new e.Stroke(o,1,h),d=[],c=g.getNestedDataItemCount(t,r,a),_=0;_<c;_++){var f=mt._getMarkerInfo(t,r,a,_,s);if(f){l.isHorizontal(t)?f.y=n:f.x=n;var v=mt._createMarker(t,f,o,h);null!=v&&d.push(v)}}mt._addMarkersToContainer(t,i,d,u)},mt._renderLines=function(t,e,i,r){var a,s=[],n=g.getSeriesCount(t);for(a=0;a<n;a++)g.isSeriesRendered(t,a)&&"line"==g.getSeriesType(t,a)&&s.push(a);for(var o=0;o<s.length;o++)a=s[o],"none"!=p.getLineType(t,a)&&(mt._filterPointsForSeries(t,a),mt._renderLinesForSeries(t,i,a,r));for(o=0;o<s.length;o++)mt._renderMarkersForSeries(t,e,s[o],r)},mt._renderAreas=function(t,e,i,r){for(var a=g.getSeriesCount(t),s=r?"lineWithArea":"area",n=[],o=[],l=0;l<a;l++)g.isSeriesRendered(t,l)&&g.getSeriesType(t,l)==s&&(g.isAssignedToY2(t,l)?o.push(l):n.push(l));n.length>0&&mt._renderAreasForAxis(t,e,n,t.yAxis.getBaselineCoord(),i,r),o.length>0&&mt._renderAreasForAxis(t,e,o,t.y2Axis.getBaselineCoord(),i,r)},mt._renderAreasForAxis=function(t,i,r,a,s,n){for(var o=g.isStacked(t),l=mt.createClippedGroup(t,i,s),h={},u={},d={},c={},_=[],f=g.getGroupCount(t),v=0;v<f;v++)_.push(new ot(null,a,a,v,g.getGroup(t,v),!0));for(var S=0;S<r.length;S++){var y=r[S],x=g.getStackCategory(t,y),C=g.isSeriesNegative(t,y),A=h[x],b=u[x],M=d[x],T=c[x];if("none"!=p.getLineType(t,y)){var D,I,O,E=R.getAreaFill(t,y),L=p.getBorderColor(t,y),P=p.getBorderWidth(t,y),w=p.getAreaClassName(t,y),B=p.getAreaStyle(t,y),k=L?new e.Stroke(L,1,P):null,F=p.getLineType(t,y);mt._filterPointsForSeries(t,y),g.isRangeSeries(t,y)?(D=mt._getCoordsForSeries(t,y,s,"high"),I=mt._getCoordsForSeries(t,y,s,"low"),O=F):C?(D=mt._getAreaCoordsForSeries(t,y,s,M||_),I=M||[],O=T):(D=mt._getAreaCoordsForSeries(t,y,s,A||_),I=A||[],O=b);var N=new lt(t,!0,s,a,B,w,E,k,F,D,O,I);l.addChild(N),t._currentAreas.push(N),m.associate(N,t,y),C?(d[x]=D,c[x]=F):(h[x]=D,u[x]=F),o||((n||p.getDataItemGaps(t)>0&&!L)&&mt._renderLinesForSeries(t,l,y,s,!n),n||mt._renderMarkersForSeries(t,i,y,s),S+1<r.length&&(l=mt.createClippedGroup(t,i,s)))}else mt._renderMarkersForSeries(t,i,y,s)}for(S=0;S<r.length;S++)if(y=r[S],"none"!=p.getLineType(t,y)){var H=p.getBorderColor(t,y)||p.getBorderColor(t,y+1);o&&(n||p.getDataItemGaps(t)>0&&!H)&&mt._renderLinesForSeries(t,l,y,s,!n),(o||n)&&mt._renderMarkersForSeries(t,i,y,s)}},mt._getAreaCoordsForSeries=function(t,e,i,r){for(var a=mt._getCoordsForSeries(t,e,i),s=[],n=0;n<r.length;n++)s.push(r[n].clone());var o=a.length-1,h=l.isPolar(t);for(n=0;n<a.length;n++)if(null!=a[n].x){var u=s[a[n].groupIndex],g=h&&0==n?o:n-1,d=h&&n==o?0:n+1;g>=0&&null!=a[g].x&&(u.y1=a[n].y1),d<=o&&null!=a[d].x&&(u.y2=a[n].y2),u.x=a[n].x,u.filtered=u.y1==u.y2&&a[n].filtered}return s},mt._renderLinesForSeries=function(t,i,r,a,s){var n;if(s){var o=2.5*p.getDataItemGaps(t);n=new e.Stroke(p.getBackgroundColor(t,!0),1,o)}else{var l=p.getColor(t,r),h=p.getLineWidth(t,r),u=p.getLineStyle(t,r);n=new e.Stroke(l,1,h,!1,e.Stroke.getDefaultDashProps(u,h))}var d=g.isAssignedToY2(t,r)?t.y2Axis.getBaselineCoord():t.yAxis.getBaselineCoord(),c=p.getLineType(t,r),_=p.getClassName(t,r),f=p.getStyle(t,r),v=function(e){var s=mt._getCoordsForSeries(t,r,a,e),o=new lt(t,!1,a,d,f,_,null,n,c,s);i.addChild(o),m.associate(o,t,r)};g.isRangeSeries(t,r)?(v("high"),v("low")):v("value")},mt._filterScatterBubble=function(t,i,r){var a,s=g.getSeriesCount(t),n=g.getGroupCount(t);if(s*n<mt.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;for(var o=[],l=0;l<s;l++)if(g.isSeriesRendered(t,l))for(var h=0;h<n;h++)null!=(a=mt._getScatterBubbleMarkerInfo(t,l,h,r))&&o.push(a);if(o.length<mt.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;i&&vt.sortMarkerInfos(o);for(var u=new e.PixelMap(25,new e.PixelMap(5,new e.PixelMap)),d=[],c=o.length-1;c>=0;c--){if(a=o[c],!vt.checkPixelMap(u,a.x,a.y,a.size)){var _=p.getColor(t,a.seriesIndex,a.groupIndex),f=p.isMarkerDisplayed(t,l,h)?e.ColorUtils.getAlpha(_):0;f>0&&(vt.updatePixelMap(u,a.x,a.y,a.size,f),d.push(a))}}return t.getCache().putToCache("dataFiltered",!0),d.reverse(),d},mt._filterPointsForSeries=function(t,e){if(!l.isPolar(t)&&!g.isRangeSeries(t,e)){var i=t.__getPlotAreaSpace(),r=l.isHorizontal(t)?i.h:i.w,a=g.getSeriesItem(t,e).items,s="bar"==g.getSeriesType(t,e),n=t.xAxis.getInfo(),o=(n.getDataMax()-n.getDataMin())/(n.getViewportMax()-n.getViewportMin()),h=s?.5:2,u=o?Math.round(h*(a.length/o)/r):1;if(u<(s?2:3))for(var d=0;d<a.length;d++)(v=a[d])&&(v._filtered=!1);else{var c,p,_,f,v,m,S=!1;for(d=0;d<a.length;d+=u){c=-1,p=-1/0,_=-1,f=1/0;for(var y=d;y<Math.min(d+u,a.length);y++)m=g.getCumulativeValue(t,e,y),v=a[y],null!=m&&null!=v&&((!s||m>0)&&m>p&&(c=y,p=m),(!s||m<0)&&m<f&&(_=y,f=m),v._filtered=!0,S=!0);for(y=d;y<Math.min(d+u,a.length);y++)null!=(v=a[y])&&(y!=c&&y!=_||(v._filtered=!1))}t.getCache().putToCache("dataFiltered",S)}}},mt._getCoordsForSeries=function(t,e,i,r){var a=t.xAxis,s=t.yAxis;g.isAssignedToY2(t,e)&&(s=t.y2Axis);for(var n=[],o=P.getViewportMinMaxGroupIndex(t,e),h=o.min-1;h<=o.max+1;h++){var u=g.getGroup(t,h);if(null!=u){var d=g.getXValue(t,e,h),c=null;if("low"==r?c=g.getLowValue(t,e,h):"high"==r?c=g.getHighValue(t,e,h):null!=g.getValue(t,e,h)&&(c=g.getCumulativeValue(t,e,h)),null!=c&&!isNaN(c)&&g.isDataItemRendered(t,e,h)){l.isPolar(t)&&(c=Math.max(c,s.getInfo().getViewportMin()));var p=a.getUnboundedCoordAt(d),_=s.getUnboundedCoordAt(c);if(null!=p&&null!=_){var f=new ot(p,_,_,h,u,g.isDataItemFiltered(t,e,h));n.push(f)}else n.push(new ot(null,null,null,h,u,!1))}else n.push(new ot(null,null,null,h,u,!1))}}return n},mt.createClippedGroup=function(t,i,r){var a=new e.Container(i.getCtx());i.addChild(a);var s=new e.ClipPath(t.getId()),n=mt._extendClipGroup(t);if(l.isPolar(t)){var o=r.x+r.w/2,h=r.y+r.h/2;if(P.isGridPolygonal(t)){var u=e.PolygonUtils.getRegularPolygonPoints(o,h,g.getGroupCount(t),t.getRadius(),0);s.addPolygon(u)}else s.addCircle(o,h,t.getRadius())}else l.isHorizontal(t)?s.addRect(r.x-n,r.y,r.w+2*n,r.h):s.addRect(r.x,r.y-n,r.w,r.h+2*n);return a.setClipPath(s),a},mt._extendClipGroup=function(t){if((g.hasLineSeries(t)||g.hasLineWithAreaSeries(t))&&!l.isSpark(t)){var e=p.getLineWidth(t),i=function(t){var i=t.getInfo(),r=i.getCoordAt(i.getGlobalMax()),a=i.getCoordAt(i.getDataMax()),s=i.getCoordAt(i.getGlobalMin()),n=i.getCoordAt(i.getDataMin());return null!=r&&null!=a&&a-r<=e/2||null!=s&&null!=n&&s-n<=e/2};if(t.yAxis&&i(t.yAxis)||t.y2Axis&&i(t.y2Axis))return Math.ceil(e/2)}return 0};var St=function(t,e){this.Init(t,e)};e.Obj.createSubclass(St,e.Obj),St.prototype.Init=function(t,e){this._context=t.getCtx(),this._dataCursorShown=!1,this._dataCursor=e,this._chart=t},St.prototype.processMove=function(t,e){var i=this._chart.__getPlotAreaSpace();return i&&i.containsPoint(t.x,t.y)&&!this._chart.getOptions()._duringZoomAndScroll?(this._showDataCursor(i,t.x,t.y,e),!0):(this._removeDataCursor(e),!1)},St.prototype.processEnd=function(t){this._removeDataCursor(t)},St.prototype.processOut=function(t,e){var i=this._chart.__getPlotAreaSpace();i&&!i.containsPoint(t.x,t.y)&&this._removeDataCursor(e)},St.prototype._showDataCursor=function(t,i,r,a){if(this._context.isOffscreen(!0))this._removeDataCursor(a);else{var s=this._dataCursor,n=this._getClosestMatch(i,r);if(null!=n){var o=n.matchRegion.getCenter(),l=i,h=r;s.getBehavior()==_.BEHAVIOR_SNAP&&(s.isHorizontal()?h=Math.min(Math.max(o.y,t.y),t.y+t.h):l=Math.min(Math.max(o.x,t.x),t.x+t.w));var u=n.logicalObject,g=v.getDatatip(this._chart,u.getSeriesIndex(),u.getGroupIndex(),u.getNestedDataItemIndex(),!0);if(null!=g){s.setVisible(!0);var d=v.getDatatipColor(this._chart,u.getSeriesIndex(),u.getGroupIndex(),u.getNestedDataItemIndex()),c=s.isHorizontal()?h:l,p=u.getDisplayables()[0];if(p instanceof e.SimpleMarker&&s.addMarker(p.getType(),p.getSize()),s.render(t,o.x,o.y,c,g,d),this._dataCursorShown=!0,!a){var f=this._chart.getValuesAt(i,r);this._chart.changeOption("dataCursorPosition",f)}}else s.setVisible(!1)}else this._removeDataCursor(a)}},St.prototype._removeDataCursor=function(t){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(_.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,t||this._chart.changeOption("dataCursorPosition",null)},St.prototype.isDataCursorShown=function(){return this._dataCursorShown},St._getClosestMatchSecondDirection=function(t,e,i,r){for(var a=null,s=1/0,n=t.length-1;0<=n;n--){var o=t[n],l=e?i:r,h=((e?o.matchRegion.x:o.matchRegion.y)+(e?o.matchRegion.x+o.matchRegion.w:o.matchRegion.y+o.matchRegion.h))/2,u=Math.round(Math.abs(h-l));u<s&&(s=u,a=o)}return a},St._getClosestMatchesFirstDirection=function(t,e,i,r,a){for(var s=1/0,n=new Array,o=0;o<t.length;o++){var l=t[o];if(a(l.logicalObject)){var h=l.matchRegion,u=e?r:i,g=((e?h.y:h.x)+(e?h.y+h.h:h.x+h.w))/2,d=Math.round(Math.abs(g-u));d<=s&&(d<s&&(n=new Array),n.push(l),s=d)}}return n},St.prototype._findMatches=function(){var t=this._context.getStage(),e=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var r=0;r<this._chart._currentMarkers.length;r++)for(var a=this._chart._currentMarkers[r],s=a.length,n=0;n<s;n++){var o=a[n],l=e.GetLogicalObject(o),h={matchRegion:o.getDimensionsSelf?o.getDimensionsSelf(t):o.getDimensions(t),logicalObject:l};i.push(h)}return i},St.prototype._getClosestMatch=function(t,i){var r=l.isHorizontal(this._chart),a=l.isLineArea(this._chart)&&!l.isMixedFrequency(this._chart),s=this._findMatches(),n=g.getHighlightedCategories(this._chart),o="all"==this._chart.getOptions().highlightMatch,h=n.length>0?o?e.ArrayUtils.hasAllItems:e.ArrayUtils.hasAnyItem:null,u=function(t){return!h||h(t.getCategories(),n)},d=St._getClosestMatchesFirstDirection(s,r,t,i,u);if(!l.isScatterBubble(this._chart)){for(var c=1/0,p=-1/0,_=null,f=0;f<d.length;f++){var v=d[f];c=Math.min(c,r?v.matchRegion.y:v.matchRegion.x),p=Math.max(p,r?v.matchRegion.y+v.matchRegion.h:v.matchRegion.x+v.matchRegion.w),_=v.logicalObject.getGroupIndex()}for(f=0;f<s.length;f++){var m=s[f];if(u(m.logicalObject))if(a)m.logicalObject.getGroupIndex()==_&&d.push(m);else{var S=((r?m.matchRegion.y:m.matchRegion.x)+(r?m.matchRegion.y+m.matchRegion.h:m.matchRegion.x+m.matchRegion.w))/2;p>=S&&c<=S&&d.push(m)}}}return St._getClosestMatchSecondDirection(d,r,t,i)};var yt=function(t,e,i){this.Init(t,e,i)};e.Obj.createSubclass(yt,O),yt.prototype.axisToPlotArea=function(t){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var e=t-this.getLeftOverflow();return Math.round(10*e)/10},yt.prototype.plotAreaToAxis=function(t,e){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var i=t+this.getLeftOverflow();return!1===e?i:Math.round(i)},yt.prototype.linearToActual=function(t){return this.Info.linearToActual(t)},yt.prototype.actualToLinear=function(t){return this.Info.actualToLinear(t)},yt.prototype.getValueAt=function(t){return this.Info.getValueAt(this.plotAreaToAxis(t))},yt.prototype.getCoordAt=function(t){return this.axisToPlotArea(this.Info.getCoordAt(t))},yt.prototype.getBoundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getBoundedCoordAt(t))},yt.prototype.getUnboundedValueAt=function(t){return this.Info.getUnboundedValueAt(this.plotAreaToAxis(t))},yt.prototype.getUnboundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(t))},yt.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},yt.prototype.getPosition=function(){return this.getOptions().position},yt.prototype.isGroupAxis=function(){return this.Info instanceof T},yt.prototype.getMajorTickCoords=function(){for(var t=this.Info?this.Info.getMajorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},yt.prototype.getMinorTickCoords=function(){for(var t=this.Info?this.Info.getMinorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},yt.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},yt.prototype.getLinearGlobalMin=function(){return this.actualToLinear(this.Info.getGlobalMin())},yt.prototype.getLinearGlobalMax=function(){return this.actualToLinear(this.Info.getGlobalMax())},yt.prototype.getLinearViewportMin=function(){return this.actualToLinear(this.Info.getViewportMin())},yt.prototype.getLinearViewportMax=function(){return this.actualToLinear(this.Info.getViewportMax())},yt.prototype.getUnboundedLinearValueAt=function(t){return this.Info.actualToLinear(this.getUnboundedValueAt(t))},yt.prototype.isFullViewport=function(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()},yt.prototype.getLeftOverflow=function(){return e.Agent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()},yt.prototype.getRightOverflow=function(){return e.Agent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()},yt.prototype.getLength=function(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())},yt.prototype.getMinCoord=function(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))},yt.prototype.getMaxCoord=function(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))};var xt=new Object;e.Obj.createSubclass(xt,e.Obj),xt._DEFAULT_AXIS_MAX_SIZE=.33,xt.render=function(t,e,i){l.hasAxes(t)&&(P.applyInitialZooming(t,i),l.isBubble(t)&&vt.calcBubbleSizes(t,i),l.isPolar(t)?xt._renderPolar(t,e,i):xt._renderCartesian(t,e,i))},xt._renderCartesian=function(t,i,r){var a=t.getOptions(),s=l.isHorizontal(t),n=g.isSplitDualY(t),o=l.isOverview(t),h=r.clone(),u=P.getYAxisPosition(t),d=P.getY2AxisPosition(t),c=!o&&a.overview.content&&a.overview.content.yAxis&&"on"==a.overview.content.yAxis.rendered,_=!o&&a.overview.content&&a.overview.content.y2Axis&&"on"==a.overview.content.y2Axis.rendered;xt._addAxisGaps(t,r),n&&u==d&&(a.yAxis._skipHighestTick=s,a.y2Axis._skipHighestTick=!s);var f=xt._createYAxis(t,i,r,h,c),v=xt._createY2Axis(t,i,r,h,_),m=!n&&"on"==a.y2Axis.alignTickMarks&&null==a.y2Axis.step;m&&f&&v&&(xt._alignYAxes(t,f,v),s||(v.dim=xt._getPreferredSize(t,v.axis,t.y2Axis,v.options,"y2",r,h,_)));var S,y=P.getTickLabelGapSize(t,"y"),x=P.getTickLabelGapSize(t,"y2");n&&u==d?(s?(S=Math.max(f.dim.h+y,v.dim.h+x),f.dim.h=S-y,v.dim.h=S-x):(S=Math.max(f.dim.w+y,v.dim.w+x),f.dim.w=S-y,v.dim.w=S-x),xt._positionAxis(r.clone(),f,y,c),xt._positionAxis(r,v,x,_)):(xt._positionAxis(r,f,y,c),xt._positionAxis(r,v,x,_));var C=g.getGroupCount(t);if("pixel"==p.getBarSpacing(t)&&l.isBar(t)&&r.w>C){var A=Math.floor(r.w/C)*C;r.x+=(r.w-A)/2,r.w=A}var b=xt._createXAxis(t,i,r,h);b.axis.render(b.options,b.dim.w,b.dim.h),xt._positionAxis(r,b,P.getTickLabelGapSize(t,"x"));var M=p.getSplitterPosition(t),T=e.Agent.isRightToLeft(t.getCtx()),D=xt._getSplitAvailSpace(r,M,s,s&&T),I=xt._getSplitAvailSpace(r,1-M,s,!s||!T);s?(f&&(f.axis.setTranslateX(r.x),n?f.axis.render(f.options,D.w,f.dim.h,D.x,0):f.axis.render(f.options,r.w,f.dim.h)),m&&f&&v&&xt._alignYAxes(t,f,v),v&&(v.axis.setTranslateX(r.x),n?v.axis.render(v.options,I.w,v.dim.h,I.x,0):v.axis.render(v.options,r.w,v.dim.h)),xt._setOverflow(r,f,b)):(f&&(n?f.axis.render(f.options,f.dim.w,D.h,0,D.y):f.axis.render(f.options,f.dim.w,r.h)),m&&f&&v&&xt._alignYAxes(t,f,v),v&&(n?v.axis.render(v.options,v.dim.w,I.h,0,I.y):v.axis.render(v.options,v.dim.w,r.h)),xt._setOverflow(r,b,f,v)),xt._storeAxes(t,b,f,v)},xt._renderPolar=function(t,e,i){var r=xt._createXAxis(t,e,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h);var a=xt._createYAxis(t,e,i,i);a.axis.setTranslateX(i.x),a.axis.setTranslateY(i.y),a.axis.render(a.options,i.w,i.h),xt._storeAxes(t,r,a)},xt._createXAxis=function(t,i,r,a){var s=t.getOptions(),n=P.getXAxisPosition(t),o=e.JsonUtils.clone(s.xAxis);o.position=n,o.isStandalone=P.isStandaloneXAxis(t),o.groupSeparators=s.styleDefaults.groupSeparators,xt._addCommonAxisAttributes(o,"x",t),o.groups=s.groups,o._groupWidthRatios=w.getGroupWidthRatios(t),o.timeAxisType=l.getTimeAxisType(t),o._locale=s._locale,o.drilling=s.drilling,o._isGroupAxis=l.hasGroupAxis(t);var h="top"==n||"bottom"==n,u=P.isGridShifted(t);if("tangential"==n&&l.hasGroupAxis(t))u?(o.startGroupOffset=.5,o.endGroupOffset=.5):o.endGroupOffset=1;else{var d=P.getAxisOffset(t);if(o.startGroupOffset=d,o.endGroupOffset=d,p.hasUncenteredSeries(t)&&(o.endGroupOffset+=1),!E.isScrollable(t)&&!l.isOverview(t)){var c=g.getGroupCount(t);P.isAxisRendered(t,"y")&&P.isTickLabelInside(t,"y")&&(o[(h?"start":"end")+"GroupOffset"]+=.04*c),P.isAxisRendered(t,"y2")&&P.isTickLabelInside(t,"y2")&&(o[(h?"end":"start")+"GroupOffset"]+=.04*c)}}o.leftBuffer=h?r.x-a.x:0,o.rightBuffer=h?a.w+a.x-(r.w+r.x):0,o._renderGridAtLabels=!u||l.hasTimeAxis(t),o.translations=s.translations;var _=new yt(t.getCtx(),t.processEvent,t);i.addChild(_);var f=xt._getPreferredSize(t,_,t.xAxis,o,"x",r,a);return o._minOverflowCoord=s._minOverflowCoord-r.x,o._maxOverflowCoord=s._maxOverflowCoord-r.x,{axis:_,options:o,dim:f}},xt._createYAxis=function(t,i,r,a,s){var n=t.getOptions();if(g.hasY2DataOnly(t))return null;var o=e.JsonUtils.clone(n.yAxis);o.position=P.getYAxisPosition(t),o.isStandalone=P.isStandaloneYAxis(t),xt._addCommonAxisAttributes(o,"y",t),xt._addCommonYAxisAttributes(o,t),o.translations=n.translations;var l=new yt(t.getCtx(),t.processEvent,t);i.addChild(l);var h=xt._getPreferredSize(t,l,t.yAxis,o,"y",r,a,s);return xt._adjustYAxisForLabels(l,o,t,"y"),n.yAxis.min=o.min,n.yAxis.max=o.max,{axis:l,options:o,dim:h}},xt._createY2Axis=function(t,i,r,a,s){var n=t.getOptions();if(g.hasY2Data(t)){var o=e.JsonUtils.clone(n.y2Axis);o.position=P.getY2AxisPosition(t),o.isStandalone=P.isStandaloneY2Axis(t),xt._addCommonAxisAttributes(o,"y2",t),xt._addCommonYAxisAttributes(o,t),o.translations=n.translations;var l=new yt(t.getCtx(),t.processEvent,t);i.addChild(l);var h=xt._getPreferredSize(t,l,t.y2Axis,o,"y2",r,a,s);return xt._adjustYAxisForLabels(l,o,t,"y2"),n.y2Axis.min=o.min,n.y2Axis.max=o.max,{axis:l,options:o,dim:h}}},xt._addCommonAxisAttributes=function(t,e,i){var r=i.getOptions();if(t.skin=r.skin,t.tickLabel.position=P.isTickLabelInside(i,e)?"inside":"outside",t.baselineScaling=P.getBaselineScaling(i,e),(P.isTickLabelInside(i,e)||"tangential"==t.position)&&(t._skipHighestTick=!0),t.zoomAndScroll=l.isPolar(i)?"off":r.zoomAndScroll,t._isOverview=l.isOverview(i),t._duringZoomAndScroll=r._duringZoomAndScroll,"x"!=e||!l.hasGroupAxis(i)){var a=P.getMinMaxValue(i,e);t.dataMin=null!=t.dataMin?t.dataMin:a.min,t.dataMax=null!=t.dataMax?t.dataMax:a.max}l.isPolar(i)&&(t.polarGridShape=P.isGridPolygonal(i)?"polygon":"circle",t._radius=i.getRadius()),t.dnd=r.dnd},xt._addCommonYAxisAttributes=function(t,r){if(t.timeAxisType="disabled",E.isLiveScroll(r)&&l.isBLAC(r)&&!l.isPolar(r)&&(t._continuousExtent="on"),t.isStandalone)t.leftBuffer=0,t.rightBuffer=0;else if(g.isSplitDualY(r))t.leftBuffer=1/0,t.rightBuffer=1/0;else{var a=e.Agent.isRightToLeft(r.getCtx());t.leftBuffer=a?0:i.BaseAxisInfo.MINIMUM_AXIS_BUFFER,t.rightBuffer=a?i.BaseAxisInfo.MINIMUM_AXIS_BUFFER:0}},xt._adjustYAxisForLabels=function(t,i,r,a){var s=r.getOptions();if(P.isYAdjustmentNeeded(r)){var n=e.CSSStyle.mergeStyles([s.styleDefaults._dataLabelStyle,s.styleDefaults.dataLabelStyle]),o=s.styleDefaults.stackLabelStyle,h=t.getInfo(),u=p.isStackLabelRendered(r),d=e.TextUtils.getTextStringHeight(r.getCtx(),u?o:n),c=0;if("log"==i.scale){c=t.getUnboundedValueAt(t.getUnboundedCoordAt(h.getDataMax())-d)-h.getDataMax()}else{var _=1;g.isSplitDualY(r)&&(_="y"==a?p.getSplitterPosition(r):1-p.getSplitterPosition(r));var f=Math.abs(h.getEndCoord()-h.getStartCoord())*_;c=Math.abs(h.getViewportMax()-h.getViewportMin())/f*d}l.isHorizontal(r)?c*=4:c*=2,h.getDataMin()-h.getGlobalMin()<=c&&h.getDataMin()<0&&(i.dataMin-=c),h.getGlobalMax()-h.getDataMax()<=c&&h.getDataMax()>0&&(i.dataMax+=c)}},xt._getPreferredSize=function(t,i,r,a,s,n,o,l){var h=a.isStandalone,u=a.position,g="top"==u||"bottom"==u,d=P.getTickLabelGapSize(t,s),c=a.maxSize,_=a.size,f=n.w,v=n.h;if("radial"==u||"tangential"==u)f=0,v=0;else if("off"!=a.rendered||l)if(h)g?v=n.h-d:f=n.w-d;else if(null!=_)g?(v=p.getSizeInPixels(_,o.h)-d,null!=c&&(v=Math.min(v,p.getSizeInPixels(c,o.h)-d))):(f=p.getSizeInPixels(_,o.w)-d,null!=c&&(f=Math.min(f,p.getSizeInPixels(c,o.w)-d)));else{if(!t.getOptions()._duringZoomAndScroll||!r)return c=null==c?xt._DEFAULT_AXIS_MAX_SIZE:c,g?i.getPreferredSize(a,n.w,p.getSizeInPixels(c,o.h)-d,l):i.getPreferredSize(a,p.getSizeInPixels(c,o.w)-d,n.h,l);if(g){var m=e.Agent.isRightToLeft(t.getCtx());a._startOverflow=m?r.getRightOverflow():r.getLeftOverflow(),a._endOverflow=m?r.getLeftOverflow():r.getRightOverflow(),v=r.getHeight()}else f=r.getWidth()}else g?v=0:f=0;return P.isYAdjustmentNeeded(t)&&i.getPreferredSize(a,f,v),new e.Dimension(f,v)},xt._addAxisGaps=function(t,e){var i=l.isHorizontal(t),r=P.getYAxisPosition(t),a=P.getY2AxisPosition(t),s=P.isAxisRendered(t,"x"),n=P.isAxisRendered(t,"y"),o=P.isAxisRendered(t,"y2"),h=t.getOptions().layout.verticalAxisGap;h*=i?P.getGapScalingFactor(t,"x"):Math.max(P.getGapScalingFactor(t,"y"),P.getGapScalingFactor(t,"y2")),h=Math.ceil(h),(!i||"top"==r&&n||"top"==a&&o)&&i||(e.y+=h,e.h-=h),(!i||"bottom"==r&&n||"bottom"==a&&o)&&(i||s)||(e.h-=h)},xt._positionAxis=function(t,i,r,a){if(i){var s=a?Math.max(i.dim.h,1):i.dim.h,n=a?Math.max(i.dim.w,1):i.dim.w;e.LayoutUtils.position(t,i.options.position,i.axis,n,s,r)}},xt._alignYAxes=function(t,e,i){var r=e.axis.getInfo();if(r){var a=r.getMajorTickCount(),s=r.getMinorTickCount(),n=i.options,o=i.axis.getInfo();o&&P.isLog(t,"y")&&P.isLog(t,"y2")&&a<o.getMajorTickCount()&&(n._logScaleUnit=o.alignLogScaleToTickCount(o.getLogScaleUnit(),a)),n._majorTickCount=a,n._minorTickCount=s}},xt._getSplitAvailSpace=function(t,e,i,r){var a=t.clone();return i?(a.w=t.w*e,a.x=r?t.w*(1-e):0):(a.h=t.h*e,a.y=r?t.h*(1-e):0),a},xt._setOverflow=function(t,e,i,r){if(e){var a=e.axis.getLeftOverflow(),s=e.axis.getRightOverflow();t.x+=a,t.w-=a+s,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?a:-s)),r&&r.axis.setTranslateX(r.axis.getTranslateX()+("left"==r.options.position?a:-s))}},xt._storeAxes=function(t,e,i,r){t.xAxis&&(t.xAxis.destroy(),t.removeChild(t.xAxis)),t.yAxis&&(t.yAxis.destroy(),t.removeChild(t.yAxis)),t.y2Axis&&(t.y2Axis.destroy(),t.removeChild(t.y2Axis)),t.xAxis=e.axis,t.yAxis=i?i.axis:null,t.y2Axis=r?r.axis:null};var Ct=new Object;e.Obj.createSubclass(Ct,e.Obj),Ct._DEFAULT_LINE_WIDTH_WITH_MARKER=2,Ct._DEFAULT_MAX_SIZE=.3,Ct._PIE_SIZE_RATIO=1.2,Ct.render=function(t,i,a){var s=t.getOptions(),n=s.legend.position;if(!("off"==s.legend.rendered||"auto"==s.legend.rendered&&t.getOptionsCache().getFromCache("hasLargeSeriesCount"))){var o=e.JsonUtils.clone(s.legend);delete o.position,o.skin=s.skin,o.hideAndShowBehavior=E.getHideAndShowBehavior(t),o.hoverBehavior=E.getHoverBehavior(t),o.hoverBehaviorDelay=p.getHoverBehaviorDelay(t),o.hiddenCategories=g.getHiddenCategories(t),o.highlightedCategories=g.getHighlightedCategories(t),o.dnd=s.dnd,o._dropColor=s._dropColor,o.translations=s.translations,"auto"==n&&(n=a.w>=a.h?"end":"bottom");var h="top"==n||"bottom"==n;if(o.orientation=h?"horizontal":"vertical","start"==n&&(o.halign="end"),"start"!=n&&"end"!=n||(o.valign="middle"),"top"==n&&(o.valign="bottom"),"top"!=n&&"bottom"!=n||(o.halign="center"),Ct._addLegendData(t,o),0!=o.sections.length){var u,c=r.Legend.newInstance(t.getCtx(),t.processEvent,t);if(null!=t.getId()&&c.setId(t.getId()+"legend"),i.addChild(c),null!=o.size)u=h?new e.Dimension(a.w,p.getSizeInPixels(o.size,a.h)):new e.Dimension(p.getSizeInPixels(o.size,a.w),a.h);else{var _=o.maxSize;if(null==_&&(_=Ct._DEFAULT_MAX_SIZE,l.isPie(t))){var f=1-Ct._PIE_SIZE_RATIO*(h?a.w/a.h:a.h/a.w);_=Math.max(_,f)}var v=h?a.w:p.getSizeInPixels(_,a.w),m=h?p.getSizeInPixels(_,a.h):a.h;u=c.getPreferredSize(o,v,m)}c.render(o,u.w,u.h);var S=h?d.getGapHeight(t,s.layout.legendGapHeight):d.getGapWidth(t,s.layout.legendGapWidth);e.LayoutUtils.position(a,n,c,u.w,u.h,S);var y=Object.keys(o.dnd.drag.series).length>0,x=c.getCache().getFromCache("background");y&&x&&x.setClassName("oj-draggable");var C=c.__getBounds(),A=c.localToStage(new e.Point(C.x,C.y));if(!l.isOverview(t)){var b=e.Agent.isRightToLeft(t.getCtx());"end"==n?b?s._minOverflowCoord=A.x+C.w+S/2:s._maxOverflowCoord=A.x-S/2:"start"==n&&(b?s._maxOverflowCoord=A.x-S/2:s._minOverflowCoord=A.x+C.w+S/2)}t.legend&&(t.legend.destroy(),i.removeChild(t.legend)),t.legend=c}}},Ct._addLegendData=function(t,e){var i=Ct._getSeriesItems(t,"vertical"==e.orientation);if(i.length>0){var r=e.seriesSection;r.items=i,e.sections.unshift(r),delete e.seriesSection}var a=Ct._getRefObjItems(t);if(a.length>0){var s=e.referenceObjectSection;s.items=a,e.sections.push(s),delete e.referenceObjectSection}},Ct._getSeriesItems=function(t,e){var i,r,a=[];if("pie"==t.getType()||"pyramid"==t.getType()||"funnel"==t.getType()){var s=c.getRenderedSeriesIndices(t);"pyramid"==t.getType()&&e&&(s=s.reverse());for(var n=0;n<s.length;n++){r=s[n];var o=g.getValue(t,r,0);o>=0&&null!=o&&(i=Ct._createLegendItem(t,r))&&a.push(i)}c.hasOtherSeries(t)&&(i={id:c.OTHER_SLICE_SERIES_ID,drilling:t.getOptions().multiSeriesDrilling,text:t.getOptions().translations.labelOther,categoryVisibility:g.getHiddenCategories(t).indexOf(c.OTHER_SLICE_SERIES_ID)>=0?"hidden":"visible",symbolType:"marker",color:t.getOptions().styleDefaults.otherColor,borderColor:t.getOptions().styleDefaults.borderColor},a.push(i))}else{var h={},u={},d=g.getSeriesCount(t);for(r=0;r<d;r++)if(i=Ct._createLegendItem(t,r)){var p=g.getStackCategory(t,r);g.isAssignedToY2(t,r)?u[p]?u[p].push(i):u[p]=[i]:h[p]?h[p].push(i):h[p]=[i]}var _=g.getStackCategories(t,null,!0),f=g.isStacked(t)&&l.isVertical(t)&&e;a=Ct._getSeriesItemsForAxis(h,_.y,f,a),a=Ct._getSeriesItemsForAxis(u,_.y2,f,a)}return a},Ct._getSeriesItemsForAxis=function(t,e,i,r){for(var a,s=0;s<e.length;s++)(a=t[e[s]])&&(r=i?r.concat(a.reverse()):r.concat(a));return r},Ct._createLegendItem=function(t,e){var i=g.getSeriesItem(t,e),r=t.getType(),a=g.getSeriesType(t,e),s=p.getLineType(t,e),n=i.displayInLegend;if(!i||"off"==n)return null;if("on"!=n&&(l.isFunnel(t)||l.isPyramid(t)||l.isStock(t)))return null;if("on"!=n&&!g.hasSeriesData(t,e))return null;var o=g.getSeriesLabel(t,e);if("on"!=n&&(null==o||"string"==typeof o&&0===o.trim().length))return null;var h={id:g.getSeries(t,e),text:o,categories:g.getCategories(t,e),categoryVisibility:g.isSeriesRendered(t,e)?"visible":"hidden",_getDataContext:p.getDataContext.bind(null,t,e,-1)};if("line"==a||"lineWithArea"==a||"scatter"==r||"bubble"==r)if(h.lineStyle=p.getLineStyle(t,e),h.lineWidth=p.getLineWidth(t,e),p.isMarkerDisplayed(t,e)){var u=p.getImageSource(t,e,null,null,"source");u?(h.symbolType="image",h.source=u):(h.symbolType="none"==s?"marker":"lineWithMarker","lineWithMarker"==h.symbolType&&(h.lineWidth=Math.min(Ct._DEFAULT_LINE_WIDTH_WITH_MARKER,h.lineWidth)),h.markerShape=p.getMarkerShape(t,e),h.markerColor=p.getMarkerColor(t,e))}else h.symbolType="line";else if("boxPlot"==a){var d=p.getBoxPlotStyleOptions(t,e);d.q2Color!=d.q3Color?(h.symbolType=l.isHorizontal(t)?"_horizontalBoxPlot":"_verticalBoxPlot",h._boxPlot=d):h.symbolType="marker"}else h.symbolType="marker","none"==p.getLineType(t,e)&&(h.markerShape=p.getMarkerShape(t,e));return h.color=p.getColor(t,e),h.borderColor=p.getBorderColor(t,e),h.pattern=p.getPattern(t,e),h.svgStyle="area"==a?p.getAreaStyle(t,e):p.getStyle(t,e),h.svgClassName="area"==a?p.getAreaClassName(t,e):p.getClassName(t,e),h.markerSvgStyle=p.getMarkerStyle(t,e),h.markerSvgClassName=p.getMarkerClassName(t,e),h.drilling=g.isSeriesDrillable(t,e)?"on":"off",h.shortDesc=i.shortDesc,h},Ct._getRefObjItems=function(t){var e=g.getRefObjs(t);if(e.length<=0)return[];for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a&&"on"==a.displayInLegend&&a.text){var s=f.getType(a);i.push({symbolType:"area"==s?"square":"line",text:a.text,color:f.getColor(t,a),lineStyle:a.lineStyle,lineWidth:f.getLineWidth(t,a),categories:f.getRefObjCategories(a),categoryVisibility:f.isObjectRendered(t,a)?"visible":"hidden",shortDesc:a.shortDesc,svgStyle:a.style||a.svgStyle,svgClassName:a.className||a.svgClassName})}}return i};var At=function(t){this.Init(t.getCtx(),t.processEvent,t),this._parentChart=t,this._chart=t.overview?t.overview.getBackgroundChart():null,this._newInstance=t.constructor.newInstance,this._id=t.getId()+"_overview"};e.Obj.createSubclass(At,a.Overview),At.prototype._renderChart=function(t,i,r){var a=this._parentChart.Defaults.getNoCloneObject();this._chartContainer=new e.Container(this.getCtx()),this.addChild(this._chartContainer);t=e.JsonUtils.merge({legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0},t,a),l.hasGroupAxis(this._parentChart)&&(t.xAxis.tickLabel.rendered="off"),l.isStock(this._parentChart)&&t.series&&t.series[0]&&(t.series=[t.series[0]],t.series[0].type="lineWithArea");var s=this._parentChart.getOptions().overview.content,n=(t=e.JsonUtils.merge(s,t,a)).yAxis.rendered,o=t.y2Axis.rendered;t.zoomAndScroll="off",this._chart||(this._chart=this._newInstance(this.getCtx()),this._chart.setId(this._id));var h=i,u=this._parentChart.getWidth(),d=this._parentChart.__getPlotAreaSpace(),c=g.hasY2Data(this._parentChart),p=g.hasY2DataOnly(this._parentChart),_=(n="on"===t.yAxis.rendered&&!p,o="on"===t.y2Axis.rendered&&c,d.x),f=u-(_+i);n&&(h=_+i,t.yAxis.size=_),o&&(h=(n?_:0)+f+i,t.y2Axis.size=f),this._chartContainer.addChild(this._chart),this._chart.render(t,h,r);var v=new e.Rect(this.getCtx(),0,0,h,r);v.setInvisibleFill(),this._chartContainer.addChild(v),this._chart.getEventManager().setKeyboardHandler(null);var m=this._chart.__getPlotAreaSpace();if(n){var S=this._chartContainer.getTranslateX()-m.x;this._chartContainer.setTranslateX(S)}return new e.Dimension(i,m.h+m.y)},At.prototype.render=function(t,e,i){t.overview.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundClass:t.chart._resources.overviewGrippy,handleSize:16,handleFillColor:"rgba(0,0,0,0)"},t.overview.animationOnClick="off";var r=this._renderChart(t.chart,e,i);At.superclass.render.call(this,t.overview,r.w,r.h)},At.prototype.destroy=function(){At.superclass.destroy.call(this),this._parentChart=null,this._chart=null},At.prototype.getBackgroundChart=function(){return this._chart},At.prototype.isBackgroundRendered=function(){return!1},At.prototype.isLeftAndRightFilterRendered=function(){return!0},At.prototype.HandleKeyDown=function(t){},At.prototype.HandleKeyUp=function(t){};var bt=function(t,e,i,r){this.Init(t,e,i,r)};bt._THREED_TILT=Y.THREED_TILT,bt._THREED_DEPTH=.1,bt._RADIUS=.45,bt._RADIUS_LABELS=.38,bt._MIN_ARC_LENGTH=1.5,e.Obj.createSubclass(bt,e.Container),bt.prototype.Init=function(t,i,r,a){bt.superclass.Init.call(this,t.getCtx()),this.chart=t,this._options=t.getOptions(),this._frame=i.clone(),t.pieChart=this;for(var s=this.getLabelPosition(),n=g.getSeriesCount(t),o=0;o<n;o++){var l=g.getDataItem(t,o,0);!l||"center"!=s&&"none"!=s||"outsideSlice"!=l.labelPosition||(s="outsideSlice")}this._center=new e.Point(i.x+Math.floor(i.w/2),i.y+Math.floor(i.h/2));var h="center"==s||"none"==s?bt._RADIUS:bt._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(i.w,i.h)*h),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=i.h*bt._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=bt._THREED_TILT),this._slices=this._createSlices(),this._centerLabel=null,this._shapesContainer=new e.Container(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0},bt.prototype.getOptions=function(){return this._options},bt.prototype.highlight=function(t){e.CategoryRolloverHandler.highlight(t,this._slices,"any"==this.getOptions().highlightMatch)},bt.prototype._createSlices=function(){for(var t,i,r=[],a=c.getRenderedSeriesIndices(this.chart),s=c.getOtherValue(this.chart),n=0;n<a.length;n++)if(i=a[n],g.isDataItemRendered(this.chart,i)){var o=(t=new Y(this,i)).getValue();null==o||o<=0||r.push(t)}var l=g.getHiddenCategories(this.chart).indexOf(c.OTHER_SLICE_SERIES_ID)>=0;if(s>0&&!l){var h=new Y(this);"ascending"==this.chart.getOptions().sorting?r.unshift(h):r.push(h)}return e.Agent.isRightToLeft(this.getCtx())&&r.reverse(),r},bt.prototype.setInitialSelection=function(){var t=this.chart.getSelectionHandler();if(t){for(var e=g.getInitialSelection(this.chart),i=[],r=0;r<e.length;r++)for(var a=0;a<this._slices.length;a++){var s=this._slices[a].getId();null!=s&&(null!=e[r].id&&s.id==e[r].id||s.series==e[r].series&&s.group==e[r].group)&&i.push(s)}if(c.isOtherSliceSelected(this.chart,e)){var n=c.getOtherSliceId(this.chart);i.push(n)}t.processInitialSelections(i,this._slices)}},bt.prototype.render=function(){k.addPlotAreaDnDBackground(this.chart,this,this._frame,!0),this.contains(this._shapesContainer)||(this._shapesContainer||(this._shapesContainer=new e.Container(this.getCtx())),this.addChild(this._shapesContainer)),bt._layoutSlices(this._slices,this._anchorOffset);for(var t=2*Math.PI*this.getRadiusX(),i=0,r={},a=this.chart.getOptionsCache().getFromCache("hasLargeSeriesCount"),s=0;s<this._slices.length;s++){if(a){var n=this._slices[s].getAngleExtent(),o=n/360*t,l=(this._slices[s].getAngleStart()+n)/360*t;if(o<bt._MIN_ARC_LENGTH&&Math.abs(i-l)<bt._MIN_ARC_LENGTH){r[this._slices[s].getSeriesIndex()]=!0;continue}i=l}this._slices[s].preRender()}var h=bt._orderSlicesForRendering(this._slices);this._duringDisplayAnim||(j.createPieCenter(this),j.layoutLabelsAndFeelers(this));for(s=0;s<h.length;s++)r[h[s].getSeriesIndex()]||h[s].render(this._duringDisplayAnim);this.setInitialSelection(),this.highlight(g.getHighlightedCategories(this.chart))},bt.prototype.getTotalValue=function(){for(var t=0,e=0;e<this._slices.length;e++){var i=this._slices[e].getValue();i>=0&&(t+=i)}return t},bt._layoutSlices=function(t,e){var i,r,a=0,s=t?t.length:0;e>360&&(e-=360),e<0&&(e+=360);var n=0;s>0&&(n=t[0].getPieChart().getTotalValue());for(var o=0;o<s;o++){var l=(i=t[o]).getValue();(r=e-(a=3.6*(l==n?100:0==n?0:Math.min(l/n*100,99.99))))<0&&(r+=360),i.setAngleStart(r),i.setAngleExtent(a),e=i.getAngleStart()}},bt._orderSlicesForRendering=function(t){for(var e,i,r,a,s=[],n=t?t.length:0,o=-1,l=0;l<n;l++)if((r=(i=(e=t[l]).getAngleStart())+e.getAngleExtent())>360&&(r-=360),r<0&&(r+=360),90==r||i<90&&r>90){o=l,a=r-90;break}var h=[];for(l=o;l<n;l++)h.push(t[l]);for(l=0;l<o;l++)h.push(t[l]);var u=0,g=0,d=180+a;for(l=0;l<n;l++)if(e=h[l]){if(u+e.getAngleExtent()>d){g=l;break}s.push(e),u+=e.getAngleExtent()}for(l=n-1;l>=g;l--)(e=h[l])&&s.push(e);return s},bt.prototype.is3D=function(){return"on"==this._options.styleDefaults.threeDEffect},bt.prototype.__calcMaxExplodeDistance=function(){var t=.5/bt._RADIUS-1;return this._radiusX*t},bt.prototype.getAnimationDuration=function(){return p.getAnimationDuration(this.chart)},bt.prototype.getDisplayAnimation=function(){this._duringDisplayAnim=!0;var t=new e.DataAnimationHandler(this.getCtx(),this),i=this.getAnimationDuration(),r=Y.createFillerSlice(this,this.getTotalValue());this._slices.push(r);var a=new e.CustomAnimation(this.getCtx(),r,i);a.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.GetAnimationParams,r.SetAnimationParams,r.getDeletedAnimationParams()),a.setOnEnd(r._removeDeletedSlice,r),t.add(a,0);for(var s=0;s<this._slices.length-1;s++)this._slices[s].animateInsert(t);var n=new e.CustomAnimation(this.getCtx(),this,i);n.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams()),t.add(n,0);var o=[];for(s=0;s<this._slices.length;s++)o=o.concat(this._slices[s].getLabelAndFeeler());var l=new e.AnimFadeIn(this._context,o,i);t.add(l,0),this._setAnimationParams();var h=t.getAnimation(!0);return h.setOnEnd(this._onEnd,this),h},bt.prototype._onEnd=function(){this._duringDisplayAnim=!1,this._setAnimationParams()},bt.prototype.getCenter=function(){return this._center},bt.prototype.getId=function(){return"chart/pie"},bt.prototype.getInnerRadius=function(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95},bt.prototype.__getFrame=function(){return this._frame},bt.prototype.getRadiusX=function(){return this._radiusX},bt.prototype.getRadiusY=function(){return this._radiusY},bt.prototype.getDepth=function(){return this._depth},bt.prototype.getSliceDisplayable=function(t){var e=c.getSliceBySeriesIndex(this.chart,t);return e?e.getTopDisplayable():null},bt.prototype.__getShapesContainer=function(){return this._shapesContainer},bt.prototype.__getSlices=function(){return this._slices},bt.prototype.animateUpdate=function(t,i){var r=new e.DataAnimationHandler(this.getCtx(),this);r.constructAnimation(i.__getSlices(),this.__getSlices());var a=r.getAnimation(!0),s=new e.CustomAnimation(this.getCtx(),this,this.getAnimationDuration());s.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams());var n=new e.ParallelPlayable(this.getCtx(),a,s);n.setOnEnd(this._setAnimationParams,this),t.add(n,0),this._setAnimationParams([i.getDepth(),i.getRadiusY(),i.getCenter().y])},bt.prototype.animateInsert=function(t){},bt.prototype.animateDelete=function(t,e){},bt.prototype._getAnimationParams=function(){return[this._depth,this._radiusY,this._center.y]},bt.prototype._setAnimationParams=function(t){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,t&&(this._depth=t[0],this._radiusY=t[1],this._center.y=t[2]),this.render()},bt.prototype.bringToFrontOfSelection=function(t){var e=t.getPieChart()._shapesContainer;if(e){var i=e.getNumChildren();if(i-this._numFrontObjs>1){e.removeChild(t._topSurface[0]);var r=i-this._numFrontObjs-1;e.addChildAt(t._topSurface[0],r)}}},bt.prototype.pushToBackOfSelection=function(t){for(var e=this._slices.length,i=0,r=0;r<e;r++)this._slices[r].isSelected()&&i++;this._numSelectedObjsInFront=i;var a=t.getPieChart()._shapesContainer;if(a){var s=a.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;s>=0&&(a.removeChild(t._topSurface[0]),a.addChildAt(t._topSurface[0],s))}},bt.prototype.getLabelPosition=function(){return bt.parseLabelPosition(this._options.styleDefaults.dataLabelPosition)},bt.prototype.getSeriesLabelPosition=function(t){var e=this.getLabelPosition(),i=g.getDataItem(this.chart,t,0);return i&&i.labelPosition&&(e=i.labelPosition),bt.parseLabelPosition(e)},bt.parseLabelPosition=function(t){return"center"==t||"inside"==t?"center":"outsideSlice"==t||"outside"==t?"outsideSlice":"none"==t?"none":"auto"},bt.prototype.getSkin=function(){return this._options.skin},bt.prototype.setCenterLabel=function(t){this._centerLabel=t},bt.prototype.getCenterLabel=function(){return this._centerLabel};var Mt=new Object;e.Obj.createSubclass(Mt,e.Obj),Mt._BUTTON_SIZE=16,Mt._BUTTON_PADDING=5,Mt._BUTTON_CORNER_DIST=4,Mt._BUTTON_OPACITY=.8,Mt._MOUSE_WHEEL_ZOOM_RATE_SLOW=.05,Mt._MOUSE_WHEEL_ZOOM_RATE_FAST=.2,Mt.render=function(t,e,i){if(Mt._renderBackground(t,e,i),g.hasInvalidData(t))L.renderEmptyText(t,e,i);else{l.isOverview(t)||(t.getOptions()._maxOverflowCoord=i.x+i.w,t.getOptions()._minOverflowCoord=i.x),Mt._addOuterGaps(t,i);var r=i.clone();Mt._renderTitles(t,e,i),Mt._adjustAvailSpace(i),Ct.render(t,e,i),Mt._adjustAvailSpace(i);var a=Mt._prerenderHorizScrollbar(t,e,i),s=Mt._prerenderVertScrollbar(t,e,i);Mt._adjustAvailSpace(i),t.__setAxisSpace(i.clone()),xt.render(t,e,i),Mt._adjustAvailSpace(i),Mt._positionLegend(t.legend,i),t.__setPlotAreaSpace(i.clone()),Mt._setEventHandlers(t),Mt._renderScrollbars(t,a,s),Mt._updateTitles(t,e,r,i),Mt._renderPlotArea(t,e,i),Mt._renderDragButtons(t,e)}},Mt._setEventHandlers=function(t){var i=t.getOptions(),r=t.getEventManager();if(l.hasAxes(t)&&!l.isOverview(t)){var a,s,n=new e.Rectangle(0,0,t.getWidth(),t.getHeight()),o=t.__getPlotAreaSpace(),h=t.__getAxisSpace(),u=new e.Rectangle(o.x,h.y,o.w,h.h),g=new e.Rectangle(h.x,o.y,h.w,o.h),d=new e.SolidFill(i.styleDefaults.marqueeColor),c=new e.Stroke(i.styleDefaults.marqueeBorderColor);if(E.isScrollable(t)){var p=E.isDelayedScroll(t)?Mt._MOUSE_WHEEL_ZOOM_RATE_FAST:Mt._MOUSE_WHEEL_ZOOM_RATE_SLOW;if(s=new e.PanZoomHandler(t,o,n,p),r.setPanZoomHandler(s),E.isZoomable(t)){var _=E.getZoomDirection(t);a=l.isHorizontal(t)||"y"==_?new e.MarqueeHandler(t,o,n,d,c,!1,!0,null,g):l.isBLAC(t)||"x"==_?new e.MarqueeHandler(t,o,n,d,c,!0,!1,u,null):new e.MarqueeHandler(t,o,n,d,c,!0,!0,u,g),r.setMarqueeZoomHandler(a)}}"multiple"==i.selectionMode&&(a=new e.MarqueeHandler(t,o,n,d,c,!0,!0,u,g),r.setMarqueeSelectHandler(a))}},Mt.rerenderAxisAndPlotArea=function(t,e){if(!g.hasInvalidData(t)){var i=t.__getAxisSpace().clone(),r=t.getSelectionHandler();if(r)var a=r.getSelectedIds();var s=t.__cacheChartFocus();t.__cleanUpAxisAndPlotArea(),xt.render(t,e,i),Mt._adjustAvailSpace(i),t.__setPlotAreaSpace(i.clone()),Mt._renderPlotArea(t,e,i),r&&r.processInitialSelections(a,t.getChartObjPeers()),t.getEventManager().autoToggleZoomButton(),Mt.positionDragButtons(t),t.highlight(g.getHighlightedCategories(t)),t.__restoreChartFocus(s)}},Mt._renderBackground=function(t,i,r){var a=new e.Rect(t.getCtx(),r.x,r.y,r.w,r.h);a.setInvisibleFill(),i.addChild(a)},Mt._addOuterGaps=function(t,e){var i=t.getOptions(),r=d.getGapWidth(t,i.layout.outerGapWidth),a=d.getGapHeight(t,i.layout.outerGapHeight);Mt._needsOuterGaps(t)||(r=Math.min(r,1),a=Math.min(a,1)),e.x+=r,e.w-=2*r,e.y+=a,e.h-=2*a},Mt._needsOuterGaps=function(t){var e=t.getOptions();return!(!l.isFunnel(t)||"on"!==e.styleDefaults.threeDEffect)||!(P.isStandalonePlotArea(t)||P.isStandaloneXAxis(t)||P.isStandaloneYAxis(t)||P.isStandaloneY2Axis(t))},Mt._renderTitles=function(t,i,r){var a=t.getOptions();if(a.title.text){var s,n,o=L.createText(t.getEventManager(),i,a.title.text,a.title.style,r.x,r.y,r.w,r.h),l=null!=a.title.hAlign?a.title.hAlign:a.title.halign,h="plotArea"==l.substring(0,8);if(o?(s=(n=o.getDimensions()).h,o.setAriaProperty("hidden",null)):(s=0,n=new e.Rectangle(0,0,0,0)),a.subtitle.text){var u=new e.OutputText(t.getCtx(),a.subtitle.text,r.x,r.y);if(u){u.setCSSStyle(a.subtitle.style),i.addChild(u);var g=u.getDimensions(),c=d.getGapWidth(t,a.layout.titleSubtitleGapWidth),p=n.w+c+g.w;if(p>r.w||h)c=d.getGapHeight(t,a.layout.titleSubtitleGapHeight),u.setY(r.y+s+c),e.TextUtils.fitText(u,r.w,r.h,i)&&(s+=(g=u.getDimensions()).h+c,e.Agent.isRightToLeft(t.getCtx())&&(u&&u.setX(r.w-g.w),o&&o.setX(r.w-n.w)));else{var _=n.h-g.h;u.setY(_+r.y),o&&(e.LayoutUtils.align(r,l,o,p),e.Agent.isRightToLeft(t.getCtx())?(u.setX(o.getX()),o&&o.setX(o.getX()+g.w+c)):u.setX(o.getX()+p-g.w))}u.setAriaProperty("hidden",null),t.getEventManager().associate(u,new e.SimpleObjPeer(u.getUntruncatedTextString()))}}else e.LayoutUtils.align(r,l,o,n.w);h&&(t.getCache().putToCache("title",o),t.getCache().putToCache("subtitle",u));var f="on"==a.titleSeparator.rendered?a.layout.titleSeparatorGap:a.layout.titlePlotAreaGap;if(r.y+=s+d.getGapHeight(t,f),r.h-=s+d.getGapHeight(t,f),"on"==a.titleSeparator.rendered){var v=new e.Line(t.getCtx(),r.x,r.y,r.x+r.w,r.y),m=new e.Line(t.getCtx(),r.x,r.y+1,r.x+r.w,r.y+1);v.setSolidStroke(a.titleSeparator.upperColor),m.setSolidStroke(a.titleSeparator.lowerColor),i.addChild(v),i.addChild(m);var S=2+d.getGapHeight(t,a.layout.titlePlotAreaGap);r.y+=S,r.h-=S}}if(a.footnote.text){var y=L.createText(t.getEventManager(),i,a.footnote.text,a.footnote.style,r.x,0,r.w,r.h),x=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,C="plotArea"==x.substring(0,8);if(y){var A=y.getDimensions();y.setY(r.y+r.h-A.h),r.h-=A.h+d.getGapHeight(t,a.layout.footnoteGap),e.LayoutUtils.align(r,x,y,A.w),y.setAriaProperty("hidden",null)}C&&t.getCache().putToCache("footnote",y)}},Mt._updateTitles=function(t,e,i,r){var a=t.getOptions(),s=null!=a.title.hAlign?a.title.hAlign:a.title.halign,n=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,o=a.title.text&&"plotArea"==s.substring(0,8),l=a.footnote.text&&"plotArea"==n.substring(0,8);if(i.x=r.x,i.w=r.w,o){var h,u=t.getCache().getFromCache("title"),g=t.getCache().getFromCache("subtitle"),d=u.getDimensions();Mt._alignTextToPlotArea(e,i,s,u,d.w),g&&(h=g.getDimensions(),Mt._alignTextToPlotArea(e,i,s,g,h.w))}if(l){var c=t.getCache().getFromCache("footnote"),p=c.getDimensions();Mt._alignTextToPlotArea(e,i,n,c,p.w)}},Mt._alignTextToPlotArea=function(t,i,r,a,s){e.TextUtils.fitText(a,i.w,i.h,t)&&("plotAreaStart"==r?e.LayoutUtils.align(i,"start",a,s):"plotAreaCenter"==r?e.LayoutUtils.align(i,"center",a,s):"plotAreaEnd"==r&&e.LayoutUtils.align(i,"end",a,s))},Mt._renderPlotArea=function(t,i,r){if(l.hasAxes(t)){var a=new e.Container(t.getCtx());a.setTranslate(r.x,r.y),i.addChildAt(a,1),t.setPlotArea(a),t.getEventManager().associate(a,new e.SimpleObjPeer(null,null,null,{type:"plotArea"}));var s=new e.Rectangle(0,0,r.w,r.h);mt.render(t,a,s)}else if(l.isPie(t)){var n=new bt(t,r);n.__getSlices().length>0?(i.addChild(n),t.setPlotArea(n),n.render()):L.renderEmptyText(t,i,r)}else l.isFunnel(t)?F.render(t,i,r):l.isPyramid(t)&&H.render(t,i,r);r.w=0,r.h=0},Mt._prerenderHorizScrollbar=function(t,i,r){var a=r.w,s=0;return E.isScrollable(t)&&E.isHorizScrollbarSupported(t)?p.isOverviewRendered(t)?(s=Math.min(p.getOverviewHeight(t),r.h))>0&&(t.overview=new At(t),i.addChild(t.overview),e.LayoutUtils.position(r,"bottom",t.overview,a,s,10)):(s=t.getOptions().styleDefaults._scrollbarHeight,t.xScrollbar=new e.SimpleScrollbar(t.getCtx(),t.processEvent,t),i.addChild(t.xScrollbar),e.LayoutUtils.position(r,"bottom",t.xScrollbar,a,s,8),t.overview=null):t.overview=null,new e.Dimension(a,s)},Mt._prerenderVertScrollbar=function(t,i,r){var a=0,s=r.h;if(E.isScrollable(t)&&E.isVertScrollbarSupported(t)){a=t.getOptions().styleDefaults._scrollbarHeight;var n=new e.SimpleScrollbar(t.getCtx(),t.processEvent,t);i.addChild(n),e.LayoutUtils.position(r,e.Agent.isRightToLeft(t.getCtx())?"right":"left",n,a,s,8),l.isHorizontal(t)?t.xScrollbar=n:t.yScrollbar=n}return new e.Dimension(a,s)},Mt._renderScrollbars=function(t,i,r){var a=t.getOptions(),s={color:a.styleDefaults._scrollbarHandleColor,backgroundColor:a.styleDefaults._scrollbarTrackColor},n=t.__getPlotAreaSpace();if(t.xScrollbar&&(s.min=t.xAxis.getLinearGlobalMin(),s.max=t.xAxis.getLinearGlobalMax(),l.isHorizontal(t)?(s.isHorizontal=!1,s.isReversed=!1,t.xScrollbar.setTranslateY(n.y),t.xScrollbar.render(s,r.w,n.h)):(s.isHorizontal=!0,s.isReversed=e.Agent.isRightToLeft(t.getCtx()),t.xScrollbar.setTranslateX(n.x),t.xScrollbar.render(s,n.w,i.h)),t.xScrollbar.setViewportRange(t.xAxis.getLinearViewportMin(),t.xAxis.getLinearViewportMax())),t.yScrollbar&&(s.min=t.yAxis.getLinearGlobalMin(),s.max=t.yAxis.getLinearGlobalMax(),s.isHorizontal=!1,s.isReversed=!0,t.yScrollbar.setTranslateY(n.y),t.yScrollbar.render(s,r.w,n.h),t.yScrollbar.setViewportRange(t.yAxis.getLinearViewportMin(),t.yAxis.getLinearViewportMax())),t.overview){var o=t.Defaults.getNoCloneObject(),h={overview:{xMin:t.xAxis.getLinearGlobalMin(),xMax:t.xAxis.getLinearGlobalMax(),x1:t.xAxis.getLinearViewportMin(),x2:t.xAxis.getLinearViewportMax(),minimumWindowSize:t.xAxis.getInfo().getMinimumExtent()},chart:e.JsonUtils.clone(a,null,o)};E.isZoomable(t)||(h.featuresOff="zoom"),h.chart._minOverflowCoord=a._minOverflowCoord-n.x,h.chart._maxOverflowCoord=a._maxOverflowCoord-n.x,t.overview.setTranslateX(n.x),t.overview.render(h,n.w,i.h),t.overview.setViewportRange(t.xAxis.getLinearViewportMin(),t.xAxis.getLinearViewportMax())}},Mt._positionLegend=function(t,e){if(t){var i=t.getDimensions(),r=t.getOptions().orientation;"vertical"==r&&i.h<=e.h?t.setTranslateY(Math.round(e.y+e.h/2-i.h/2)):"horizontal"==r&&i.w<=e.w&&t.setTranslateX(Math.round(e.x+e.w/2-i.w/2))}},Mt._renderDragButtons=function(t,i){var r=Mt._BUTTON_SIZE+2*(Mt._BUTTON_PADDING+Mt._BUTTON_CORNER_DIST),a=t.__getPlotAreaSpace();if(!(!l.hasAxes(t)||l.isOverview(t)||a.w<r||a.h<r)){var s=t.getOptions(),n=s._resources,o=s.translations,h=t.getEventManager(),u=s.dragMode;if("user"==u){var g,d,c,p=e.Agent.isTouchDevice(),_=E.isScrollable(t);t.dragButtons=new e.Container(t.getCtx());var f=[],v="multiple"==s.selectionMode&&(p||_),m=_&&p,S=_&&!p&&E.isZoomable(t)&&l.isScatterBubble(t);v&&n.select&&f.push(n.select),m&&n.pan&&f.push(n.pan),S&&n.zoom&&f.push(n.zoom),c=e.ToolkitUtils.getIconStyles(t.getCtx(),f),v&&(d=m||S?"end":"solo",h.selectButton=Mt._createDragButton(t,t.dragButtons,c[n.select],h.onSelectButtonClick,h,d),g=o.tooltipSelect,h.selectButton.setTooltip(g),h.associate(h.selectButton,h.selectButton)),m&&(d=v?"start":"solo",h.panButton=Mt._createDragButton(t,t.dragButtons,c[n.pan],h.onPanButtonClick,h,d),g=o.tooltipPan,h.panButton.setTooltip(g),h.associate(h.panButton,h.panButton)),S&&(d=v?"start":"solo",h.zoomButton=Mt._createDragButton(t,t.dragButtons,c[n.zoom],h.onZoomButtonClick,h,d),g=o.tooltipZoom,h.zoomButton.setTooltip(g),h.associate(h.zoomButton,h.zoomButton)),Mt.positionDragButtons(t),h.setDragMode(null),t.dragButtons.getNumChildren()>0&&(t.addChild(t.dragButtons),p?_&&(h.panButton.setToggled(!0),h.onPanButtonClick(null)):t.hideDragButtons(),t.dragButtons.setCursor("default"))}else"pan"==u?h.setDragMode(z.DRAG_MODE_PAN):"zoom"==u?h.setDragMode(z.DRAG_MODE_ZOOM):"select"==u?h.setDragMode(z.DRAG_MODE_SELECT):h.setDragMode(z.DRAG_MODE_OFF)}},Mt._positionDragButton=function(t,i,r){var a;e.Agent.isRightToLeft(t.getCtx())?(a=r.x+Mt._BUTTON_PADDING,r.x+=Mt._BUTTON_SIZE+2*Mt._BUTTON_PADDING):a=r.x+r.w-Mt._BUTTON_SIZE-Mt._BUTTON_PADDING,r.w-=Mt._BUTTON_SIZE+2*Mt._BUTTON_PADDING,i.setTranslate(a,r.y+Mt._BUTTON_PADDING)},Mt.positionDragButtons=function(t){var e=t.__getPlotAreaSpace().clone();e.x+=Mt._BUTTON_CORNER_DIST,e.w-=2*Mt._BUTTON_CORNER_DIST,e.y+=Mt._BUTTON_CORNER_DIST;var i=t.getEventManager();i.selectButton&&Mt._positionDragButton(t,i.selectButton,e),i.panButton&&Mt._positionDragButton(t,i.panButton,e),i.zoomButton&&Mt._positionDragButton(t,i.zoomButton,e)},Mt._createDragButtonBackground=function(t,i){var r=2,a=2,s=e.Agent.isRightToLeft(t);"start"==i?s?r=0:a=0:"end"==i&&(s?a=0:r=0);var n=r,o=a,l=-Mt._BUTTON_PADDING,h=Mt._BUTTON_SIZE+2*Mt._BUTTON_PADDING,u=e.PathUtils.roundedRectangle(l,l,h,h,n,a,o,r),g=new e.Path(t,u);return g.setPixelHinting(e.Agent.getDevicePixelRatio()>1),g},Mt._getImageUrl=function(t,e,i,r){var a,s=t.getOptions()._resources[i];return null==s?r:null!=(a=e[s])?a:s},Mt._createDragButton=function(t,i,r,a,s,n){var o=t.getCtx(),l=Mt._createDragButtonBackground(o,n),h=new e.IconButton(o,"outlined",{style:r,size:Mt._BUTTON_SIZE},l,null,a,s);if(e.Agent.isTouchDevice()){var u,g=e.Agent.isRightToLeft(o),d=2*Mt._BUTTON_PADDING;(u="solo"==n?new e.Rect(o,-d,-d,Mt._BUTTON_SIZE+2*d,Mt._BUTTON_SIZE+2*d):"start"==n&&!g||"end"==n&&g?new e.Rect(o,-d,-d,Mt._BUTTON_SIZE+1.5*d,Mt._BUTTON_SIZE+2*d):new e.Rect(o,-.5*d,-d,Mt._BUTTON_SIZE+1.5*d,Mt._BUTTON_SIZE+2*d)).setInvisibleFill(),u.setSolidStroke("none"),h.addChild(u)}return h.setToggleEnabled(!0),i.addChild(h),h.addEvtListener(e.MouseEvent.MOUSEDOWN,function(t){t.stopPropagation()}),h},Mt._adjustAvailSpace=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y),t.w=Math.round(t.w),t.h=Math.round(t.h)},Mt.renderDataCursor=function(t){var e=null,i=t.getOptions(),r=t.getEventManager();if(v.isDataCursorEnabled(t)){(e=new _(t.getCtx(),i.styleDefaults.dataCursor,l.isHorizontal(t))).setBehavior(v.getDataCursorBehavior(t)),t.addChild(e);var a=new St(t,e);r.setDataCursorHandler(a),t.positionDataCursor(i.dataCursorPosition)}else r.setDataCursorHandler(null);return e};const Tt={processDataObject:function(t){if(g.hasData(t)){var i=t.getOptions(),r=t.getOptionsCache(),a=g.getSeriesCount(t);l.isValidType(t)||(i.type="bar");var s=!1,n=!1,o=!0,h=null,u=!1,d=!1,c=!1,_=!1,f=l.isStock(t);f&&a>1&&(i.series=i.series.slice(0,1),a=1);var v=l.isMixedFrequency(t),m=a>100;r.putToCache("hasLargeSeriesCount",m);for(var S=0,y=t.getSeriesStyleArray(),x=0;x<a;x++){var C=g.getSeries(t,x);!m&&null!=C&&y.indexOf(C)<0&&y.push(C);var A=g.getSeriesItem(t,x);if(A.items&&A.items.length>S&&(S=A.items.length),"hidden"===A.visibility){var b=g.getHiddenCategories(t);b.indexOf(C)<0&&b.push(C)}if(A.visibility=null,"on"===A.assignedToY2&&(s=!0),"on"===A.displayInLegend&&(_=!0),A&&A.items)for(var M=A.items,T=0;T<M.length;T++)null!=M[T]&&("object"!=typeof(P=M[T])&&(P={y:P},M[T]=P),v||null==P.x||(P.x=Number(P.x)),null!=P.y&&(P.y=Number(P.y),P.y<0&&(d=!0)),null!=P.z?(P.z=Number(P.z),null==h?h=P.z:h!=P.z&&(o=!1)):h=1,null!=P.value&&(P.value=Number(P.value),P.value<0&&(d=!0)),null!=P.targetValue&&(P.targetValue=Number(P.targetValue)),null!=P.open&&(P.open=Number(P.open),u=!0),null!=P.close&&(P.close=Number(P.close),u=!0,P.close<0&&(d=!0)),null!=P.low&&(P.low=Number(P.low),u=!0),null!=P.high&&(P.high=Number(P.high),u=!0),null!=P.volume&&(P.volume=Number(P.volume),n=!0),(P.color||P.borderColor||P.borderWidth||P.style||P.svgStyle||P.className||P.svgClassName)&&r.putToCachedMap("itemStyleSet",x,!0),"outsideBarEdge"==P.labelPosition&&(c=!0))}if(r.putToCache("hasVolume",n),r.putToCache("hasConstantZValue",o),r.putToCache("constantZValue",o?h:null),r.putToCache("hasLowHighSeries",u),r.putToCache("hasNegativeValues",d),r.putToCache("hasDataOutsideBarEdge",c),r.putToCache("hasSeriesDisplayedInLegend",_),f&&g.hasVolumeSeries(t)&&!l.isOverview(t)){var D=e.JsonUtils.clone(g.getSeriesItem(t,0));D.assignedToY2="on",s=!0,D.type="bar",D.categories=g.getCategories(t,0),D.id="_volume",D._selectable="off",D.items=[];for(var I=0;I<A.items.length;I++){var O={};O.color=p.getStockVolumeColor(t,0,I),O.x=A.items[I].x,O.value=A.items[I].volume,O.drilling="off",D.items.push(O)}i.series.push(D),r.putToCachedMap("itemStyleSet",i.series.length-1,!0)}r.putToCache("hasY2Assignment",s);for(var E=g.getRefObjs(t),L=0;L<E.length;L++){if(M=E[L].items)for(T=0;T<M.length;T++){var P;(P=M[T])&&("object"!=typeof P?M[T]=Number(P):(!l.isMixedFrequency(t)&&P.x&&(P.x=Number(P.x)),P.max&&(P.max=Number(P.max)),P.min&&(P.min=Number(P.min)),P.value&&(P.value=Number(P.value))))}}i.groups||(i.groups=new Array);var w=g.getGroupCount(t);for(L=0;L<S-w;L++){var R=i.translations.labelDefaultGroupName||"Group {0}",B=e.ResourceUtils.format(R,[i.groups.length+1]);i.groups.push(B)}r.putToCache("groupsArray",null),Tt._processTimeAxis(t);var k=i.sorting;if(k="on"===k?"descending":"ascending"!==k&&"descending"!==k?"off":k,l.isBLAC(t)&&l.hasGroupAxis(t)&&"off"!=k&&1==g.getNumLevels(t)){var F=g.getGroups(t),N={};for(T=0;T<F.length;T++){var H=0;for(L=0;L<=a;L++)if(g.isSeriesRendered(t,L)&&!g.isAssignedToY2(t,L)){var G=g.getValue(t,L,T);H+=null==G||isNaN(G)?0:G}N[F[T]]={index:T,total:H,group:i.groups[T]}}"ascending"===k?F.sort(function(t,e){return N[t].total-N[e].total}):F.sort(function(t,e){return N[e].total-N[t].total});for(L=0;L<a;L++){var U=[];for(T=0;T<F.length;T++)U.push(g.getDataItem(t,L,N[F[T]].index));i.series[L].items=U}var V=[];for(T=0;T<F.length;T++)V.push(N[F[T]].group);i.groups=V,r.putToCache("groupsArray",null),r.putToCache("value",null)}i.styleDefaults.dataCursor.lineWidth=parseFloat(i.styleDefaults.dataCursor.lineWidth),Tt._sanitizeAxis(i.xAxis),Tt._sanitizeAxis(i.yAxis),Tt._sanitizeAxis(i.y2Axis)}},_processTimeAxis:function(t){var e,i,r=t.getCtx(),a=t.getOptions(),s=g.getSeriesCount(t),n=g.getGroupCount(t);if(l.isMixedFrequency(t))for(e=0;e<s;e++)for(i=0;i<n;i++){var o=g.getDataItem(t,e,i);null!=o&&"string"==typeof o.x&&null!=o.x&&(o.x=Tt._sanitizeDateTime(r,o.x))}else if(l.hasTimeAxis(t)){for(i=0;i<n;i++){var h=g.getGroup(t,i);null!=h&&(a.groups[i]=Tt._sanitizeDateTime(r,h))}t.getOptionsCache().putToCache("groupsArray",null)}if(l.hasTimeAxis(t)){var u=a.xAxis;null!=u.dataMin&&(u.dataMin=Tt._sanitizeDateTime(r,u.dataMin)),null!=u.dataMax&&(u.dataMax=Tt._sanitizeDateTime(r,u.dataMax)),null!=u.min&&(u.min=Tt._sanitizeDateTime(r,u.min)),null!=u.max&&(u.max=Tt._sanitizeDateTime(r,u.max)),null!=u.viewportMin&&(u.viewportMin=Tt._sanitizeDateTime(r,u.viewportMin)),null!=u.viewportMax&&(u.viewportMax=Tt._sanitizeDateTime(r,u.viewportMax)),null!=u.viewportStartGroup&&(u.viewportStartGroup=Tt._sanitizeDateTime(r,u.viewportStartGroup)),null!=u.viewportEndGroup&&(u.viewportEndGroup=Tt._sanitizeDateTime(r,u.viewportEndGroup));for(var d=g.getRefObjs(t),c=0;c<d.length;c++){var p=d[c].items;if(p)for(var _=0;_<p.length;_++)p[_]&&null!=p[_].x&&(p[_].x=Tt._sanitizeDateTime(r,p[_].x))}}},_sanitizeAxis:function(t){t.min==t.max&&(t.min=null,t.max=null)},_sanitizeDateTime:function(t,e){var i=null,r=t.getLocaleHelpers().isoToDateConverter;if(r){try{i=r(e)}catch(t){i=null}i=null!=i&&i.getTime?i.getTime():null}return null==i&&(i=Date.parse(e)),isNaN(i)&&(i=Number(e)),i}},Dt=function(t,e,i){this.Init(t,e,i)};e.Obj.createSubclass(Dt,e.BaseComponent),Dt.newInstance=function(t,e,i){return new Dt(t,e,i)},Dt.getDefaults=function(t){return(new d).getDefaults(t)},Dt.prototype.Init=function(t,i,r){Dt.superclass.Init.call(this,t,i,r),this.Defaults=new d(t),this.EventManager=new z(this),this.EventManager.addListeners(this),e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.pieCenterDiv=null,this.Peers=[],this.SeriesStyleArray=[],this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null},Dt.prototype.GetComponentDescription=function(){var t=this.getOptions(),i=t.translations.componentName,r="",a=e.AriaUtils.ARIA_LABEL_DESC_DELIMITER;return t.title.text&&(r+=this.Options.title.text,t.subtitle.text&&(r+=a+this.Options.subtitle.text)),t.footnote.text&&(r=0==r.length?this.Options.footnote.text:r.concat(a,this.Options.footnote.text)),r.length>0?e.ResourceUtils.format(this.Options.translations.labelAndValue,[i,r]):i},Dt.prototype.SetOptions=function(t){t?(this._rawOptions=t,this.Options=this.Defaults.calcOptions(t),this.getOptionsCache().clearCache(),Tt.processDataObject(this),(e.Agent.isEnvironmentTest()||l.isScatterBubble(this)&&g.getSeriesCount(this)*g.getGroupCount(this)>mt.FILTER_THRESHOLD_SCATTER_BUBBLE)&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var i=this.Options.selectionMode;this._selectionHandler="single"==i?new e.SelectionHandler(this.getCtx(),e.SelectionHandler.TYPE_SINGLE):"multiple"==i?new e.SelectionHandler(this.getCtx(),e.SelectionHandler.TYPE_MULTIPLE):null,this.EventManager.setSelectionHandler(this._selectionHandler)},Dt.prototype.render=function(t,i,r){this.getCache().clearCache();var a=this.getCtx(),s=this.Options?this.Options.animationOnDataChange:"none",n="none"!=s?new It(this):null,o=this.__cacheChartFocus();this._container&&this.__cleanUp(),this.SetOptions(t),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r);var h=new e.Container(a);this.addChild(h),Mt.render(this,h,new e.Rectangle(0,0,this.Width,this.Height)),l.isSpark(this)&&this.EventManager.removeListeners(this),this.StopAnimation();var u=p.getAnimationOnDisplay(this),g=p.getAnimationDuration(this),d=new e.Rectangle(0,0,this.Width,this.Height),c=!1;if(this._container){if("none"!=s&&t)if(this.Animation=e.BlackBoxAnimationHandler.getCombinedAnimation(a,s,this._container,h,d,g),this.Animation)c=!0;else if("auto"==s&&this.getPlotArea()){var _=this.__getPlotAreaSpace();this._delContainer=mt.createClippedGroup(this,this._container,new e.Rectangle(0,0,_.w,_.h)),this.Animation=dt.createAnimation(n,this,s,g,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=u&&(this.Animation=e.BlackBoxAnimationHandler.getInAnimation(a,u,h,d,g),this.Animation||"auto"!=u||(this.Animation=ct.createAnimation(this,u,g)));this.Animation?(this.EventManager.removeListeners(this),e.Playable.appendOnEnd(this.Animation,this._onAnimationEnd,this),this.Animation.play(),this._oldContainer=this._container,!c&&this._oldContainer&&this._oldContainer.removeFromParent()):this._container&&(this._container.removeFromParent(),this._container.destroy(),this._container=null),this._container=h,this._dataCursor=Mt.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(o),this.Animation||this.RenderComplete()},Dt.prototype.__cleanUp=function(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&(this.EventManager.hideHoverFeedback(),this.EventManager.setPanZoomHandler(null),this.EventManager.setMarqueeZoomHandler(null),this.EventManager.setMarqueeSelectHandler(null),this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this.pieCenterDiv&&(this.getCtx().getContainer().removeChild(this.pieCenterDiv),this.pieCenterDiv=null),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.getCache().clearCache()},Dt.prototype.__cleanUpAxisAndPlotArea=function(){this.EventManager.hideHoverFeedback(),this.Peers=[],this.xAxis&&(this._container.removeChild(this.xAxis),this.xAxis.destroy()),this.yAxis&&(this._container.removeChild(this.yAxis),this.yAxis.destroy()),this.y2Axis&&(this._container.removeChild(this.y2Axis),this.y2Axis.destroy()),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._plotArea&&(this._container.removeChild(this._plotArea),this._plotArea.destroy()),this._plotArea=null,this.getCache().clearCache()},Dt.prototype._onAnimationEnd=function(){this._oldContainer&&(this._oldContainer.removeFromParent(),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&(this._delContainer.removeFromParent(),this._delContainer.destroy(),this._delContainer=null),this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1},Dt.prototype.CreateKeyboardHandler=function(t){return new X(t,this)},Dt.prototype.getAutomation=function(){return new W(this)},Dt.prototype.getValuesAt=function(t,e){var i=this.__getPlotAreaSpace(),r=t-i.x,a=e-i.y,s=l.isPolar(this),n=l.isHorizontal(this);if(s){r-=i.w/2,a-=i.h/2;var o=Math.sqrt(r*r+a*a),h=Math.atan2(r,-a);return h<0&&(h+=2*Math.PI),{x:this.xAxis?this.xAxis.getValueAt(h):null,y:this.yAxis?this.yAxis.getValueAt(o):null}}return{x:this.xAxis?this.xAxis.getValueAt(n?a:r):null,y:this.yAxis?this.yAxis.getValueAt(n?r:a):null,y2:this.y2Axis?this.y2Axis.getValueAt(n?r:a):null}},Dt.prototype.filter=function(t,e){var i="out"==e?"hidden":"visible";k.setVisibility(this,t,i),this.render(this.Options)},Dt.prototype.highlight=function(t){this.getOptions().highlightedCategories=e.JsonUtils.clone(t),e.CategoryRolloverHandler.highlight(t,this.getObjects(),"any"==this.getOptions().highlightMatch),this.legend&&this.legend.highlight(t),this.pieChart&&this.pieChart.highlight(t),this.overview&&this.overview.getBackgroundChart().highlight(t)},Dt.prototype.select=function(t){this.getOptions().selection=e.JsonUtils.clone(t);var i=g.getInitialSelection(this);k.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()},Dt.prototype.positionDataCursor=function(t){var i=this.getEventManager().getDataCursorHandler();if(i){if(t){var r=this.xAxis&&null!=t.x?this.xAxis.getCoordAt(t.x):null,a=null;if(l.isBLAC(this)?this.yAxis&&null!=t.y?a=this.yAxis.getBoundedCoordAt(t.y):this.y2Axis&&null!=t.y2&&(a=this.yAxis.getBoundedCoordAt(t.y2)):a=this.yAxis&&null!=t.y?this.yAxis.getCoordAt(t.y):null,null!=r&&null!=a){var s=this.__getPlotAreaSpace(),n=h.convertAxisCoord(this,new e.Point(r,a),s);return void i.processMove(new e.Point(s.x+n.x,s.y+n.y),!0)}}i.processEnd(!0)}},Dt.prototype.processEvent=function(t,e){var i=t.type;if("categoryHide"==i||"categoryShow"==i)this.filter(t.category,"categoryHide"==i?"out":"in");else if("categoryHighlight"==i)this!=e&&this.highlight(t.categories),this.legend&&this.legend!=e&&this.legend.processEvent(t,e);else if("selection"==i)t=this._processSelectionEvent(t);else if("dvtPanZoom"==i)t=this._processPanZoomEvent(t);else if("dvtMarquee"==i)t=this._processMarqueeEvent(t);else if("overview"==i){var r=t.subtype;if("dropCallback"==r)return;var a="scrollTime"==r||"scrollEnd"==r||"rangeChange"==r;t=this._processScrollbarEvent(t.newX1,t.newX2,a,e)}else if("dvtSimpleScrollbar"==i)t=this._processScrollbarEvent(t.newMin,t.newMax,"end"==t.subtype,e);else if("ready"==i&&this!=e)return;if(t){if("selection"==(i=t.type)){var s,n,o=this.getOptions(),l=o.selection,h=g.getCurrentSelection(this);t.complete&&(o.selection=h),l=l||[],h=h||[];var u={};for(s=0;s<l.length;s++)u[l[s].id]=!0;var d={};for(n=0;n<h.length;n++)d[h[n].id]=!0;var c={};for(n=0;n<h.length;n++){var p=h[n].id;u[p]||(c[p]=!0)}var _={};for(s=0;s<l.length;s++){var f=l[s].id;d[f]||(_[f]=!0)}t.addedSet=c,t.removedSet=_;for(var v=0;v<t.selection.length;v++)k.addEventData(this,t.selection[v]);t.component=this.getOptions()._widgetConstructor}else if("drill"===i){if(t.subType||(t.subType="_dvtOther"===t.id?"multiSeries":"series",t.series=t.id),this._processDrillSubType(t),"multiSeries"===t.subType)return;k.addEventData(this,t),delete t.subType,t.component=this.getOptions()._widgetConstructor}this.dispatchEvent(t)}},Dt.prototype._processDrillSubType=function(t){var e,i=t.subType;"item"===i?e=k.addItemDrillEventData(this,t):"group"===i?e=k.addGroupDrillEventData(this,t):"series"===i?e=k.addSeriesDrillEventData(this,t):"multiSeries"===i&&(e=k.addMultiSeriesDrillEventData(this,t)),this.dispatchEvent(e)},Dt.prototype._processSelectionEvent=function(t){var i=k.processIds(this,t.selection);return this._updateOverviewSelection(),e.EventFactory.newChartSelectionEvent(i,!0)},Dt.prototype._processPanZoomEvent=function(t){var i=t.subtype;return"panStart"==i||"pinchStart"==i?(e.Agent.isTouchDevice()&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea),null):(this._lastPanZoomEvent?(t.dxMin+=this._lastPanZoomEvent.dxMin,t.dxMax+=this._lastPanZoomEvent.dxMax,t.dyMin+=this._lastPanZoomEvent.dyMin,t.dyMax+=this._lastPanZoomEvent.dyMax):e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._animatePanZoomEvent)),this._lastPanZoomEvent=t,null)},Dt.prototype._animatePanZoomEvent=function(){var t=this._lastPanZoomEvent;this._lastPanZoomEvent=null;var i,r,a=t.subtype,s="panEnd"==a||"zoom"==a||"pinchEnd"==a;(E.isLiveScroll(this)?(i=k.getAxisBoundsByDelta(this,t.dxMin,t.dxMax,t.dyMin,t.dyMax),this._setScrollbarViewport(i),this._setViewport(i,s)):(i=k.getAxisBoundsByDelta(this,t.dxMinTotal,t.dxMaxTotal,t.dyMinTotal,t.dyMaxTotal),this._setScrollbarViewport(i),s&&this._setViewport(i,s)),s&&(Mt._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null)),s||!i.unchanged)&&(r=l.isBLAC(this)?e.EventFactory.newChartViewportChangeEvent(s,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):e.EventFactory.newChartViewportChangeEvent(s,i.xMin,i.xMax,null,null,i.yMin,i.yMax),this.dispatchEvent(r))},Dt.prototype._processMarqueeEvent=function(t){var i,r=t.subtype,a=this.EventManager;if(k.adjustBounds(t),a.getDragMode()==z.DRAG_MODE_SELECT){var s=a.getSelectionHandler();if("start"==r)this._initSelection=t.ctrlKey?s.getSelectedIds():[];else{var n=k.getBoundedObjects(this,t);s.processInitialSelections(this._initSelection,this.getChartObjPeers()),s.processGroupSelection(n,!0)}var o=s.getSelectedIds();i=k.getAxisBounds(this,t,!1);var h="end"==r,u=e.EventFactory.newChartSelectionEvent(o,h,i.xMin,i.xMax,i.startGroup,i.endGroup,i.yMin,i.yMax,i.y2Min,i.y2Max);return"end"==r&&this._updateOverviewSelection(),u}return a.getDragMode()==z.DRAG_MODE_ZOOM?"end"!=r?null:(i=k.getAxisBounds(this,t,!0),this._setViewport(i,!0),this._setScrollbarViewport(i),Mt._setEventHandlers(this),l.isBLAC(this)?e.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):e.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,null,null,i.yMin,i.yMax)):null},Dt.prototype._processScrollbarEvent=function(t,i,r,a){return this._lastScrollbarEvent||e.Context.requestAnimationFrame(e.Obj.createCallback(this,this._animateScrollbarEvent)),this._lastScrollbarEvent={start:t,end:i,actionDone:r,source:a},null},Dt.prototype._animateScrollbarEvent=function(){var t=this._lastScrollbarEvent.start,i=this._lastScrollbarEvent.end,r=this._lastScrollbarEvent.actionDone,a=this._lastScrollbarEvent.source;this._lastScrollbarEvent=null;var s=a==this.yScrollbar?this.yAxis:this.xAxis,n=k.getActualMinMax(s,t,i);if(t=n.min,i=n.max,(E.isLiveScroll(this)||r)&&(a==this.yScrollbar?this._setViewport({yMin:t,yMax:i},r):this._setViewport({xMin:t,xMax:i,unchanged:n.unchanged},r)),r||!n.unchanged){var o;if(a==this.yScrollbar)o=e.EventFactory.newChartViewportChangeEvent(r,null,null,null,null,t,i,null,null);else{var l=k.getAxisStartEndGroup(this.xAxis,t,i);o=e.EventFactory.newChartViewportChangeEvent(r,t,i,l.startGroup,l.endGroup,null,null,null,null)}this.dispatchEvent(o)}},Dt.prototype._updateOverviewSelection=function(){if(this.overview){var t=this.overview.getBackgroundChart();t.getOptions().selection=g.getCurrentSelection(this),t.render()}},Dt.prototype.changeOption=function(t,i,r){this.getOptions()[t]=i,this.dispatchEvent(e.EventFactory.newOptionChangeEvent(t,i,r))},Dt.prototype.registerObject=function(t){this.Peers.push(t)},Dt.prototype.getObjects=function(){return this.Peers},Dt.prototype.getChartObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof m&&t.push(this.Peers[e]);return t},Dt.prototype.getRefObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof S&&t.push(this.Peers[e]);return t},Dt.prototype.getObject=function(t,e){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof m&&this.Peers[i].getSeriesIndex()==t&&this.Peers[i].getGroupIndex()==e)return this.Peers[i];return null},Dt.prototype.getWidth=function(){return this.Width},Dt.prototype.getHeight=function(){return this.Height},Dt.prototype.getSeriesStyleArray=function(){return this.SeriesStyleArray},Dt.prototype.getPlotArea=function(){return this._plotArea},Dt.prototype.setPlotArea=function(t){this._plotArea=t},Dt.prototype.getType=function(){return this.getOptions().type},Dt.prototype.getSkin=function(){return this.getOptions().skin},Dt.prototype.getGapWidthRatio=function(){var t=this.getOptions();return null!==t.layout.gapWidthRatio?t.layout.gapWidthRatio:Math.min(this.Width/400,1)},Dt.prototype.getGapHeightRatio=function(){var t=this.getOptions();return null!==t.layout.gapHeightRatio?t.layout.gapHeightRatio:Math.min(this.Height/300,1)},Dt.prototype.getSelectionHandler=function(){return this._selectionHandler},Dt.prototype.isSelectionSupported=function(){return!!this._selectionHandler},Dt.prototype._setViewport=function(t,e){!e&&t.unchanged||(null!=t.xMax&&(this.Options.xAxis.viewportMax=t.xMax),null!=t.xMin&&(this.Options.xAxis.viewportMin=t.xMin),l.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=t.yMax&&(this.Options.yAxis.viewportMax=t.yMax),null!=t.yMin&&(this.Options.yAxis.viewportMin=t.yMin)),this.Options._duringZoomAndScroll=!e,Mt.rerenderAxisAndPlotArea(this,this._container))},Dt.prototype._setScrollbarViewport=function(t){if(this.xAxis&&null!=t.xMin&&null!=t.xMax){var e=this.xAxis.actualToLinear(t.xMin),i=this.xAxis.actualToLinear(t.xMax);this.overview&&this.overview.setViewportRange(e,i),this.xScrollbar&&this.xScrollbar.setViewportRange(e,i)}if(this.yAxis&&null!=t.yMin&&null!=t.yMax){var r=this.yAxis.actualToLinear(t.yMin),a=this.yAxis.actualToLinear(t.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(r,a)}},Dt.prototype.__setAxisSpace=function(t){var e,i;this._axisSpace=t,P.isAxisRendered(this,"x")?(e=.8*t.w,i=t.h-4*P.getTickLabelHeight(this,"x")):P.isAxisRendered(this,"y")?(e=t.w,i=t.h-P.getTickLabelHeight(this,"y")):(e=t.w,i=t.h),this._radius=Math.min(e,i)/2},Dt.prototype.__getAxisSpace=function(){return this._axisSpace},Dt.prototype.__setPlotAreaSpace=function(t){this._plotAreaSpace=t},Dt.prototype.__getPlotAreaSpace=function(){return this._plotAreaSpace},Dt.prototype.__setAreaContainer=function(t){this._areaContainer=t},Dt.prototype.__getAreaContainer=function(){return this._areaContainer},Dt.prototype.getRadius=function(){return this._radius},Dt.prototype.showDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!0)},Dt.prototype.hideDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!1)},Dt.prototype.addDataLabel=function(t){this.getDataLabels().push(t)},Dt.prototype.getDataLabels=function(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels},Dt.prototype.__cacheChartFocus=function(){var t=this.EventManager.getFocus();if(t)var e=t.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var r=i.isShowingKeyboardFocusEffect()}if(this.legend){var a=this.legend.getKeyboardFocus();if(a)var s=a.isShowingKeyboardFocusEffect()}return{chartFocus:t,chartShowingFocusEffect:e,axisFocus:i,axisShowingFocusEffect:r,legendFocus:a,legendShowingFocusEffect:s,sorting:this.getOptions().sorting}},Dt.prototype.__restoreChartFocus=function(t){if(!l.isOverview(this)&&!l.isSpark(this)){var e=[this];if(this.xAxis&&this.xAxis.isNavigable()&&e.push(this.xAxis),this.legend&&this.legend.isNavigable()&&e.push(this.legend),this.getCtx().setKeyboardFocusArray(e),t.legendFocus&&(this.legend.setKeyboardFocus(t.legendFocus,t.legendShowingFocusEffect),t.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend)),this.Options.sorting!=t.sorting){if(t.chartFocus){var i=k.getKeyboardNavigables(this);this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}return t.axisFocus&&this.xAxis.setKeyboardFocus(this.xAxis.EventManager.getKeyboardHandler().getDefaultNavigable(this.xAxis.__getKeyboardObjects()),t.axisShowingFocusEffect),void(t.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis))}if(t.chartFocus){for(var r=k.getKeyboardNavigables(this),a=!1,s=0;s<r.length;s++){var n=r[s].getId();if(n instanceof o&&n.equals(t.chartFocus.getId())){this.EventManager.setFocusObj(r[s]),t.chartShowingFocusEffect&&r[s].showKeyboardFocusEffect(),a=!0;break}}a||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r))}t.axisFocus&&(this.xAxis.setKeyboardFocus(t.axisFocus,t.axisShowingFocusEffect),t.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis))}},Dt.prototype.getRawOptions=function(){return this._rawOptions};var It=function(t){this.Options=t.Options,this.Peers=t.Peers,this.SeriesStyleArray=t.SeriesStyleArray,this.Cache=t.Cache,this.pieChart=t.pieChart,this._optionsCache=new e.BaseComponentCache,this._cache=new e.BaseComponentCache};e.Obj.createSubclass(It,Dt),It.prototype.getCache=function(){return this._cache},It.prototype.getOptionsCache=function(){return this._optionsCache};var Ot=function(t){this._sparkChart=t};e.Obj.createSubclass(Ot,e.Automation),Ot.prototype.getDataItem=function(t){var e=this._sparkChart.__getChart().getAutomation().getDataItem(0,t);return e?{borderColor:e.borderColor,color:e.color,date:e.x,low:e.low,high:e.high,value:null==e.low||null==e.high?e.value:e.high-e.low}:null};var Et=function(t){this.Init({alta:Et.SKIN_ALTA},t)};e.Obj.createSubclass(Et,e.BaseComponentDefaults),Et.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",areaSvgClassName:"",emptyText:null,color:"#267db3",firstColor:"",lastColor:"",highColor:"",lowColor:"",visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,referenceObjects:[],svgClassName:"",_statusMessageStyle:new e.CSSStyle("font-size: 12px; color: #404259;")},Et.prototype.getAnimationDuration=function(t){return t.animationDuration};var Lt=function(t){this.Init(t.getCtx(),t.dispatchEvent,t,t),this._sparkChart=t};e.Obj.createSubclass(Lt,e.EventManager),Lt.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;if(t.keyCode==e.KeyboardEvent.TAB){var i=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(t,i.x,i.y,this._sparkChart.__getLogicalObject(),this._sparkChart)}return!1},Lt.prototype.OnBlur=function(t){Lt.superclass.OnBlur.call(this,t),this.hideTooltip()};var Pt=new Object;e.Obj.createSubclass(Pt,e.Obj),Pt.render=function(t,e,i){var r=t.__getChart(),a=Pt._convertOptionsObj(t),s=t.getOptions();if("area"==s.type||"line"==s.type||"lineWithArea"==s.type){var n=Pt._getDataItems(t),o=!1;if(s.firstColor||s.lastColor||s.highColor||s.lowColor)o=!0;else for(var l=0;l<n.length;l++)if(n[l]&&"on"==n[l].markerDisplayed){o=!0;break}if(o&&n.length>0||"none"==s.lineType){var h=s.markerSize/2;e-=2*h,i-=2*h,r.setTranslate(h,h)}}r.render(a,e,i)},Pt._getDataItems=function(t){var e=t.getOptions();return e&&e.items?e.items:[]},Pt._convertOptionsObj=function(t){var i=t.getOptions(),r={styleDefaults:{},xAxis:{},yAxis:{},groups:[]};r.translations=i.translations;for(var a=[],s=-1,n=-1,o=-1/0,l=1/0,h=Pt._getDataItems(t),u=0;u<h.length;u++){var g=h[u],d={};g instanceof Object?(d.value=g.value,d.low=g.low,d.high=g.high,g.date&&(r.timeAxisType="enabled",r.groups.push(g.date)),"on"==g.markerDisplayed&&(d.markerDisplayed="on"),g.color&&(d.color=g.color),g.borderColor&&(d.borderColor=g.borderColor),g.markerShape&&(d.markerShape=g.markerShape),g.markerSize&&(d.markerSize=g.markerSize),(g.className||g.svgClassName)&&(d.svgClassName=g.className||g.svgClassName),(g.style||g.svgStyle)&&(d.svgStyle=g.style||g.svgStyle)):d.value=g,a.push(d);var c=null!=d.value?d.value:Math.max(d.low,d.high);o<c&&(o=c,s=u);var p=null!=d.value?d.value:Math.min(d.low,d.high);l>p&&(l=p,n=u)}if(i.highColor&&s>=0&&(a[s].markerDisplayed="on",a[s].color||(a[s].color=i.highColor)),i.lowColor&&n>=0&&(a[n].markerDisplayed="on",a[n].color||(a[n].color=i.lowColor)),i.firstColor&&a.length>0&&(a[0].markerDisplayed="on",a[0].color||(a[0].color=i.firstColor)),i.lastColor&&a.length>0&&(a[a.length-1].markerDisplayed="on",a[a.length-1].color||(a[a.length-1].color=i.lastColor)),r.series=[{items:a,areaColor:i.areaColor,svgClassName:i.className||i.svgClassName,svgStyle:i.style||i.svgStyle,areaSvgClassName:i.areaClassName||i.areaSvgClassName,areaStyle:i.areaStyle||i.areaSvgStyle}],i.referenceObjects&&i.referenceObjects.length>0){var _;r.yAxis.referenceObjects=i.referenceObjects,r._defaultReferenceObjectLineWidth=1;for(var f=0;f<i.referenceObjects.length;f++)"area"===(_=i.referenceObjects[f]).type?(null!=_.high&&(o=Math.max(o,_.high),l=Math.min(l,_.high)),null!=_.low&&(o=Math.max(o,_.low),l=Math.min(l,_.low))):null!=_.value&&(o=Math.max(o,_.value),l=Math.min(l,_.value))}r.__spark=!0;var v=i.barSpacing;"auto"==v&&(v=e.Agent.getDevicePixelRatio()>1?"subpixel":"pixel"),r.__sparkBarSpacing=v,r.type=i.type,r.animationOnDataChange=i.animationOnDataChange,r.animationOnDisplay=i.animationOnDisplay,r.emptyText=i.emptyText,i.color&&(r.styleDefaults.colors=[i.color]),r.styleDefaults.animationDuration=i.animationDuration,r.styleDefaults.animationIndicators="none",r.styleDefaults.lineWidth=i.lineWidth,r.styleDefaults.lineStyle=i.lineStyle,r.styleDefaults.lineType=i.lineType,r.styleDefaults.markerSize=i.markerSize,r.styleDefaults.markerShape=i.markerShape,r.styleDefaults.barGapRatio=i.barGapRatio,r.styleDefaults.dataItemGaps="0%",r.xAxis.rendered="off",r.yAxis.rendered="off";var m="zero"==i.baselineScaling,S=o!=l?.1*(o-l):.1*Math.abs(o);return r.yAxis.min=m&&l>=0?0:l-S,r.yAxis.max=m&&o<=0?0:o+S,"none"==i.visualEffects||"area"!=i.type&&"lineWithArea"!=i.type?r.styleDefaults.seriesEffect="color":r.styleDefaults.seriesEffect="gradient",r.layout={gapWidthRatio:0,gapHeightRatio:0},r.legend={rendered:"off"},r._statusMessageStyle=i._statusMessageStyle,r};const wt=function(){};e.Obj.createSubclass(wt,e.BaseComponent),wt.newInstance=function(t,e,i){var r=new wt;return t.getStage().setCursor(""),r.Init(t,e,i),r},wt.getDefaults=function(t){return(new Et).getDefaults(t)},wt.prototype.Init=function(t,i,r){wt.superclass.Init.call(this,t,i,r),this.Defaults=new Et(t),this.EventManager=new Lt(this),this.EventManager.addListeners(this),this._chart=Dt.newInstance(t,this._onRenderEnd,this),this.addChild(this._chart),e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new e.KeyboardHandler(this.EventManager,this)),this._tooltipMask=new e.Rect(t),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))},wt.prototype.SetOptions=function(t){t?(this.Options=this.Defaults.calcOptions(t),e.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())},wt.prototype.setId=function(t){wt.superclass.setId.call(this,t),this._chart&&this._chart.setId(t+"chart")},wt.prototype.render=function(t,i,r){this.SetOptions(t),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this._eventReceived=!1,this._isDoneRendering=!1,Pt.render(this,this.Width,this.Height);var a=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill();var s=this.Options.tooltip,n=s?s.renderer:null,o=this.Options.color;if(n){var l={component:this.Options._widgetConstructor,color:o};this._peer=new e.CustomDatatipPeer(this.getCtx().getTooltipManager(),n,o,l),this.EventManager.associate(this._tooltipMask,this._peer)}else a?(this._peer=new e.SimpleObjPeer(null,a,o),this.EventManager.associate(this._tooltipMask,this._peer)):this._peer=null;this.Options._selectingCursor&&this.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0},wt.prototype._onRenderEnd=function(t){this._eventReceived=!0,"ready"==t.type&&this._isDoneRendering&&this.RenderComplete()},wt.prototype.__getChart=function(){return this._chart},wt.prototype.getAutomation=function(){return new Ot(this)},wt.prototype.UpdateAriaAttributes=function(){var t=e.Displayable.generateAriaLabel(e.AriaUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null),i=this.Options.translations;this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(e.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,t]))):(this.setAriaRole("img"),this.setAriaProperty("label",t))},wt.prototype.__getLogicalObject=function(){return this._peer},t.Chart=Dt,t.SparkChart=wt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojchart-toolkit.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
vanilla.define('ojs/ojchart',["ojs/ojcore-base","ojs/ojdvt-base","ojs/ojcomponentcore","jquery","ojs/ojconverterutils-i18n","ojs/ojconverter-number","ojs/ojlogger","ojs/ojchart-toolkit"],function(e,t,r,n,o,i,a,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={properties:{animationOnDataChange:{type:"string",enumValues:["auto","none","slideToLeft","slideToRight"],value:"none"},animationOnDisplay:{type:"string",enumValues:["alphaFade","auto","none","zoom"],value:"none"},as:{type:"string",value:""},coordinateSystem:{type:"string",enumValues:["cartesian","polar"],value:"cartesian"},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"11.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},dataCursor:{type:"string",enumValues:["auto","off","on"],value:"auto"},dataCursorBehavior:{type:"string",enumValues:["auto","smooth","snap"],value:"auto"},dataCursorPosition:{type:"object",writeback:!0,properties:{x:{type:"number|string"},y:{type:"number"},y2:{type:"number"}}},dataLabel:{type:"function"},dnd:{type:"object",properties:{drag:{type:"object",properties:{groups:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},series:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{legend:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},plotArea:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},xAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},y2Axis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},yAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}}}},dragMode:{type:"string",enumValues:["off","pan","select","user","zoom"],value:"user"},drilling:{type:"string",enumValues:["groupsOnly","off","on","seriesOnly"],value:"off"},groupComparator:{type:"function"},groups:{type:"Array<string>|Array<Object>|Promise"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["none","withRescale","withoutRescale"],value:"none"},highlightMatch:{type:"string",enumValues:["all","any"],value:"all"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},initialZooming:{type:"string",enumValues:["first","last","none"],value:"none"},legend:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},maxSize:{type:"string"},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjectSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sections:{type:"Array<Object>",value:[]},seriesSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},size:{type:"string"},symbolHeight:{type:"number"},symbolWidth:{type:"number"},textStyle:{type:"object",value:{}},title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},multiSeriesDrilling:{type:"string",enumValues:["off","on"],value:"off"},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},otherThreshold:{type:"number",value:0},overview:{type:"object",properties:{content:{type:"object",value:{}},height:{type:"string"},rendered:{type:"string",enumValues:["off","on"],value:"off"}}},pieCenter:{type:"object",properties:{converter:{type:"object"},label:{type:"number|string"},labelStyle:{type:"object",value:{}},renderer:{type:"function"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},plotArea:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on"],value:"on"}}},polarGridShape:{type:"string",enumValues:["circle","polygon"],value:"circle"},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"none"},series:{type:"Array<Object>|Promise"},seriesComparator:{type:"function"},sorting:{type:"string",enumValues:["ascending","descending","off"],value:"off"},splitDualY:{type:"string",enumValues:["auto","off","on"],value:"auto"},splitterPosition:{type:"number",value:.5},stack:{type:"string",enumValues:["off","on"],value:"off"},stackLabel:{type:"string",enumValues:["off","on"],value:"off"},stackLabelProvider:{type:"function"},styleDefaults:{type:"object",properties:{animationDownColor:{type:"string"},animationDuration:{type:"number"},animationIndicators:{type:"string",enumValues:["all","none"],value:"all"},animationUpColor:{type:"string"},barGapRatio:{type:"number"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string",value:""},medianSvgStyle:{type:"object",value:{}},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string",value:""},whiskerEndSvgStyle:{type:"object",value:{}},whiskerSvgClassName:{type:"string",value:""},whiskerSvgStyle:{type:"object",value:{}}}},colors:{type:"Array<string>"},dataCursor:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"on"},markerSize:{type:"number"}}},dataItemGaps:{type:"string"},dataLabelCollision:{type:"string",enumValues:["fitInBounds","none"],value:"none"},dataLabelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"],value:"auto"},dataLabelStyle:{type:"object|Array<Object>"},funnelBackgroundColor:{type:"string"},groupSeparators:{type:"object",properties:{color:{type:"string"},rendered:{type:"string",enumValues:["auto","off"],value:"auto"}}},hoverBehaviorDelay:{type:"number"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"auto"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"],value:"auto"},markerShape:{type:"string",value:"auto"},markerSize:{type:"number"},marqueeBorderColor:{type:"string"},marqueeColor:{type:"string"},maxBarWidth:{type:"number"},otherColor:{type:"string"},patterns:{type:"Array<string>"},pieFeelerColor:{type:"string"},pieInnerRadius:{type:"number",value:0},selectionEffect:{type:"string",enumValues:["explode","highlight","highlightAndExplode"],value:"highlight"},seriesEffect:{type:"string",enumValues:["color","gradient","pattern"],value:"color"},shapes:{type:"Array<string>"},stackLabelStyle:{type:"object",value:{}},stockFallingColor:{type:"string"},stockRangeColor:{type:"string"},stockRisingColor:{type:"string"},stockVolumeColor:{type:"string"},threeDEffect:{type:"string",enumValues:["off","on"],value:"off"},tooltipLabelStyle:{type:"object",value:{}},tooltipValueStyle:{type:"object",value:{}}}},timeAxisType:{type:"string",enumValues:["auto","disabled","enabled","mixedFrequency","skipGaps"],value:"auto"},tooltip:{type:"object",properties:{renderer:{type:"function"}}},touchResponse:{type:"string",enumValues:["auto","touchStart"],value:"auto"},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelClose:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelDate:{type:"string"},labelDefaultGroupName:{type:"string"},labelGroup:{type:"string"},labelHigh:{type:"string"},labelInvalidData:{type:"string"},labelLow:{type:"string"},labelNoData:{type:"string"},labelOpen:{type:"string"},labelOther:{type:"string"},labelPercentage:{type:"string"},labelQ1:{type:"string"},labelQ2:{type:"string"},labelQ3:{type:"string"},labelSeries:{type:"string"},labelTargetValue:{type:"string"},labelValue:{type:"string"},labelVolume:{type:"string"},labelX:{type:"string"},labelY:{type:"string"},labelZ:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipPan:{type:"string"},tooltipSelect:{type:"string"},tooltipZoom:{type:"string"}}},type:{type:"string",enumValues:["area","bar","boxPlot","bubble","combo","funnel","line","lineWithArea","pie","pyramid","scatter","stock"],value:"bar"},valueFormats:{type:"object",properties:{close:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},group:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string|Array<string>"}}},high:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},label:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},low:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},open:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q1:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q3:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},series:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},targetValue:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},value:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},volume:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},x:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},z:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}}}},xAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number|string"},maxSize:{type:"string"},min:{type:"number|string"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"],value:"on"},rotation:{type:"string",enumValues:["auto","none"],value:"auto"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportEndGroup:{type:"number|string"},viewportMax:{type:"number|string"},viewportMin:{type:"number|string"},viewportStartGroup:{type:"number|string"}}},y2Axis:{type:"object",properties:{alignTickMarks:{type:"string",enumValues:["off","on"],value:"on"},axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}}}},yAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportMax:{type:"number"},viewportMin:{type:"number"}}},zoomAndScroll:{type:"string",enumValues:["delayed","delayedScrollOnly","live","liveScrollOnly","off"],value:"off"},zoomDirection:{type:"string",enumValues:["auto","x","y"],value:"auto"}},methods:{getContextByNode:{},getDataItem:{},getGroup:{},getGroupCount:{},getLegend:{},getPlotArea:{},getProperty:{},getSeries:{},getSeriesCount:{},getValuesAt:{},getXAxis:{},getY2Axis:{},getYAxis:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{},ojGroupDrill:{},ojItemDrill:{},ojMultiSeriesDrill:{},ojSelectInput:{},ojSeriesDrill:{},ojViewportChange:{},ojViewportChangeInput:{}},extension:{}};!function(){l.extension._WIDGET_NAME="ojChart";var r=t.shapeParseFunction({"style-defaults.marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0});e.CustomElementBridge.register("oj-chart",{metadata:l,parseFunction:function(e,t,n,o){return"number|string"===n.type?isNaN(e)?e:Number(e):"style-defaults.data-label-style"===t?JSON.parse(e):r(e,t,n,o)}})}();var p={properties:{borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},close:{type:"number"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},groupId:{type:"Array<(string|number)>"},high:{type:"number"},items:{type:"Array<Object>|Array<number>"},label:{type:"string|Array<string>"},labelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"]},labelStyle:{type:"object|Array<Object>"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},open:{type:"number"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},q1:{type:"number"},q2:{type:"number"},q3:{type:"number"},seriesId:{type:"string|number"},shortDesc:{type:"string|function"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},targetValue:{type:"number"},value:{type:"number"},volume:{type:"number"},x:{type:"number|string"},y:{type:"number"},z:{type:"number"}},extension:{}};!function(){p.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-item",{metadata:p,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var u={properties:{areaColor:{type:"string"},areaSvgClassName:{type:"string"},areaSvgStyle:{type:"object"},assignedToY2:{type:"string",enumValues:["off","on"],value:"off"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},color:{type:"string"},displayInLegend:{type:"string",enumValues:["auto","off","on"],value:"auto"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"]},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"]},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},markerSvgClassName:{type:"string"},markerSvgStyle:{type:"object"},name:{type:"string"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},pieSliceExplode:{type:"number",value:0},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},stackCategory:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},type:{type:"string",enumValues:["area","auto","bar","boxPlot","candlestick","line","lineWithArea"],value:"auto"}},extension:{}};!function(){u.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-series",{metadata:u,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var y={properties:{drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},labelStyle:{type:"object"},name:{type:"string"},shortDesc:{type:"string"}},extension:{}};y.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-chart-group",{metadata:y});var g={properties:{animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},areaColor:{type:"string",value:""},areaSvgClassName:{type:"string",value:""},areaSvgStyle:{type:"object",value:{}},as:{type:"string",value:""},barGapRatio:{type:"number",value:.25},baselineScaling:{type:"string",enumValues:["min","zero"],value:"min"},color:{type:"string"},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"11.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},firstColor:{type:"string",value:""},highColor:{type:"string",value:""},items:{type:"Array<Object>|Array<number>|Promise"},lastColor:{type:"string",value:""},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"straight"},lineWidth:{type:"number",value:1},lowColor:{type:"string",value:""},markerShape:{type:"string",value:"auto"},markerSize:{type:"number",value:5},referenceObjects:{type:"Array<Object>",value:[]},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},type:{type:"string",enumValues:["area","bar","line","lineWithArea"],value:"line"},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getDataItem:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){g.extension._WIDGET_NAME="ojSparkChart";e.CustomElementBridge.register("oj-spark-chart",{metadata:g,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var d={properties:{borderColor:{type:"string",value:""},color:{type:"string",value:""},date:{type:"string",value:""},high:{type:"number"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"off"},markerShape:{type:"string"},markerSize:{type:"number"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},value:{type:"number"}},extension:{}};d.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-spark-chart-item",{metadata:d});const c=(e,t,r,n)=>{const o=e.element[0],i=e._TemplateHandler,s=i.getTemplates(),l=s.seriesTemplate?s.seriesTemplate[0]:null,p=s.groupTemplate?s.groupTemplate[0]:null,u=e.options.seriesComparator,y=e.options.groupComparator,g=new Map,d=p||y?new Map:null,c=new Map,m=(e,a)=>{const s=[...e.keys()],l=new Map,u=s.map((s,u)=>{let g;const c=e.get(s),b=c.value,h=c.groups;let v;return(p||y)&&(v=((e,t,n,i)=>{const a={ids:t,componentElement:o,depth:t.length,leaf:i,index:n};return Object.defineProperty(a,"items",{get:()=>d.get(e).map(e=>{const t=r[e];return{data:t._itemData,key:t.id,index:e}})}),a})(b,[...a,s],u,!h),l.set(s,v)),g=p?i.processNodeTemplate(n,t,p,"oj-chart-group",v,b):{},g.id=s,g.name=null==g.name?s:g.name,h?g.groups=m(h,[...a,s]):Object.defineProperty(g,"symbol",{value:b,enumerable:!1}),g});return y&&u.sort((e,t)=>y(l.get(e.id),l.get(t.id))),u},b=e=>{const t=[];return e.forEach(e=>{e.groups?t.push(...b(e.groups)):t.push(e.symbol)}),t};r.forEach((e,t)=>{const r=(e=>{let t=g;const r=[];for(let n=0;n<e.length;n++){const o=e[n];let i=t.get(o);i||(i={value:Symbol(o)},n!==e.length-1&&(i.groups=new Map),t.set(o,i)),r.push(i.value),t=i.groups}return r})(e.groupId);((e,t,r)=>{let n=c.get(e);n||(n=new Map,c.set(e,n));const o=t[t.length-1];void 0===n.get(o)&&(n.set(o,r),d&&t.forEach(e=>{let t=d.get(e);t||(t=[],d.set(e,t)),t.push(r)}))})(e.seriesId,r,t)});const h=(()=>{try{return m(g,[])}catch(e){return a.error(e),[]}})();return{groups:h,series:(e=>{let s;try{const a=new Map,p=b(e);s=[...c.keys()].map((e,s)=>{const y=c.get(e);let g,d;return(l||u)&&(g=((e,t,n,i)=>{const a={componentElement:o,id:e,index:t};return Object.defineProperty(a,"items",{get:()=>{const e=[];return n.forEach(t=>{const n=i.get(t);if(null!=n){const t=r[n];e.push({data:t._itemData,key:t.id,index:n})}}),e}}),a})(e,s,p,y),a.set(e,g)),d=l?i.processNodeTemplate(n,t,l,"oj-chart-series",g,e):{},d.id=e,d.name=null==d.name?String(e):d.name,d.items=p.map(e=>{let t=null;const n=y.get(e);return null!=n&&(t=r[n]),t}),d}),u&&s.sort((e,t)=>u(a.get(e.id),a.get(t.id)))}catch(e){a.error(e),s=[]}return s})(h)}};e.__registerWidget("oj.ojChart",n.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{data:null,series:null,groups:null,selectInput:null,tooltip:{renderer:null},viewportChange:null,viewportChangeInput:null,drill:null,itemDrill:null,groupDrill:null,seriesDrill:null,multiSeriesDrill:null},_ComponentCreate:function(){this._super(),this._SetLocaleHelpers(i,o)},_CreateDvtComponent:function(e,t,r){return s.Chart.newInstance(e,t,r)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-chart-item"===t?t="dataItem["+e.seriesIndex+"]["+e.itemIndex+"]":"oj-chart-group"===t?t="group"+this._GetStringFromIndexPath(e.indexPath):"oj-chart-series"===t?t="series["+e.index+"]":"oj-chart-axis-title"===t?t=e.axis+":title":"oj-chart-reference-object"===t?t=e.axis+":referenceObject["+e.index+"]":"oj-legend-item"===t?(t="legend:section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-chart-tooltip"===t?t="tooltip":"oj-chart-pie-center-label"===t&&(t="pieCenterLabel"),t},_ProcessTemplates:function(e,t,r,n,o,i,a){var s=i?this._TemplateHandler.getComponentResults(e):null;if(!s){var l=this._super(e,t,r,n,o,i,a),p=c(this,r,l.values[0],e);s={paths:["series","groups"],values:[p.series,p.groups]},i&&this._TemplateHandler.setComponentResults(e,s)}return s},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-chart-item",resultPath:"_item",derivedTemplates:["seriesTemplate","groupTemplate"]}}},_UseObjectAssignForShapedData:function(){return!0},_ProcessOptions:function(){this._super();var e=this.options.pieCenter;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"));var t=this.options.selection;this._IsCustomElement()&&t&&"object"==typeof t[0]&&!this.options.data&&(this.options.selection=null)},_ConvertSubIdToLocator:function(e){var t={};if(0===e.indexOf("dataItem")){var r=this._GetIndexPath(e);t.subId="oj-chart-item",t.seriesIndex=r[0],t.itemIndex=r[1]}else if(0===e.indexOf("group"))t.subId="oj-chart-group",t.indexPath=this._GetIndexPath(e);else if(0===e.indexOf("series"))t.subId="oj-chart-series",t.index=this._GetFirstIndex(e);else if(e.indexOf("Axis:title")>0)t.subId="oj-chart-axis-title",t.axis=e.substring(0,e.indexOf(":"));else if(e.indexOf("Axis:referenceObject")>0)t.subId="oj-chart-reference-object",t.axis=e.substring(0,e.indexOf(":")),t.index=this._GetFirstIndex(e);else if(0===e.indexOf("legend")){if(e.indexOf(":item")>0){var n=e.indexOf(":item"),o=e.substring(0,n),i=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(o),t.itemIndex=this._GetFirstIndex(i)}}else"tooltip"===e?t.subId="oj-chart-tooltip":"pieCenterLabel"===e&&(t.subId="oj-chart-pie-center-label");return t},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"},{path:"pieCenter/renderer",slot:"pieCenterTemplate"}]},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-chart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-chart-data-label"]={path:"styleDefaults/_dataLabelStyle",property:"TEXT"},e["oj-chart-data-cursor-line"]=[{path:"styleDefaults/dataCursor/lineColor",property:"color"},{path:"styleDefaults/dataCursor/lineWidth",property:"width"}],e["oj-chart-stack-label"]={path:"styleDefaults/stackLabelStyle",property:"TEXT"},e["oj-chart-pie-center-label"]={path:"pieCenter/labelStyle",property:"TEXT"},e["oj-chart-slice-label"]={path:"styleDefaults/sliceLabelStyle",property:"TEXT"},e["oj-chart-stock-falling"]={path:"styleDefaults/stockFallingColor",property:"background-color"},e["oj-chart-stock-range"]={path:"styleDefaults/stockRangeColor",property:"background-color"},e["oj-chart-stock-rising"]={path:"styleDefaults/stockRisingColor",property:"background-color"},e["oj-chart-xaxis-tick-label"]={path:"xAxis/tickLabel/style",property:"TEXT"},e["oj-chart-xaxis-title"]={path:"xAxis/titleStyle",property:"TEXT"},e["oj-chart-yaxis-tick-label"]={path:"yAxis/tickLabel/style",property:"TEXT"},e["oj-chart-yaxis-title"]={path:"yAxis/titleStyle",property:"TEXT"},e["oj-chart-y2axis-tick-label"]={path:"y2Axis/tickLabel/style",property:"TEXT"},e["oj-chart-y2axis-title"]={path:"y2Axis/titleStyle",property:"TEXT"},e["oj-chart-reference-object-line"]=[{path:"_defaultReferenceObjectLineColor",property:"color"},{path:"_defaultReferenceObjectLineWidth",property:"width"}],e["oj-chart-reference-object-area"]={path:"_defaultReferenceObjectAreaColor",property:"color"},e["oj-legend"]={path:"legend/textStyle",property:"TEXT"},e["oj-legend-title"]={path:"legend/titleStyle",property:"TEXT"},e["oj-legend-section-title"]={path:"legend/_sectionTitleStyle",property:"TEXT"},e["oj-legend-hover"]={path:"legend/_hoverBorderRadius",property:"border-radius"},e["oj-dvt-color-ramp"]={path:"styleDefaults/colors",property:"COLOR"},e},_GetEventTypes:function(){return["drill","groupDrill","itemDrill","seriesDrill","multiSeriesDrill","optionChange","selectInput","viewportChange","viewportChangeInput"]},_HandleEvent:function(e){var t=e.type;if("selection"===t){var r=e.selection;if(r){for(var n=[],o=[],i=0;i<r.length;i++){var a;a=this._IsCustomElement()?r[i].id:{id:r[i].id,series:r[i].series,group:r[i].group};var s={data:r[i].data,seriesData:r[i].seriesData,groupData:r[i].groupData,itemData:r[i].itemData};n.push(a),o.push(s)}var l={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin,y2Max:e.y2Max,y2Min:e.y2Min,selectionData:o};this._IsCustomElement()||(l.component=e.component),e.complete?this._UserOptionChange("selection",n,l):(l.items=n,this._trigger("selectInput",null,l))}}else if("viewportChange"===t){var p={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin};e.complete&&(this.options.xAxis||(this.options.xAxis={}),this.options.yAxis||(this.options.yAxis={}),this.options.xAxis.viewportStartGroup=null,this.options.xAxis.viewportEndGroup=null,null!=e.xMin&&null!=e.xMax&&(this.options.xAxis.viewportMin=e.xMin,this.options.xAxis.viewportMax=e.xMax),null!=e.yMin&&null!=e.yMax&&(this.options.yAxis.viewportMin=e.yMin,this.options.yAxis.viewportMax=e.yMax)),this._trigger(e.complete?"viewportChange":"viewportChangeInput",null,p)}else if("drill"===t)if(e.subType){if(this._IsCustomElement()){var u=e.subType;"item"===u?this._trigger("itemDrill",null,{id:e.id,series:e.series,group:e.group,data:e.data,itemData:e.itemData,seriesData:e.seriesData,groupData:e.groupData}):"group"===u?this._trigger("groupDrill",null,{group:e.group,groupData:e.groupData,id:e.id,items:e.items}):"series"===u?this._trigger("seriesDrill",null,{id:e.id,items:e.items,series:e.series,seriesData:e.seriesData}):"multiSeries"===u&&this._trigger("multiSeriesDrill",null,{items:e.items,series:e.series,seriesData:e.seriesData})}}else this._trigger("drill",null,{id:e.id,series:e.series,group:e.group,data:e.data,seriesData:e.seriesData,groupData:e.groupData,itemData:e.itemData,component:e.component});else this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources;e.overviewGrippy="oj-fwk-icon oj-fwk-icon-drag-horizontal",e.pan="oj-fwk-icon oj-fwk-icon-pan",e.select="oj-fwk-icon oj-fwk-icon-marquee",e.zoom="oj-fwk-icon oj-fwk-icon-magnifier"},getTitle:function(){return this._component.getAutomation().getTitle()},getGroup:function(e){return this._component.getAutomation().getGroup(e)},getSeries:function(e){return this._component.getAutomation().getSeries(e)},getGroupCount:function(){return this._component.getAutomation().getGroupCount()},getSeriesCount:function(){return this._component.getAutomation().getSeriesCount()},getDataItem:function(e,t){return this._component.getAutomation().getDataItem(e,t)},getLegend:function(){return this._component.getAutomation().getLegend()},getPlotArea:function(){return this._component.getAutomation().getPlotArea()},getXAxis:function(){return this._component.getAutomation().getXAxis()},getYAxis:function(){return this._component.getAutomation().getYAxis()},getY2Axis:function(){return this._component.getAutomation().getY2Axis()},getValuesAt:function(e,t){return this._component.getValuesAt(e,t)},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-chart-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{root:["groups","series","data"]}},_CompareOptionValues:function(t,r,n){return"dataCursorPosition"===t?e.Object.compareValues(r,n):this._super(t,r,n)}}),e.__registerWidget("oj.ojSparkChart",n.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,items:null,referenceObjects:[],tooltip:{renderer:null},type:"line",color:"#267DB3",areaColor:"",areaSvgClassName:"",areaSvgStyle:{},svgClassName:"",svgStyle:{},firstColor:"",lastColor:"",highColor:"",lowColor:"",animationDuration:void 0,animationOnDataChange:"none",animationOnDisplay:"none",visualEffects:"auto",baselineScaling:"min",lineWidth:1,lineStyle:"solid",lineType:"straight",markerShape:"auto",markerSize:5,barGapRatio:.25},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),s.SparkChart.newInstance(e,t,r)},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-sparkchart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-sparkchart"]={path:"animationDuration",property:"ANIM_DUR"},e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getDataItem:function(e){var t=this._component.getAutomation().getDataItem(e);return this._AddAutomationGetters(t),t&&(t.getFloatValue=t.getLow),t},_GetComponentDeferredDataPaths:function(){return{root:["items","data"]}},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-spark-chart-item",resultPath:"items"}}},_AddAutomationGetters:function(e){if(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++)this._addGetter(e,r[n],t);Object.defineProperties(e,t)}},_addGetter:function(e,t,r){r[("selected"===t?"is":"get")+t.charAt(0).toUpperCase()+t.slice(1)]={value:function(){return e[t]}}}})});
//# sourceMappingURL=ojchart.js.map;
vanilla.define('jet/DemoCharts',["knockout","ojs/ojattributegrouphandler","text!../data/commonCategoriesSingleGroupData.json","text!../data/commonCategoriesTimeSeriesData.json","text!../data/commonCategoriesBubbleData.json","ojs/ojarraydataprovider","ojs/ojknockout","ojs/ojlegend","ojs/ojchart"],(function(e,t,a,r,o,i){class s{constructor(){this.colorHandler=new t.ColorAttributeGroupHandler,this.data=JSON.parse(a),this.singleGroupDataProvider=new i(this.data,{keyAttributes:"id"}),this.timeSeriesDataProvider=new i(JSON.parse(r),{keyAttributes:"id"}),this.bubbleDataProvider=new i(JSON.parse(o),{keyAttributes:"id"}),this.legendDataProvider=new i(this.data,{keyAttributes:"text"}),this.hiddenCategoriesValue=e.observableArray([this.data[0].series])}}return class{render(){e.applyBindings(new s,document.getElementById("chart-container"))}}}));
