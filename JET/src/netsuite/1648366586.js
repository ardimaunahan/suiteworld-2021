NS.jQuery(function(){function m(){NS.jQuery("#_searchSubmitter").click()}var n="",p=0,h=0,b=NS.jQuery("#_searchstring"),d=null,g=NS.jQuery('\x3cul id\x3d"uir-global-search-container" role\x3d"listbox"\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3cli\x3e\x3c/li\x3e\x3c/ul\x3e').css("min-width",b.outerWidth()),l={},t=!1;if(b.data("search-suggest")){var v=function(){b.attr("aria-haspopup","true");if(null==d){d=new uir_fieldTooltip(b,g,{alignment:NS.UI.Constants.TOOLTIP_ALIGN.TOP_LEFT,persistent:!0});
var a=NS.jQuery(d.getTooltipDiv());a.css({top:"",left:"",textAlign:"left",border:"none"});a.appendTo(b.parent());d.attachField=function(a){NS.jQuery(a).addClass("uir-field-active")};w()}},r=function(a){var c=!!a.dashurl,b=a.descr+":"+a.sname;return'\x3cli class\x3d"'+(c?"uir-global-search-dashboard-item":"uir-global-search-item")+'"\x3e\x3ca class\x3d"uir-item-view" role\x3d"option" href\x3d"'+a.key+'" id\x3d"'+a.key+'"\x3e'+a.descr+": \x3cspan\x3e"+a.sname+"\x3c/span\x3e\x3c/a\x3e"+(a.bedit&&"T"==
a.bedit?'\x3ca class\x3d"uir-item-edit" href\x3d"'+a.key+'\x26e\x3dT" id\x3d"edit_'+a.key+'" aria-label\x3d"Edit '+b+'"\x3eEdit\x3c/a\x3e':"")+(c?'\x3ca class\x3d"uir-item-dash"  href\x3d"'+a.dashurl+'" id\x3d"dash_'+a.key+'" aria-label\x3d"Dashboard '+b+'"\x3eDash\x3c/a\x3e':"")+"\x3c/li\x3e"},x=function(a){v();var b=[];if(null==a||0==a.length)b.push('\x3cli class\x3d"uir-global-search-item"\x3e\x3ca class\x3d"uir-item-view" id\x3d"noResultsFound" role\x3d"option"\x3e'+(NS.Translations.dictionary["NLHeadingContext.NO_RESULTS_FOUND"]||
"No results found")+"\x3c/a\x3e\x3c/li\x3e");else{for(var k=0;k<a.length&&k<NS.UI.Constants.GLOBALSEARCH_MAX_ITEMS;k++)b.push(r(a[k]));a.length>=NS.UI.Constants.GLOBALSEARCH_MAX_ITEMS&&b.push('\x3cli\x3e\x3ca id\x3d"showMoreItems" class\x3d"uir-item-view uir-global-search-more" href\x3d"'+("/app/common/search/ubersearchresults.nl?Uber_NAME\x3d"+encodeURIComponent(a.searchTerm)+"\x26"+NS.jQuery.param({quicksearch:"T",searchtype:"Uber",frame:"be",Uber_NAMEtype:"KEYWORDSTARTSWITH"}))+'"\x3eShow more items\x3c/a\x3e\x3c/li\x3e')}g.html(b.join(""));
g.find("li").mouseenter(function(){q.setIndex(NS.jQuery(this).index())});d.reattachField();q.resetIndex();d.hideLoader()},u=function(){b.removeAttr("aria-activedescendant");b.attr("aria-haspopup","false");null!=d&&(d.close(),d=null)},w=function(){d&&d.getTooltipDiv()&&(g.css("min-width",b.outerWidth()),NS.jQuery(d.getTooltipDiv()).css({left:b.offset().left,top:40}))},A=function(){var a=b.val(),c=(p++).toString(),d="/app/common/autosuggest.nl?cur_val\x3d"+encodeURIComponent(a)+"\x26",c=NS.jQuery.param({circid:c,
mapkey:"uberautosuggest"});NS.jQuery.ajax({url:d+c,type:"GET",dataType:"json",success:function(c){c=c.autofill;c.searchTerm=a;l[a]=c;b.val()==a&&x(c)},error:function(c){b.val()==a&&u()}})},y=function(){var a=q.getItem().find(".uir-item-dash");0<a.length&&a.get(0).click()},z=function(){var a=q.getItem().find(".uir-item-edit");0<a.length&&a.get(0).click()};NS.jQuery(document).click(function(a){null!=d&&(0<NS.jQuery("#uir-global-search-container").has(a.target).length||b.get(0)==a.target||u())});b.mouseup(function(a){var c=
NS.jQuery(a.target);(a.offsetX||a.pageX-c.offset().left)>b.width()&&m()});b.keyup(function(a){a=this.value;3>a.length&&!t&&u();t=!1;3>a.length||null==a?(n="",clearTimeout(h)):a!=n&&(clearTimeout(h),n=a,null==d&&v(),l.hasOwnProperty(a)?x(l[a]):(d.isLoaderVisible()||d.showLoader(),h=setTimeout(A,NS.UI.Constants.GLOBALSEARCH_DELAY)))});NS.jQuery(window).on("uirWindowResized",w);var q={_index:-1,resetIndex:function(){this._index=-1},getItem:function(){var a=g.find("li").get(this._index);return a&&-1!=
this._index?NS.jQuery(a):null},getIndex:function(){return this._index},setIndex:function(a){var b=g.find("li");this._index=a=Math.max(-1,Math.min(b.length-1,a));0<=a&&this.getItem().toggleClass("ns-active",!0);b.not(function(b){return b==a}).toggleClass("ns-active",!1)},moveUp:function(){this.setIndex(this.getIndex()-1)},moveDown:function(){this.setIndex(this.getIndex()+1)}};b.keydown(function(a){var c,k,f,e,r;switch(a.keyCode){case NS.UI.Constants.KeyCode.ARROW_DOWN:q.moveDown();c=NS.jQuery("#uir-global-search-container .ns-active");
c.length&&this.setAttribute("aria-activedescendant",NS.jQuery(".uir-item-view",c[0])[0].getAttribute("id"));null==d&&(n="",b.keyup());NS.jQuery(".uir-global-search-item-active-suboption").removeClass("uir-global-search-item-active-suboption");NS.UI.Helpers.preventDefault(a);break;case NS.UI.Constants.KeyCode.ARROW_UP:q.moveUp();c=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");c.length?this.setAttribute("aria-activedescendant",NS.jQuery(".uir-item-view",
c).attr("id")):this.removeAttribute("aria-activedescendant");NS.jQuery(".uir-global-search-item-active-suboption").removeClass("uir-global-search-item-active-suboption");NS.UI.Helpers.preventDefault(a);break;case NS.UI.Constants.KeyCode.ARROW_RIGHT:c=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");e=this.getAttribute("aria-activedescendant");c.length&&e&&(f="",r=e.slice(0,4),c=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active"),
k=NS.jQuery(".uir-item-edit",c[0]),c=NS.jQuery(".uir-item-dash",c[0]),"edit"!==r&&"dash"!==r&&k.length?(f="edit_"+e,k.toggleClass("uir-global-search-item-active-suboption",!0)):"edit"===r&&c.length&&(f="dash_"+e.slice(5,e.length),k.toggleClass("uir-global-search-item-active-suboption",!1),c.toggleClass("uir-global-search-item-active-suboption",!0)),f&&this.setAttribute("aria-activedescendant",f),NS.UI.Helpers.preventDefault(a));break;case NS.UI.Constants.KeyCode.ARROW_LEFT:c=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active");
e=this.getAttribute("aria-activedescendant");c.length&&e&&(f="",r=e.slice(0,4),c=NS.jQuery(".uir-global-search-item.ns-active, .uir-global-search-dashboard-item.ns-active"),k=NS.jQuery(".uir-item-edit",c[0]),c=NS.jQuery(".uir-item-dash",c[0]),"edit"===r?(f=e.slice(5,e.length),k.toggleClass("uir-global-search-item-active-suboption",!1)):"dash"===r&&c&&(f="edit_"+e.slice(5,e.length),c.toggleClass("uir-global-search-item-active-suboption",!1),k.toggleClass("uir-global-search-item-active-suboption",!0)),
f&&this.setAttribute("aria-activedescendant",f),NS.UI.Helpers.preventDefault(a));break;case NS.UI.Constants.KeyCode.ENTER:if(q.getItem()&&d)k=this.getAttribute("aria-activedescendant").slice(0,4),"edit"===k?z():"dash"===k?y():a.ctrlKey?a.shiftKey?y():z():q.getItem().find(".uir-item-view").get(0).click();else if(2>this.value.length)u(),null==d&&v(),g.html('\x3cli class\x3d"uir-global-search-item"\x3e\x3ca class\x3d"uir-item-view" id\x3d"searchTooShort" role\x3d"alert"\x3e'+(NS.Translations.dictionary["NLAlertContext.PLEASE_ENTER_AT_LEAST_TWO_CHARACTERS_FOR_BEST_SEARCH_RESULTS"]||
"Please enter at least two characters.")+"\x3c/a\x3e\x3c/li\x3e"),t=!0;else return NS.UI.Helpers.preventDefault(a),setTimeout(m,0),!1;NS.UI.Helpers.preventDefault(a);break;case NS.UI.Constants.KeyCode.ESCAPE:u()}})}else b.keydown(function(a){switch(a.keyCode){case NS.UI.Constants.KeyCode.TAB:case NS.UI.Constants.KeyCode.ENTER:return NS.UI.Helpers.preventDefault(a),setTimeout(m,0),!1}})});NS.jQuery(function(){function m(b){b.find(".ns-header").each(function(){var b=NS.jQuery(this),d=b.children("a"),b=b.find(".ns-menu\x3e.ns-menuitem:first\x3ea");b.length&&d.attr("aria-label",NS.jQuery.trim(b.text()))})}function n(b){function d(){var a=0<n.children("li").length;l.toggleClass("overflown",a);l.css("padding-right",(a?m.outerWidth():0)+q+"px")}function g(){var a=l.outerWidth()-parseInt(l.css("padding-right"));if(!(0>=a)){var b=function(){return p("#ns_navigation \x3e .ns-menu:not(.ns-menu-overflow) \x3e .ns-menuitem")},
f=function(){return b().filter(function(){return this.offsetLeft+this.offsetWidth>a})}();if(0<f.length)f.each(function(){this.originalParent=this.parentElement;this.originalWidth=this.offsetWidth;this.classList.remove(NS.Menu.CLASS.MENU_HEADER);this.originalMenuController=this.menuController;t.refreshItem(this);this.parent=m.children("li").get(0)}),n.prepend(f),d(),setTimeout(g,0);else if(f=n.children("li"),0<f.length){var e=b().last(),e=a-(e.offset().left+e.outerWidth());if(!(0==f.length||e<f[0].originalWidth)){for(var h=
0;0<e&&h<f.length;)e-=f[h].originalWidth,0<e&&h++;From(f.slice(0,h)).ForEach(function(){NS.jQuery(this).addClass("ns-header").appendTo(this.originalParent);this.originalMenuController.refreshItem(this)});d()}}}}var h=NS.Translations.dictionary["NLButtonContext.MORE_MENUS"]||"More menus",l=p("#ns_navigation"),m=p('\x3cul class\x3d"ns-menu ns-menu-overflow"\x3e\x3cli class\x3d"ns-menuitem ns-header ns-submenu"\x3e\x3ca href\x3d"#" title\x3d"'+h+'"\x3e\x26hellip;\x3c/a\x3e\x3cul class\x3d"ns-menu"\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e').appendTo("#ns_navigation"),
n=p(".ns-menu-overflow \x3e li \x3e ul.ns-menu"),t=(new uir_virtualMenu(m,{alignment:"right",absolutePosition:!0},b)).create(),q=parseInt(l.css("padding-right"));setTimeout(g,0);NS.jQuery(document).on("nsSelect",function(){setTimeout(g,0)});var a=null;p(window).resize(function(){a||(a=setTimeout(function(){a=null;NS.jQuery(window).trigger({type:"uirWindowResized",message:"Window has been resized"});g()},50))})}var p=NS.jQuery;p.ajaxSetup({cache:!1});var h=p("#div__header");NS.jQuery(window).scroll(function(){var b=
getWindowPageYOffset();b&&!h.hasClass("ns-shadow")?h.addClass("ns-shadow"):!b&&h.hasClass("ns-shadow")&&h.removeClass("ns-shadow")});h.addClass("noprint");NS.Translations=NS.Translations||{};NS.Translations.dictionary=NS.Translations.dictionary||{};NS.Menu=NS.Menu||{};NS.Menu.menus={};NS.Menu.allMenus=[];var b=NS.jQuery(".ns-user");if(0<b.length){var d=b.outerHeight()+(b.offset().top-getWindowPageYOffset());NS.Menu.menus.roles=(new uir_menu(b,{upperBound:d,alignment:"right",absolutePosition:!0})).create()}b=
NS.jQuery("#ns-header-quick-menu");0<b.length&&(NS.Menu.menus.create=(new uir_menu(b,{alignment:"right",absolutePosition:!0})).create());var g=NS.jQuery("#ns_navigation");if(0<g.length){var l=NS.jQuery("#ns_header").height()+parseInt(g.css("min-height"));p.getJSON("/app/center/NLNavMenuData.nl").done(function(b){var d=g.find("\x3e .ns-menu.uir-menu-main");0<d.length&&(d=(new uir_virtualMenu(d,{upperBound:l,absolutePosition:!0},b)).create(),NS.Menu.menus.main=d,NS.Menu.allMenus.push(d));n(b)});b=g.find("\x3e .ns-menu.uir-menu-home");
0<b.length&&(NS.Menu.menus.home=0==b.length?null:(new uir_menu(b,{upperBound:l,absolutePosition:!0})).create(),m(b));b=g.find("\x3e .ns-menu.uir-menu-recent");0<b.length&&(NS.Menu.menus.recent=0==b.length?null:(new uir_menu(b,{upperBound:l,absolutePosition:!0})).create(),b=NS.jQuery(NS.Menu.menus.recent.rootElement).find("li.ns-menuseparator+li.ns-menuitem").children("a"),b.attr("href")&&(d=NS.jQuery("#recent-records-menu-item"),d.attr("href",b.attr("href")),d.attr("aria-label",NS.jQuery.trim(b.text()))));
b=g.find("\x3e .ns-menu.uir-menu-shortcuts");0<b.length&&(NS.Menu.menus.shortcuts=0==b.length?null:(new uir_menu(b,{upperBound:l,absolutePosition:!0})).create(),m(b))}NS.Menu.enableAll=function(){From(NS.Menu.allMenus).ForEach("$.enable()")};NS.Menu.disableAll=function(){From(NS.Menu.allMenus).ForEach("$.disable()")};NS.Menu.refreshAll=function(){From(NS.Menu.allMenus).ForEach("$.create()")};for(var t in NS.Menu.menus)NS.Menu.allMenus.push(NS.Menu.menus[t])});
//# sourceMappingURL=/assets/reskin_header/1648366586.map