window.currentMenu=null;
var MENU_CONTAINER_DIV="menuDiv",MENU_LEFT_DIV="menuLeftDiv",MENU_RIGHT_DIV="menuRightDiv",MENU_BOTTOM_DIV="menuBottomDiv",MENU_TABLE_DIV="menuTableDiv",MENU_TABLE="menuInnerTable",MENU_DIVIDER="menuSeparator",MENU_ICON_ARROW="menuChildIcon",MENU_SPAN_CLASS="ddmSpan",MENU_SELECTED_CLASS="ddmTextOver",MENU_NOT_SELECTED_CLASS="ddmText",MENU_NOT_SELECTED_CLASS_HAS_CHILD="ddmTextHasChild",MENU_TEXT_SEPERATOR="ddmTextSeperator",MENU_TEXT_HEADING="ac_text_heading",MENU_DIV_CLASS="ddmDiv",ARROW_CLASS="ddmArrow",
MENU_SEPERATOR="ddmSeperator",MENU_SEPERATOR_EMPTY="ddmSeperatorEmpty",MENU_ANCHOR="ddmAnchor",MENU_ANCHOR_DISABLED="ddmAnchorDisabled",MENU_INNER_TABLE="ddmInnerTable",BODY_SCROLL_DIV_CLASS="scrollarea",NAVMENUS="NAVMENUS",RECENTRECORDS="RECENTRECORDS",RECENTREPORTS="RECENTREPORTS",ROLEMENU="ROLEMENU",DROPDOWN_SELECTED_CLASS="dropdownSelected",DROPDOWN_NOT_SELECTED_CLASS="dropdownNotSelected",DROPDOWN_DIV_CLASS="dropdownDiv",DROPDOWN_INPUT_CLASS="dropdownInput textbox",DROPDOWN_ARROW_CLASS="i_dropdownarrow",
DROPDOWN_INPUT_MAX_SIZE_PIXELS=300,PORTLET_DRAG_DROP_CLASS="portletlabelDragDrop",QUICKADD_DRAG_DROP_CLASS="quickaddDragDropIcon",PORTLET_HANDLE_CLASS="portletHandle",PORTLET_DRAG_DROP_BAR_CLASS="portletDragDropBar",AUTO_SUGGEST_UBER_CLASS="autosuggcell text",DROPDOWN_ARROW_DEFAULT="/images/forms/ddarrow.gif",DROPDOWN_ARROW_DISABLED="/images/forms/ddarrowDisabled.gif",DROPDOWN_ARROW_PRESS="/images/forms/ddarrowPress.gif",MULTIBUTTON_ARROW_DEFAULT="/images/forms/transarrowupstate.gif",MULTIBUTTON_ARROW_PRESS=
"/images/forms/transarrowdownstate.gif",LEFT_ARROW_DEFAULT="/images/forms/larrow.gif",RIGHT_ARROW_DEFAULT="/images/forms/rarrow.gif",LEFT_ARROW_PRESS="/images/forms/larrow_down.gif",RIGHT_ARROW_PRESS="/images/forms/rarrow_down.gif",MOUSEOUTDELAY_TIME_MS=500,FRIENDLYDELAY_TIME_MS=250,MAX_SCROLLABLE_PORTLET_HEIGTH=325,KC_TAB=9,KC_LEFT=37,KC_UP=38,KC_RIGHT=39,KC_DOWN=40,KC_ENTER=13,KC_SHIFT=16,KC_ESC=27,KC_SPACE=32;window.clickCount=0;
document.onkeydown=function(a){handleHotKeys(a);NLPopupAutoSuggest_onKeyDown(a);return dropdownOnKeyDown(a)};document.onmousemove=function(a){autoSuggestOnMouseMove(a);quickaddDraggerOnMouseMove(a);isSuitePhone||(portletDraggerOnMouseMove(a),ddmOnMouseMove(a),dropdownOnMouseMove(a))};function documentOnClickHandler(a){++window.clickCount;isSuitePhone||ddmOnClick(a);window.popup_onClickHandler&&window.popup_onClickHandler(a)}attachEventHandler("click",document,documentOnClickHandler);
document.onmousedown=function(a){isSuitePhone||(quickaddDraggerOnMouseDown(a),portletDraggerOnMouseDown(a),dropdownOnMouseDown(a));NLPopupAutoSuggest_onMouseDown(a);if(window.divsToClose&&"undefined"!=typeof window.divsToClose){for(a=0;a<window.divsToClose.length;a++)document.getElementById(window.divsToClose[a]).style.display="none";window.divsToClose=null}};
document.onmouseup=function(a){isSuitePhone||(quickaddDraggerOnMouseUp(),portletDraggerOnMouseUp(),dropdownOnMouseUp(a));window.NLCalendar_onMouseUp&&NLCalendar_onMouseUp(a);window.NLMachine_onMouseUp&&NLMachine_onMouseUp(a);null!=window.OrderedListOnMouseUp&&window.OrderedListOnMouseUp(a)};function addDivToClose(a){"Array"!=typeof window.divsToClose&&(window.divsToClose=[]);window.divsToClose[window.divsToClose.length]=a}
function handleHotKeys(a){71==getEventKeypress(a)&&getEventAltKey(a)&&(a=document.getElementById("_searchstring"),null!=a&&(a.focus(),a.select()))}function getMouseX(a){return getEvent(a).clientX}function getMouseY(a){return getEvent(a).clientY}function moveToolTip(a,b){var c=getToolTip(),d=parseInt(c.offsetWidth),e=document.body.clientWidth,f=getWindowPageXOffset(),d=e-d,e=a-9;e>d&&(e=d);0>e&&(e=0);c.style.left=f+e+"px";c.style.top=b+5+"px"}
function showToolTip(a,b,c){if(!isValEmpty(a)||!isValEmpty(b)){var d='\x3ctable border\x3d"0" width\x3d"250" cellspacing\x3d"0" cellpadding\x3d"0" bgcolor\x3d"#999999" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd width\x3d"100%"\x3e\x3ctable border\x3d"0" width\x3d"100%" cellspacing\x3d"1" cellpadding\x3d"2" align\x3d"center" role\x3d"presentation"\x3e';isValEmpty(a)||(d+='\x3ctr\x3e\x3ctd width\x3d"100%" class\x3d"bglt"\x3e\x3cfont class\x3d"smalltextb"\x3e'+a+"\x3c/font\x3e\x3c/td\x3e\x3c/tr\x3e");
isValEmpty(b)||(d+='\x3ctr\x3e\x3ctd width\x3d"100%" bgcolor\x3d"#FFFFFF"\x3e\x3cfont class\x3d"smalltext"\x3e'+b+"\x3c/font\x3e\x3c/td\x3e\x3c/tr\x3e");var d=d+"\x3c/table\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",e=getToolTip();e.movetooltip=c||isValEmpty(e.tooltipcontent)||e.tooltipcontent!=d;e.tooltipcontent=d;null!=e.hidetooltiptimer&&clearTimeout(e.hidetooltiptimer);e.showtooltiptimer=setTimeout(function(){e.movetooltip&&moveToolTip(lastX+20,lastY);e.innerHTML=e.tooltipcontent;e.style.visibility=
"visible"},500)}}function stopToolTipHide(){var a=getToolTip();null!=a.hidetooltiptimer&&clearTimeout(a.hidetooltiptimer)}function hideToolTip(){var a=getToolTip();null!=a.showtooltiptimer&&clearTimeout(a.showtooltiptimer);a.tooltipcontent="";a.hidetooltiptimer=setTimeout(function(){a.tooltipcontent=null;a.style.visibility="hidden"},1E3)}
function getToolTip(){var a=document.getElementById("NLToolTip");null==a&&(a=document.createElement("DIV"),a.id="NLToolTip",a.style.position="absolute",a.style.width="250px",a.style.top="0px",a.style.left="0px",a.style.zIndex=4,a.style.visibility="hidden",document.body.appendChild(a));return a}window.menusAreOpen=!1;window.rolloverDelay=0;var m_multiButtons=[];function getNLMultiButtonByName(a){return m_multiButtons[a]}
function NLMultiButton(a,b,c,d,e,f,h,g,k){var l=[];this.sName=a;m_multiButtons[a]=this;this.sTaskId=d;this.sPrimaryButtonName=e;this.bSecondary=f;this.bYellowBg=h;this.bBlueBg=!!g;this.bEnabled=!0;for(d=e=0;d<b.length;d++)b[d][0]==c?this.nDefault=d:(l[e]=[b[d][0],"javascript:NLMultiButton_doAction('"+a+"', '"+b[d][1]+"');return false;",""],e++);this.sParams=l;this.pValues=b;this.nButtons=b.length;b=h?"pgBntY":"pgBntG";g&&(b+=" pgBntB");this.sHTML='\x3ctable cellpadding\x3d0 cellspacing\x3d0 border\x3d0 class\x3d"uir-multibutton" style\x3d"cursor:hand;margin-right:6px;" role\x3d"presentation"\x3e\x3ctr class\x3d"'+
(b+(" "+(k||"")))+'"\x3e\x3ctd\x3e\x3cimg src\x3d"/images/nav/ns_x.gif" class\x3d"bntLT" border\x3d0 height\x3d"50%" width\x3d3 alt\x3d""\x3e\x3cimg src\x3d"/images/nav/ns_x.gif" class\x3d"bntLB" border\x3d0 height\x3d"50%" width\x3d3 alt\x3d""\x3e\x3c/td\x3e\x3cTD id\x3d"spn_'+a+'" nowrap class\x3d"bntBgB" valign\x3d"top" height\x3d20\x3e\x3cinput aria-expanded\x3d"false" role\x3d"button" onBlur\x3d"NLMultiButton_clearMultiButtonMenus();" onKeyDown\x3d"return getNLMultiButtonByName(\''+a+"').onKeyPress(event);\" onClick\x3d\"getNLMultiButtonByName('"+
a+'\').onMainButtonClick(this);return false;" id\x3d"btn_'+a+'" type\x3d"submit" class\x3d"rndbuttoninpt bntBgT'+(f?"small":"")+'" style\x3d"vertical-align:middle;" value\x3d"'+c+"\" onKeyPress\x3d\"setEventCancelBubble(event);\" onmousedown\x3d\"this.setAttribute('_mousedown','T'); setButtonDown(true, "+(f?"true":"false")+", this);\" onmouseup\x3d\"this.setAttribute('_mousedown','F'); setButtonDown(false, "+(f?"true":"false")+", this);\" onmouseout\x3d\"if(this.getAttribute('_mousedown')\x3d\x3d'T') setButtonDown(false, "+
(f?"true":"false")+", this);\" onmouseover\x3d\"if(this.getAttribute('_mousedown')\x3d\x3d'T') setButtonDown(true, "+(f?"true":"false")+', this);"\x3e\x3c/td\x3e\x3ctd nowrap valign\x3d"top" class\x3d"bntBgB multiBnt" onMouseOut\x3d"NLMultiButton_onArrowMouseOut(\''+a+"')\" onMouseOver\x3d\"NLMultiButton_onArrowMouseOver('"+a+"')\" onClick\x3d\"getNLMultiButtonByName('"+a+'\').onDropDownClick(this, event);"\x3e\x3cdiv style\x3d"padding: 2px 3px 0px 4px;" class\x3d"bntBgT"\x3e\x3cimg class\x3d"multiBntTri" height\x3d"12" border\x3d"0" width\x3d"8" src\x3d"/images/nav/ns_x.gif" alt\x3d"'+
HEADING_MORE_OPTIONS+'"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd\x3e\x3cimg src\x3d"/images/nav/ns_x.gif" height\x3d"50%" class\x3d"bntRT" border\x3d0 width\x3d3 alt\x3d""\x3e\x3cimg src\x3d"/images/nav/ns_x.gif" height\x3d"50%" class\x3d"bntRB" border\x3d0 width\x3d3 alt\x3d""\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e';this.toString=function(){return this.sHTML};this.writeInlineHTML=function(){document.write(sHTML)}}
function NLMultiButton_clearMultiButtonMenus(){for(var a in menus)null!=menus[a].tabName&&0<=menus[a].tabName.indexOf("mulitibutton")&&menus[a].close()}function NLMultiButton_getBackgroundImageHtml(a){return"background-image:url("+a+");"}NLMultiButton.prototype.onMainButtonClick=function(a){NLMultiButton_doAction(this.sName,this.pValues[this.nDefault][1])};NLMultiButton.prototype.setState=function(a){this.bEnabled!=a&&(this.bEnabled=a,document.getElementById("btn_"+this.sName).disabled=!a)};
function NLMultiButton_doAction(a,b){var c=document.forms.main_form,d;d=c&&null!=c.elements[b]?c.elements[b]:document.getElementById(b);if("submit"==d.type&&a){var e=getNLMultiButtonByName(a);e.sTaskId&&e.sPrimaryButtonName&&e.pValues[e.nDefault][1]!=b&&(c.elements._multibtnstate_.value=e.sTaskId+":"+e.sPrimaryButtonName+":"+d.name)}d.click()}
function NLMultiButton_openMenu(a){clearAllMenusExcept(a);a=getNLMultiButtonByName(a);a.bEnabled&&(a=a.getMenu(),a.setOpenMenuUpwardIfNotBelow(!0),a.setAllowArbitraryHtmlInMenuEntries(!0),a.showHide(!0))}function NLMultiButton_onArrowMouseOut(a){clearTimeout(window.rolloverDelay)}function NLMultiButton_onArrowMouseOver(a){window.rolloverDelay=setTimeout("NLMultiButton_openMenu('"+a+"')",100)}
NLMultiButton.prototype.onKeyPress=function(a){var b=getEventKeypress(a),c=this.getMenu();c.isOpen||b!=KC_DOWN||(c.open(null,!1),c.div.focus(),setTimeout(function(){c.setCurrentCellInMenu(c.getCellInMenuAt(0))},0),setEventPreventDefault(a));return!0};NLMultiButton.prototype.onDropDownClick=function(a,b){if(!this.bEnabled)return!0;setEventCancelBubble(b);this.getMenu().showHide(!0);return!1};
NLMultiButton.prototype.onMenuClose=function(){this.btnMain&&(this.btnMain.removeAttribute("aria-owns"),this.btnMain.setAttribute("aria-expanded","false"),this.btnMain.setAttribute("aria-haspopup","false"))};
NLMultiButton.prototype.onAfterMenuOpen=function(){for(var a=this.getMenu(),b=this.pValues,c=0,d=0;d<b.length;d++)if(d!=this.nDefault){var e=document.getElementById(b[c][1]);a.getCellInMenuAt(c).firstChild.className=e.disabled?MENU_ANCHOR_DISABLED:MENU_ANCHOR;c++}this.btnMain&&(this.btnMain.setAttribute("aria-expanded","true"),this.btnMain.setAttribute("aria-owns",a.div.id),this.btnMain.setAttribute("aria-haspopup","true"))};
function NLDoMainFormButtonAction(a,b){var c=getNLMultiButtonByName("multibutton_"+a);if(c)b&&document.forms.main_form.elements["btn_"+c.sName].focus(),c.onMainButtonClick();else if(c=document.forms.main_form.elements[a])b&&c.focus(),c.click()}function makeMenu(a,b,c,d){null==window.menuData&&(window.menuData={});null==window.menuLevel&&(window.menuLevel={});null==window.menuParent&&(window.menuParent={});window.menuData[a]=b;window.menuLevel[a]=c;window.menuParent[a]=d}
function ddmOnMouseMove(a){if(null!=window.currentMenu)return window.currentMenu.handleMouseMove(a)}function ddmOnClick(a){a=getEventTarget(a);null==findClassUp(a,MENU_SPAN_CLASS)&&null==findClassUp(a,MENU_CONTAINER_DIV)&&clearAllMenusExcept("ALL_MENUS_PLEASE")}var zoomPercent=["75","90","","125","150"],iZoomDefault=2,iZoomIndex=iZoomDefault;function getZoomFile(a){var b=a.lastIndexOf(".");return a.substr(0,b)+zoomPercent[iZoomIndex]+a.substr(b)}
function setMenuZoomFactor(a){void 0!=a&&(iZoomIndex=.9>a?0:1>a?1:1.25<a?4:1<a?3:2)}var tdCounter=0,NLMENU_STYLE_PAGE=1,NLMENU_STYLE_ACTION=2,NLMENU_STYLE_PORTLET=3,NLMENU_STYLE_CUSTOMIZE=4;
function NLMenu(a,b,c,d,e,f){this.tabName=a.substring(0,a.indexOf("_"));this.currentCell=this.tableDiv=this.div=null;this.isOpen=!1;this.level=c;this.parentMenu=d;this.name=a;this.values=b;this.span=document.getElementById("spn_"+this.name);this.overrideX=0;this.rightjustify=!1;this.overrideY=0;this.onOpenAction=this.onCloseAction=null;this.bHasImageTd=!1;this.sHelperText=null;this.nMenuStyle=e?e:NLMENU_STYLE_PAGE;this.onHandleKeyDown=f||function(){return!0}}
var menus={},menuTimers={},friendlyDelay=0;function resetNavMenuTimer(a){clearTimeout(menuTimers[a])}function startTimer(a){menuTimers[a]=setTimeout(function(){clearAllMenus(-100,a)},MOUSEOUTDELAY_TIME_MS)}function clearAllMenus(a,b){clearTimeout(friendlyDelay);for(var c in menus)menus[c].tabName==b&&menus[c].level>a&&menus[c].close()}
function clearAllMenusExcept(a){for(var b in menus)if(menus[b].tabName!=a){var c=document.getElementById(menus[b].tabName+"_nav_arrow");null!=c&&(c.className="menu_tri");menus[b].close()}}var lastMenuRequested=null,lastMenuRequestedParent=null;function getAndOpenMenu(a,b,c){lastMenuRequestedParent=b;if(a=getMenu(a))lastMenuRequestedParent=null,a.open(b,c)}
function getMenuRoundedBottomTableRow(){var a,b,c,d;a=document.createElement("tr");b=document.createElement("td");b.height=9;b.colSpan=2;a.appendChild(b);c=document.createElement("table");c.heigth=9;c.width="100%";c.cellSpacing=0;c.cellPadding=0;c.border=0;b.appendChild(c);b=document.createElement("tbody");c.appendChild(b);c=document.createElement("tr");b.appendChild(c);b=document.createElement("td");c.appendChild(b);d=document.createElement("img");d.height=9;d.width=9;d.border=0;d.src="/images/icons/dashboard/portletelements/bottom_left.gif";
b.appendChild(d);b=document.createElement("td");b.height=9;b.width="99%";b.vAlign="bottom";c.appendChild(b);d=document.createElement("img");d.height=9;d.style.width="100%";d.border=0;d.src="/images/icons/dashboard/portletelements/lower_gradient.gif";b.appendChild(d);b=document.createElement("td");c.appendChild(b);d=document.createElement("img");d.height=9;d.width=9;d.border=0;d.src="/images/icons/dashboard/portletelements/bottom_right.gif";b.appendChild(d);return a}
NLMenu.prototype.setXandYoverride=function(a,b){this.overrideX=a;this.overrideY=b};NLMenu.prototype.setHelperText=function(a){this.sHelperText=a};NLMenu.prototype.setCloseAction=function(a){this.onCloseAction=new Function(a)};NLMenu.prototype.setOpenAction=function(a){this.onOpenAction=new Function(a)};NLMenu.prototype.setAfterOpenAction=function(a){this.onAfterOpen=new Function(a)};NLMenu.prototype.setRightJustify=function(a){this.rightjustify=a};
NLMenu.prototype.setScaleToLauncher=function(a){this.scaletolauncher=a};NLMenu.prototype.setMenuBackgroundColor=function(a){this.sMenuBackgroundColor=a};NLMenu.prototype.setMenuCSSClass=function(a){this.sOverrideClass=a};NLMenu.prototype.setAllowArbitraryHtmlInMenuEntries=function(a){this.bUseSpanForMenuEntry=a};NLMenu.prototype.setOpenMenuUpwardIfNotBelow=function(a){this.bOpenMenuUpwardsIfNotBelow=a};
function NLMenu_addHelperTextRows(a,b,c){var d=document.createElement("TR"),e=document.createElement("TD");a.appendChild(d);d.appendChild(e);e.className="text";e.innerHTML=b;c&&(e.colSpan=2)}
NLMenu.prototype.positionActionDiv=function(a,b){if(a&&b){var c=!0;this.span&&this.span.id&&0<this.span.id.indexOf("secondary")&&(c=!1);var d=getWindowPageYOffset();findAbsolutePosY(a)-d+a.offsetHeight+b.offsetHeight>getVisibleWindowHeight()&&!c?(b.style.top="auto",b.style.bottom=getHeight(this.span)-5+"px",a.className+=" ac_container_bot"):(b.style.top="-1px",b.style.bottom="auto",a.className=this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE?a.className+"_hover":a.className+" ac_container")}};
NLMenu.prototype.openActionMenu=function(a,b){if(1!=this.isOpen&&!(0<this.level&&"undefined"!=typeof a&&null==document.getElementById(a))){this.span||(this.span=document.getElementById("spn_"+this.name));clearTimeout(friendlyDelay);if(null!=this.onOpenAction)this.onOpenAction();this.div=document.getElementById("div_"+this.name);if(this.div.firstChild)this.nMenuStyle!=NLMENU_STYLE_ACTION&&this.nMenuStyle!=NLMENU_STYLE_CUSTOMIZE||this.positionActionDiv(this.span,this.div),this.div.style.visibility=
"visible",0==this.level&&(window.menusAreOpen=!0),this.div.style.zIndex=50;else{this.div.onmouseover=new Function("resetNavMenuTimer('"+this.tabName+"');");b&&(this.div.onmouseout=new Function("startTimer('"+this.tabName+"');"));var c=document.createElement("table");c.setAttribute("role","presentation");c.cellSpacing=0;c.cellPadding=0;c.border=0;var d=document.createElement("tbody"),e=document.createElement("tr"),f=document.createElement("td"),h=document.createElement("img");h.border=0;h.alt="";h.src=
"/images/nav/ns_x.gif";h.style.height="4px";h.style.width="1px";h.style.display="block";var g=document.createElement("table");g.setAttribute("role","presentation");g.className="ac_table";this.div.appendChild(c);c.appendChild(d);d.appendChild(e);e.appendChild(f);f.appendChild(g);f=document.createElement("td");f.className="acSideShadow";f.appendChild(h);e.appendChild(f);h=document.createElement("img");h.alt="";h.border=0;h.src="/images/nav/ns_x.gif";h.style.height="4px";h.style.width="1px";h.style.display=
"block";e=document.createElement("tr");d.appendChild(e);f=document.createElement("td");f.className="acLBotShadow";e.appendChild(f);f.appendChild(h);f=document.createElement("td");f.className="acRBotShadow";e.appendChild(f);f.appendChild(h);c=document.createElement("tbody");g.appendChild(c);g.cellSpacing=2;g.cellPadding=0;for(var k,l,m,n,d=0;d<this.values.length;d++){k=this.values[d][0];l=this.values[d][1];m=this.values[d][3];n=this.values[d][4];var p=this.values[d][5]||!1;this.bHasImageTd=null!=m&&
0<m.length?!0:!1;var u=k==MENU_SEPERATOR,r=l==ADMI_HEADING,e=document.createElement("tr");c.appendChild(e);f=document.createElement("td");f.id="nl"+ ++tdCounter;h=document.createElement("a");h.className=p?MENU_ANCHOR_DISABLED:MENU_ANCHOR;this.nMenuStyle!=NLMENU_STYLE_CUSTOMIZE&&(h.onclick=new Function("return false;"));f.className=r?"ac_text_heading":"ac_text";f.onmouseover=new Function("clearTimeout(friendlyDelay); clearAllMenus("+this.level+", '"+this.tabName+"');");0<l.length&&!u&&!r&&(p=l=this.values[d][1],
h.href=l,this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE?h.href=p:(p=this.values[d][4],"javascript"==l.substring(0,l.indexOf(":")).toLowerCase()?(l=l.substring(l.indexOf(":")+1),"/"==l.charAt(0)&&(h.href=l,l=h.onclick="",h.style.display="block")):l="try { "+(p?"window.open(":"window.location \x3d ")+"'"+l+"'"+(p?")":"")+"; } catch (e) { if(console) console.log(e.message); }",f.onclick=new Function("clearAllMenusExcept('clear all'); "+l)));l=document.createElement("span");l.className=n&&0<n.length?n:"ac_text_pad";
l.innerHTML=k;u?u&&(f=document.createElement("tr"),c.appendChild(f),e=document.createElement("td"),f.appendChild(e),e.style.height="4px",f=document.createElement("div"),f.className="ac_separator",e.appendChild(f),e=document.createElement("img"),e.alt="",e.src="/images/nav/stretch.gif",e.style.height="3px",f.appendChild(e)):(f.appendChild(h),this.bHasImageTd&&("\x3c"==m.charAt(0)?h.innerHTML=m:(k=document.createElement("img"),k.border=0,k.src=m,k.height=14,k.width=18,h.appendChild(k),k.style.verticalAlign=
"bottom")),r&&(l.className="ac_heading_pad",h.style.fontWeight="bold",h.style.color="#666666"),h.appendChild(l),e.appendChild(f))}if(this.nMenuStyle==NLMENU_STYLE_ACTION||this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE)c=parseInt(getRuntimeStyle(g,"width")),g.style.width=120>c?"130px":c+30+"px";isIE&&(this.nMenuStyle==NLMENU_STYLE_PORTLET?(this.div.style.left="-16px",this.div.style.top=0):this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE&&(this.div.style.top="3px"));0==this.level&&(window.menusAreOpen=!0);this.div.style.zIndex=
50;this.nMenuStyle!=NLMENU_STYLE_ACTION&&this.nMenuStyle!=NLMENU_STYLE_CUSTOMIZE||this.positionActionDiv(this.span,this.div)}this.isOpen=!0;if(this.onAfterOpen)this.onAfterOpen()}};
NLMenu.prototype.open=function(a,b){if(1!=this.isOpen&&!(0<this.level&&"undefined"!=typeof a&&null==document.getElementById(a))){this.span||(this.span=document.getElementById("spn_"+this.name));clearTimeout(friendlyDelay);if(null!=this.onOpenAction)this.onOpenAction();var c=!1;0<this.level&&(c=!0,clearAllMenus(this.level-1,this.tabName));if(!document.getElementById("div_"+this.name)){this.div=document.createElement("div");this.div.className=MENU_CONTAINER_DIV;this.div.setAttribute("tabindex","0");
var d=this;this.div.onkeydown=function(a){d.handleKeyDown(a)};if(this.sOverrideClass)this.div.className=this.sOverrideClass;else{var e=document.createElement("div");e.className=MENU_LEFT_DIV;c&&(e.style.background="",e.style.paddingLeft=0);var f=document.createElement("div");f.className=MENU_RIGHT_DIV;var h=document.createElement("div");h.className=MENU_BOTTOM_DIV;var g=document.createElement("div");g.className=MENU_TABLE_DIV;this.tableDiv=g;e.appendChild(f);f.appendChild(h);h.appendChild(g);this.div.appendChild(e)}this.div.id=
"div_"+this.name;this.div.onmouseover=new Function("resetNavMenuTimer('"+this.tabName+"');");this.div.setAttribute("role","menu");b&&(this.div.onmouseout=new Function("startTimer('"+this.tabName+"');"));e=document.createElement("table");e.className=MENU_TABLE;e.setAttribute("role","presentation");this.tableDiv?this.tableDiv.appendChild(e):this.div.appendChild(e);var k=document.createElement("tbody");e.appendChild(k);e.cellSpacing=1;e.cellPadding=4;this.sMenuBackgroundColor&&(e.style.backgroundColor=
this.sMenuBackgroundColor);var f=[],h=0,l,m,n,p,u,r,t,v,q=g=!1;for(l=0;l<this.values.length;l++){p=this.values[l][0];r=this.values[l][1];u=this.values[l][2];v=this.values[l][3];0<u.length&&(g=!0);null!=v&&0<v.length&&(this.bHasImageTd=!0);var y=p==MENU_SEPERATOR,w=r==ADMI_HEADING;w&&(q=!0);m=document.createElement("tr");k.appendChild(m);n=document.createElement("td");q&&!w&&(n.style.paddingLeft="20px");n.id="nl"+ ++tdCounter;n.setAttribute("role","menuitem");t=document.createElement("a");t.className=
MENU_ANCHOR;t.onclick=new Function("return false;");0<u.length?(n.className=MENU_NOT_SELECTED_CLASS_HAS_CHILD,n.onmouseover=new Function("clearTimeout(friendlyDelay); var timeout \x3d "+(0==this.level?FRIENDLYDELAY_TIME_MS:0)+"; friendlyDelay \x3d setTimeout(\"getAndOpenMenu('"+u+"','"+n.id+"',"+(b?"true":"false")+')",timeout)')):(n.className=MENU_NOT_SELECTED_CLASS,n.onmouseover=new Function("clearTimeout(friendlyDelay); clearAllMenus("+this.level+", '"+this.tabName+"');"));if(0<r.length&&!y&&!w){r=
this.values[l][1];t.href=r;var x=this.values[l][4];r="javascript"==r.substring(0,r.indexOf(":")).toLowerCase()?r.substring(r.indexOf(":")+1):"try { "+(x?"window.open(":"window.location \x3d ")+"'"+r+"'"+(x?")":"")+"; } catch (e) { if(console) console.log(e.message); }";n.onclick=new Function("clearAllMenusExcept('clear all'); "+r)}x=null;this.bUseSpanForMenuEntry?(x=document.createElement("span"),x.innerHTML=p):x=document.createTextNode(p);(null==r||1>r.length)&&0<u.length&&(e.style.width="165px",
f[h]=document.createElement("span"),f[h].className=MENU_ICON_ARROW,f[h].id=this.tabName+"_arrow_"+l,n.appendChild(f[h]),h++,t.style.paddingRight="10px");y||(n.appendChild(t),this.bHasImageTd&&("\x3c"==v.charAt(0)?t.innerHTML=v:(p=document.createElement("img"),p.border=0,p.src=v,p.height=14,p.width=18,p.style.marginRight="5px",t.appendChild(p))),t.appendChild(x),w&&(t.style.fontWeight="bold",t.style.color="#666666"),m.appendChild(n));if(y||w)n=document.createElement("tr"),k.appendChild(n),m=document.createElement("td"),
m.style.padding="0",m.style.margin="0",n.appendChild(m),m.style.height="3px",this.bHasImageTd&&(m.colSpan=2),n=document.createElement("div"),n.className=MENU_DIVIDER,m.appendChild(n);null!=this.sHelperText&&l==this.values.length-1&&NLMenu_addHelperTextRows(k,this.sHelperText,this.bHasImageTd)}q=0;l=m=this.span;document.body.appendChild(this.div);c&&(m=this.div,null!=a&&(l=document.getElementById(a)),0<this.level&&(k=getMenu(this.tabName+"_d1"),null!=k&&k.isOpen&&null!=k.div&&(q+=k.div.offsetWidth+
k.div.offsetLeft)),1<this.level&&null!=this.parentMenu&&(k=getMenu(this.parentMenu),null!=k&&k.isOpen&&null!=k.div&&(q+=k.div.offsetWidth)),q-=4*this.level);k=parseInt(getRuntimeStyle(e,"width"));0<h&&g&&(e.style.width=k+5+"px");m=g=m?m.getBoundingClientRect().left:event.x;n=document.body.scrollLeft;isIPHONE&&(n=getWindowPageXOffset());this.rightjustify&&(g+=this.span.offsetWidth-this.div.offsetWidth);g=c?q+1:g-10;this.rightjustify&&g<m?this.div.style.left=m+"px":g+this.div.offsetWidth<getDocumentWidth()+
n?this.div.style.left=g+this.overrideX+"px":(q=g+this.div.offsetWidth-(getDocumentWidth()+n),this.div.style.left=g-q+"px");q=findClassUp(this.span,BODY_SCROLL_DIV_CLASS);g=0;null!=q&&(g=q.scrollTop);q=l?findAbsolutePosY(l):event.y;l&&(m=getWindowPageYOffset(),q=q+l.offsetHeight+this.div.offsetHeight>getDocumentHeight()+g+m?this.bOpenMenuUpwardsIfNotBelow?findAbsolutePosY(l)-this.div.offsetHeight+3:getDocumentHeight()-this.div.offsetHeight+5+g+m:q+l.offsetHeight);c&&(q-=isSAFARI?28:isMAC?21:22);q=
q+5+this.overrideY-g;this.div.offsetHeight>getDocumentClientHeight()-20&&(q=5);this.div.style.top=q+"px";0==this.level&&(window.menusAreOpen=!0);this.div.style.zIndex=1500;c=isIE?3:2;g=isIE?19:17;if(0<h&&0==this.level)for(h=0;h<f.length;h++)f[h].style.left=k-g+"px",isSAFARI||(f[h].style.top=f[h].offsetTop-c+"px");this.scaletolauncher&&this.div.offsetWidth<this.span.offsetWidth&&(this.div.style.width=this.span.offsetWidth+"px",e.style.width="100%");this.isOpen=!0;if(this.onAfterOpen)this.onAfterOpen()}}};
NLMenu.prototype.handleKeyDown=function(a){var b=getEventKeypress(a),c=this.values.length-1,d=this.getCellIndex(this.getCurrentCellInMenu()),e;switch(b){case KC_DOWN:e=Math.min(d+1,c);this.onHandleKeyDown({maxIndex:c,currentIndex:d,newIndex:e,keyCode:b})&&e!==d&&this.setCurrentCellInMenu(this.getCellInMenuAt(e));setEventPreventDefault(a);break;case KC_UP:e=Math.max(d-1,0);this.onHandleKeyDown({maxIndex:c,currentIndex:d,newIndex:e,keyCode:b})&&e!==d&&this.setCurrentCellInMenu(this.getCellInMenuAt(e));
setEventPreventDefault(a);break;case KC_ESC:this.onHandleKeyDown({keyCode:b})&&this.close();setEventPreventDefault(a);break;case KC_ENTER:if(this.onHandleKeyDown({currentIndex:d,keyCode:b})&&(b=this.getCurrentCellInMenu()))b.onclick();setEventPreventDefault(a)}};NLMenu.prototype.getCellIndex=function(a){if(a){var b=a.parentElement;if(b&&(b=b.parentElement)){for(var c=0;c<this.values.length&&b.children[c].children[0]!=a;c++);return c}}return 0};
NLMenu.prototype.close=function(){if(this.isOpen)if(0==this.level&&(window.menusAreOpen=!1),this.nMenuStyle==NLMENU_STYLE_ACTION||this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE)this.span.className=this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE?this.span.className.replace("_hover",""):"uir-action-button",this.div.style.visibility="hidden",this.isOpen=!1,null!=this.currentCell&&this.currentCell.className!=MENU_TEXT_SEPERATOR&&this.currentCell.className!=MENU_TEXT_HEADING&&(this.currentCell.className="ac_text");else if(this.nMenuStyle==
NLMENU_STYLE_PORTLET?(this.div.style.visibility="hidden",this.isOpen=!1,null!=this.currentCell&&this.currentCell.className!=MENU_TEXT_SEPERATOR&&this.currentCell.className!=MENU_TEXT_HEADING&&(this.currentCell.className="ac_text")):(document.body.removeChild(this.div),this.div=this.currentCell=null,this.isOpen=!1),null!=this.onCloseAction)this.onCloseAction()};NLMenu.prototype.getCellInMenuAt=function(a){return this.div.firstChild.rows[a].cells[0]};NLMenu.prototype.getCurrentCellInMenu=function(){return this.currentCell};
NLMenu.prototype.setCurrentCellInMenu=function(a){this.isOpen&&(null!=this.currentCell&&this.currentCell.className!=MENU_TEXT_SEPERATOR&&this.currentCell.className!=MENU_TEXT_HEADING&&(this.currentCell.className=this.nMenuStyle==NLMENU_STYLE_ACTION||this.nMenuStyle==NLMENU_STYLE_PORTLET||this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE?"ac_text":MENU_NOT_SELECTED_CLASS),null!=a&&a.className!=MENU_TEXT_SEPERATOR&&a.className!=MENU_TEXT_HEADING&&(a.className=this.nMenuStyle==NLMENU_STYLE_ACTION||this.nMenuStyle==
NLMENU_STYLE_PORTLET||this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE?"ac_text_sel":MENU_SELECTED_CLASS),this.currentCell=null==a?this.div.firstChild.rows[0].cells[0]:a,this.div.setAttribute("aria-activedescendant",a.id))};NLMenu.prototype.getIndex=function(a){for(var b=0;b<this.values.length;b+=2)if(this.values[b]==a)return b/2;return 0};
NLMenu.prototype.showHide=function(a){clearAllMenusExcept(this.tabName);this.becomeCurrent();this.nMenuStyle==NLMENU_STYLE_ACTION||this.nMenuStyle==NLMENU_STYLE_PORTLET||this.nMenuStyle==NLMENU_STYLE_CUSTOMIZE?this.openActionMenu(null,a):this.open(null,a);return!0};
NLMenu.prototype.handleMouseMove=function(a){if(this.isOpen)for(a=getEventTarget(a);null!=a;){if(null!=a.className&&(a.className==MENU_NOT_SELECTED_CLASS||a.className==MENU_NOT_SELECTED_CLASS_HAS_CHILD||a.className==MENU_TEXT_SEPERATOR||a.className==MENU_TEXT_HEADING||"ac_text"==a.className)){this.setCurrentCellInMenu(a);break}a=a.parentNode}};NLMenu.prototype.becomeCurrent=function(){window.currentMenu!=this&&(window.currentMenu=this)};
function loadDelayedScriptReference(a,b){var c=document.getElementById("nmdscript"+a);return null==c||null!=c.src&&0!=c.src.length?!1:(lastMenuRequested=b,c.src=c._actualsrc,!0)}
function loadDelayedNMD(a,b){lastMenuRequested=b;var c=document.createElement("script");c.setAttribute("type","text/javascript");var d,e;"cneg21_d1"==b?(d="/core/elements/compound/NLRecentMenu.nl?t\x3d"+getStickyTag(RECENTRECORDS),e="nmdscript-21"):"cneg6_d1"==b?(d="/core/elements/compound/NLShortcutMenu.nl?t\x3d"+getStickyTag(RECENTRECORDS),e="nmdscript-6"):0<b.indexOf("_recentreports")?(d=1==b.indexOf("neg")?"-":"",e=b.substring("-"==d?4:1,b.indexOf("_")),d="/core/elements/compound/NLRecentReports.nl__t\x3d"+
getStickyTag(RECENTREPORTS)+"\x26sections\x3d"+d+e+".nlqs",e="nmdscriptcneg9_recentreports"):"cRR_d1"==b?(d="/core/elements/compound/NLRoleMenu.nl?t\x3d"+getStickyTag(ROLEMENU),e="nmdscript-RR"):(d="/app/center/NLNavMenuData.nl__t\x3d"+getStickyTag(NAVMENUS)+"\x26sections\x3d"+a+".nlqs",e="nmdscript"+a);c.setAttribute("src",d);c.setAttribute("id",e);document.getElementsByTagName("head")[0].appendChild(c);return!0}
function getMenu(a,b){var c=menus[a];if(null==c){if(!menuDataExists(a))return loadDelayedNMD(a,a),null;c=new NLMenu(a,window.menuData[a],window.menuLevel[a],window.menuParent[a],b);menus[a]=c;0==c.level&&(menuTimers[c.tabName]=0)}return c}function menuDataExists(a){return!(null==window.menuData||null==window.menuData[a]||1>window.menuData[a].length)}function deleteMenu(a){null!=menus[a]&&(menus[a]=null)}
function setNLMenuBackground(a,b){var c=document.getElementById(a);if(null!=c){var d=c.parentNode,e=c.parentNode.previousSibling,c=c.parentNode.nextSibling;b?(d.className=d.className.replace("bgofftab","bghovertab"),e&&e.className&&(e.className=e.className.replace("bgofftab","bghovertab"),e.className=e.className.replace("bgtabrborder","bgtabrborder_s")),c&&c.className&&(c.className=c.className.replace("bgtabrborder","bgtabrborder_s"))):(d.className=d.className.replace("bghovertab","bgofftab"),e&&
e.className&&(e.className=e.className.replace("bghovertab","bgofftab"),e.className=e.className.replace("bgtabrborder_s","bgtabrborder")),c&&c.className&&(c.className=c.className.replace("bgtabrborder_s","bgtabrborder")))}}function setPortletMenuBackground(a,b){var c=document.getElementById(a);null!=c&&(c.firstChild.className=b?c.firstChild.className.replace("portletIconMenu","portletIconMenuSel"):c.firstChild.className.replace("portletIconMenuSel","portletIconMenu"))}
var currentDropdown=null,dropdownCounter=0;window.dropdownloadtime=0;
function initializeDropdown(a){var b=new Date,c=a.data("name"),d=a.data("options"),e=a.data("default-option"),f=a.data("settings"),h=["",""],g="",k,l=["","",""];dropdownCounter++;var m=c+dropdownCounter;a.nextAll("input").eq(0).attr("id","inpt_"+m);a.nextAll("input").eq(1).attr("id","hddn_"+m);a.nextAll("input").eq(2).attr("id","indx_"+m);a.nextAll(".ddarrowSpan").children("img").attr("id","inpt_"+m+"_arrow");if(0<d.length){h=[];for(g=0;g<d.length;g++){k=d[g];var n=-1<k.text.indexOf("\x26")?unEscapeHtml(k.text):
k.text;h.push(n);h.push(k.value);n.length>=l[0].length&&(l[0]=n,l.sort(function(a,b){return a.length==b.length?0:a.length>b.length?1:-1}))}g=getLongestRenderedString(l)}c=new NLDropdown(c,m,h,e,a.get(0).ownerDocument,f.flags,f.width,f.minWidth,g);f.mandatory&&c.setRequired(!0);a.attr("data-initialized","T");window.dropdownloadtime+=(new Date).getTime()-b.getTime();return c}
function getLongestRenderedString(a){for(var b=0,c="",d=0;d<a.length;d++){var e=getTextWidth(a[d]);e>b&&(b=e,c=a[d])}return c}
function initializeMultiDropdown(a){var b=a.data("name"),c=a.data("options"),d=a.data("selected"),e=a.data("settings"),f=a.next("input"),h=["",""],g=[],k;dropdownCounter++;var l=b+dropdownCounter;f.attr("id","hddn_"+l).attr("nlmultidropdown",l);if(0<c.length)for(h=[],f=0;f<c.length;f++)k=c[f],h.push(-1<k.text.indexOf("\x26")?unEscapeHtml(k.text):k.text),h.push(k.value);for(f=0;f<d.length;f++)g.push(c[d[f]].value);c=g.join(String.fromCharCode(5));b=new NLMultiDropdown(b,l,h,c,e.flags,e.width,e.height,
a.get(0).ownerDocument);e.mandatory&&b.setRequired(!0);a.attr("data-initialized","T");return b}function initializeDropdowns(a){a.find(".ns-dropdown[data-initialized\x3d'F']").each(function(){initializeDropdown(NS.jQuery(this))});a.find(".ns-multi-dropdown[data-initialized\x3d'F'][data-lazy\x3d'F']").each(function(){initializeMultiDropdown(NS.jQuery(this))})}
function unEscapeHtml(a){if(null==a)return null;if(0==a.length)return"";var b=document.createElement("a");b.innerHTML=a+"\n";a=b.firstChild;null!=a&&"#text"!=a.nodeName&&(a=a.firstChild);return null!=a?(a=a.data," "==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),a):""}
function dropdownOnMouseDown(a){if(!window.loadcomplete||!NS.form.isValid())return!0;var b=getEventTarget(a);if(isNLMultiDropDown(b)){var c=b.getAttribute("nlmultidropdown");getMultiDropdownFromNameC(c).handleMouseDown(a)}var d=null,c=!1;b&&b.className==DROPDOWN_ARROW_CLASS&&(d=document.getElementById(b.id.replace("_arrow","")),c=!0);null==d&&(d=findClassUp(b,DROPDOWN_INPUT_CLASS));if(null!=d){if(c)try{setTimeout(function(){getDropdown(d).inpt.focus();getDropdown(d).inpt.select()},1),getDropdown(d).inpt.focus()}catch(e){}return getDropdown(d).handleMouseDown(a)}}
var currentMultiDropdown=null;
function dropdownOnMouseUp(a){a=getEventTarget(a);if(null==a.tagName||a.tagName.toLowerCase()!=(isIE10?"html":"scrollbar"))null!=currentMultiDropdown&&-1!=currentMultiDropdown.onMouseMoveIdx?(currentMultiDropdown.onMouseMoveIdx=-1,currentMultiDropdown=null):null!=currentDropdown&&null==findClassUp(a,DROPDOWN_INPUT_CLASS)&&currentDropdown.seenMouseMove&&a.className!=DROPDOWN_DIV_CLASS&&"undefined"!=typeof currentDropdown&&null!=currentDropdown&&(a=findClassUp(a,DROPDOWN_SELECTED_CLASS),null!=a&&currentDropdown.setAndClose(a.nlrow),
"undefined"!=typeof currentDropdown&&null!=currentDropdown&&currentDropdown.close(),currentDropdown=null)}var lastX=0,lastY=0;function dropdownOnMouseMove(a){isIE&&(a=event);var b=a.pageY||a.clientY+getWindowPageYOffset();if(a.clientX!=lastX||b!=lastY)lastX=a.clientX,lastY=b,getEventTarget(a),null!=currentMultiDropdown&&currentMultiDropdown.handleMouseMove(a),null!=currentDropdown&&currentDropdown.handleMouseMove(a)}
function dropdownOnKeyDown(a){var b=getEventTarget(a);return isNLMultiDropDown(b)?(b=b.getAttribute("nlmultidropdown"),getMultiDropdownFromNameC(b).handleKeydown(a)):!0}function getButtonId(a){return isIE?event.button:isNS?a.button:null}NLDropdown.prototype.handleOnFocus=function(a){if(this.hddn.onfocus)this.hddn.onfocus(a);this.inpt.select();this.doOnChangeWhenBlur=!1};NLDropdown.prototype.handleOnBlur=function(a){if(this.hddn.onblur)this.hddn.onblur(a);if(this.doOnChangeWhenBlur&&this.hddn.onchange)this.hddn.onchange()};
NLDropdown.prototype.setMandatoryBackgroundColor=function(a){this.sMandatoryBgColor=a};NLDropdown.prototype.hasAttribute=function(a){return 0!=(this.flags&a)};
function NLDropdown(a,b,c,d,e,f,h,g,k){if(null==a)throw"cannot create dropdown with null name";if(null==c)throw"cannot create dropdown with null values";this.name=a;this.nameC=b;this.textArray=Array(c.length/2);this.valueArray=Array(c.length/2);this.valueToIndexMap={};this.indexAtRenderTime=this.defaultIndex=d;this.disabled=this.divWidthHasBeenSet=this.isOpen=!1;this.currentCell=this.div=null;this.searchString="";this.cancelEventOnEnterKey=this.typeAhead=!1;this.width=null;this.minimumWidth=g||0;
this.flags=0;this.sMandatoryBgColor="#FFFFFF";this.bRequired=!1;this.initializeElements(e);this.bInitialize=!0;for(e=a=0;a<c.length;a+=2,e++){var l=c[a+1];this.textArray[e]=c[a];this.valueArray[e]=l;this.valueToIndexMap[String(l)]=e}this.setIndex(d,!0);null==window.dropdowns[b]&&(window.dropdowns[b]=this);this.setWidth(-1==h?null:h,-1==g?null:g,k);this.flags=f;this.bRequired=this.hasAttribute(NLField_MANDATORY);this.disabled=this.hasAttribute(NLFieldConstants_DISABLED);this.typeAhead=this.hasAttribute(NLFieldConstants_TYPEAHEAD);
this.hasAttribute(NLFieldConstants_DISABLED)&&this.setDisabled(!0);this.hasAttribute(NLFieldConstants_NOARROW)&&this.setArrowImage("")}
NLDropdown.prototype.initializeElements=function(a){null==a&&(window.parentAccesible&&"undefined"!=typeof parent&&"undefined"!=typeof parent.Ext&&null!=parent.Ext.WindowMgr.getActive()?(a=parent.Ext.WindowMgr.getActive(),a=a.body.dom.contentWindow?a.body.dom.contentWindow:window.frames[a.getId()+"_frame"],a="undefined"!=typeof a&&null!=a?a.document:document):a=document);this.ddbtn=this.inpt=a.getElementById("inpt_"+this.nameC);this.hddn=a.getElementById("hddn_"+this.nameC);this.indx=a.getElementById("indx_"+
this.nameC);for(this.span=this.inpt.parentNode;"span"!==this.span.nodeName.toLocaleLowerCase();)this.span=this.span.parentNode;this.isSelectable()||(this.inpt.unselectable="on");this.elementsAreInitialized=!0;this.bInitialize=!1};function getDropdownArrowSpacing(){return 10}
NLDropdown.prototype.setWidth=function(a,b,c){null!=a?b=this.width=a:null!=c?(a=getTextWidth(c),b=Math.max(a+getDropdownArrowSpacing(),null==b?0:b),b+=26):(null==this.div?(a=this.createDiv(),document.body.insertBefore(a,document.body.firstChild)):a=this.div,200>a.offsetHeight?(b=null==this.div?a.offsetWidth+5+getDropdownArrowSpacing():a.offsetWidth,40>b&&(b=40)):b=null==this.div?a.offsetWidth+15+getDropdownArrowSpacing():a.offsetWidth+15,null==this.div&&document.body.removeChild(a));if(this.inptWidth!==
b||this.inptText!==this.getText())this.setWidthDirect(b),this.setText(null,!0)};NLDropdown.prototype.scheduleSetWidth=function(){if(null==this.width&&!this.dirty){this.dirty=!0;var a=this;setTimeout(function(){a.setWidth();a.dirty=!1},0)}};NLDropdown.prototype.setWidthDirect=function(a){a=Math.max(this.minimumWidth,Math.min(a,DROPDOWN_INPUT_MAX_SIZE_PIXELS));this.inpt.style.width=a+"px";this.inptWidth=a};
NLDropdown.prototype.createDiv=function(){var a=document.createElement("div");a.className=DROPDOWN_DIV_CLASS;a.unselectable=this.inpt.unselectable;a.style.zIndex=1001;this.divWidthHasBeenSet=!1;var b=Array(this.textArray.length);this.divArray=b;var c,d;for(c=0;c<this.textArray.length;c++){var e=this.textArray[c];if(null==e||0==e.length)e="\x26nbsp;";d=document.createElement("div");b[c]=d;"\x26nbsp;"!=e&&(e=e.escapeHTML());d.innerHTML=e;d.unselectable=a.unselectable;d.id="nl"+ ++tdCounter;d.nlrow=
c;d.className=DROPDOWN_NOT_SELECTED_CLASS;a.appendChild(d)}return a};NLDropdown.prototype.buildDiv=function(){this.div=this.createDiv();var a=this;this.div.onkeydown=function(b){a.handleKeyDown(b)};this.div.onkeypress=function(b){a.handleKeypress(b)};this.div.onmousedown=function(){return!1}};NLDropdown.prototype.adjustDivForScrollbar=function(a,b){isIE?a.style.width=a.offsetWidth+18+"px":isNS&&(a.style.width=a.offsetWidth-12+"px")};
NLDropdown.prototype.sizeDiv=function(){var a=this.div,b;if(!this.divWidthHasBeenSet){var c=a.offsetWidth,d=this.inpt.offsetWidth;b=d-c;a.style.overflow="hidden";a.style.width=c<d?d+"px":c+4+"px"}d=findPosY(this.inpt);c=d-document.body.scrollTop;d=getDocumentHeight()-(d-document.body.scrollTop+this.inpt.offsetHeight);c=Math.max(c,d);a.offsetHeight<Math.min(200,c)?isNS&&(b=a.offsetHeight,a.style.height=b+"px",a.offsetHeight>b&&(a.style.height=(2*b<a.offsetHeight?0:2*b-a.offsetHeight)+"px")):(a.style.height=
Math.min(c,200)-2+"px",a.style.overflow="auto",this.divWidthHasBeenSet||this.adjustDivForScrollbar(a,c,b));this.divWidthHasBeenSet=!0};NLDropdown.prototype.getForm=function(){var a=null;try{a=this.elementsAreInitialized?this.hddn.form:null}catch(b){this.elementsAreInitialized=!1,this.bInitialize=!0}return a};
NLDropdown.prototype.open=function(){this.bInitialize&&this.initializeElements();if(!this.disabled&&0!=this.textArray.length){null==this.div&&this.buildDiv();this.div.style.visibility="hidden";var a=window.parentAccesible&&"undefined"!=typeof parent&&"undefined"!=typeof parent.Ext?parent.Ext.WindowMgr.getActive():null,b=null!=a?a.body.dom.contentWindow?a.body.dom.contentWindow:window.frames[a.getId()+"_frame"]:null,c=!1;null!=a&&null==b&&null!=a.body.dom&&0<a.body.dom.id.indexOf("popup")?(c=!0,this.inpt.parentNode.insertBefore(this.div,
this.inpt.nextSibling)):(a=null!=b?b.document:document,a.body.insertBefore(this.div,a.body.firstChild));this.sizeDiv();this.hasAttribute(NLFieldConstants_EXTREME)?this.positionRelativeDiv():c||this.positionDiv(this.inpt,this.div);this.isOpen=!0;this.seenMouseMove=!1;this.setCurrentCellInMenu(null);isIE&&null!=this.currentCell&&(this.div.scrollTop=this.currentCell.offsetTop);this.div.style.visibility="visible"}};
NLDropdown.prototype.positionRelativeDiv=function(){this.span.style.zIndex=1;this.span.insertBefore(this.div,this.span.firstChild);findPosX(this.span);var a=findPosY(this.span);this.div.style.left=0;a+this.inpt.offsetHeight+this.div.offsetHeight-document.body.scrollTop>getDocumentHeight()?this.div.style.top=3-this.div.offsetHeight+"px":this.div.style.top=this.inpt.offsetHeight-1+"px"};
NLDropdown.prototype.positionDiv=function(a,b){var c=getWindowPageXOffset(),d=getWindowPageYOffset(),e=findAbsolutePosX(a),f=b.offsetWidth,h=document.body.scrollLeft,g=getDocumentClientWidth();b.style.left=e-c+f-h<=g?e+"px":g-f+h+"px";c=findAbsolutePosY(a);e=b.offsetHeight;f=a.offsetHeight;h=getDocumentClientHeight();c-d+f+e>h?b.style.top=Math.max(c-e,0)+"px":isIE?b.style.top=c+f-1+"px":isNS&&(b.style.top=c+f-2+"px")};
NLDropdown.prototype.close=function(){this.isOpen&&(null!=this.indexOnDeck&&(this.setIndex(this.indexOnDeck),this.indexOnDeck=null),null!=this.currentCell&&(this.currentCell.className=DROPDOWN_NOT_SELECTED_CLASS,this.currentCell=null),this.span.style.zIndex="",this.div.parentNode.removeChild(this.div),this.isOpen=!1)};NLDropdown.prototype.isSelectable=function(){return"on"==this.span.unselectable?!1:!0};
NLDropdown.prototype.setFocus=function(){try{this.inpt.focus(),this.isSelectable()&&this.inpt.select()}catch(a){console&&console.log(a.message)}};function getDropdownPadding(){return 17}
NLDropdown.prototype.setText=function(a,b){null==a&&(a=this.getText());this.inptText=a;this.inpt.title=a;if(null==a||""==a)a=" ";isCustomerFacingEnvironment||this.inpt.setAttribute("data-value",a);this.inpt.value=elideTxt(a,this.inptWidth-getDropdownPadding());if(!b||this==currentDropdown)try{this.inpt.focus(),!this.isOpen&&this.isSelectable()&&this.inpt.select()}catch(c){console&&console.log(c.message)}};
NLDropdown.prototype.getText=function(a){null==a&&(a=this.getIndex());return null==a||0>a||a>this.textArray.length?"":this.textArray[a]};NLDropdown.prototype.getValue=function(){return this.hddn.value};NLDropdown.prototype.getTexts=function(){return this.textArray};NLDropdown.prototype.getValues=function(){return this.valueArray};NLDropdown.prototype.setAndClose=function(a){this.indexOnDeck=null;this.close();this.setIndex(a)};
function getNext(a){var b=a.firstChild;null==b&&(b=a.nextSibling,null==b&&null!=b.parentNode&&(b=a.parentNode.nextSibling));return b}NLDropdown.prototype.setCurrentCellInMenu=function(a){if(this.isOpen){if(null==a){a=this.getIndex();if(0>a||a>this.divArray.length||void 0===a)a=0;a=this.divArray[a]}null!=this.currentCell&&(this.currentCell.className=DROPDOWN_NOT_SELECTED_CLASS);null!=a&&(a.className=DROPDOWN_SELECTED_CLASS);this.currentCell=a}};NLDropdown.prototype.getIndex=function(){return Number(this.indx.value)};
NLDropdown.prototype.setIndex=function(a,b){if(null!=a&&(a=Number(a),!(0>a||a>=this.valueArray.length))){var c=this.getIndex();this.indx.value=a;this.hddn.value=this.valueArray[a];this.setText(this.textArray[a],b);c==a||b||null==this.hddn.onchange||0!=this.hddn.onchange()||(this.indx.value=c,this.hddn.value=this.valueArray[c],this.setText(this.textArray[c],b))}};NLDropdown.prototype.setValue=function(a,b){var c=this.getIndexForValue(a);null!=c&&this.setIndex(c,b)};
NLDropdown.prototype.getValueAtIndex=function(a){return this.valueArray[a]};NLDropdown.prototype.getTextAtIndex=function(a){return this.textArray[a]};
NLDropdown.prototype.respondToArrow=function(a){var b;null!=this.matchTimeout&&(clearTimeout(this.matchTimeout),this.matchTimeout=null);b=null==this.currentCell?null==this.arrowIndex?this.getIndex():this.arrowIndex:this.currentCell.nlrow;b+=a;0>b&&(b=0);b>=this.valueArray.length&&(b=this.valueArray.length-1);if(this.isOpen){this.setText(this.textArray[b]);this.setCurrentCellInMenu(this.divArray[b]);a=this.currentCell.parentNode.scrollTop;var c=this.currentCell.offsetTop,d=getElementContentHeight(this.currentCell.parentNode),
e=this.currentCell.offsetHeight;a>c?this.currentCell.scrollIntoView(!0):a+d<c+e&&this.currentCell.scrollIntoView(!1);this.indexOnDeck=b}else if(-1==this.valueArray[b]&&0<a)b+1<this.valueArray.length&&this.respondToArrow(a+1);else{this.arrowIndex=b;var f=this;this.matchTimeout=setTimeout(function(){f.arrowIndex=null;f.setIndex(b)},0)}};
NLDropdown.prototype.gotoNext=function(a){null!=this.searchStringTimeout&&(clearTimeout(this.searchStringTimeout),this.searchStringTimeout=null);null!=this.matchTimeout&&(clearTimeout(this.matchTimeout),this.matchTimeout=null,null==this.arrowIndex);var b=this.getIndex();null!=this.currentCell&&(b=this.currentCell.nlrow);var c,d=this.textArray.length;this.searchString+=String.fromCharCode(a).toUpperCase();1==this.searchString.length&&++b;a=!1;for(var e=0;e<d;e++){c=b%d;if(this.textArray[c].substr(getTypeAheadStartIndex(this.textArray[c]),
this.searchString.length).toUpperCase()==this.searchString){a=!0;break}++b}if(a)if(this.isOpen)this.setText(this.textArray[c]),this.setCurrentCellInMenu(this.divArray[c]),this.div.scrollTop=this.currentCell.offsetTop,this.indexOnDeck=c;else{var f=this;this.doOnChangeWhenBlur=!0;this.matchTimeout=setTimeout(function(){f.setIndex(c,!0)},0)}if(1==this.typeAhead){var h=this;this.searchStringTimeout=setTimeout(function(){h.searchString=""},2E3)}else this.searchString=""};
function getTypeAheadStartIndex(a){for(var b=0;b<a.length;b++)if(32!=a.charCodeAt(b)&&160!=a.charCodeAt(b))return b;return 0}NLDropdown.prototype.getTextForValue=function(a){a=this.getIndexForValue(a);return null!=a?this.textArray[a]:""};NLDropdown.prototype.getIndexForText=function(a){for(var b=0;b<this.textArray.length;b++)if(trim(this.textArray[b])==trim(a))return b;return-1};NLDropdown.prototype.getIndexForValue=function(a){return this.valueToIndexMap[String(a)]};
NLDropdown.prototype.restoreToOriginalValue=function(){this.setIndex(this.indexAtRenderTime,!0)};NLDropdown.prototype.gotoDefault=function(){this.setIndex(this.defaultIndex,!0)};NLDropdown.prototype.resetDropDown=function(){this.gotoDefault()};NLDropdown.prototype.setDefaultIndex=function(a){null!=a&&(this.bInitialize&&this.initializeElements(),this.defaultIndex=Number(a))};NLDropdown.prototype.handleMouseDown=function(a){this.becomeCurrent();this.isOpen?this.close():this.open()};
NLDropdown.prototype.handleKeydown=function(a){if(this.disabled)return!0;this.bInitialize&&this.initializeElements();var b=getEventKeypress(a);switch(b){case 8:case 16:case 17:case 18:case 20:case 46:case 93:return}this.becomeCurrent();switch(b){case 9:this.handleOnBlur(a);this.close();currentDropdown=null;break;case 13:null!=this.currentCell?this.setIndex(this.currentCell.nlrow):(this.handleOnBlur(a),this.doOnChangeWhenBlur=!1);this.isOpen&&(this.indexOnDeck=null,this.close(),currentDropdown=null,
this.cancelEventOnEnterKey||(setEventCancelBubble(a),setEventPreventDefault(a)));break;case 38:getEventAltKey(a)?this.isOpen&&this.close():(this.respondToArrow(-1),setEventCancelBubble(a),setEventPreventDefault(a));break;case 40:getEventAltKey(a)?this.isOpen||this.open():(this.respondToArrow(1),setEventCancelBubble(a),setEventPreventDefault(a));break;case 37:case 39:return!0;case 33:this.respondToArrow(-14);this.isOpen&&(this.div.scrollTop=this.currentCell.offsetTop);setEventCancelBubble(a);setEventPreventDefault(a);
break;case 34:this.respondToArrow(14);this.isOpen&&(this.div.scrollTop=this.currentCell.offsetTop);setEventCancelBubble(a);setEventPreventDefault(a);break;case 35:this.respondToArrow(this.valueArray.length);this.isOpen&&(this.div.scrollTop=this.currentCell.offsetTop);setEventCancelBubble(a);setEventPreventDefault(a);break;case 36:this.respondToArrow(-this.valueArray.length),this.isOpen&&(this.div.scrollTop=this.currentCell.offsetTop),setEventCancelBubble(a),setEventPreventDefault(a)}};
NLDropdown.prototype.handleKeypress=function(a){if(this.disabled)return!0;this.bInitialize&&this.initializeElements();this.becomeCurrent();var b=getEventKeypress(a);switch(b){case 9:case 38:case 40:case 37:case 39:case 33:case 34:case 35:case 36:break;case 13:this.isOpen&&(setEventCancelBubble(a),setEventPreventDefault(a));break;default:this.gotoNext(b),setEventPreventDefault(a)}};
NLDropdown.prototype.handleMouseMove=function(a){if(!this.isOpen)return!0;this.seenMouseMove=!0;for(a=getEventTarget(a);null!=a;){if(null!=a.className&&a.className==DROPDOWN_NOT_SELECTED_CLASS){this.setCurrentCellInMenu(a);break}a=a.parentNode}};NLDropdown.prototype.becomeCurrent=function(){null!=currentDropdown&&currentDropdown!=this&&currentDropdown.close();currentDropdown!=this&&(currentDropdown=this,this.indexOnDeck=null)};
NLDropdown.prototype.setDisabled=function(a){this.disabled=a;this.inpt.disabled=a;this.hddn.disabled=a;this.disabled?(this.close(),this.span.className&&0>this.span.className.indexOf("effectDisabled")&&(this.span.className+=" effectDisabled")):this.span.className&&0>this.span.className.indexOf("effectStatic")?this.span.className=this.span.className.replace(" effectDisabled"," effectStatic"):this.span.className=this.span.className.replace(" effectDisabled","")};
NLDropdown.prototype.setHidden=function(a){this.span.style.display=a?"none":""};
NLDropdown.prototype.addOption=function(a,b,c){if(null==b)throw"cannot create an option with null value";if(null==a)throw"cannot create an option with null text";var d=0==this.textArray.length;a=String(a);-1<a.indexOf("\x26")&&(a=unEscapeHtml(a));b=String(b);if("undefined"===typeof c||c>this.valueArray.length)c=this.valueArray.length;for(var e=c;e<this.valueArray.length;++e)this.valueToIndexMap[this.valueArray[e]]=e+1;this.valueToIndexMap[b]=c;this.textArray.splice(c,0,a);this.valueArray.splice(c,
0,b);this.defaultIndex>=c&&++this.defaultIndex;this.getIndex()>=c&&this.setIndex(this.getIndex()+1,!0);this.div=null;d&&(this.defaultIndex=0,this.setIndex(0,!0));this.scheduleSetWidth()};NLDropdown.prototype.cloneDropdownValues=function(a){null!=a&&(this.textArray=a.textArray,this.valueArray=a.valueArray,this.valueToIndexMap=a.valueToIndexMap,this.inpt.style.width=a.inpt.style.width,this.inptWidth=a.inptWidth,this.setText(null,!0))};
NLDropdown.prototype.deleteAllOptions=function(){this.close();this.valueArray.length=0;this.textArray.length=0;this.valueToIndexMap={};this.div=null;this.defaultIndex=0;this.setText("",!0);this.hddn.value="";this.indx.value="-1"};
NLDropdown.prototype.deleteOneOption=function(a,b){a=String(a);var c=this.valueToIndexMap[a];if(null!=c){this.close();for(var d=c+1;d<this.valueArray.length;++d)this.valueToIndexMap[this.valueArray[d]]=d-1;delete this.valueToIndexMap[a];this.valueArray.splice(c,1);this.textArray.splice(c,1);this.div=null;b||this.scheduleSetWidth();c==this.defaultIndex?this.defaultIndex=0:this.defaultIndex>c&&--this.defaultIndex;this.getIndex()>c&&this.setIndex(this.getIndex()-1,!0);a==this.getValue()&&this.gotoDefault()}};
NLDropdown.prototype.setOptionText=function(a,b){a=String(a);var c=this.valueToIndexMap[a];null!=c&&(this.close(),this.textArray[c]=b,a==this.getValue()&&this.setText(b,!0),this.div=null,this.scheduleSetWidth())};NLDropdown.prototype.setArrowImage=function(a){if(!this.overrideImage){if(a==DROPDOWN_ARROW_DEFAULT||a==DROPDOWN_ARROW_PRESS||a==DROPDOWN_ARROW_DISABLED)a=getZoomFile(a);this.ddbtn.style.backgroundImage=a?"url("+a+")":""}};
NLDropdown.prototype.overrideArrowImage=function(a){this.ddbtn.style.backgroundImage="url("+a+")";this.overrideImage=!0};NLDropdown.prototype.setBackgroundColor=function(a){this.inpt.style.backgroundColor=a};NLDropdown.prototype.setRequired=function(a){(this.bRequired=a)?this.setBackgroundColor(this.sMandatoryBgColor):this.setBackgroundColor("");setFieldLabelRequired(this.name,a,this.getForm())};
NLDropdown.prototype.setDefaultOrNotRequired=function(a){this.setRequired(a?this.hasAttribute(NLField_MANDATORY):!1)};NLDropdown.prototype.getRequired=function(a){return this.bRequired};NLDropdown.prototype.getInput=function(){return this.inpt};NLDropdown.prototype.getHiddenInput=function(){return this.hddn};NLDropdown.prototype.getContainer=function(){return this.span};var dropdowns={};
function getDropdownFromNameC(a,b){if("undefined"==typeof b||null==b)b=window;var c=b.dropdowns[a];null==c&&null!=b.parent&&null!=b.parent.dropdowns&&(c=b.parent.dropdowns[a]);return c}function getDropdown(a,b){if("SPAN"==a.tagName)for(var c=a.getElementsByTagName("INPUT"),d=0;d<c.length;d++)if("hidden"==c[d].type&&null!=c[d].id&&0==c[d].id.indexOf("hddn_")){a=c[d];break}if(a.id)return getDropdownFromNameC(a.id.substring(5),b)}
function getTextWidthDiv(){var a=document.createElement("div");a.style.position="absolute";a.style.padding="0";a.style.margin="0";a.style.border="0";a.style.fontSize="13px";a.style.top="-1000px";a.style.visibility="hidden";a.innerHTML="\x26nbsp;";return a}var txtWidthCache={};
(function(){function a(){var a=null,b=document.createElement("canvas"),e=b.getContext&&b.getContext("2d"),f=/^[ \f\n\r\t\x0B\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000]+/,h=/[ \f\n\r\t\x0B\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000]+$/,g=/[ \f\n\r\t\x0B\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000]+/g,b=null;try{b=window.getComputedStyle(document.body).getPropertyValue("font-family")}catch(m){b="Open Sans"}if(e)try{e.font="13px "+b,a=function(a){if(txtWidthCache[a])return txtWidthCache[a];
var b=a.replace(f,"").replace(h,"").replace(g," ")||" ";return txtWidthCache[a]=e.measureText(b).width}}catch(m){e=null}if(!e){var k={},l=getTextWidthDiv();l.style.fontFamily=b;document.body.appendChild(l);k[" "]=k[""]=l.offsetWidth;a=function(a){if(txtWidthCache[a])return txtWidthCache[a];for(var b=a.replace(f,"").replace(h,"").replace(g," ")||" ",c=0,d=0,e=b.length;c<e;c++){var t=b[c];k[t]||(l.innerHTML=t,k[t]=l.offsetWidth);d+=k[t]}return txtWidthCache[a]=d}}return a}var b=null;getTextWidth=function(c){b||
(b=a());return b(c)}})();function elideTxt(a,b){if(0>=b||getTextWidth(a)<b)return a;a=a.replace(/^(\s|\u00A0)*/,"").replace(/(\s|\u00A0)*$/,"");if(getTextWidth(a)<b)return a;var c=getTextWidth("...");if(c>=b)return"...";for(var d=0,e=a.length,f=Math.round((d+e)/2),h=a.substr(0,Math.round(f/2)),g=a.substr(a.length-Math.floor(f/2));d!==e;)h=getTextWidth(h+g)+c,h<=b?d=f:e=f-1,f=Math.round((d+e)/2),h=a.substr(0,Math.round(f/2)),g=a.substr(a.length-Math.floor(f/2));return h+"..."+g}
var multidropdowns={};function getMultiDropdownFromNameC(a,b){null==b&&(b=window);var c=b.multidropdowns[a];null==c&&null!=b.parent&&null!=b.parent.multidropdowns&&(c=b.parent.multidropdowns[a]);return c}
function getMultiDropdown(a,b){if("SPAN"==a.tagName&&isValEmpty(a.getAttribute("nlmultidropdown")))for(var c=a.getElementsByTagName("INPUT"),d=0;d<c.length;d++)if(!isValEmpty(c[d].getAttribute("nlmultidropdown")))return getMultiDropdownFromNameC(c[d].getAttribute("nlmultidropdown"),b);return getMultiDropdownFromNameC(a.getAttribute("nlmultidropdown"),b)}NLMultiDropdown.prototype.setMandatoryBackgroundColor=function(a){this.sMandatoryBgColor=a};
NLMultiDropdown.prototype.setRequired=function(a){(this.bRequired=a)?this.setBackgroundColor(this.sMandatoryBgColor):this.setBackgroundColor("");setFieldLabelRequired(this.name,a,this.getForm())};NLMultiDropdown.prototype.getRequired=function(){return this.bRequired};NLMultiDropdown.prototype.hasAttribute=function(a){return 0!=(this.flags&a)};NLMultiDropdown.prototype.getForm=function(){var a=null;try{a=this.hiddenField.form}catch(b){}return a};
function NLMultiDropdown(a,b,c,d,e,f,h,g){if(null==a)throw"cannot create multi-select dropdown with null name";if(null==c)throw"cannot create multi-select dropdown with null values";this.renderDocument=g;this.name=a;this.nameC=b;this.textArray=Array(c.length/2);this.valueArray=Array(c.length/2);this.valueToIndexMap={};this.defaultValues=d;this.selectedVals=isValEmpty(this.defaultValues)?[]:this.defaultValues.split(String.fromCharCode(5));this.sMandatoryBgColor="#FFFFFF";this.bRequired=!1;this.staticWidth=
f;this.numRows=parseInt(h)+(isIE?0:1);this.disabled=!1;this.width=this.table=this.span=null;this.flags=0;this.hiddenField=g.getElementById("hddn_"+this.nameC);this.parentSpan=this.getParentSpan();this.parentSpan.setAttribute("nlmultidropdown",this.nameC);isNetscape?(this.parentSpan.onmousedown=new Function("return false;"),this.parentSpan.onmousemove=new Function("return false;")):this.parentSpan.onselectstart=new Function("return false;");this.onMouseMoveIdx=this.previousIdx=this.currentIdx=-1;for(d=
a=0;a<c.length;a+=2,d++)f=c[a+1],this.textArray[d]=c[a],this.valueArray[d]=f,this.valueToIndexMap[String(f)]=d;this.setWidth();this.defaultBorderColor=this.table.style.borderColor;attachEventHandler("mouseup",document,function(a){this.handleMouseUp(a)}.bind(this));null==window.multidropdowns[b]&&(window.multidropdowns[b]=this);this.flags=e;this.hasAttribute(NLFieldConstants_DISABLED)&&this.setDisabled(!0)}
NLMultiDropdown.prototype.getParentSpan=function(){for(var a=this.hiddenField.parentNode;null!=a&&("SPAN"!=a.tagName||null==a.id||-1==a.id.indexOf(this.name));)a=a.parentNode;return a};
NLMultiDropdown.prototype.buildSpan=function(){this.span=this.renderDocument.createElement(isIE?"span":"div");this.span.setAttribute("tabindex","0");this.span.setAttribute("role","listbox");this.span.setAttribute("aria-labelledby",this.name+"_fs_lbl");this.parentSpan.insertBefore(this.span,this.hiddenField);this.span.className=DROPDOWN_DIV_CLASS;this.span.style.position="relative";this.span.style.display="inline-block";this.span.style.height=(15*parseInt(this.numRows)).toString()+"px";isIE||(this.span.style.width=
"100%");this.span.style.overflow="auto";this.span.setAttribute("nlmultidropdown",this.nameC);this.table=this.renderDocument.createElement("table");this.span.appendChild(this.table);this.table.cellSpacing=0;this.table.width="100%";this.table.cellPadding=0;this.table.style.borderCollapse="collapse";this.table.style.textAlign="left";this.table.setAttribute("nlmultidropdown",this.nameC);var a=this.renderDocument.createElement("tbody"),b=this.textArray.length,c=this,d=NS.jQuery(this.span);this.span.addEventListener("focus",
function(){d.addClass("uir-field-active")});this.span.addEventListener("blur",function(){d.removeClass("uir-field-active")});for(var e=0;e<b;e++){var f=this.renderDocument.createElement("td");this.contains(e)?(f.className=DROPDOWN_SELECTED_CLASS,-1===this.currentIdx&&(this.currentIdx=e)):f.className=DROPDOWN_NOT_SELECTED_CLASS;f.style.whiteSpace="nowrap";f.style.borderWidth="0px";f.style.borderStyle="solid";f.style.borderColor="#FFFFFF";f.nlrow=e;f.setAttribute("id","row_"+this.nameC+"_"+e);f.setAttribute("aria-selected",
"false");f.setAttribute("role","option");f.setAttribute("nlmultidropdown",this.nameC);var h=this.textArray[e];isValEmpty(h)&&(h="\x26nbsp;");var g=this.renderDocument.createElement("a");g.className="uir-multiselect-option";g.onclick=function(){c.setFocus()};g.innerHTML=h;g.nlrow=e;g.setAttribute("nlmultidropdown",this.nameC);f.appendChild(g);f.onkeypress=function(a){c.handleKeypress(a)};h=this.renderDocument.createElement("tr");a.appendChild(h);h.appendChild(f)}this.table.appendChild(a);this.span.onkeypress=
function(a){c.handleKeypress(a)};if(NS.UI&&NS.UI.Helpers&&NS.UI.Helpers.uir_dropdownHelper)NS.UI.Helpers.uir_dropdownHelper.onSpanBuilt(this)};
NLMultiDropdown.prototype.positionHelperIconsForNonIE=function(){try{if(!isIE){var a=document.getElementById(this.name+"_helperwidgets");if(a){var b=parseInt(Math.floor(this.span.offsetHeight/2))-parseInt(Math.floor(a.offsetHeight/2))+4,c=parseInt(this.span.offsetWidth)+10;a.style.position="relative";a.style.left=c+"px";a.style.top=b+"px"}}}catch(d){console&&console.log(d.message)}};
function getFocusElement(a){if(!a)return null;if(a.focus)return a;var b=a.firstChild;for(a=null;b&&!a;)a=getFocusElement(b),b=b.nextSibling;return a}NLMultiDropdown.prototype.setFocus=function(){var a=getFocusElement(this.span);try{a.focus(),0==this.selectedVals.length&&this.highLightBorder(0)}catch(b){console&&console.log(b.message)}};
NLMultiDropdown.prototype.setWidth=function(){null==this.span&&this.buildSpan();if(null!=this.staticWidth)this.span.style.width=this.staticWidth+"px";else{var a=this.table.offsetWidth;40>a&&(a=40);a=Math.min(a,DROPDOWN_INPUT_MAX_SIZE_PIXELS);this.table.style.width=a+"px";isIE?this.parentSpan.style.width=a+"px":this.span.style.width=(a+21).toString()+"px";this.width=a}this.positionHelperIconsForNonIE()};
NLMultiDropdown.prototype.becomeCurrent=function(){currentMultiDropdown!=this&&(currentMultiDropdown=this)};NLMultiDropdown.prototype.resetDropDown=function(){this.removeAll();this.currentIdx=this.previousIdx=-1;this.selectedVals=isValEmpty(this.defaultValues)?[]:this.defaultValues.split(String.fromCharCode(5));for(var a=this.selectedVals.length,b=0;b<a;)this.add(this.valueToIndexMap[this.selectedVals[b++]],!0);null==this.width&&this.setWidth();this.setHiddenField()};
NLMultiDropdown.prototype.getTextForValue=function(a){a=this.getIndexForValue(a);return null!=a?this.textArray[a]:""};NLMultiDropdown.prototype.getIndexForValue=function(a){return this.valueToIndexMap[String(a)]};NLMultiDropdown.prototype.setValue=function(a){this.setIndex(valueToIndexMap[a])};
NLMultiDropdown.prototype.setIndex=function(a,b){this.disabled||(getEventShiftKey(b)?this.handleShiftKey(Math.min(this.currentIdx,a),Math.max(this.currentIdx,a)):getEventCtrlKey(b)||getEventMacCommandKey(b)?this.contains(a)?this.remove(a,!0):this.add(a,!0):(this.removeAll(),this.add(a,!0)),this.highLightBorder(a),this.previousIdx=a)};NLMultiDropdown.prototype.addIndex=function(a){this.disabled||(this.add(a,!0),this.highLightBorder(a),this.previousIdx=a,this.setHiddenField(!0))};
NLMultiDropdown.prototype.setValues=function(a,b){this.removeAll();this.previousIdx=-1;for(var c=a.split(String.fromCharCode(5)),d=0,d=0;d<c.length;d++)this.add(this.getIndexForValue(c[d]),!0);this.setHiddenField(!b)};NLMultiDropdown.prototype.getValues=function(){return this.valueArray};
NLMultiDropdown.prototype.highLightBorder=function(a){-1!=this.previousIdx&&(this.getCell(this.previousIdx).style.borderStyle="solid",this.getCell(this.previousIdx).style.borderColor="#FFFFFF");this.getCell(a).style.borderStyle="dotted";this.getCell(a).style.borderColor=this.defaultBorderColor};
NLMultiDropdown.prototype.handleScrolling=function(a){if(null!=this.span){var b=this.getCell(a);a=b.offsetHeight;var b=b.offsetTop,c=this.span.scrollTop,d=c+a*Math.max(1,this.numRows-1),e=b%a,e=b+(0<e?a-e:0);e>=d+a||b<c-a?this.span.scrollTop=b:e>=d?this.span.scrollTop+=a:e<c&&(this.span.scrollTop-=a)}};NLMultiDropdown.prototype.getSelectedValues=function(){return this.selectedVals.join(String.fromCharCode(5))};
NLMultiDropdown.prototype.getSelectedText=function(a){var b="";isValEmpty(a)&&(a=",");if(0<this.selectedVals.length)for(var c=0;c<this.selectedVals.length;c++)b+=(0==c?"":a)+this.getText(this.valueToIndexMap[this.selectedVals[c]]);return b};NLMultiDropdown.prototype.getSelectedTextFromValues=function(a,b){var c="";isValEmpty(b)&&(b=",");if(!isValEmpty(a))for(var d=a.split(String.fromCharCode(5)),e=0;e<d.length;e++)c+=(0==e?"":b)+this.getText(this.valueToIndexMap[d[e]]);return c};
NLMultiDropdown.prototype.setHiddenField=function(a){this.hiddenField.value=this.getSelectedValues();if(a)this.hiddenField.onchange()};NLMultiDropdown.prototype.removeAll=function(){for(var a=this.selectedVals,b=0;b<a.length;b++){var c=this.valueToIndexMap[a[b]];this.remove(c,!0);this.getCell(c).style.borderStyle="solid";this.getCell(c).style.borderColor="#FFFFFF"}};
NLMultiDropdown.prototype.add=function(a,b){if(null!=a&&(this.currentIdx=a,arrayAdd(this.selectedVals,this.getValue(a)),b)){var c=this.getCell(a);c.className=DROPDOWN_SELECTED_CLASS;c.setAttribute("aria-selected","true");this.span.setAttribute("aria-activedescendant",c.id)}};
NLMultiDropdown.prototype.remove=function(a,b){if(null!=a&&-1!==this.selectedVals.indexOf(this.getValue(a))&&(this.selectedVals=arrayRemove(this.selectedVals,this.getValue(a)),b)){var c=this.getCell(a);c.className=DROPDOWN_NOT_SELECTED_CLASS;c.setAttribute("aria-selected","false");this.span.removeAttribute("aria-activedescendant")}};NLMultiDropdown.prototype.contains=function(a){return arrayContains(this.selectedVals,this.valueArray[a])};NLMultiDropdown.prototype.getCell=function(a){return this.table.rows[a].cells[0]};
NLMultiDropdown.prototype.getValue=function(a){return this.valueArray[a]};NLMultiDropdown.prototype.getText=function(a){return this.textArray[a]};NLMultiDropdown.prototype.setBackgroundColor=function(a){this.defaultBorderColor=a;this.table.style.backgroundColor=a;this.span.style.backgroundColor=a};NLMultiDropdown.prototype.handleShiftKey=function(a,b){if(!(a>b||0>a||b>=this.valueArray.length))for(var c=0;c<this.valueArray.length;)c>=a&&c<=b?this.add(c,!0):this.remove(c,!0),c++};
NLMultiDropdown.prototype.handleMoveSelection=function(a,b){var c=this.valueArray.length,d=this.currentIdx,d=Math.min(d+b,c-1),d=Math.max(d,0);getEventShiftKey(a)?this.handleShiftKey(Math.min(this.previousIdx,d),Math.max(this.previousIdx,d)):this.removeAll();this.add(d,!0);this.highLightBorder(d);getEventShiftKey(a)||(this.previousIdx=d);this.handleScrolling(d);this.setHiddenField(!0)};
NLMultiDropdown.prototype.handleTypeAhead=function(a){var b=Math.max(this.currentIdx,0)+1,c,d=this.textArray.length;a=String.fromCharCode(a).toUpperCase();for(var e=!1,f=0;f<d;f++){c=b%d;if(this.textArray[c].substr(0,a.length).toUpperCase()==a){e=!0;break}++b}e&&(this.removeAll(),this.add(c,!0),this.highLightBorder(c),this.previousIdx=c,this.handleScrolling(c),this.setHiddenField(!0))};
NLMultiDropdown.prototype.handleMouseMove=function(a){if(!this.disabled&&-1!=this.onMouseMoveIdx)if(isIE&&0==getEvent(a).button)this.onMouseMoveIdx=-1,currentMultiDropdown==this&&(currentMultiDropdown=null);else for(a=getEventTarget(a);null!=a;){if(null!=a.className&&!isNaN(a.nlrow)&&"undefined"!=a.nlrow&&a.getAttribute("nlmultidropdown")==this.nameC){a=a.nlrow;if(this.onMouseMoveIdx!=this.previousIdx&&this.contains(this.onMouseMoveIdx)&&Math.abs(this.previousIdx-this.onMouseMoveIdx)>Math.abs(this.previousIdx-
a))this.remove(this.onMouseMoveIdx,!0);else for(var b=Math.max(this.previousIdx,a),c=Math.min(this.previousIdx,a);c<=b;c++)this.contains(c)||this.add(c,!0);this.handleScrolling(a);this.onMouseMoveIdx=a;break}a=a.parentNode}};NLMultiDropdown.prototype.handleMouseDown=function(a){if(!this.disabled){this.becomeCurrent();var b=getEventTarget(a);null==b||isNaN(b.nlrow)||"undefined"==b.nlrow||(this.onMouseMoveIdx=b.nlrow,this.setIndex(b.nlrow,a),this.handleScrolling(b.nlrow),this.dragBegan=!0)}};
NLMultiDropdown.prototype.handleMouseUp=function(a){this.dragBegan&&!this.disabled&&(this.dragBegan=!1,this.becomeCurrent(),this.setHiddenField(!0))};
NLMultiDropdown.prototype.handleKeydown=function(a){if(!this.disabled){this.becomeCurrent();var b=!1;switch(getEventKeypress(a)){case 33:this.handleMoveSelection(a,-this.numRows);setEventPreventDefault(a);break;case 34:this.handleMoveSelection(a,+this.numRows);setEventPreventDefault(a);break;case 35:this.handleMoveSelection(a,this.valueArray.length-this.currentIdx);setEventPreventDefault(a);break;case 36:this.handleMoveSelection(a,-this.currentIdx);setEventPreventDefault(a);break;case 38:this.handleMoveSelection(a,
-1);setEventPreventDefault(a);break;case 40:this.handleMoveSelection(a,1);setEventPreventDefault(a);break;default:b=!0}return b}};NLMultiDropdown.prototype.handleKeypress=function(a){if(this.disabled)return!0;this.becomeCurrent();a=getEventKeypress(a);this.handleTypeAhead(a)};
NLMultiDropdown.prototype.setDisabled=function(a){this.disabled=a;this.hiddenField.disabled=a;if(null!=this.table&&(this.table.disabled=a,!isIE))for(var b=this.table.getElementsByTagName("A"),c=0;c<b.length;c++)b[c].style.color=a?"#AAAAAA":"";this.disabled||null!=this.span||null!=this.width||(this.setWidth(),this.setBackgroundColor(this.defaultBorderColor))};NLMultiDropdown.prototype.setHidden=function(a){null!=this.span&&(this.span.style.display=a?"none":"")};
NLMultiDropdown.prototype.addOption=function(a,b,c,d){if(null==b)throw"cannot create an option with null value";if(null==a)throw"cannot create an option with null text";a=String(a);b=String(b);"undefined"==typeof d&&(d=this.valueArray.length);this.textArray.splice(d,0,a);this.valueArray.splice(d,0,b);this.valueToIndexMap[b]=d;c&&this.add(d,!1);null!=this.span&&this.parentSpan.removeChild(this.span);this.width=this.span=null;this.setWidth();this.setBackgroundColor(this.defaultBorderColor);this.setHiddenField();
this.disabled||this.handleScrolling(d)};NLMultiDropdown.prototype.deleteAllOptions=function(){this.valueArray.length=0;this.textArray.length=0;this.valueToIndexMap={};this.currentIdx=this.previousIdx=-1;this.selectedVals=[];null!=this.span&&this.parentSpan.removeChild(this.span);this.width=this.span=null;this.setWidth();this.setBackgroundColor(this.defaultBorderColor);this.setHiddenField()};
NLMultiDropdown.prototype.deleteOneOption=function(a){a=String(a);var b=this.valueToIndexMap[a];null!=b&&(this.valueArray.splice(b,1),this.textArray.splice(b,1),delete this.valueToIndexMap[a],this.selectedVals=arrayRemove(this.selectedVals,a),null!=this.span&&this.parentSpan.removeChild(this.span),this.width=this.span=null,this.setWidth(),this.setBackgroundColor(this.defaultBorderColor),this.setHiddenField())};NLMultiDropdown.prototype.getContainer=function(){return this.span};
function resetNLDropDowns(a){if(null!=window.dropdowns)for(var b in window.dropdowns){var c=window.dropdowns[String(b)];!c.elementsAreInitialized||null!=a&&c.getForm()!=a||c.resetDropDown()}if(null!=window.multidropdowns)for(b in window.multidropdowns)c=window.multidropdowns[String(b)],null!=a&&c.hiddenField.form!=a||c.resetDropDown()}
function resetNLPopupSelects(a){NS.jQuery(a).find("[data-fieldtype\x3dpopupselect] input[type\x3dtext]").each(function(){var b=this.name.replace(/_display$/,"");b in a.elements&&(a.elements[b].value="")})}
function getStyleForClass(a,b){for(var c=document.styleSheets,d=0;d<c.length;d++)for(var e=c[d].rules?c[d].rules:c[d].cssRules,f=0;f<e.length;f++){var h=e[f];if(h.hasOwnProperty("style")){var g=h.style,h=h.selectorText;if(!isValEmpty(g[b])&&null!=h&&h.replace(".","")==a)return g[b]}}return null}var dragger=null,mouseX=0,mouseY=0,currentPortlet=null,bar=null,EVENT_PORTLET_MAX=0,EVENT_PORTLET_MIN=1,EVENT_PORTLET_MOVE=2,EVENT_PORTLET_DROP=3,EVENT_PORTLET_DRAG=4;
function NLPortletDragger(){this.portletID=this.widthPlaceHolder=this.originalContainer=this.originalNext=this.originalColumn=this.width=this.headerTR=this.divContainer=this.trToBeMoved=null}function movedToDifferentWidthColumn(a,b){return(1==a||3==a)&&2==b||(1==b||3==b)&&2==a}
NLPortletDragger.prototype.putDownPortlet=function(){bar&&bar.parentNode&&bar.parentNode.removeChild(bar);var a=currentPortlet;isNS||this.divContainer.parentNode.removeChild(this.divContainer);if(null!=a){var b=getCellIndex(a.parentNode.parentNode.parentNode)+1,c=NLHighChartManager_Instance.getChartObject("portletHC_child_portlet_"+this.portletID);"undefined"!=typeof c&&movedToDifferentWidthColumn(this.originalColumn,b)&&c.setSize(0,0);a.parentNode.insertBefore(this.trToBeMoved,a);"undefined"!=typeof this.updateLayoutInDatabase?
this.updateLayoutInDatabase(this.portletID,a.portletID,b,this.originalColumn,this.trToBeMoved.id):updateLayoutInDatabase(this.portletID,a.portletID,b,this.originalColumn);1==movedToDifferentWidthColumn(this.originalColumn,b)&&this.headerTR.setAttribute("ptlt_hasdisplayed","F")}else this.widthPlaceHolder&&this.originalContainer.insertBefore(this.trToBeMoved,this.originalNext);this.widthPlaceHolder&&this.originalContainer.removeChild(this.widthPlaceHolder);clearTimeout(chartResizingTimeout);chartResizingTimeout=
setTimeout(reflowAllCharts,300);currentPortlet=null};
NLPortletDragger.prototype.putDownRow=function(){bar&&bar.parentNode&&bar.parentNode.removeChild(bar);var a=currentPortlet;null!=this.divContainer&&(this.divContainer.parentNode.removeChild(this.divContainer),this.originalContainer.insertBefore(this.trToBeMoved,this.originalNext));if(null!=a){OrderedListMarkRowNavigation&&OrderedListMarkRowNavigation(a,!1);if(a.isOrderedList&&OrderedListMoveLineTo)OrderedListMoveLineTo(a.machineName,a.rowIndex);else if(null!=a.machineName){var b=a.rowIndex,c=eval(a.machineName+
"_machine.getMachineIndex()"),d=eval(a.machineName+"_machine.isinline"),e=getMachineByName(a.machineName);d&&c<a.rowIndex&&e.moveButtons&&b--;eval(a.machineName+"_machine.movelineto("+b+")")}currentPortlet=null}};function getCellIndex(a){if(isSafari){for(var b=a.parentNode,c=0;c<b.cells.length;c++)if(b.cells[c]==a)return c;return 0}return a.cellIndex}
function movePortlet(a,b){try{var c=getEventTarget(b);if("A"==c.nodeName||"SPAN"==c.nodeName)return!0;var d=findClassUp(a,PORTLET_HANDLE_CLASS);dragger=new NLPortletDragger;dragger.portletID=getPortletId(a.id);dragger.headerTR=a;dragger.trToBeMoved=d;dragger.originalColumn=getCellIndex(d.parentNode.parentNode.parentNode)+1;dragger.originalContainer=d.parentNode;dragger.originalNext=d.nextSibling;dragger.width=d.offsetWidth;dragger.divContainer=document.createElement("div");dragger.divContainer.style.position=
"absolute";dragger.divContainer.style.width=dragger.width;dragger.divContainer.style.background=document.body.bgColor;isIE?dragger.divContainer.style.filter="alpha(opacity\x3d92)":(dragger.divContainer.style.opacity=.92,dragger.divContainer.style.MozOpacity=.92);dragger.widthPlaceHolder=document.createElement("tr");var e=document.createElement("td"),f=document.createElement("img");e.appendChild(f);dragger.widthPlaceHolder.appendChild(e);f.src="/images/nav/stretch.gif";f.width=dragger.width;f.height=
"0";dragger.widthPlaceHolder&&dragger.originalContainer.appendChild(dragger.widthPlaceHolder);dragger.originalContainer.removeChild(d);var h=document.createElement("table");h.style.borderWidth=0;h.width="100%";var g=document.createElement("tbody");h.appendChild(g);g.appendChild(d);dragger.divContainer.appendChild(h);isNS||(document.body.appendChild(dragger.divContainer),positionFloatingPortlet(dragger.divContainer,4))}catch(k){dragger=null}}
function portletDraggerOnMouseMove(a){updateMousePosition(a);dragger&&(document.body.scrollHeight>getDocumentHeight()&&10>getDocumentHeight()-mouseY?document.body.scrollTop=document.body.scrollHeight-getDocumentHeight():15>mouseY&&0<document.body.scrollTop&&(document.body.scrollTop=0),isNS||positionFloatingPortlet(dragger.divContainer,4),a=getEventTarget(a),a=findClassUp(a,PORTLET_HANDLE_CLASS),null!=a&&a!=currentPortlet&&a!=dragger.trToBeMoved&&(currentPortlet=a,null!=bar&&null!=bar.parentNode&&
bar.parentNode.removeChild(bar),bar=getPositionUpdateBar(),currentPortlet.portletID=getPortletId(currentPortlet.id),currentPortlet.parentNode.insertBefore(bar,currentPortlet)),notifyPortlet(dragger.portletID,EVENT_PORTLET_MOVE))}function updateMousePosition(a){mouseX=getMouseX(a);mouseY=getMouseY(a)}
function getPositionUpdateBar(a){var b=document.createElement("tr"),c=document.createElement("td");b.appendChild(c);var d=document.createElement("hr");d.style.width="100%";d.className=PORTLET_DRAG_DROP_BAR_CLASS;c.appendChild(d);a&&0<a.cells.length&&(c.colSpan=a.cells.length,d.style.width="95%");return b}
function positionFloatingPortlet(a,b){var c=getDocumentClientWidth();a.style.left=15>mouseX?"8px":mouseX+a.offsetWidth>c-10?c-10-a.offsetWidth+"px":mouseX-10+"px";mouseY<getDocumentHeight()&&(c=mouseY+document.body.scrollTop+b,mouseY+a.offsetHeight<getDocumentHeight()||(c=c-a.offsetHeight-15),a.style.top=(0<c&&c||0)+"px")}
function portletDraggerOnMouseDown(a){if(!(dragger||1<getButtonId(a))){var b=getEventTarget(a),b=findClassUp(b,PORTLET_DRAG_DROP_CLASS);null!=b&&null!=b.id&&(movePortlet(b,a),a=getPortletId(b.id),notifyPortlet(a,EVENT_PORTLET_DRAG))}}function portletDraggerOnMouseUp(){if(dragger)return dragger.putDownPortlet(),notifyPortlet(dragger.portletID,EVENT_PORTLET_DROP),dragger=null,!1}function getPortletId(a){return null==a?-1:a.substring(a.lastIndexOf("_")+1,a.length)}
function updateLayoutInDatabase(a,b,c,d){a="undefined"==typeof NLHighChartManager_Instance.getChartObject("portletHC_child_portlet_"+a)||Ext.isIE?"/app/center/portletlayout.nl?movedid\x3d"+a+"\x26replacedid\x3d"+b+"\x26sectionid\x3d-29\x26newcolumn\x3d"+c+"\x26oldcolumn\x3d"+d+"\x26chartMoved\x3dfalse":"/app/center/portletlayout.nl?movedid\x3d"+a+"\x26replacedid\x3d"+b+"\x26sectionid\x3d-29\x26newcolumn\x3d"+c+"\x26oldcolumn\x3d"+d+"\x26chartMoved\x3dtrue";b=getParameter("entityid",document);null!=
b&&(a+="\x26entityid\x3d"+b);(b=getParameter("project",document))&&(a+="\x26project\x3d"+b);sendRequestToFrame(a,"server_commands")}
function hidePortlet(a,b,c){var d=document.getElementById(c),d=findClassUp(d,PORTLET_HANDLE_CLASS);null!=d&&(a="/app/center/setup/dashboard.nl?portletid\x3d"+b+"\x26sectionid\x3d"+a+"\x26dynamic\x3dT\x26elementid\x3d"+c+"\x26method\x3dhideportlet",window.editDashboard&&(a+="\x26e\x3dT"),sendRequestToFrame(a,"server_commands"));clearTimeout(chartResizingTimeout);chartResizingTimeout=setTimeout(reflowAllCharts,300)}
function doHidePortlet(a){a=document.getElementById(a);a=findClassUp(a,PORTLET_HANDLE_CLASS);null!=a&&a.parentNode.removeChild(a);clearTimeout(chartResizingTimeout);chartResizingTimeout=setTimeout(reflowAllCharts,300)}
function minimizePortlet(a,b,c,d,e,f){var h=document.getElementById(c);if(null!=h&&"TR"==h.nodeName){var g="T"==h.getAttribute("ptlt_hasdisplayed"),k=document.getElementById(c+"_content"),l="none"==k.style.display,m=l?"":"none";if(!l||g||!f){for(var n=document.getElementById("table_"+c),k=k.rowIndex;k<n.rows.length;k++)n.rows[k].style.display=m;c=document.getElementById(c+"_maxmin");c.className=l?c.className.replace("portletIconMaximize","portletIconMinimize"):c.className.replace("portletIconMinimize",
"portletIconMaximize")}h.setAttribute("ptlt_hasdisplayed","T");a=addParamToURL("/app/center/setup/minimizeportlet.nl?portletid\x3d"+b+"\x26sectionid\x3d"+a,"elemid",d);a=addParamToURL(a,"sticky",e);a=addParamToURL(a,"_minimize",l?"F":"T");a=addParamToURL(a,"_reload",l&&!g&&f?"T":"F");sendRequestToFrame(a,"server_commands");notifyPortlet(b,l?EVENT_PORTLET_MAX:EVENT_PORTLET_MIN);clearTimeout(chartResizingTimeout);chartResizingTimeout=setTimeout(reflowAllCharts,300)}}
function minimizeProjectDashboardPortlet(a,b,c,d,e,f,h){var g=document.getElementById(c);if(null!=g&&"TR"==g.nodeName){var k="T"==g.getAttribute("ptlt_hasdisplayed"),l=document.getElementById(c+"_content"),m="none"==l.style.display,n=m?"":"none";if(!m||k||!f){for(var p=document.getElementById("table_"+c),l=l.rowIndex;l<p.rows.length;l++)p.rows[l].style.display=n;c=document.getElementById(c+"_maxmin");c.className=m?c.className.replace("portletIconMaximize","portletIconMinimize"):c.className.replace("portletIconMinimize",
"portletIconMaximize")}g.setAttribute("ptlt_hasdisplayed","T");a=addParamToURL("/app/accounting/project/minimizeprojectdashboardportlet.nl?portletid\x3d"+b+"\x26sectionid\x3d"+a,"elemid",d);a=addParamToURL(a,"sticky",e);a=addParamToURL(a,"_minimize",m?"F":"T");a=addParamToURL(a,"_reload",m&&!k&&f?"T":"F");a=addParamToURL(a,"project",h);sendRequestToFrame(a,"server_commands");notifyPortlet(b,m?EVENT_PORTLET_MAX:EVENT_PORTLET_MIN);clearTimeout(chartResizingTimeout);chartResizingTimeout=setTimeout(reflowAllCharts,
300)}}
function refreshPortlet(a,b,c,d,e,f,h,g,k,l){if(NS.Dashboard)return refreshPortletCompat(a,c,e,g,k,l);setPortletToUpdating(a);a="/app/center/setup/portletrefresher.nl?elemid\x3d"+a+"\x26sticky\x3d"+b;null!=c&&(a+="\x26noreload\x3d"+(c?"T":"F"));null!=d&&(a+="\x26sc\x3d"+d);null!=e&&(a+="\x26portletid\x3d"+e);null!=f&&(a+="\x26entityid\x3d"+f+"\x26haschild\x3d"+(h?"T":"F"));null!=g&&(a+="\x26searchid\x3d"+g);null!=l&&(a+="\x26lineid\x3d"+l);if(isNetscape||isSafari)a+="\x26nsts\x3d"+(new Date).getTime();null!=
k&&0<k.length&&("?"==k.charAt(0)&&(k=k.substring(1)),a+="\x26addparams\x3d"+encodeURIComponent(k));sendRequestToFrame(a,"server_commands")}function refreshPortletCompat(a,b,c,d,e,f){b={noreload:b?"T":"F",searchid:d,lineid:f};for(d=/([\w]+)=([^&]*)/g;null!==(f=d.exec(e));)b[f[1]]=f[2];!c&&a&&(c=/[0-9]+/.exec(a),c=/neg/.test(a)?-c[0]:c[0]);a=decodeURIComponent(NS.jQuery.param(b));NS.Dashboard.getInstance().getPortlet(c).reload("refresh",a)}
function refreshProjectPortlet(a,b,c,d,e,f,h,g,k,l,m){setPortletToUpdating(a);a="/app/center/setup/portletrefresher.nl?elemid\x3d"+a+"\x26sticky\x3d"+b;c&&(a+="\x26noreload\x3d"+(c?"T":"F"));d&&(a+="\x26sc\x3d"+d);f&&(a+="\x26portletid\x3d"+f);h&&(a+="\x26entityid\x3d"+h+"\x26haschild\x3d"+(g?"T":"F"));k&&(a+="\x26searchid\x3d"+k);m&&(a+="\x26lineid\x3d"+m);e&&(a+="\x26project\x3d"+e);if(isNetscape||isSafari)a+="\x26nsts\x3d"+(new Date).getTime();null!=l&&0<l.length&&("?"==l.charAt(0)&&(l=l.substring(1)),
a+="\x26addparams\x3d"+encodeURIComponent(l));sendRequestToFrame(a,"server_commands")}function disablePortletLinks(a){for(var b=0;;b++){var c=document.getElementById(a+b);if(null==c)break;c.disabled=!0}return!0}function sendRequestToFrame(a,b){try{isIE?document.frames[b].document.location.replace(a):document.getElementById(b).src=a}catch(c){console&&console.log(c.message)}}
function getFrame(a){try{return isIE?document.frames[a]:document.getElementById(a)}catch(b){console&&console.log(b.message)}}var quickAddDragger=null;function quickaddDraggerOnMouseDown(a){quickAddDragger||1<getButtonId(a)||(a=getEventTarget(a),a=findClassUp(a,QUICKADD_DRAG_DROP_CLASS),null!=a&&null!=a.id&&(quickAddDragger=findClassUp(a,"quickadddragger")))}function quickaddDraggerOnMouseMove(a){null!=quickAddDragger&&positionFloatingPortlet(quickAddDragger,0)}
function quickaddDraggerOnMouseUp(){quickAddDragger=null;return!1}
function setPortletToUpdating(a){var b=document.getElementById("rfsh_"+a);if(null!=b){a=null!=b.parentNode.previousSibling?b.parentNode.previousSibling.firstChild:null;null!=a&&"IMG"==a.nodeName&&(a.src="/images/nav/dingbats/btn_cl_refresh.gif");for(;null!=b.firstChild;)b.removeChild(b.firstChild);a=document.createElement("font");a.color="#999999";var c=document.createTextNode(PAGE_REFRESHING);a.appendChild(c);b.appendChild(a);a=document.createElement("img");a.src="/images/setup/updating.gif";a.border=
0;b.appendChild(a)}else(b=document.getElementById(a+"_refresh"))&&0>b.className.indexOf("portletIconRefreshing")&&(b.className=b.className.replace("portletIconRefresh","portletIconRefreshing"))}var ExtFontNames=[["Verdana","Verdana"],["Arial","Arial"],["Courier New","Courier New"],["Times New Roman","Times New Roman"],["Comic Sans MS","Comic Sans"],["Georgia","Georgia"],["Tahoma","Tahoma"],["Trebuchet MS","Trebuchet"]];
function _getFontSizePts(a){for(var b in fontSizes)if(fontSizes[b]==a)return b;return null}var fontSizeInPixel={10:"1",12:"2",13:"2",16:"3",18:"4",24:"5",32:"6",48:"7"};function getFontSizeFromPixel(a){return fontSizeInPixel[a]?fontSizeInPixel[a]:""}
function makeHtmlEditor(a,b,c,d,e,f,h,g,k){if(null==document.getElementById(a+"_fs"))return null;isNaN(e)||(e=Math.min(20*e,500));isNaN(d)||(d=Math.min(6*d,800));b=new NLHtmlEditor(a,b,c,d,e,f,h);window.htmleditors[a]=b;null!=g&&(b.defaultFont=g);null!=k&&(b.defaultFontSize=k);b.launchEditor();b.hasAttribute(NLField_MANDATORY)&&b.setMandatory(!0);b.hasAttribute(NLFieldConstants_DISABLED)&&b.setDisabled(!0);return b}
function NLHtmlEditor(a,b,c,d,e,f,h){this.name=a;this.span=document.getElementById(a+"_fs");this.defaultValue=this.value=b;this.hddn=this.toolbar=this.toggleHeader=this.editor=this.main=null;this.textMode=this.defaultTextMode=f;this.width=null!=d?d:400;this.height=null!=e?e:200;this.onChangeFunc=c;this.flags=h?h:NLField_DEFAULT;this.toggleSpan=null;this.mandatory=this.disabled=!1;this.mandatoryBgColor="#FFFFE5";this.defaultFontSize=this.defaultFont=null;this.responseLock=!1;this.responseQueue=0}
NLHtmlEditor.prototype.launchEditor=function(){this.main=document.createElement("DIV");this.main.id=this.name+"_main";this.main.unselectable="on";this.main.style.border="solid 1px #999999";this.main.style.backgroundColor="#ECEFF6";this.main.className="htmleditormain";this.span.appendChild(this.main);this.buildToggleHeader();this.buildToolBar();this.buildEditor();this.setEditorMode(this.textMode)};
NLHtmlEditor.prototype.buildEditor=function(){this.editor=document.createElement("DIV");this.editor.id=this.name+"_editor";this.editor.unselectable="on";this.editor.style.width="100%";this.editor.style.borderWidth="1px 0 0px 0";this.editor.style.borderStyle="solid";this.editor.style.borderColor="#999999";isIE||(this.editor.style.marginTop="8px");this.main.appendChild(this.editor);this.editorHtml=document.createElement("IFRAME");this.editorHtml.id=this.name+"_html";this.editorHtml.src="javascript:false";
this.editorHtml.style.height=this.height;this.editorHtml.style.width="100%";this.editorHtml.frameBorder="0";this.editorText=document.createElement("TEXTAREA");this.editorText.id=this.name+"_text";this.editorText.className="input"+(this.mandatory?"req":"");this.editorText.onkeypress=new Function("event","setEventCancelBubble(event); return true");this.editorText.style.height=this.height;this.editorText.style.width="100%";this.editorText.style.borderWidth="0px"};
NLHtmlEditor.prototype.buildToggleHeader=function(){this.toggleHeader=document.createElement("DIV");this.toggleHeader.id=this.name+"_footer";this.toggleHeader.unselectable="on";this.toggleHeader.style.padding="5px 2px 3px 5px";this.toggleHeader.style.width=this.width;this.toggleSpan=document.createElement("SPAN");this.toggleSpan.className="tinytext";var a=document.createElement("A");a.className="tinytextnolink";var b=document.createElement("A");b.className="tinytextnolink";this.setToggleLinks(a,b);
this.toggleSpan.appendChild(a);this.toggleSpan.appendChild(b);this.toggleHeader.appendChild(this.toggleSpan);this.hddn=document.createElement("INPUT");this.hddn.type="hidden";this.hddn.value=this.value;this.hddn.name=this.name;this.hddn.id=this.name;null!=this.onChangeFunc&&(this.hddn.onchange=new Function(this.onChangeFunc));this.toggleHeader.appendChild(this.hddn);this.main.appendChild(this.toggleHeader);this.span.parentNode.style.paddingBottom="5px"};NLHtmlEditor.prototype.buildToolBar=NLHtmlEditor_buildToolBar;
NLHtmlEditor.prototype.buildToolBarIcon=function(a,b,c){var d=this.name+"_toolbar_"+a;if("FontName"==c||"FontSize"==c||"ForeColor"==c){a=[];b="FontName"==c?fontNames:"FontSize"==c?fontSizes:fontColors;for(var e in b)a[a.length]=e,a[a.length]=b[e];e=document.createElement("SELECT");e.name=d;e.id=d+"_fs";e.className="input";e.unselectable="on";e.tabIndex=-1;e.onchange=new Function('getHtmlEditor("'+this.name+'").setFocus(); getHtmlEditor("'+this.name+'").handleToolBarEvent("'+c+'", getSelectValue(this)); NS.form.setChanged(true);');
for(c=0;c<a.length;c+=2)d=document.createElement("OPTION"),d.text=a[c],d.value=a[c+1],d.unselectable="on",isIE?e.add(d):e.add(d,0<c?e.options[c/2-1]:null)}else e=document.createElement("BUTTON"),e.id=d,e.btnCommand=c,e.tabIndex=-1,e.className="editorbutton",e.unselectable="on",e.title=b,e.style.padding="1px",e.style.margin=0,e.style.marginTop="3px",e.style.backgroundColor="#ECEFF6",isIE||(e.style.verticalAlign="bottom"),e.onmouseover=new Function("if (this.className \x3d\x3d'editorbutton') this.className\x3d'editorbuttonhover'"),
e.onmousedown=new Function("this.className\x3d'editorbuttondown';"),e.onmouseout=new Function("if (this.className \x3d\x3d'editorbuttonhover') this.className\x3d'editorbutton'"),e.onclick=new Function("getHtmlEditor('"+this.name+"').handleToolBarEvent('"+c+"'); return false;"),c=document.createElement("IMG"),c.src="/images/nav/editor/"+a+".gif",c.unselectable="on",c.padding=0,c.margin=0,c.border=0,c.style.height="18px",c.style.width="18px",e.appendChild(c);this.toolbar.appendChild(e)};
NLHtmlEditor.prototype.buildToolBarLineBreak=function(){var a=document.createElement("BR");a.unselectable="on";this.toolbar.appendChild(a)};NLHtmlEditor.prototype.buildToolBarLiner=function(){var a=document.createElement("SPAN");a.style.width="1px";a.style.height="16px";a.style.border="1px inset";a.style.margin="0 3px 0 3px";a.unselectable="on";a.style.display="inline";a.style.padding=0;this.toolbar.appendChild(a)};NLHtmlEditor.prototype.hasAttribute=function(a){return 0!=(this.flags&a)};
NLHtmlEditor.prototype.getValue=function(){return this.value};NLHtmlEditor.prototype.getDisplayValue=function(){var a=null,a=this.textMode?this.editorText.value:this.editorHtml.contentWindow.document.body.innerHTML;return a=this.handleEscaping(a,!1)};
var NLExtHtmlEditor={createEditor:function(a,b,c,d,e,f,h,g,k,l,m,n,p,u){var r=NS.jQuery("#exthtmlfield-"+a),t=r.data("font-family"),v=r.data("font-size"),q="'background-color:"+g+";'",y=u?Ext.form.WholeHtmlEditor:Ext.form.HtmlEditor,w=function(a){a.hddn.disabled=a.disabled};Ext.onReady(function(){Ext.QuickTips.init();NetSuite.RTEManager.initialize();new Ext.Panel({renderTo:"exthtmlfield-"+a,layout:"fit",style:"border-color: #D5DEE7;",hideMode:"offsets",id:"html-editor-container-"+b,name:"html-editor-container-"+
b,bodyStyle:q,items:[new y({id:"html-editor-"+b,name:"html-editor-"+b,disabled:!k,renderWidth:n,renderHeight:p,width:n,height:p,readOnly:!0,defaultFont:t,customFontSize:v,emptyText:NLHTMLEDITOR_SOURCECODE_HELPER_TEXT,plugins:Ext.ux.form.HtmlEditor.plugins(),hideLabel:!0,labelSeparator:"",listeners:{editmodechange:function(a,b){if(Ext.isChrome){var c=a.onChangeFunc.match(/validate_html\(this, '(.*)'\);};/);validate_html(a.hddn,c&&c[1]||null)}else b&&(a.el.dom.blur(),a.el.dom.focus());a.setSize(a.wrap.getSize());
NetSuite.RTEManager.resyncSizeAll(!0)},initialize:function(a){a.toggleSourceEdit(d,!0);NS.form.setChanged(!1);a.lastEditMadeInSourceMode=d;a.setReadOnly(!1);(new Ext.Resizable(a.wrap,{handles:"e,s,se",minWidth:n,minHeight:p})).on("resize",function(b,c,d,e){a.setSize(a.wrap.getSize());NetSuite.RTEManager.resyncSizeAll(!0)});var b=NetSuite.RTEManager.getDeferredInitializationInstance(a.getName());null!=b&&(b(),NetSuite.RTEManager.unregisterDeferredRTEInitialization(a.getName()));NetSuite.RTEManager.finalizeIfLastInitialized(a.getName())},
disable:w,enable:w}})]});var g=Ext.getCmp("html-editor-"+b);this.textModeHasFocus=!1;g.mandatory=!1;g.finalized=!1;g.defaultFontSize=v;g.flags=f?f:NLField_DEFAULT;g.hddn=h;g.hddn||(g.hddn=document.createElement("INPUT"),g.hddn.type="hidden",g.hddn.value=c,g.hddn.name=b,g.hddn.id=b);g.value=c;g.defaultTextMode=d;g.defaultValue=c;g.onChangeFunc=e;null!=e&&"function"!=typeof g.hddn.onchange&&(g.hddn.onchange=new Function(e));Ext.get(a).appendChild(g.hddn);g.el.dom.onblur=function(a){a=a||window.event;
a=getHtmlEditor((a.target||a.srcElement).id);a.hddn.ignoreValidation=!0;a.textareaOnblur();a.hddn.ignoreValidation=!1;var b=a.onChangeFunc.match(/validate_html\(this, '(.*)'\);};/);validate_html(a.hddn,b&&b[1]||null)};Ext.isIE||(g.el.dom.onkeyup=new Function("var editor \x3d getHtmlEditor('html-editor-"+b+"'); NetSuite.RTEManager.saveSelection(document); editor.setValue( editor.getDisplayValue() ); editor.pushValue(); NetSuite.RTEManager.restoreSelection();"));g.el.dom.onfocus=new Function("getHtmlEditor('html-editor-"+
b+"').textareaOnfocus()");NetSuite.RTEManager.registerRTE({widgetID:"html-editor-"+b,widgetComponentInstance:g,widgetHiddenElementID:b});g.lastEditMadeInSourceMode=g.defaultTextMode;NS.form.setChanged(!1);l&&g.setMandatory(!0,'"+nl.getNLUser().getLook().getColors().m_bgrequiredfld+"');m&&g.setDisabled(!0)})},setValue:function(a,b,c){c="undefined"==typeof c?!1:c;if(a=NetSuite.RTEManager.getInstance(a)){a.hddn.value!=b&&NS.form.setChanged(!0);var d=a.value?a.value:"";a.value=b;a.hddn.value=a.value;
null!=a.onChangeFunc&&(b=a.hddn.onchange(),null==b||b||(a.value=a.hddn.truncatedValue?a.hddn.value:d,a.hddn.value=a.value,a.setDisplayValue(a.value)));c&&a.setDisplayValue(a.value)}},resetEditor:function(a){a=NetSuite.RTEManager.getInstance(a);a.reset();a.setDesignMode(!1);a.setDesignMode(!0);a.lastEditMadeInSourceMode=this.defaultTextMode}};
NLHtmlEditor.prototype.setValue=function(a,b){var c=this.value;this.value=a;this.hddn.value=this.value;if(null!=this.onChangeFunc){var d=this.hddn.onchange();null==d||d||(this.value=this.hddn.truncatedValue?this.hddn.value:c,this.hddn.value=this.value,this.setDisplayValue(this.value))}b&&this.setDisplayValue(this.value)};
NLHtmlEditor.prototype.setDisplayValue=function(a){a=this.handleEscaping(a,!0);var b=isValEmpty(a);if(this.textMode)b?(this.editorText.value=NLHTMLEDITOR_SOURCECODE_HELPER_TEXT,this.editorText.style.fontFamily="courier",this.editorText.style.color="#666666"):(this.editorText.value=a,this.editorText.style.fontFamily="",this.editorText.style.color="");else{b&&(a="\x3cfont color\x3d'#666666'\x3e"+NLHTMLEDITOR_FORMATTED_HELPER_TEXT+"\x3c/font\x3e");this.editorHtml.contentWindow.document.open();var b=
getStyleForClass("smalltext","fontSize"),c=getCascadedStyle(document.body,"fontFamily","font-family");this.editorHtml.contentWindow.document.write("\x3chtml\x3e\x3cbody contenteditable\x3d'true' width\x3d100%; height\x3d100%; topmargin\x3d1 leftmargin\x3d1 style\x3d'font-size: "+b+"; font-family: "+c+"'\x3e");(b=(null!=this.defaultFontSize||null!=this.defaultFont)&&this.value==this.defaultValue)&&this.editorHtml.contentWindow.document.write("\x3cFONT "+(null!=this.defaultFontSize?"size\x3d"+fontSizes[this.defaultFontSize]:
"")+" "+(null!=this.defaultFont?"face\x3d'"+this.defaultFont+"'":"")+"\x3e");/\s*<div>(.*)<\/div>\s*$/i.test(a.split("\n").join("\r"))||(a="\x3cDIV\x3e"+a+"\x3c/DIV\x3e");this.editorHtml.contentWindow.document.write(a);b&&this.editorHtml.contentWindow.document.write("\x3c/FONT\x3e");this.editorHtml.contentWindow.document.write("\x3c/body\x3e\x3c/html\x3e");this.editorHtml.contentWindow.document.close();this.editorHtml.contentWindow.document.body.style.backgroundColor=this.mandatory?this.mandatoryBgColor:
getRuntimeStyle(this.editorText,"backgroundColor");setTimeout(this.setupEventHandlers.bind(this),500);isFirefox&&(this.editorHtml.contentWindow.document.body.removeAttribute("contenteditable"),this.editorHtml.contentWindow.document.designMode="on")}};
NLHtmlEditor.prototype.stripExtraDivs=function(a){var b=/<\/div>/i,c=/^>/,d=/^>.*<BR(>| .*>)\s*$/i,e=/<BR(>| .*>)\s*$/i,f=(" "+a+" ").split(/<div/i);a=[];a.push(f[0]);for(var h=1;h<f.length;h++){var g=f[h].split(b);a.push(g[0]);for(var k=1;k<g.length;k++){var l=a.pop();d.test(l)?l=l.substring(1):c.test(l)?l=l.substring(1)+"\x3cBR\x3e":c.test(l)||(l="\x3cdiv"+l+"\x3c/div\x3e");a.push(a.pop()+l+g[k])}}b=a.pop();for(b=b.substring(0,b.length-1);e.test(b);)b=b.replace(e,"");a.push(b);a=a.join("\x3cdiv");
return a=a.substring(1)};
NLHtmlEditor.prototype.handleEscaping=function(a,b){isValEmpty(a)||this.textMode||(a=this.stripExtraDivs(a),a=a.replace(/<STRONG>/gi,"\x3cB\x3e").replace(/<\/STRONG>/gi,"\x3c/B\x3e").replace(/<EM>/gi,"\x3cI\x3e").replace(/<\/EM>/gi,"\x3c/I\x3e"),a=b?a.replace(/<NL([^>]{2,})>/g,"\x26lt;NL$1\x26gt;"):a.replace(/&lt;NL([^&\]]{2,})(&gt;|>)/g,"\x3cNL$1\x3e"),a=b?a.replace(/<(SCRIPT)\b/gi,"\x3c!--NLHIDE:$1").replace(/(<\/SCRIPT\s*)>/gi,"$1:NLHIDE--\x3e"):a.replace(/<\!--NLHIDE:/g,"\x3c").replace(/:NLHIDE--\x3e/g,
"\x3e"));return a};
NLHtmlEditor.prototype.insertValue=function(a,b){if(!isValEmpty(a)&&!this.disabled)if(b){var c=this.handleEscaping(a,!0),d,e=this.textMode?document:this.editorHtml.contentWindow.document;if(this.textMode&&this.editorText.value==NLHTMLEDITOR_SOURCECODE_HELPER_TEXT||!this.textMode&&null!=this.getValue()&&-1!=this.getDisplayValue().indexOf(NLHTMLEDITOR_FORMATTED_HELPER_TEXT))this.setDisplayValue(c);else if(window.getSelection){d=this.textMode?window.getSelection():this.editorHtml.contentWindow.getSelection();d=
d.getRangeAt(0);var f=e.createTextNode(this.textMode?c:a);"DIV"==d.startContainer.tagName&&"TEXTAREA"==d.startContainer.firstChild.tagName?(d=d.startContainer.firstChild,e=d.selectionEnd+c.length,d.value=d.value.substring(0,d.selectionEnd)+c+d.value.substring(d.selectionEnd),d.selectionStart=d.selectionEnd=e):(d.collapsed?d.insertNode(f):(c=e.createDocumentFragment(),c.appendChild(d.extractContents()),c.appendChild(f),d.insertNode(c)),d.selectNodeContents(f),d.collapse(!1),d.commonAncestorContainer.normalize())}else e.selection&&
(d=e.selection,d=d.createRange(),this.textMode?d.text+=c:d.pasteHTML(d.htmlText+c),d.collapse(!1),d.select());this.setValue(this.getDisplayValue())}else this.setFocus(),setTimeout(new Function("getHtmlEditor('"+this.name+"').insertValue('"+a+"',true)"),200)};
NLHtmlEditor.prototype.setMandatory=function(a,b){this.mandatory=a;this.mandatoryBgColor=null!=b?b:"#FFFFE5";"#"!=this.mandatoryBgColor.charAt(0)&&(this.mandatoryBgColor="#"+this.mandatoryBgColor);this.editorText.className="input"+(this.mandatory?"req":"");this.editorHtml.contentWindow.document.body.style.backgroundColor=this.mandatory?this.mandatoryBgColor:"#FFFFFF"};NLHtmlEditor.prototype.getMandatory=function(){return this.mandatory};
NLHtmlEditor.prototype.handleToolBarEvent=function(a,b){if(isSafari&&(this.editorHtml.contentWindow.document.body.focus(),this.range)){var c=this.editorHtml.contentWindow.getSelection();c.empty();c.setBaseAndExtent(this.range.baseNode,this.range.baseOffset,this.range.extentNode,this.range.extentOffset)}this.disabled||this.textMode||("FontName"==a||"FontSize"==a||"ForeColor"==a?isValEmpty(b)||(isSafari&&"FontSize"==a&&(b=getSelectTextForValue(document.getElementById(this.name+"_toolbar_fontsize_fs"),
b)+"pt"),this.editorHtml.contentWindow.document.execCommand(a,!1,b),c=this.editorHtml.contentWindow.document.body.firstChild,isValEmpty(c.innerHTML)&&3!=c.nodeType&&("FontName"==a?c.style.fontFamily=b:"FontSize"==a?c.style.fontSize=_getFontSizePts(b)+"pt":"ForeColor"==a&&(c.style.color=b))):this.editorHtml.contentWindow.document.execCommand(a,!1,null),this.setValue(this.getDisplayValue()),isSafari&&this.bookmarkSelection(),this.syncToolBarWithEditor(a,b))};
NLHtmlEditor.prototype.scheduleEditorEventHandler=function(a,b){this.disabled||setTimeout(new Function("getHtmlEditor('"+this.name+"').handleEditorEvent('"+a+"')"),b)};
NLHtmlEditor.prototype.handleEditorEvent=function(a,b){if(this.disabled)return!0;if(this.responseLock)return"mouseup"!=a&&this.responseQueue++,!0;this.responseLock=!0;var c=new Function("var editor \x3d getHtmlEditor('"+this.name+"'); editor.responseLock \x3d false; if ( editor.responseQueue \x3e 0 ) { editor.responseQueue \x3d 0; editor.handleEditorEvent('"+a+"'); }");setTimeout(c,333);null!=this.getValue()&&-1==this.getDisplayValue().indexOf(NLHTMLEDITOR_FORMATTED_HELPER_TEXT)&&this.getDisplayValue()!=
this.getValue()&&this.setValue(this.getDisplayValue());isIE||"mousedown"==a&&this.iFrameOnfocus();isSafari&&this.bookmarkSelection();this.ToolbarUpdateTimer&&clearTimeout(this.ToolbarUpdateTimer);this.ToolbarUpdateTimer=setTimeout(function(){this.syncToolBarWithEditor()}.bind(this),100);return!0};
isSafari&&(NLHtmlEditor.prototype.bookmarkSelection=function(){var a=this.editorHtml.contentWindow.getSelection();if(a&&a.anchorNode&&a.focusNode){var b={};b.baseNode=a.baseNode;b.baseOffset=a.baseOffset;b.extentNode=a.extentNode;b.extentOffset=a.extentOffset;this.range=b}});
NLHtmlEditor.prototype.resetEditor=function(){this.setValue(this.defaultValue);var a=this.toggleHeader.firstChild;null!=a&&(this.defaultTextMode&&!a.checked||!this.defaultTextMode&&a.checked)&&setFormValue(this.toggleHeader.firstChild,this.defaultTextMode);this.setEditorMode(this.defaultTextMode)};
NLHtmlEditor.prototype.setDisabled=function(a){this.disableToolBar(a);this.editor.disabled=a;this.textMode?this.editorText.disabled=a:this.editorHtml.contentWindow.document.body.disabled=a;this.toggleHeader.disabled=a;this.disabled=this.toggleHeader.firstChild.disabled=a};
NLHtmlEditor.prototype.disableToolBar=function(a){this.toolbar.disabled=a;for(var b=this.toolbar.getElementsByTagName("BUTTON"),c=0;c<b.length;c++)(b[c].disabled=a)&&"editorbuttondown"==b[c].className&&(b[c].className="editorbutton");b=this.toolbar.getElementsByTagName("SPAN");for(c=0;c<b.length;c++)b[c].disabled=a;b=this.toolbar.getElementsByTagName("IMG");for(c=0;c<b.length;c++)b[c].disabled=a;b=this.toolbar.getElementsByTagName("SELECT");for(c=0;c<b.length;c++)disableSelect(b[c],a)};
NLHtmlEditor.prototype.syncToolBarWithEditor=function(a,b){if(!this.disabled&&!this.textMode){for(var c=this.editorHtml.contentWindow.document,d=this.toolbar.getElementsByTagName("BUTTON"),e=0;e<d.length;e++){a=d[e].btnCommand;try{c.queryCommandState(a)?d[e].className="editorbuttondown":d[e].className="editorbutton"}catch(h){d[e].className="editorbutton"}}(b=c.queryCommandValue("fontsize"))&&0!=b.length?isSafari&&(0<b.indexOf("px")||0<b.indexOf("pt"))&&(b=getFontSizeFromPixel(b.substr(0,b.length-
2))):b="";setSelectValue(document.getElementById(this.name+"_toolbar_fontsize_fs"),b);b=c.queryCommandValue("fontname");var d=document.getElementById(this.name+"_toolbar_fontname_fs"),f=getSelectValueArray(d);if(b)for(e=0;e<f.length;e++)if(0<f[e].length&&0<=b.indexOf(f[e])){setSelectIndex(d,e);break}e==f.length&&setSelectValue(document.getElementById(this.name+"_toolbar_fontname_fs"),"");b=c.queryCommandValue("forecolor");c="";b&&(c="#"==String(b).charAt(0)?b:getHexColorValue(b));setSelectValue(document.getElementById(this.name+
"_toolbar_fontcolor_fs"),c)}};function getHexColorValue(a){if("number"!=typeof a){if(0==a.indexOf("rgb("))return a=a.substring(4,a.length-1).split(","),"#"+getTwoDigitHexString(a[0])+getTwoDigitHexString(a[1])+getTwoDigitHexString(a[2])}else return getHexValueFromDecimal(a)}
NLHtmlEditor.prototype.setToggleLinks=function(a,b){this.setActiveToggleLink(a,this.textMode?NLHTMLEDITOR_SOURCECODE_LABEL:NLHTMLEDITOR_FORMATTED_LABEL);this.setInactiveToggleLink(b,this.textMode?NLHTMLEDITOR_FORMATTED_LABEL:NLHTMLEDITOR_SOURCECODE_LABEL,!this.textMode)};NLHtmlEditor.prototype.setActiveToggleLink=function(a,b){a.onclick=new Function("return false;");a.removeAttribute("href");a.innerHTML="\x3cb\x3e"+b+"\x3c/b\x3e\x26nbsp;";a.className="textnolink"};
NLHtmlEditor.prototype.setInactiveToggleLink=function(a,b,c){a.onclick=new Function("getHtmlEditor('"+this.name+"').setEditorMode("+c+"); return false;");a.href="javascript:void('"+b+"')";a.innerHTML="("+b+")";a.className="dottedlink"};
NLHtmlEditor.prototype.setEditorMode=function(a){if(!this.disabled){if(this.textMode=a){if(null==this.editorText)return;null!=document.getElementById(this.editorHtml.id)&&(this.editor.removeChild(this.editorHtml),"100%"==this.editorText.style.width&&(this.editorText.style.width=document.getElementById(this.name+"_main").offsetWidth));this.setDisplayValue(this.value);this.editor.appendChild(this.editorText);this.toolbar.style.display="none";this.setupEventHandlers()}else{if(null==this.editorHtml)return;
null!=document.getElementById(this.editorText.id)&&this.editor.removeChild(this.editorText);this.editor.appendChild(this.editorHtml);this.setDisplayValue(this.value);this.toolbar.style.display="inline"}this.setToggleLinks(this.toggleSpan.childNodes[0],this.toggleSpan.childNodes[1])}};NLHtmlEditor.prototype.getFieldId=function(){return this.textMode?this.editorText.id:this.editorHtml.id};NLHtmlEditor.prototype.getField=function(){return this.textMode?this.editorText:this.editorHtml.contentWindow.document.body};
NLHtmlEditor.prototype.setupEventHandlers=function(){this.textMode?(this.editorText.onblur=new Function("var editor \x3d getHtmlEditor('"+this.name+"'); editor.setValue( editor.getDisplayValue() )"),this.editorText.onfocus=new Function("getHtmlEditor('"+this.name+"').textareaOnfocus()")):document.addEventListener?(this.editorHtml.contentWindow.document.onkeydown=null,this.editorHtml.contentWindow.document.onkeypress=null,this.editorHtml.contentWindow.document.onkeyup=null,this.editorHtml.contentWindow.document.onmousedown=
null,this.editorHtml.contentWindow.document.onmouseup=null,this.editorHtml.contentWindow.document.body.oncut=null,this.editorHtml.contentWindow.document.body.onpaste=null,this.editorHtml.contentWindow.document.onfocus=null,this.editorHtml.contentWindow.document.addEventListener("keydown",function(a){return this.handleEditorEvent("keydown",a)}.bind(this),!1),this.editorHtml.contentWindow.document.addEventListener("keypress",function(a){return this.handleEditorEvent("keypress",a)}.bind(this),!1),this.editorHtml.contentWindow.document.addEventListener("mouseup",
function(a){return this.handleEditorEvent("mouseup",a)}.bind(this),!1),this.editorHtml.contentWindow.document.addEventListener("mousedown",function(a){return this.handleEditorEvent("mousedown",a)}.bind(this),!1),this.editorHtml.contentWindow.document.addEventListener("cut",function(a){this.scheduleEditorEventHandler("cut",100,a)}.bind(this),!1),this.editorHtml.contentWindow.document.addEventListener("paste",function(a){this.scheduleEditorEventHandler("paste",100,a)}.bind(this),!1),this.editorHtml.contentWindow.document.addEventListener("focus",
function(a){this.iFrameOnfocus()}.bind(this),!0)):(this.editorHtml.contentWindow.document.onkeydown=new Function("getHtmlEditor('"+this.name+"').handleEditorEvent('keydown')"),this.editorHtml.contentWindow.document.onkeypress=new Function("getHtmlEditor('"+this.name+"').handleEditorEvent('keypress')"),this.editorHtml.contentWindow.document.onkeyup=new Function("getHtmlEditor('"+this.name+"').handleEditorEvent('keyup')"),this.editorHtml.contentWindow.document.onmousedown=new Function("getHtmlEditor('"+
this.name+"').handleEditorEvent('mousedown')"),this.editorHtml.contentWindow.document.onmouseup=new Function("getHtmlEditor('"+this.name+"').handleEditorEvent('mouseup')"),this.editorHtml.contentWindow.document.body.oncut=new Function("getHtmlEditor('"+this.name+"').scheduleEditorEventHandler( 'cut', 100 )"),this.editorHtml.contentWindow.document.body.onpaste=new Function("getHtmlEditor('"+this.name+"').scheduleEditorEventHandler( 'paste', 100 )"),this.editorHtml.onfocus=new Function("getHtmlEditor('"+
this.name+"').iFrameOnfocus()"),this.editorHtml.onblur=new Function("getHtmlEditor('"+this.name+"').iFrameOnblur();"))};NLHtmlEditor.prototype.iFrameOnfocus=function(){var a=this.editorHtml.contentWindow.document;isIE&&(a.body.contentEditable=!0);-1<a.body.innerHTML.indexOf(NLHTMLEDITOR_FORMATTED_HELPER_TEXT)&&(a.body.innerHTML="\x3cdiv\x3e\x3cbr\x3e\x3c/div\x3e",a.body.focus())};NLHtmlEditor.prototype.iFrameOnblur=function(){this.editorHtml.contentWindow.document.body.contentEditable=!1;return!0};
NLHtmlEditor.prototype.textareaOnfocus=function(){this.editorText.value==NLHTMLEDITOR_SOURCECODE_HELPER_TEXT&&(this.editorText.style.fontFamily="",this.editorText.style.color="",this.editorText.value="")};NLHtmlEditor.prototype.setFocus=function(){this.disabled||(this.textMode?setTimeout(new Function("getHtmlEditor('"+this.name+"').editorText.focus()"),100):setTimeout(new Function("getHtmlEditor('"+this.name+"').editorHtml.contentWindow.document.body.focus()"),100))};
function insertHtmlValue(a,b){var c=getHtmlEditor(a);if(null!=c)c.insertValue(b,!1);else if(c=document.getElementById(a)){var d=c.textLength,e=c.selectionStart,f=c.selectionEnd;if(1==f||2==f)f=d;c.value=c.value.substring(0,e)+b+c.value.substr(f,d)}}function setHtmlFieldValue(a,b,c){null!=a&&(null==c&&(c=window),c=c.getHtmlEditor(a.name),null!=c?c.setValue(b,!0,!0):a.value=b)}function disableHtmlField(a,b){if(null!=b){var c=getHtmlEditor(b.name);null!=c?c.setDisabled(a):b.disabled=a}}
function resetHtmlEditors(a){"object"==typeof NetSuite&&"object"==typeof NetSuite.RTEManager&&NetSuite.RTEManager.getMap().eachKey(function(b,c){var d=c.obj;null!=a&&d.hddn.form!=a||NLExtHtmlEditor.resetEditor(b)})}function getHtmlEditor(a){if("object"!=typeof Ext||"object"!=typeof NetSuite||"undefined"==typeof a||null==a)return null;0!=a.indexOf("html-editor-")&&(a="html-editor-"+a);return NetSuite.RTEManager.getInstance(a)}
function getSelectedElement(a){var b=null;if(a.document.selection){var c=a.document.selection,d=c.createRange();try{b=d.parentElement()}catch(e){return null}}else{try{c=a.getSelection(),d=c.getRangeAt(0)}catch(e){return null}b=d.commonAncestorContainer}return b}function updateQuickDateSelector(a){var b=document.getElementById("quickdateselector");if(null!=b){var c=b.onchange;b.onchange=null;var d=getDropdown(b);null!=d&&(a=d.getIndexForValue(a),d.setIndex(a));b.onchange=c}}
function statusMessage(a,b){null==a&&(a=2E3);window.status=b;setTimeout("window.status \x3d ''",a)}function NLAccelMenu_cancelCurrentTimer(){var a=window.accelMenuDiv;a&&a.nTimerId&&(clearTimeout(a.nTimerId),a.nTimerId=0)}
function NLAccelMenu_closeCurrentMenu(){var a=window.accelMenuDiv;if(a){var b="T"==a.getAttribute("bMachine");NLAccelMenu_cancelCurrentTimer();isIE&&(a=a.parentNode.removeChild(a),a.origParent.appendChild(a),a.style.position="relative",a.style.top=a.style.origTop,a.style.left=a.style.origLeft,a.style.zIndex="");a.style.display="none";a.img.src="/images/nav/popupselectup"+(b?"":"2")+".gif";a.img.className=a.img.className.replace("_focus","")}window.accelMenuDiv=null}
function NLAccelMenu_onMouseOut(a){if(a=window.accelMenuDiv)a.nTimerId=setTimeout(function(){NLAccelMenu_closeCurrentMenu()},200)}function NLAccelMenu_onMouseOver(a){NLAccelMenu_cancelCurrentTimer()}
function NLAccelMenu_onButtonClick(a,b,c,d){a=document.getElementById(b);a.setAttribute("bMachine",c?"T":"F");d.src="/images/nav/popupselectdown"+(c?"":"2")+".gif";a.img=d;null!=d&&(d.className+="_focus");NLAccelMenu_closeCurrentMenu();window.accelMenuDiv=a;a.parentNode.style.display="inline";a.style.display="";c=a.firstChild.offsetWidth;void 0!=c&&(a.style.width=c);a.style.display="block";a.parentNode.style.zIndex="9000";NLAccelMenu_positionDIV(a);isIE&&(a.style.zIndex=a.parentNode.style.zIndex,
a.origParent=a.parentNode,a.style.origLeft=a.style.left,a.style.origTop=a.style.top,c=findPosY(a),d=findPosX(a),a.style.position="absolute",a=a.parentNode.removeChild(a),document.body.insertBefore(a,document.body.firstChild),a.style.left=d+"px",a.style.top=c+"px",a.firstChild.firstChild&&(a.firstChild.firstChild.style.borderWidth="0px"))}function NLAccelMenu_positionDIV(a){var b=findPosY(a.img),b=b+22,c=getDocumentHeight(),d=parseInt(a.offsetHeight);a.style.top=(b+d>c?-d:22)+"px"}
function NLAccelMenuButton_onMouseDown(a){a.firstChild.onclick()}function NLAccelMenuButton_onMouseOver(a){a.className="dropdownSelected"}function NLAccelMenuButton_onMouseOut(a){a.className="dropdownNotSelected"}var burstTimer=0,bursting=-1,newBGImageMap=["/images/icons/dashboard/top_bkg.gif","/images/icons/dashboard/left_edge_bkg.gif","/images/icons/dashboard/right_edge_bkg.gif","/images/icons/dashboard/bottom_edge_bkg.gif"];
function showBurstRollover(a,b,c,d){try{if(clearTimeout(burstTimer),bursting!=c+"_"+d&&null!=a&&null!=b&&0<b.length){var e=findPosY(a),f=findPosX(a),h=document.getElementById("rptsnap"+d);null!=h&&(e-=h.scrollTop);var g=document.getElementById("burst_div_"+d);if(null!=g){if("T"!=g.getAttribute("_setBG")){var k=g.firstChild.getElementsByTagName("TD");for(a=0;a<k.length;a++)if(null!=k[a].getAttribute("_resbg")){var l=Number(k[a].getAttribute("_resbg"));k[a].style.backgroundImage="url("+newBGImageMap[l]+
")"}g.setAttribute("_setBG","T")}var m=document.getElementById("date_span_"+d);m.removeChild(m.firstChild);var n=document.createTextNode(b);m.appendChild(n);g.style.display="block";g.style.position="absolute";g.style.top=e+8+"px";g.style.left=f-32+"px";bursting=c+"_"+d}}}catch(p){console&&console.log(p.message)}}function removeBurst(a){burstTimer=setTimeout(new Function("removeBurstNow('"+a+"');"),200)}
function removeBurstNow(a){a=document.getElementById("burst_div_"+a);null!=a&&(a.style.display="none",bursting=-1)}
function expandCollapseNode(a,b){var c=document.getElementById(a+"_top"),d=document.getElementById(a+"_total");if(null!=c&&null!=d){var e=findClassUp(c,"enhtable"),f="T"==c.getAttribute("_nototals"),h=e.rows[c.rowIndex+1],h=""==h.style.display||"block"==h.style.display?"none":"";setHrefToggleLabel(h,b);f||("none"!=h?expandNodeRestoreData(c):collapseNodeCopyData(c,d));for(var g=null,k=0,c=c.rowIndex+1;c<=d.rowIndex;c++)if(g=e.rows[c],!(0<k&&null==g.id)){var l=k;if("none"!=h&&null!=g.id&&("_top"==g.id.substring(g.id.length-
4)&&"plus"==g.firstChild.firstChild.getAttribute("_state")?k++:"_total"==g.id.substring(g.id.length-6)&&"plus"==document.getElementById(g.id.substring(0,g.id.length-6)+"_top").firstChild.firstChild.getAttribute("_state")&&(k=Math.max(k-1,0)),0<l))continue;"none"!=h&&f&&"_total"==g.id.substring(g.id.length-6)||(g.style.display=h)}}}
function setHrefToggleLabel(a,b){"none"!=a?(b.firstChild.src="/images/nav/reporting/tree_minus.gif",b.setAttribute("_state","minus")):(b.firstChild.src="/images/nav/reporting/tree_plus.gif",b.setAttribute("_state","plus"))}
function expandNodeRestoreData(a){if(null!=a)for(var b=1;b<a.cells.length;b++)null!=a.cells[b].getAttribute("_orightml")&&1<a.cells[b].getAttribute("_orightml").length?(a.cells[b].innerHTML=a.cells[b].getAttribute("_orightml"),a.cells[b].className=a.cells[b].getAttribute("_origclass"),a.cells[b].align=a.cells[b].getAttribute("_origalign")):a.cells[b].innerHTML="\x26nbsp;"}
function collapseNodeCopyData(a,b){if(null!=b&&null!=a)for(var c=1;c<b.cells.length;c++)a.cells[c].setAttribute("_orightml",a.cells[c].innerHTML),a.cells[c].setAttribute("_origclass",a.cells[c].className),a.cells[c].setAttribute("_origalign",a.cells[c].align),a.cells[c].align=b.cells[c].align,a.cells[c].className=b.cells[c].className,a.cells[c].innerHTML=b.cells[c].innerHTML}
function resetLabelRowCellSizes(a,b,c){if(null!=a&&null!=b){clearAllWidths(b);var d=b.rows[0];d.style.display="";var e=b.rows[1];if(!(null==e||1>=e.cells.length)){for(var f=b.offsetWidth-(c?17:0),h=a.parentNode.parentNode.offsetWidth,g=[],k=0;k<e.cells.length;k++)g[k]=e.cells[k].offsetWidth;for(e=a.cells.length-1;0<=e;e--){var l=null,l=e==a.cells.length-1,k=2>=a.cells.length||1<e;l&&(a.cells[e].style.paddingRight=c?"16px":"");var m=(g[e]+(l&&c?17:0))/h*100,n=g[e]/f*100;a.cells[e].style.width=k?m+
"%":g[e]+(l&&c?17:0)+"px";for(m=0;m<b.rows.length;m++)l=b.rows[m],null!=l.cells[e]&&"_totallinerow"!=l.id&&(l.cells[e].style.width=k?n+"%":g[e]+"px")}}d.style.display="none"}}function clearAllWidths(a){for(var b=0;b<a.rows.length;b++)for(var c=0;c<a.rows[b].cells.length;c++)a.rows[b].cells[c].style.width=""}
if(isIE){var NLContextMenu=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=[a[c][0],"javascript:"+a[c][1]+"; return false;",""];this.sParams=b;a=this.menu=new NLMenu("contextmenu",b,0,null);menus.contextmenu=a;menuTimers.contextmenu=0;a.setBackgroundColor(BGBUTTON);menuCtx=this},menuCtx=null,menuCtxTarget=null;document.oncontextmenu=function(a){return menuCtx&&NS.form.isInited()?(menuCtxTarget=getEventTarget(a),menuCtx.menu.showHide(!0),!1):!0}}
var popupsuggesttimer=0,hidesuggesttimer=0,loadingimagetimer=0,hideloadingimagetimer=0,popupAutoSuggest=null,autoSuggestSeqNum=0,highestSeqNumReturned=0,previousValueAttrName="previousvalue";
function NLPopupAutoSuggest(){this.inputfield;this.mapkey;this.uniqueuserkey;this.asheep;this.initialLastUserVal;this.fieldname;this.fieldname_hidden;this.fieldvalue;this.optionmasterfield;this.xPos;this.yPos;this.suggestiondiv;this.visible=!1;this.currentcell;this.bmultiselect=this.bUbersearch=!1;this.bautoselectsingleresult=!0;this.bOnlyOneResult=!1}
NLPopupAutoSuggest.prototype.setAttributes=function(a,b,c,d){this.inputfield=a;this.mapkey=b;this.fieldname=a.name;var e=this.fieldname.lastIndexOf("_display");this.fieldname_hidden=0<e?this.fieldname.substring(0,e):this.fieldname;this.fieldvalue=a.value;this.optionmasterfields=d;this.bautoselectsingleresult=c;this.xPos=findPosX(a);this.yPos=findPosY(a);this.currentcell=-1;this.bUbersearch="uberautosuggest"==b;this.bmultiselect=NLPopupAutoSuggest_isMultiSelect(a);isValEmpty(this.uniqueuserkey)&&(this.asheep=
a.getAttribute("asheep"),this.uniqueuserkey=a.getAttribute("asuuk"),this.initialLastUserVal=GetCookie("lastUser")+"_"+GetCookie("JSESSIONID"))};
function constructSuggestionBoxFromResponse(a){if(null!=popupAutoSuggest){hideAutoSuggestLoadingImage();var b,c;try{b=eval("("+a.getBody()+")");var d=parseInt(b.circid);if(highestSeqNumReturned>d)return;highestSeqNumReturned=d;c=b.autofill}catch(e){return}if(0<c.length){b=new StringBuffer;b.append("\x3ctable cellpadding\x3d0 cellspacing\x3d0 border\x3d0 role\x3d'presentation'\x3e\x3ctbody\x3e");for(a=0;a<c.length;a++)b.append("\x3ctr\x3e"),popupAutoSuggest.constructCell(b,c[a],popupAutoSuggest.fieldname_hidden),
b.append("\x3c/tr\x3e");a==iMAX_SUGGESTIONS&&(b.append("\x3ctr\x3e"),popupAutoSuggest.constructMoreCell(b,popupAutoSuggest.fieldname_hidden,popupAutoSuggest.fieldvalue),b.append("\x3c/tr\x3e"));b.append("\x3c/tbody\x3e\x3c/table\x3e");popupAutoSuggest.showSuggestionBox(b.toString());popupAutoSuggest.bautoselectsingleresult&&1==a&&(popupAutoSuggest.selectNextCell(),popupAutoSuggest.bOnlyOneResult=!0)}else popupAutoSuggest.showSuggestionBox(getAutoSuggestMessageHTML(NLHEADING_NO_RESULTS_FOUND)),hidesuggesttimer=
setTimeout("popupAutoSuggest.hideSuggestionBox()",2E3)}}function logAutoSuggestSessionError(a,b){var c=a.uniqueuserkey+"%20|%20"+a.initialLastUserVal,d=b+"%20|%20"+GetCookie("lastUser")+"_"+GetCookie("JSESSIONID");parent.document.location="/core/pages/logAutoSuggestSessionError.nl?olduserkey\x3d"+c+"\x26PARAM_NEW_USER_KEY\x3d"+d}
function getAutoSuggestMessageHTML(a){var b=new StringBuffer;b.append("\x3ctable cellpadding\x3d0 cellspacing\x3d0 border\x3d0 role\x3d'presentation'\x3e\x3ctbody\x3e");b.append("\x3ctr\x3e\x3ctd style\x3d'padding:2px' class\x3dtinygraytext\x3e"+a+"\x3c/td\x3e\x3c/tr\x3e");b.append("\x3c/tbody\x3e\x3c/table\x3e");return b.toString()}
function hideAutoSuggestLoadingImage(){clearTimeout(loadingimagetimer);clearTimeout(hideloadingimagetimer);null!=popupAutoSuggest&&(popupAutoSuggest.inputfield.style.backgroundImage="")}function showAutoSuggestRefineSearchMessage(){null!=popupAutoSuggest&&(popupAutoSuggest.showSuggestionBox(getAutoSuggestMessageHTML(HEADING_PLEASE_ENTER_MORE_CHARACTERS_OR_CLICK_GO)),hidesuggesttimer=setTimeout("popupAutoSuggest.hideSuggestionBox()",4E3))}
function showAutoSuggestLoadingImage(){clearTimeout(hideloadingimagetimer);null!=popupAutoSuggest&&(popupAutoSuggest.inputfield.style.backgroundImage="url(/images/help/animated_loading.gif)",popupAutoSuggest.inputfield.style.backgroundRepeat="no-repeat",popupAutoSuggest.inputfield.style.backgroundPosition="100% 1px",hideloadingimagetimer=setTimeout("hideAutoSuggestLoadingImage(); showAutoSuggestRefineSearchMessage();",1E4))}
NLPopupAutoSuggest.prototype.constructSuggestionBox=function(){if(null!=this.fieldvalue&&0<trim(this.fieldvalue).length)try{var a="cur_val\x3d"+encodeURIComponent(this.bmultiselect?getCurrentMultiSelectUserInputValue(this.inputfield):this.fieldvalue);if(null!=this.optionmasterfields)for(var b in this.optionmasterfields)a+="\x26si_"+b+"\x3d"+encodeURIComponent(getSelectValue(this.optionmasterfields[b]));var c="/app/common/autosuggest.nl?mapkey\x3d"+this.mapkey+"\x26circid\x3d"+ ++autoSuggestSeqNum+
"\x26"+a;loadingimagetimer=setTimeout("showAutoSuggestLoadingImage()",1E3);nlXMLRequestURL(c,null,null,new Function("response","constructSuggestionBoxFromResponse(response);"),!0)}catch(d){}};
NLPopupAutoSuggest.prototype.constructCell=function(a,b,c){this.bUbersearch?(c="T"==b.bedit,a.append("\x3ctd nowrap style\x3d'padding:1 3 2 3;' class\x3d'"+AUTO_SUGGEST_UBER_CLASS+"'\x3e"),a.append("\x3ctable cellpadding\x3d0 cellspacing\x3d0 border\x3d0 width\x3d'100%' role\x3d'presentation'\x3e\x3ctr\x3e"),a.append("\x3ctd nowrap\x3e"),a.append('\x3ca class\x3dsmalltextnolink href\x3d"'+b.key+"\" onclick\x3d'popupAutoSuggest.hideSuggestionBox(true); return true;'\x3e"),isValEmpty(b.descr)?a.append(b.sname):
a.append("\x3cspan\x3e\x3c/span\x3e\x3cspan style\x3d'color:#666666'\x3e\x3ci\x3e"+b.descr+":\x26nbsp;\x3c/i\x3e\x3c/span\x3e\x3cspan\x3e"+b.sname+"\x3c/span\x3e"),a.append("\x3c/a\x3e"),a.append("\x3c/td\x3e"),a.append("\x3ctd style\x3d'padding-left:7px; padding-right:2px' class\x3dtext align\x3dright valign\x3dbottom\x3e"),a.append("\x3cspan style\x3d'visibility:hidden'\x3e"),isValEmpty(b.dashurl)||(a.append("\x3ca"+(c?" style\x3d'position:relative; top:2'":"")+" href\x3d'"+b.dashurl+"' onclick\x3d'popupAutoSuggest.hideSuggestionBox(true); return true;' class\x3dtext title\x3d'"+
BUTTON_VIEW_DASHBOARD+"'\x3e"),a.append("\x3cimg class\x3d'i_dashboard_white' border\x3d0 src\x3d'/images/nav/ns_x.gif' width\x3d14 height\x3d12 alt\x3d''\x3e"),a.append("\x3c/a\x3e"),c&&a.append("\x26nbsp;\x26nbsp;")),a.append('\x3ca href\x3d"'+b.key+"\x26e\x3dT\" onclick\x3d'popupAutoSuggest.hideSuggestionBox(true); return true;' class\x3dtextwhite"+(c?"":" style\x3d'display:none'")+"\x3e"+PAGE_EDIT+"\x3c/a\x3e"),a.append("\x3c/span\x3e"),a.append("\x3c/td\x3e"),a.append("\x3c/tr\x3e"),a.append("\x3c/table\x3e")):
(a.append("\x3ctd nowrap style\x3d'padding:1 3 2 3; cursor:hand;' class\x3d'"+AUTO_SUGGEST_UBER_CLASS+"'"),a.append(" onmousedown\x3d'popupAutoSuggest.setValueFromSuggestion(\""+c+'", "'+b.key+"\", this, event); return false;'\x3e"),a.append(b.sname));a.append("\x3c/td\x3e")};
NLPopupAutoSuggest.prototype.constructMoreCell=function(a,b,c){a.append("\x3ctd nowrap style\x3d'cursor:pointer; padding:1 3 2 3; font-style:italic;' class\x3d'"+AUTO_SUGGEST_UBER_CLASS+"'");a.append(' onmousedown\x3d"NLPopupAutoSuggest_hidePopupSuggestion(); ');this.bUbersearch?a.append("popupAutoSuggest.runMoreUbersearch();"):(c=c.replace(/\'/g,"\\'").replace(/\"/g,"\\\\\x26quot;"),a.append("NLPopupSelect_runMoreSearch('"+b+"', '"+c+"');"));a.append(' return false;"\x3e');a.append(PAGE_MORE);a.append("\x3c/td\x3e")};
NLPopupAutoSuggest.prototype.runMoreUbersearch=function(){document.getElementById("_searchSubmitter").onclick()};NLPopupAutoSuggest.prototype.selectCell=function(a){null!=a&&(this.unSelectCurrentCell(),a.className="dropdownSelected",this.bUbersearch&&a.firstChild&&a.firstChild.rows?setAutoSuggestCellProperties(a,!0):1<a.childNodes.length&&(a.childNodes[1].style.color="#EEEEEE"),this.currentcell=Number(a.parentNode.rowIndex))};
NLPopupAutoSuggest.prototype.unSelectCell=function(a){null!=a&&(a.className=AUTO_SUGGEST_UBER_CLASS,this.bUbersearch&&a.firstChild&&a.firstChild.rows?setAutoSuggestCellProperties(a,!1):1<a.childNodes.length&&(a.childNodes[1].style.color="#666666"),this.currentcell=-1)};
function setAutoSuggestCellProperties(a,b){var c=a.firstChild.rows[0].cells[0],d=a.firstChild.rows[0].cells[1];c.firstChild.className=b?"textwhitenolink":"smalltextnolink";1<c.firstChild.childNodes.length&&(c.firstChild.childNodes[1].style.color=b?"#EEEEEE":"#666666");d.firstChild.style.visibility=b?"visible":"hidden"}NLPopupAutoSuggest.prototype.selectCellByIndex=function(a){a=this.getCell(a);this.selectCell(a)};
NLPopupAutoSuggest.prototype.unSelectCurrentCell=function(){if(0<=this.currentcell){var a=this.getCell(this.currentcell);this.unSelectCell(a)}};
NLPopupAutoSuggest.prototype.doUberSearchClick=function(){var a=this.getCell(this.currentcell);if(null!=a&&a.firstChild&&a.firstChild.rows)if(a=a.firstChild.rows[0].cells[0],a.firstChild.onclick(),a=a.firstChild.href,this.bOnlyOneResult&&!isValEmpty(this.fieldvalue)){if(0==this.fieldvalue.toUpperCase().indexOf("E ")||isUpperCase(this.fieldvalue.charAt(0)))a=addParamToURL(a,"e","T",!0);0<this.fieldvalue.indexOf("::")||0<this.fieldvalue.indexOf("^")?nlOpenWindow(a,"uberres2"):document.location=a}else document.location=
a;else a.onmousedown()};NLPopupAutoSuggest.prototype.getTableRows=function(){return this.suggestiondiv.firstChild.firstChild.childNodes};NLPopupAutoSuggest.prototype.getCell=function(a){return 0<=a&&a<this.getTableRows().length?this.getTableRows()[a].firstChild:null};NLPopupAutoSuggest.prototype.selectNextCell=function(){var a=this.currentcell;this.unSelectCurrentCell();0<=a?(++a>this.getTableRows().length-1&&(a=0),this.selectCellByIndex(a)):this.selectCellByIndex(0)};
NLPopupAutoSuggest.prototype.selectPreviousCell=function(){var a=this.currentcell;this.unSelectCurrentCell();1<=a?this.selectCellByIndex(a-1):this.selectCellByIndex(this.getTableRows().length-1)};
NLPopupAutoSuggest.prototype.getSuggestionBoxDiv=function(){null==this.suggestiondiv&&(this.suggestiondiv=document.createElement("DIV"),this.suggestiondiv.style.position="absolute",this.suggestiondiv.style.backgroundColor="#FFFFFF",this.suggestiondiv.className="popupsuggest",this.suggestiondiv.style.borderColor="#999999",this.suggestiondiv.style.borderStyle="solid",this.suggestiondiv.style.borderWidth="1px 1px 1px 1px",this.suggestiondiv.style.display="none",this.suggestiondiv.style.zIndex="20",document.body.appendChild(this.suggestiondiv));
return this.suggestiondiv};NLPopupAutoSuggest.prototype.showSuggestionBox=function(a){clearTimeout(hidesuggesttimer);var b=this.getSuggestionBoxDiv();b.innerHTML=a;b.style.display="";this.visible=!0;this.positionSuggestionBox()};
NLPopupAutoSuggest.prototype.positionSuggestionBox=function(){var a=this.getSuggestionBoxDiv();a.style.overflow="";a.style.width="";a.firstChild.style.width="";var b=a.firstChild.offsetWidth;400<b&&(getDocumentClientWidth()-100<a.firstChild.offsetWidth&&(a.style.overflow="hidden"),b=Math.min(getDocumentClientWidth()-100,a.firstChild.offsetWidth),a.style.width=b);var c=this.xPos+(this.bmultiselect?1:0),d=this.yPos+this.inputfield.offsetHeight-1;isSafari&&(d+=0);a.offsetWidth<this.inputfield.offsetWidth&&
(a.firstChild.style.width=this.inputfield.offsetWidth-2+"px");this.yPos+this.inputfield.offsetHeight-1+a.offsetHeight>getDocumentHeight()&&this.yPos>getDocumentHeight()-this.yPos&&(d=this.yPos-a.offsetHeight+(this.bmultiselect?1:0));this.xPos+b+10>getDocumentWidth()&&(c=this.xPos-(b-this.inputfield.offsetWidth));a.style.top=d+"px";a.style.left=c+"px"};
NLPopupAutoSuggest.prototype.hideSuggestionBox=function(a){this.visible&&(clearTimeout(popupsuggesttimer),this.suggestiondiv.style.display="none",this.suggestiondiv.style.width="",this.suggestiondiv.style.overflow="",this.visible=!1,a&&(this.inputfield.value=""),this.suggestiondiv=null)};
NLPopupAutoSuggest.prototype.addMultipleSelectValue=function(a,b){var c=getFormElement(this.inputfield.form,this.fieldname),d=getFormElement(this.inputfield.form,this.fieldname_hidden);addMultiSelectValue(d,a,b);c.value+="\n";setSelectionRange(c,c.value.length,c.value.length)};
NLPopupAutoSuggest.prototype.setValueFromSuggestion=function(a,b,c,d){setEventPreventDefault(d);setEventCancelBubble(d);NLPopupAutoSuggest_hidePopupSuggestion();if(this.bUbersearch)0<this.fieldvalue.indexOf("::")||0<this.fieldvalue.indexOf("^")?nlOpenWindow(b,"uberres2"):(document.location=b,this.inputfield.value="");else if(a=getFormElement(this.inputfield.form,this.fieldname),null!=a){d=c.innerHTML.replace(/&amp;/g,"\x26").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e");c=getFormElement(this.inputfield.form,
this.fieldname_hidden);if(this.bmultiselect){this.addMultipleSelectValue(b,d);a.haschanged=!0;a.isvalid=!0;if(c.onchange)c.onchange();a.setAttribute(previousValueAttrName,a.value)}else{if(isFirefox||isChrome){var e=a.onchange;a.onchange=null}a.value=d;d=c.value;c.value=b;c.onchange&&(0==c.onchange()?(c.value=d,a.value=a.getAttribute(previousValueAttrName)):(a.haschanged=!0,a.isvalid=!0,a.setAttribute(previousValueAttrName,a.value),NS&&NS.form&&NS.form.setValid(!0)));if(isFirefox||isChrome)a.onchange=
e}NLPopupSelect_removeLoadingMessage()}};function NLPopupAutoSuggest_makePopupSuggestion(a,b,c,d){null==popupAutoSuggest&&(popupAutoSuggest=new NLPopupAutoSuggest);popupAutoSuggest.setAttributes(a,b,c,d);clearTimeout(popupsuggesttimer);popupsuggesttimer=setTimeout("popupAutoSuggest.constructSuggestionBox()",popupAutoSuggest.bUbersearch?250:200)}
function autoSuggestOnMouseMove(a){null!=popupAutoSuggest&&(a=findClassUp(getEventTarget(a),AUTO_SUGGEST_UBER_CLASS),null!=a&&popupAutoSuggest.selectCell(a))}function NLPopupAutoSuggest_onMouseDown(a){null!=popupAutoSuggest&&(clearTimeout(popupsuggesttimer),popupAutoSuggest.visible&&null==findClassUp(getEventTarget(a),"popupsuggest")&&popupAutoSuggest.hideSuggestionBox())}
function NLPopupAutoSuggest_onKeyDown(a){try{if(null!=popupAutoSuggest&&popupAutoSuggest.visible){var b=getEventKeypress(a);if(b==KC_DOWN)popupAutoSuggest.selectNextCell();else if(b==KC_UP)popupAutoSuggest.selectPreviousCell();else if((b==KC_ENTER||b==KC_TAB)&&0<=popupAutoSuggest.currentcell)if(popupAutoSuggest.bUbersearch)popupAutoSuggest.doUberSearchClick();else popupAutoSuggest.getCell(popupAutoSuggest.currentcell).onmousedown()}}catch(c){console&&console.log(c.message)}}
function NLPopupAutoSuggest_ignoreKeyStrokes(a){return null!=popupAutoSuggest&&popupAutoSuggest.visible&&(a=getEventKeypress(a),a==KC_DOWN||a==KC_UP||0<=popupAutoSuggest.currentcell&&(a==KC_ENTER||a==KC_TAB))?!0:!1}function NLPopupAutoSuggest_isMultiSelect(a){return"T"==a.getAttribute("bmultiautosuggest")}
function NLPopupAutoSuggest_handleKeyStroke(a,b,c,d,e){var f=NLPopupAutoSuggest_isMultiSelect(a)?getCurrentMultiSelectUserInputValue(a):a.value;c=getEventKeypress(c);if(c==KC_LEFT||c==KC_RIGHT||c==KC_SHIFT)return!1;var h=trim(f),g=h.length,k="uberautosuggest"==b;if(k){var l=h.indexOf(":");0<l&&(g-=l+1)}2>=g&&2048>h.charCodeAt(0)&&("%"!=f||k)||c==KC_ENTER||c==KC_TAB?NLPopupAutoSuggest_hidePopupSuggestion():NLPopupAutoSuggest_makePopupSuggestion(a,b,d,e)}
function NLPopupAutoSuggest_hidePopupSuggestion(){clearTimeout(popupsuggesttimer);null!=popupAutoSuggest&&popupAutoSuggest.hideSuggestionBox()}function NLPopupSelect_runMoreSearch(a,b){eval("Search"+a+'("'+b+'")')}
function NLPopupSelect_positionDIV(){var a=window.popupDIV,b="T"==a.getAttribute("bListOnly"),c="T"==a.getAttribute("bMultiselect")&&!b,d="T"==a.getAttribute("bIsMultiButton"),b=null!=a.getAttribute("displayField")?NLPopupSelect_getDisplayField(a.getAttribute("displayField")):NLPopupSelect_getLaunchButton(a.getAttribute("launchbutton"),d,b),e,f;if("T"==a.getAttribute("bPositionWithMachine")&&null!=a.getAttribute("machineName"))try{for(var h=eval(a.getAttribute("machineName")+"_machine.tableobj;"),
g=h.machine,k=0,l=0;l<g.countFormElements();l++){var m=g.getFormElement(l);if(null!=m&&(m.name==window.popupDIV.getAttribute("fieldName")||m.name==window.popupDIV.getAttribute("fieldName")+"_display"))break;"hidden"!=m.type&&null!=g.getFormElementLabel(l)&&k++}var n=h.rows[g.currentRowNum].cells[k];e=findAbsolutePosX(n);f=findAbsolutePosY(n)+5}catch(p){e=null==b?Math.max(lastX,10):findAbsolutePosX(b)+(d?1:0),f=null==b?Math.max(lastY,10):findAbsolutePosY(b)+(d?1:0)}else e=null==b?Math.max(lastX,10):
findAbsolutePosX(b)+(d?1:0),f=null==b?Math.max(lastY,10):findAbsolutePosY(b)+(d?1:0);h=d=0;null!=b&&(b=findClassUp(b,BODY_SCROLL_DIV_CLASS),null!=b&&(d=b.scrollTop,h=b.scrollLeft));e-=h;b=f+15-d;h=getDocumentHeight();g=getDocumentWidth()-75;window.opener&&(250>=h||510>=g)&&(window.resizeTo(Math.max(600,g),Math.max(350,h)),h=getDocumentHeight(),g=getDocumentWidth()-75);m=document.getElementById("inner_popup_div");n=document.getElementById("popup_select_list");l=m.firstChild;k=parseInt(a.offsetHeight);
if(325<k||k>=h)k=Math.min(350,Math.abs(h-(k-m.offsetHeight+25))),m.style.height=k+"px",c&&(n.style.height=k+"px");k=parseInt(a.offsetHeight);2<l.rows[0].cells.length?c?(c=600,l=250,g<c+l&&(l=Math.floor(g/3),c=2*l),m.style.width=c+"px",document.getElementById("lower_header_label").style.width=c+"px",n.style.width=l+"px"):m.style.width=Math.min(650,g)+"px":c?(c=Math.floor(Math.min(600,Math.floor(g))/2),m.style.width=c+"px",n.style.width=c+"px"):a.style.width=Math.min(350,g)+"px";c=parseInt(a.offsetWidth);
b+k>h&&(b=0<f-d-document.body.scrollTop-k?f-d-k+1:parseInt((h-k)/2)+document.body.scrollTop,"T"==a.getAttribute("bPositionWithMachine")&&(b-=5));e+c>g&&(e=getDocumentWidth()-c);e+c>g&&(e=getDocumentWidth()-c-40);e<document.body.scrollLeft&&(e=document.body.scrollLeft);NLPopupSelect_removeLoadingMessage();a.style.left=e+"px";a.style.top=b+"px"}
function NLPopupSelect_isLoadingOrSearching(){return null!=window.popupDIV||null!=window.popupDivLoadingMessage&&null!=document.getElementById(window.popupDivLoadingMessage.id)}function NLPopupSelect_removeLoadingMessage(){null!=window.popupDivLoadingMessage&&null!=document.getElementById(window.popupDivLoadingMessage.id)&&document.body.removeChild(window.popupDivLoadingMessage);NLPopupAutoSuggest_hidePopupSuggestion()}
function NLPopupSelect_init(a,b,c,d,e){NLPopupSelect_close();var f=document.createElement("DIV");f.style.zIndex=1E3;f.id="popup_outerdiv";f.className="popupouter";f.setAttribute("bIsMultiButton",b?"T":"F");f.setAttribute("bListOnly",c?"T":"F");f.setAttribute("bMultiselect",a?"T":"F");f.setAttribute("bPositionWithMachine",d?"T":"F");f.setAttribute("bShowQuantities",e?"T":"F");document.body.appendChild(f);window.popupDIV=f;isIE&&attachEventHandler("resize",window,new Function("NLPopupSelect_reposition();"))}
function NLPopupSelect_reposition(){null!=window.popupDIV&&NLPopupSelect_positionDIV()}
function NLPopupSelect_open(a,b){if(null!=window.popupDIV){var c="T"==window.popupDIV.getAttribute("bIsMultiButton"),d="T"==window.popupDIV.getAttribute("bListOnly"),e="T"==window.popupDIV.getAttribute("bMultiselect");window.popupDIV.setAttribute("fieldName",a);null!=b&&window.popupDIV.setAttribute("machineName",b);var f=a+(d?"_popup_listonly":c?"_popup_multi":"_popup_list"),c=NLPopupSelect_getLaunchButton(f,c,d);null!=c&&"IMG"==c.nodeName&&window.popupDIV.setAttribute("launchbutton",f);e&&"undefined"!=
typeof top.popupAnchorId&&null!=top.popupAnchorId&&null!=document.getElementById(top.popupAnchorId)&&window.popupDIV.setAttribute("displayField",top.popupAnchorId);e||null==document.getElementById(a+"_display")||window.popupDIV.setAttribute("displayField",a+"_display");NLPopupSelect_positionDIV();window.popup_onClickHandler=NLPopupSelect_onClick}}function NLPopupSelect_getLaunchButton(a,b,c){a=document.getElementById(a);null==a||b||c||(a=a.firstChild);return a}
function NLPopupSelect_getDisplayField(a,b){return(b?b:document).getElementById(a)}function NLPopupSelect_getDisplayFieldByValueInput(a){var b=a.name+"_display",c=getFormElement(a.form,b);c||(c=NLPopupSelect_getDisplayField(b,a.ownerDocument));return c}
function NLPopupSelect_displayLoadingDiv(a,b,c){if(null==window.popupDivLoadingMessage){var d=document.createElement("DIV");d.id="popup_load_message";d.style.backgroundColor="white";d.style.position="absolute";d.style.borderWidth="1px";d.style.borderStyle="solid";d.style.borderColor="black";d.style.width="150px";window.popupDivLoadingMessage=d}window.popupDivLoadingMessage.innerHTML="\x3ctable width\x3d'100%' role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd valign\x3d'middle' class\x3d'texttablectr'\x3e"+
(null==c?PAGE_LOADING:c)+"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e";document.body.appendChild(window.popupDivLoadingMessage);a=document.getElementById(a+"_display");c=d=0;var d=findClassUp(a,BODY_SCROLL_DIV_CLASS),e=0;c=0;null!=d&&(e=d.scrollTop,c=d.scrollLeft);null==a||b?(d=Math.max(lastY,10)+document.body.scrollTop,c=Math.max(lastX,10)+document.body.scrollLeft):(d=findAbsolutePosY(a)+a.offsetHeight-1-e,c=findAbsolutePosX(a)-c,window.popupDivLoadingMessage.style.width=Math.max(75,a.offsetWidth)+"px");
d+30>getDocumentHeight()+document.body.scrollTop-10&&(d=getDocumentHeight()+document.body.scrollTop-30);c+150>getDocumentWidth()+document.body.scrollLeft-10&&(c=getDocumentWidth()+document.body.scrollLeft-175);window.popupDivLoadingMessage.style.left=c+"px";window.popupDivLoadingMessage.style.top=d+"px";window.popupDivLoadingMessage.style.zIndex=10}
function NLPopupSelect_onClick(a){if(!isSafari){var b=window.popupDIV;if(null!=b){a=getEventTarget(a);var c=findClassUp(a,"popupouter");null!=c&&c==b&&"Close"!=a.title||NLPopupSelect_close()}}}
function NLPopupSelect_close(a){for(var b=window;(null==b.popupDIV||"undefined"==typeof b.popupDIV)&&b!=window.parent;)b=window.parent;var c=b.popupDIV;null!=b.popupDIV&&"undefined"!=typeof b.popupDIV&&(null!=c.getAttribute("launchbutton")&&"F"==c.getAttribute("bIsMultiButton")&&NLPopupSelect_getLaunchButton(c.getAttribute("launchbutton"),"T"==c.getAttribute("bIsMultiButton"),"T"==c.getAttribute("bListOnly")),NS.jQuery("#"+c.id).remove(),a&&(a=b.document.getElementById(c.getAttribute("fieldName")+
"_display"),null!=a&&NLPopupSelect_focusNextInputField(a.name,a.form,!0)),b.popupDIV=null)}function NLPopupSelect_getElementOrFromParent(a){var b=document.getElementById(a);null==b&&(b=parent.document.getElementById(a));return b}function NLPopupSelect_addSelection(a,b){var c=NLPopupSelect_getElementOrFromParent("popup_select_list");NLPopupSelect_addSelectionRow(a,b,c.firstChild,c)}
function NLPopupSelect_addSelectionRow(a,b,c,d){var e="T"==window.popupDIV.getAttribute("bShowQuantities"),f=document.createElement("tr");f.className="multiselecttr";var h=document.createElement("td");h.className="text";h.style.width="14px";h.style.whitespace="nowrap";h.style.verticalAlign=e?"top":"middle";h.style.align="right";var g=document.createElement("a");g.href="javascript:void(0)";a=a.replace(/'/g,"\\'");g.onclick=new Function("NLPopupSelect_updateSelection('"+a+"','', false, this); return false;");
var k=document.createElement("img");k.className="uir-popup-x-icon";k.border="0";k.height=13;k.width=13;k.src="/images/x.gif";g.appendChild(k);h.appendChild(g);f.appendChild(h);h=document.createElement("td");h.className="text";e&&(h.style.verticalAlign="top");g=null;"T"==window.popupDIV.getAttribute("bShowQuantities")&&(k=NLPopupSelect_getQuantityArray(b),null!=k&&(b=k[0],g=k[1]));h.innerHTML=b;f.appendChild(h);"T"==window.popupDIV.getAttribute("bShowQuantities")&&(b=document.createElement("td"),b.className=
"text",b.style.whitespace="nowrap",b.style.verticalAlign="top",b.style.align="right",b.innerHTML="\x3cinput class\x3dinput type\x3dtext name\x3d'quantity_"+a+"' size\x3d4 value\x3d'"+(null!=g?g:"")+"' onChange\x3d'NLPopupSelect_updateQuantity(\""+a+"\",this.value)'\x3e",f.appendChild(b));c.rows.length==(e?2:1)&&"noselections"==c.rows[e?1:0].className&&c.deleteRow(e?1:0);c.firstChild.appendChild(f);null!=d&&d.scrollHeight>d.offsetHeight&&(d.scrollTop=d.scrollHeight-d.offsetHeight);return f}
function NLPopupSelect_getQuantityArray(a){var b=/^\s*(\S+)\s*\(\s*(-?\d+\.?\d*)\s*\)\s*$/.exec(a);return null!=b?[b[1],b[2]]:[a,""]}function NLPopupSelect_getQuantityText(a,b){b=NLStringToNumber(b);return isNaN(b)?a:a+"("+b+")"}
function NLPopupSelect_updateQuantity(a,b){for(var c=NLPopupSelect_getElementOrFromParent("multisel_complete"),d=c.elements[FIELD_DATA],c=c.elements[FIELD_LABEL],e=trim(d.value),f=trim(c.value),e=e.split(String.fromCharCode(5)),f=f.split(String.fromCharCode(5)),h=!1,g=0;g<e.length;g++)NLPopupSelect_getQuantityArray(e[g])[0]==a&&(h=!0,e[g]=NLPopupSelect_getQuantityText(a,b),f[g]=e[g]);h&&(d.value=e.join(String.fromCharCode(5)),c.value=f.join(String.fromCharCode(5)))}var nlpopupselect_removerow=null;
function NLPopupSelect_removeSelection(a,b){NLPopupSelect_getElementOrFromParent("popup_select_list");nlpopupselect_removerow=findClassUp(b,"multiselecttr");setTimeout("NLPopupSelect_removeRowAfterTimeout()",1)}function NLPopupSelect_removeRowAfterTimeout(){var a=nlpopupselect_removerow.parentNode.parentNode;nlpopupselect_removerow.parentNode.deleteRow(nlpopupselect_removerow.rowIndex);NLPopupSelect_insertNoSelectionRow(a.firstChild);nlpopupselect_removerow=null}
function NLPopupSelect_insertNoSelectionRow(a){var b="T"==window.popupDIV.getAttribute("bShowQuantities");if(a.rows.length==(b?1:0)){var c=document.createElement("tr"),d=document.createElement("td");c.className="noselections";d.className="textctr";d.innerHTML=PAGE_NO_SELECTIONS_MADE;b&&(d.colSpan=3);c.appendChild(d);a.appendChild(c);a=NLPopupSelect_getElementOrFromParent("multisel_complete");a.elements[FIELD_DATA].value="";a.elements[FIELD_LABEL].value=""}}
function NLPopupSelect_updateSelection(a,b,c,d){var e=NLPopupSelect_getElementOrFromParent("multisel_complete"),f=e.elements[FIELD_DATA],e=e.elements[FIELD_LABEL],h=trim(f.value),g=trim(e.value),k;isValEmpty(h)?(k=[],g=[]):(k=h.split(String.fromCharCode(5)),g=g.split(String.fromCharCode(5)));if(c){d=!0;for(c=0;c<k.length;c++)if(g=null,g=k[c].indexOf("("),g=0<g?k[c].substring(0,g):k[c],g==a){d=!1;break}k="undefined"==typeof NLPopupSelect_canAddSelection||null==NLPopupSelect_canAddSelection?!0:NLPopupSelect_canAddSelection(a,
b,k);d&&k&&(""==h?(e.value=b,f.value=a):(f.value+=String.fromCharCode(5)+a,e.value+=String.fromCharCode(5)+b),NLPopupSelect_addSelection(a,b))}else for(b="T"==window.popupDIV.getAttribute("bShowQuantities"),h=0,f.value="",e.value="",c=0;c<k.length;c++)k[c]==a||b&&NLPopupSelect_getQuantityArray(k[c])[0]==a?NLPopupSelect_removeSelection(a,d):(f.value+=(0==h?"":String.fromCharCode(5))+k[c],e.value+=(0==h?"":String.fromCharCode(5))+g[c],h++)}
function NLPopupSelect_focusNextInputField(a,b,c){try{if(null!=a&&null!=b)for(var d=!1,e=0;e<b.elements.length;e++)if(d){var f=b.elements[e];if(isFocusable(f)){isNLDropDown(f)?setSelectFocus(f):f.focus&&f.focus();c&&f.select&&f.select();break}}else b.elements[e].name==a&&(d=!0)}catch(h){}}function setSafeBlurValue(a,b){setTimeout("document.getElementById('"+a+"').value\x3d'"+b+"'",0)}
function setButtonDown(a,b,c){b=c.parentNode.parentNode;a?-1==b.className.indexOf("_sel")&&(b.className=b.className.split(" ").join("_sel ")+"_sel"):b.className=b.className.replace(/_sel/g,"")}function onTristateClick(a){setTristate(a,a.nextSibling.value+1)}function onTristateHighlight(a,b){a.src="/images/icons/controls/checkbox_"+(a.nextSibling.value&3)+(b?"_hl.gif":".gif");return!0}
function setTristate(a,b){var c=a.nextSibling;c.value=4|b%3;a.src="/images/icons/controls/checkbox_"+(c.value&3)+".gif";return!0}function disableLineRefresh(a){a.disabled=!0;a.firstChild.src="/images/icons/dashboard/refresh_line_disabled.gif"}function doNewbarAction(a){a=document.getElementById(a);if(null!=a&&a.onclick)a.onclick()}
function nlQuickLooksPopup(a){window.open("/images/guide/quicklooks.html?"+a,"popupguide","toolbar\x3dno,statusbar\x3dno,menubar\x3dno,resizable\x3dno,left\x3d1,top\x3d1,height\x3d700,width\x3d300").focus()}var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};NLProgressBar=Class.create();
NLProgressBar.prototype={initialize:function(a){this.hndDialogDiv=null;this.sId=a||"NLProgressBar"},show:function(a){var b=NS.jQuery(document).width()/2,c=NS.jQuery(document).height()/2;this.hndDialogDiv||(this.hndDialogDiv=document.createElement("div"),this.hndDialogDiv.innerHTML='\x3ctable style\x3d"font-size:70%;" cellpadding\x3d0 cellspacing\x3d0 border\x3d0 width\x3d350 role\x3d"presentation"\x3e    \x3ctr\x3e        \x3ctd colspan\x3d3\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_waitBar_top.gif" ALT\x3d"" WIDTH\x3d350 HEIGHT\x3d10 BORDER\x3d0\x3e\x3c/td\x3e    \x3c/tr\x3e    \x3ctr\x3e        \x3ctd background\x3d"/images/icons/progress/progress_waitBar_l.gif"\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d4 HEIGHT\x3d1 BORDER\x3d0\x3e\x3c/td\x3e        \x3ctd bgcolor\x3d"#F1F1F1" align\x3dcenter\x3e            \x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d342 HEIGHT\x3d4 BORDER\x3d0\x3e\x3cbr\x3e            \x3ctable cellpadding\x3d0 cellspacing\x3d0 border\x3d0 role\x3d"presentation"\x3e                \x3ctr\x3e\x3ctd colspan\x3d2  style\x3d"font-size:70%;"\x3e'+
a+'\x3c/td\x3e\x3c/tr\x3e                \x3ctr\x3e\x3ctd colspan\x3d2\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d1 HEIGHT\x3d3 BORDER\x3d0\x3e\x3c/td\x3e\x3c/tr\x3e                \x3ctr\x3e                    \x3ctd align\x3dcenter\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_waitBar.gif" ALT\x3d"" WIDTH\x3d249 HEIGHT\x3d20 BORDER\x3d0\x3e\x3c/td\x3e                    \x3ctd\x3e\x26nbsp;\x3c/td\x3e                \x3c/tr\x3e                \x3ctr\x3e\x3ctd colspan\x3d2\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d1 HEIGHT\x3d10 BORDER\x3d0\x3e\x3c/td\x3e\x3c/tr\x3e            \x3c/table\x3e        \x3c/td\x3e        \x3ctd background\x3d"/images/icons/progress/progress_waitBar_r.gif"\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d4 HEIGHT\x3d1 BORDER\x3d0\x3e\x3c/td\x3e    \x3c/tr\x3e    \x3ctr\x3e        \x3ctd background\x3d"/images/icons/progress/progress_waitBar_l.gif"\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d4 HEIGHT\x3d1 BORDER\x3d0\x3e\x3c/td\x3e        \x3ctd bgcolor\x3d"#F1F1F1" align\x3dcenter\x3e            \x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d342 HEIGHT\x3d10 BORDER\x3d0\x3e\x3cbr\x3e        \x3c/td\x3e        \x3ctd background\x3d"/images/icons/progress/progress_waitBar_r.gif"\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_x.gif" ALT\x3d"" WIDTH\x3d4 HEIGHT\x3d1 BORDER\x3d0\x3e\x3c/td\x3e    \x3c/tr\x3e    \x3ctr\x3e        \x3ctd colspan\x3d3\x3e\x3cIMG SRC\x3d"/images/icons/progress/progress_waitBar_bot.gif" ALT\x3d"" WIDTH\x3d350 HEIGHT\x3d10 BORDER\x3d0\x3e\x3c/td\x3e    \x3c/tr\x3e\x3c/table\x3e',
this.hndDialogDiv.style.display="none",this.hndDialogDiv.style.zIndex="1000",this.hndDialogDiv.style.position="absolute",document.body.appendChild(this.hndDialogDiv));"block"!=this.hndDialogDiv.style.display&&(this.hndDialogDiv.style.display="block",this.hndDialogDiv.style.top=c-this.hndDialogDiv.clientHeight/2+"px",this.hndDialogDiv.style.left=b-this.hndDialogDiv.clientWidth/2+"px")},hide:function(){null!=this.hndDialogDiv&&(this.hndDialogDiv.style.display="none")}};
function getIFrameDocument(a){var b=null;return b=document.getElementById(a).contentDocument?document.getElementById(a).contentDocument:document.frames[a].document}function getIFrameWindow(a){var b=null;return b=document.getElementById(a).contentWindow?document.getElementById(a).contentWindow:document.frames[a].window}
function notifyPortlet(a,b){"-10018"==a&&"undefiined"!=window.schedulersef&&null!=window.schedulersef&&(b==EVENT_PORTLET_MIN?window.schedulersef.handlePortletMin():b==EVENT_PORTLET_MAX?window.schedulersef.handlePortletMax():b==EVENT_PORTLET_MOVE?window.schedulersef.handlePortletMove():b==EVENT_PORTLET_DROP?window.schedulersef.handlePortletDrop():b==EVENT_PORTLET_DRAG&&window.schedulersef.handlePortletDrag())}
function setImageButtonState(a,b,c,d){var e=document;"undefined"!=typeof d&&null!=d&&(e=d.document);a=e.getElementById(a);null!=a&&(a.disabled=!b,"undefined"!=typeof c||null!=c)&&(a=a.getElementsByTagName("img")[0])&&(a.src=c)}function setMultiButtonState(a,b){var c=getNLMultiButtonByName(a);null!=c&&c.setState(b)}function setLabelState(a,b,c){var d=document;"undefined"!=typeof c&&null!=c&&(d=c.document);a=d.getElementById(a);null!=a&&(a.className=b)}
function setNewbarGif(a){var b=document.getElementById("img_newbar_more");null!=b&&(b.className=a?"ri_personalize":"ri_personalize_hover")}var NLSpinner=Class.create();
NLSpinner.prototype={initialize:function(a,b,c,d,e){this.sTagName=a;this.currentValue=b;this.step=c;this.lowerBound=parseFloat(d);this.upperBound=parseFloat(e);this.interval=500;this.repeatInterval=200;this.timer=null;this.direction=1},_step:function(){var a=0<=this.direction?parseFloat(parseFloat(document.getElementById(this.sTagName).value)+parseFloat(this.step)):parseFloat(parseFloat(document.getElementById(this.sTagName).value)-parseFloat(this.step));a>this.upperBound?a=this.upperBound:a<this.lowerBound&&
(a=this.lowerBound);document.getElementById(this.sTagName).value=parseFloat(a)},_mousedown:function(a){this._step();var b=this._mousedown.bind(this,"F");this.timer=setTimeout(b,"T"==a?this.interval:this.repeatInterval)},_releasemouse:function(){this.timer&&(clearTimeout(this.timer),this.timer=null,document.getElementById(this.sTagName).onchange());0<=this.direction?document.getElementById(this.sTagName+"_rarrow").setAttribute("src",RIGHT_ARROW_DEFAULT):document.getElementById(this.sTagName+"_larrow").setAttribute("src",
LEFT_ARROW_DEFAULT)},_scrollUp:function(){this.direction=1;document.getElementById(this.sTagName+"_rarrow").setAttribute("src",RIGHT_ARROW_PRESS);this._mousedown("T")},_scrollDown:function(){this.direction=-1;document.getElementById(this.sTagName+"_larrow").setAttribute("src",LEFT_ARROW_PRESS);this._mousedown("T")}};
function NLDragDrop(a,b,c){this.doc=c?c:document;this.sourceElem=a;this.listener=b;this.eventSource=null;this.bInitDrag=!0;window.loadcomplete?this.attachEventHandlers(a):attachEventHandler("load",window,function(a){this.attachEventHandlers()}.bind(this))}
NLDragDrop.prototype.attachEventHandlers=function(){"string"==typeof this.sourceElem&&(this.sourceElem=doc.getElementById(sourceElem));this.sourceElem&&(attachEventHandler("mousedown",this.sourceElem,function(a){this.handleMouseDown(a)}.bind(this)),attachEventHandler("mousemove",this.doc,function(a){this.handleMouseMove(a)}.bind(this)),attachEventHandler("mouseup",this.doc,function(a){this.handleMouseUp(a)}.bind(this)))};
NLDragDrop.prototype.handleMouseDown=function(a){a=getEvent(a);this.eventSource=getEvent(a);if(!this.onMouseDown(a))return!0;getEvent(a);return this.mouseDown=!0};NLDragDrop.prototype.handleMouseMove=function(a){if(!this.mouseDown)return!0;a=getEvent(a);var b=!0;this.bInitDrag&&(b=this.onInitMouseMove(a));if(b)this.bInitDrag=!1;else return this.clear(),a.cancelBubble=!0,a.returnValue=!1;this.onMouseMove(a);a.cancelBubble=!0;return a.returnValue=!1};
NLDragDrop.prototype.handleMouseUp=function(a){if(!this.mouseDown)return!0;a=getEvent(a);this.onMouseUp(a);this.clear();a.cancelBubble=!0;return a.returnValue=!1};NLDragDrop.prototype.clear=function(){this.mouseDown=!1;this.eventSource=null;this.bInitDrag=!0};NLDragDrop.prototype.onMouseDown=function(a){return this.listener&&this.listener.onMouseDown?this.listener.onMouseDown(a):!0};
NLDragDrop.prototype.onInitMouseMove=function(a){return this.listener&&this.listener.onInitMouseMove?this.listener.onInitMouseMove(a):!0};NLDragDrop.prototype.onMouseMove=function(a){return this.listener&&this.listener.onMouseMove?this.listener.onMouseMove(a):!0};NLDragDrop.prototype.onMouseUp=function(a){return this.listener&&this.listener.onMouseUp?this.listener.onMouseUp(a):!0};var NLDRAG_LEFT=1,NLDRAG_RIGHT=2,NLDRAG_LEFT_RIGHT=3,NLDRAG_UP=4,NLDRAG_DOWN=8,NLDRAG_UP_DOWN=12;
function NLAttachSimpleColumnResizer(a,b,c,d,e,f,h){return new NLSimpleColumnResizer(a,b,c,d,e,f,h)}
function NLSimpleColumnResizer(a,b,c,d,e,f,h){h=h?h:document;this.triggerElem="string"==typeof a?h.getElementById(a):a;this.targetElem="string"==typeof b?h.getElementById(b):b;new NLDragDrop(this.triggerElem,this,h);this.direction=c==NLDRAG_UP_DOWN?NLDRAG_UP_DOWN:NLDRAG_LEFT_RIGHT;this.min=0<=d?d:0;this.max=0<=e&&e>d?e:Number.MAX_VALUE;this.listener=f;this.initVal=null;this.sCursor=this.direction==NLDRAG_UP_DOWN?"n-resize":"w-resize";this.setCursor(this.sCursor,this.triggerElem)}
NLSimpleColumnResizer.prototype.getValue=function(a){return this.direction==NLDRAG_LEFT_RIGHT?getMouseX(a):this.direction==NLDRAG_UP_DOWN?getMouseY(a):null};NLSimpleColumnResizer.prototype.onMouseDown=function(a){var b=getEventTarget(a);if(!contains(this.triggerElem,b))return!1;this.initVal=this.getValue(a);return this.canResize(a)?!0:!1};
NLSimpleColumnResizer.prototype.onInitMouseMove=function(a){a=getEvent(a);this.listener&&this.listener.onStartResize?this.dragDiv=this.listener.onStartResize(a,this):this.startResize(a,this);return!0};NLSimpleColumnResizer.prototype.onMouseMove=function(a){a=getEvent(a);if(!this.canResize(a))return!1;if(this.listener&&this.listener.onResize)this.listener.onResize(a,this);else this.resize(a);return!0};
NLSimpleColumnResizer.prototype.onMouseUp=function(a){a=getEvent(a);if(this.listener&&this.listener.onEndResize)this.listener.onEndResize(a,this);else this.endResize(a);this.resetCursor()};
NLSimpleColumnResizer.prototype.canResize=function(a){if(this.listener&&this.listener.onCanResize)return this.listener.onCanResize(a,this);a=this.getValue(a)-this.initVal;var b=(this.direction==NLDRAG_LEFT_RIGHT?this.targetElem.offsetWidth:this.targetElem.offsetHeight)+a;return b>=this.min&&b<=this.max||b<this.min&&0<a||b>this.max&&0>a};NLSimpleColumnResizer.prototype.startResize=function(a){this.setCursor(this.sCursor);this.showDragDiv(a)};NLSimpleColumnResizer.prototype.resize=function(a){this.positionDragDiv(a)};
NLSimpleColumnResizer.prototype.endResize=function(a){var b=null,b=this.direction==NLDRAG_LEFT_RIGHT?this.targetElem.offsetWidth+this.getValue(a)-this.initVal:this.targetElem.offsetHeight+this.getValue(a)-this.initVal;b>this.max?b=this.max:b<this.min&&(b=this.min);this.direction==NLDRAG_LEFT_RIGHT?this.targetElem.style.width=b+"px":this.targetElem.style.height=b+"px";this.cleanUp()};
NLSimpleColumnResizer.prototype.showDragDiv=function(a){if(null==this.dragDiv){this.dragDiv=document.createElement("div");this.dragDiv.style.position="absolute";var b=document.createElement("img");b.src="/images/nav/stretch.gif";b.width="3";this.dragDiv.appendChild(b);this.dragDiv.style.backgroundColor="#999999";setObjectOpacity(80,this.dragDiv);document.body.appendChild(this.dragDiv)}this.direction==NLDRAG_LEFT_RIGHT?(this.dragDiv.style.top=findPosY(this.targetElem)+"px",this.dragDiv.firstChild.height=
this.targetElem.offsetHeight):(this.dragDiv.style.left=findPosX(this.targetElem)+"px",this.dragDiv.firstChild.width=this.targetElem.offsetWidth);this.dragDiv.style.display="";this.positionDragDiv(a)};NLSimpleColumnResizer.prototype.cleanUp=function(){this.hideDragDiv();this.initVal=null};NLSimpleColumnResizer.prototype.hideDragDiv=function(){this.dragDiv.style.display="none"};
NLSimpleColumnResizer.prototype.positionDragDiv=function(a){a=this.getValue(a);this.direction==NLDRAG_LEFT_RIGHT?this.dragDiv.style.left=a+"px":this.dragDiv.style.top=a+"px"};NLSimpleColumnResizer.prototype.setCursor=function(a,b){b||(b=document.body);b.origCursor||(b.origCursor=b.style.cursor);b.style.cursor=a};NLSimpleColumnResizer.prototype.resetCursor=function(a){a||(a=document.body);a.origCursor&&0<a.origCursor.length?(a.style.cursor="default",a.origCursor=null):a.style.cursor="default"};
function closeBanner(a){if(a=document.getElementById(a))a.parentNode.removeChild(a),sendRequestToFrame("/core/pages/uibannerpref.nl?prefValue\x3dF\x26prefName\x3dSHOWCHILESUEBANNER","server_commands")}
function showMenu(a,b,c,d,e){try{if(!window.loadcomplete)return isNaN(d)&&(d=0),d++,setTimeout(function(){showMenu(a,b,c,d,e)},1E3*d+1),!1;var f=document.getElementById(a);if(null!=f){var h=f.id.substring(4,f.id.length);if((!window.menuData||null==window.menuData[h])&&null!=c)return loadDelayedNMD(c,h);if(!menuDataExists(h))return!1;lastMenuRequested=null;return getMenu(h,e).showHide(b)}}catch(g){console&&console.log(g.message)}}
function openLastMenuRequested(){try{var a=lastMenuRequested;lastMenuRequested=null;if(null==a||!menuDataExists(a))return!1;var b=lastMenuRequestedParent;if(null!=b){if(lastMenuRequestedParent=null,null!=document.getElementById(b))return getMenu(a).open(b,!1)}else return getMenu(a).showHide(!0)}catch(c){console&&console.log(c.message)}}
NLMultiButton.prototype.getMenu=function(){function a(a){switch(a.keyCode){case KC_UP:if(0===a.currentIndex)return d.focus(),b.close(),!1;break;case KC_ESC:d.focus()}return!0}var b=this.menu;if(!b){var c=this.sName,b=this.menu=new NLMenu(c,this.sParams,0,null,null,a);menus[c]=b;menuTimers[b.tabName]=0;b.setScaleToLauncher(!0);isSafari&&!isChrome?(b.setMenuCSSClass("ddmDivButtonSec"),b.setXandYoverride(8,-1)):(b.setMenuCSSClass(this.bSecondary?"ddmDivButtonSec":this.bYellowBg?"ddmDivButtonY":"ddmDivButtonG"),
b.setXandYoverride(4,-4));b.setCloseAction("getNLMultiButtonByName('"+c+"').onMenuClose();");b.setAfterOpenAction("getNLMultiButtonByName('"+c+"').onAfterMenuOpen();");this.imgbtn=document.getElementById("multibtnimg_"+c);this.btnMain=document.getElementById("btn_"+c)}var d=this.btnMain;return b};setMenuZoomFactor(ZOOM_FACTOR);
function manageScrollDiv(a,b){var c=document.getElementById(a);if(null!=c&&!("scrollarea"==c.className&&c.scrollHeight>MAX_SCROLLABLE_PORTLET_HEIGTH)){var d=!1;c.offsetHeight>MAX_SCROLLABLE_PORTLET_HEIGTH?(c.className="scrollarea",c.style.height=MAX_SCROLLABLE_PORTLET_HEIGTH+"px",document.getElementById("scrl_line_"+a).style.display="",d=!0):(c.className="",c.style.height="",document.getElementById("scrl_line_"+a).style.display="none");null!=b&&-1!=b&&resetLabelRowCellSizes(document.getElementById("enhlabel"+
b),c.firstChild,d)}};
//# sourceMappingURL=/assets/legacy_widgets/1917159101.map